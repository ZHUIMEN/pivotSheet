(function(Xe,x){typeof exports=="object"&&typeof module<"u"?x(exports,require("vue"),require("ant-design-vue"),require("vuedraggable")):typeof define=="function"&&define.amd?define(["exports","vue","ant-design-vue","vuedraggable"],x):(Xe=typeof globalThis<"u"?globalThis:Xe||self,x(Xe["jack-ui"]={},Xe.Vue,Xe.antDesignVue,Xe.draggable))})(this,function(Xe,x,jt,UL){"use strict";var th=Object.freeze({__proto__:null,get Base(){return bn},get Circle(){return dI},get Ellipse(){return pI},get Image(){return Wh},get Line(){return CI},get Marker(){return wI},get Path(){return Uh},get Polygon(){return OI},get Polyline(){return MI},get Rect(){return FI},get Text(){return NI}}),rh=function(e,r){return rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},rh(e,r)};function re(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");rh(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var B=function(){return B=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},B.apply(this,arguments)};function ru(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function sr(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function YL(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),i=0,r=0;r<t;r++)for(var o=arguments[r],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n}function j(e,r,t){if(arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}typeof SuppressedError=="function"&&SuppressedError;var Xg=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},XL={}.toString,nu=function(e,r){return XL.call(e)==="[object "+r+"]"},Ao=function(e){return nu(e,"Function")},Mt=function(e){return e==null},en=function(e){return Array.isArray?Array.isArray(e):nu(e,"Array")},ml=function(e){var r=typeof e;return e!==null&&r==="object"||r==="function"};function Ve(e,r){if(e){var t;if(en(e))for(var n=0,i=e.length;n<i&&(t=r(e[n],n),t!==!1);n++);else if(ml(e)){for(var o in e)if(e.hasOwnProperty(o)&&(t=r(e[o],o),t===!1))break}}}var Vg=function(e){return typeof e=="object"&&e!==null},Yi=function(e){if(en(e))return e.reduce(function(r,t){return Math.max(r,t)},e[0])},Xi=function(e){if(en(e))return e.reduce(function(r,t){return Math.min(r,t)},e[0])},xn=function(e){return nu(e,"String")},nh=function(e){return nu(e,"Number")},VL=1e-5;function qL(e,r,t){return t===void 0&&(t=VL),Math.abs(e-r)<t}var qg=function(e,r){return(e%r+r)%r},KL=Math.PI/180,Kg=function(e){return KL*e},jL=Object.values?function(e){return Object.values(e)}:function(e){var r=[];return Ve(e,function(t,n){Ao(e)&&n==="prototype"||r.push(t)}),r},ZL=function(e){return Mt(e)?"":e.toString()},jg=function(e){var r=ZL(e);return r.charAt(0).toUpperCase()+r.substring(1)};function QL(e){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return r(e)}function JL(e){var r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;r(e)}function eA(e,r){for(var t in r)r.hasOwnProperty(t)&&t!=="constructor"&&r[t]!==void 0&&(e[t]=r[t])}function Zg(e,r,t,n){return r&&eA(e,r),e}var tA=function(e,r){if(!Ao(e))throw new TypeError("Expected a function");var t=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var l=e.apply(this,n);return a.set(o,l),l};return t.cache=new Map,t},iu=function(e,r){if(e===r)return!0;if(!e||!r||xn(e)||xn(r))return!1;if(Xg(e)||Xg(r)){if(e.length!==r.length)return!1;for(var t=!0,n=0;n<e.length&&(t=iu(e[n],r[n]),!!t);n++);return t}if(Vg(e)||Vg(r)){var i=Object.keys(e),o=Object.keys(r);if(i.length!==o.length)return!1;for(var t=!0,n=0;n<i.length&&(t=iu(e[i[n]],r[i[n]]),!!t);n++);return t}return!1},ou={},rA=function(e){return e=e||"g",ou[e]?ou[e]+=1:ou[e]=1,e+ou[e]},au=function(){},lu;tA(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,i=r.fontWeight,o=r.fontStyle,a=r.fontVariant;return lu||(lu=document.createElement("canvas").getContext("2d")),lu.font=[o,a,i,t+"px",n].join(" "),lu.measureText(xn(e)?e:"").width},function(e,r){return r===void 0&&(r={}),YL([e],jL(r)).join("")});var _l=`	
\v\f\r   ᠎             　\u2028\u2029`,nA=new RegExp("([a-z])["+_l+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+_l+"]*,?["+_l+"]*)+)","ig"),iA=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+_l+"]*,?["+_l+"]*","ig"),xa=function(e){if(!e)return null;if(en(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(nA,function(n,i,o){var a=[],l=i.toLowerCase();if(o.replace(iA,function(s,f){f&&a.push(+f)}),l==="m"&&a.length>2&&(t.push([i].concat(a.splice(0,2))),l="l",i=i==="m"?"l":"L"),l==="o"&&a.length===1&&t.push([i,a[0]]),l==="r")t.push([i].concat(a));else for(;a.length>=r[l]&&(t.push([i].concat(a.splice(0,r[l]))),!!r[l]););return e}),t},ih=function(e,r){for(var t=[],n=0,i=e.length;i-2*!r>n;n+=2){var o=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];r?n?i-4===n?o[3]={x:+e[0],y:+e[1]}:i-2===n&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===n?o[3]=o[2]:n||(o[0]={x:+e[n],y:+e[n+1]}),t.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return t},su=function(e,r,t,n,i){var o=[];if(i===null&&n===null&&(n=t),e=+e,r=+r,t=+t,n=+n,i!==null){var a=Math.PI/180,l=e+t*Math.cos(-n*a),s=e+t*Math.cos(-i*a),f=r+t*Math.sin(-n*a),h=r+t*Math.sin(-i*a);o=[["M",l,f],["A",t,t,0,+(i-n>180),0,s,h]]}else o=[["M",e,r],["m",0,-n],["a",t,n,0,1,1,0,2*n],["a",t,n,0,1,1,0,-2*n],["z"]];return o},oh=function(e){if(e=xa(e),!e||!e.length)return[["M",0,0]];var r=[],t=0,n=0,i=0,o=0,a=0,l,s;e[0][0]==="M"&&(t=+e[0][1],n=+e[0][2],i=t,o=n,a++,r[0]=["M",t,n]);for(var f=e.length===3&&e[0][0]==="M"&&e[1][0].toUpperCase()==="R"&&e[2][0].toUpperCase()==="Z",h=void 0,d=void 0,v=a,g=e.length;v<g;v++){if(r.push(h=[]),d=e[v],l=d[0],l!==l.toUpperCase())switch(h[0]=l.toUpperCase(),h[0]){case"A":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+d[6]+t,h[7]=+d[7]+n;break;case"V":h[1]=+d[1]+n;break;case"H":h[1]=+d[1]+t;break;case"R":s=[t,n].concat(d.slice(1));for(var y=2,C=s.length;y<C;y++)s[y]=+s[y]+t,s[++y]=+s[y]+n;r.pop(),r=r.concat(ih(s,f));break;case"O":r.pop(),s=su(t,n,d[1],d[2]),s.push(s[0]),r=r.concat(s);break;case"U":r.pop(),r=r.concat(su(t,n,d[1],d[2],d[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":i=+d[1]+t,o=+d[2]+n;break;default:for(var y=1,C=d.length;y<C;y++)h[y]=+d[y]+(y%2?t:n)}else if(l==="R")s=[t,n].concat(d.slice(1)),r.pop(),r=r.concat(ih(s,f)),h=["R"].concat(d.slice(-2));else if(l==="O")r.pop(),s=su(t,n,d[1],d[2]),s.push(s[0]),r=r.concat(s);else if(l==="U")r.pop(),r=r.concat(su(t,n,d[1],d[2],d[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var _=0,w=d.length;_<w;_++)h[_]=d[_];if(l=l.toUpperCase(),l!=="O")switch(h[0]){case"Z":t=+i,n=+o;break;case"H":t=h[1];break;case"V":n=h[1];break;case"M":i=h[h.length-2],o=h[h.length-1];break;default:t=h[h.length-2],n=h[h.length-1]}}return r},uu=function(e,r,t,n){return[e,r,t,n,t,n]},Qg=function(e,r,t,n,i,o){var a=.3333333333333333,l=2/3;return[a*e+l*t,a*r+l*n,a*i+l*t,a*o+l*n,i,o]},Jg=function(e,r,t,n,i,o,a,l,s,f){t===n&&(t+=1);var h=Math.PI*120/180,d=Math.PI/180*(+i||0),v=[],g,y,C,_,w,S=function(or,mr,Vt){var yo=or*Math.cos(Vt)-mr*Math.sin(Vt),ui=or*Math.sin(Vt)+mr*Math.cos(Vt);return{x:yo,y:ui}};if(f)y=f[0],C=f[1],_=f[2],w=f[3];else{g=S(e,r,-d),e=g.x,r=g.y,g=S(l,s,-d),l=g.x,s=g.y,e===l&&r===s&&(l+=1,s+=1);var b=(e-l)/2,E=(r-s)/2,O=b*b/(t*t)+E*E/(n*n);O>1&&(O=Math.sqrt(O),t=O*t,n=O*n);var D=t*t,F=n*n,H=(o===a?-1:1)*Math.sqrt(Math.abs((D*F-D*E*E-F*b*b)/(D*E*E+F*b*b)));_=H*t*E/n+(e+l)/2,w=H*-n*b/t+(r+s)/2,y=Math.asin(((r-w)/n).toFixed(9)),C=Math.asin(((s-w)/n).toFixed(9)),y=e<_?Math.PI-y:y,C=l<_?Math.PI-C:C,y<0&&(y=Math.PI*2+y),C<0&&(C=Math.PI*2+C),a&&y>C&&(y=y-Math.PI*2),!a&&C>y&&(C=C-Math.PI*2)}var k=C-y;if(Math.abs(k)>h){var q=C,V=l,Q=s;C=y+h*(a&&C>y?1:-1),l=_+t*Math.cos(C),s=w+n*Math.sin(C),v=Jg(l,s,t,n,i,0,a,V,Q,[C,q,_,w])}k=C-y;var ie=Math.cos(y),ue=Math.sin(y),K=Math.cos(C),te=Math.sin(C),Re=Math.tan(k/4),me=4/3*t*Re,we=4/3*n*Re,ke=[e,r],Ae=[e+me*ue,r-we*ie],qe=[l+me*te,s-we*K],at=[l,s];if(Ae[0]=2*ke[0]-Ae[0],Ae[1]=2*ke[1]-Ae[1],f)return[Ae,qe,at].concat(v);v=[Ae,qe,at].concat(v).join().split(",");for(var Fe=[],We=0,tt=v.length;We<tt;We++)Fe[We]=We%2?S(v[We-1],v[We],d).y:S(v[We],v[We+1],d).x;return Fe},ah=function(e,r){var t=oh(e),n=r&&oh(r),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=[],l=[],s="",f="",h,d=function(b,E,O){var D,F;if(!b)return["C",E.x,E.y,E.x,E.y,E.x,E.y];switch(!(b[0]in{T:1,Q:1})&&(E.qx=E.qy=null),b[0]){case"M":E.X=b[1],E.Y=b[2];break;case"A":b=["C"].concat(Jg.apply(0,[E.x,E.y].concat(b.slice(1))));break;case"S":O==="C"||O==="S"?(D=E.x*2-E.bx,F=E.y*2-E.by):(D=E.x,F=E.y),b=["C",D,F].concat(b.slice(1));break;case"T":O==="Q"||O==="T"?(E.qx=E.x*2-E.qx,E.qy=E.y*2-E.qy):(E.qx=E.x,E.qy=E.y),b=["C"].concat(Qg(E.x,E.y,E.qx,E.qy,b[1],b[2]));break;case"Q":E.qx=b[1],E.qy=b[2],b=["C"].concat(Qg(E.x,E.y,b[1],b[2],b[3],b[4]));break;case"L":b=["C"].concat(uu(E.x,E.y,b[1],b[2]));break;case"H":b=["C"].concat(uu(E.x,E.y,b[1],E.y));break;case"V":b=["C"].concat(uu(E.x,E.y,E.x,b[1]));break;case"Z":b=["C"].concat(uu(E.x,E.y,E.X,E.Y));break}return b},v=function(b,E){if(b[E].length>7){b[E].shift();for(var O=b[E];O.length;)a[E]="A",n&&(l[E]="A"),b.splice(E++,0,["C"].concat(O.splice(0,6)));b.splice(E,1),h=Math.max(t.length,n&&n.length||0)}},g=function(b,E,O,D,F){b&&E&&b[F][0]==="M"&&E[F][0]!=="M"&&(E.splice(F,0,["M",D.x,D.y]),O.bx=0,O.by=0,O.x=b[F][1],O.y=b[F][2],h=Math.max(t.length,n&&n.length||0))};h=Math.max(t.length,n&&n.length||0);for(var y=0;y<h;y++){t[y]&&(s=t[y][0]),s!=="C"&&(a[y]=s,y&&(f=a[y-1])),t[y]=d(t[y],i,f),a[y]!=="A"&&s==="C"&&(a[y]="C"),v(t,y),n&&(n[y]&&(s=n[y][0]),s!=="C"&&(l[y]=s,y&&(f=l[y-1])),n[y]=d(n[y],o,f),l[y]!=="A"&&s==="C"&&(l[y]="C"),v(n,y)),g(t,n,i,o,y),g(n,t,o,i,y);var C=t[y],_=n&&n[y],w=C.length,S=n&&_.length;i.x=C[w-2],i.y=C[w-1],i.bx=parseFloat(C[w-4])||i.x,i.by=parseFloat(C[w-3])||i.y,o.bx=n&&(parseFloat(_[S-4])||o.x),o.by=n&&(parseFloat(_[S-3])||o.y),o.x=n&&_[S-2],o.y=n&&_[S-1]}return n?[t,n]:t},oA=/,?([a-z]),?/gi,e1=function(e){return e.join(",").replace(oA,"$1")},t1=function(e,r,t,n,i){var o=-3*r+9*t-9*n+3*i,a=e*o+6*r-12*t+6*n;return e*a-3*r+3*t},r1=function(e,r,t,n,i,o,a,l,s){s===null&&(s=1),s=s>1?1:s<0?0:s;for(var f=s/2,h=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],v=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],g=0,y=0;y<h;y++){var C=f*d[y]+f,_=t1(C,e,t,i,a),w=t1(C,r,n,o,l),S=_*_+w*w;g+=v[y]*Math.sqrt(S)}return f*g},aA=function(e,r,t,n,i,o,a,l){for(var s=[],f=[[],[]],h,d,v,g,y=0;y<2;++y){if(y===0?(d=6*e-12*t+6*i,h=-3*e+9*t-9*i+3*a,v=3*t-3*e):(d=6*r-12*n+6*o,h=-3*r+9*n-9*o+3*l,v=3*n-3*r),Math.abs(h)<1e-12){if(Math.abs(d)<1e-12)continue;g=-v/d,g>0&&g<1&&s.push(g);continue}var C=d*d-4*v*h,_=Math.sqrt(C);if(!(C<0)){var w=(-d+_)/(2*h);w>0&&w<1&&s.push(w);var S=(-d-_)/(2*h);S>0&&S<1&&s.push(S)}}for(var b=s.length,E=b,O;b--;)g=s[b],O=1-g,f[0][b]=O*O*O*e+3*O*O*g*t+3*O*g*g*i+g*g*g*a,f[1][b]=O*O*O*r+3*O*O*g*n+3*O*g*g*o+g*g*g*l;return f[0][E]=e,f[1][E]=r,f[0][E+1]=a,f[1][E+1]=l,f[0].length=f[1].length=E+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}},lA=function(e,r,t,n,i,o,a,l){if(!(Math.max(e,t)<Math.min(i,a)||Math.min(e,t)>Math.max(i,a)||Math.max(r,n)<Math.min(o,l)||Math.min(r,n)>Math.max(o,l))){var s=(e*n-r*t)*(i-a)-(e-t)*(i*l-o*a),f=(e*n-r*t)*(o-l)-(r-n)*(i*l-o*a),h=(e-t)*(o-l)-(r-n)*(i-a);if(h){var d=s/h,v=f/h,g=+d.toFixed(2),y=+v.toFixed(2);if(!(g<+Math.min(e,t).toFixed(2)||g>+Math.max(e,t).toFixed(2)||g<+Math.min(i,a).toFixed(2)||g>+Math.max(i,a).toFixed(2)||y<+Math.min(r,n).toFixed(2)||y>+Math.max(r,n).toFixed(2)||y<+Math.min(o,l).toFixed(2)||y>+Math.max(o,l).toFixed(2)))return{x:d,y:v}}}},Vi=function(e,r,t){return r>=e.x&&r<=e.x+e.width&&t>=e.y&&t<=e.y+e.height},n1=function(e,r,t,n,i){if(i)return[["M",+e+ +i,r],["l",t-i*2,0],["a",i,i,0,0,1,i,i],["l",0,n-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-t,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-n],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,r],["l",t,0],["l",0,n],["l",-t,0],["z"]];return o.parsePathArray=e1,o},lh=function(e,r,t,n){return e===null&&(e=r=t=n=0),r===null&&(r=e.y,t=e.width,n=e.height,e=e.x),{x:e,y:r,width:t,w:t,height:n,h:n,x2:e+t,y2:r+n,cx:e+t/2,cy:r+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:n1(e,r,t,n),vb:[e,r,t,n].join(" ")}},sA=function(e,r){return e=lh(e),r=lh(r),Vi(r,e.x,e.y)||Vi(r,e.x2,e.y)||Vi(r,e.x,e.y2)||Vi(r,e.x2,e.y2)||Vi(e,r.x,r.y)||Vi(e,r.x2,r.y)||Vi(e,r.x,r.y2)||Vi(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)},i1=function(e,r,t,n,i,o,a,l){en(e)||(e=[e,r,t,n,i,o,a,l]);var s=aA.apply(null,e);return lh(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},o1=function(e,r,t,n,i,o,a,l,s){var f=1-s,h=Math.pow(f,3),d=Math.pow(f,2),v=s*s,g=v*s,y=h*e+d*3*s*t+f*3*s*s*i+g*a,C=h*r+d*3*s*n+f*3*s*s*o+g*l,_=e+2*s*(t-e)+v*(i-2*t+e),w=r+2*s*(n-r)+v*(o-2*n+r),S=t+2*s*(i-t)+v*(a-2*i+t),b=n+2*s*(o-n)+v*(l-2*o+n),E=f*e+s*t,O=f*r+s*n,D=f*i+s*a,F=f*o+s*l,H=90-Math.atan2(_-S,w-b)*180/Math.PI;return{x:y,y:C,m:{x:_,y:w},n:{x:S,y:b},start:{x:E,y:O},end:{x:D,y:F},alpha:H}},uA=function(e,r,t){var n=i1(e),i=i1(r);if(!sA(n,i))return t?0:[];for(var o=r1.apply(0,e),a=r1.apply(0,r),l=~~(o/8),s=~~(a/8),f=[],h=[],d={},v=t?0:[],g=0;g<l+1;g++){var y=o1.apply(0,e.concat(g/l));f.push({x:y.x,y:y.y,t:g/l})}for(var g=0;g<s+1;g++){var y=o1.apply(0,r.concat(g/s));h.push({x:y.x,y:y.y,t:g/s})}for(var g=0;g<l;g++)for(var C=0;C<s;C++){var _=f[g],w=f[g+1],S=h[C],b=h[C+1],E=Math.abs(w.x-_.x)<.001?"y":"x",O=Math.abs(b.x-S.x)<.001?"y":"x",D=lA(_.x,_.y,w.x,w.y,S.x,S.y,b.x,b.y);if(D){if(d[D.x.toFixed(4)]===D.y.toFixed(4))continue;d[D.x.toFixed(4)]=D.y.toFixed(4);var F=_.t+Math.abs((D[E]-_[E])/(w[E]-_[E]))*(w.t-_.t),H=S.t+Math.abs((D[O]-S[O])/(b[O]-S[O]))*(b.t-S.t);F>=0&&F<=1&&H>=0&&H<=1&&(t?v+=1:v.push({x:D.x,y:D.y,t1:F,t2:H}))}}return v},fA=function(e,r,t){e=ah(e),r=ah(r);for(var n,i,o,a,l,s,f,h,d,v,g=t?0:[],y=0,C=e.length;y<C;y++){var _=e[y];if(_[0]==="M")n=l=_[1],i=s=_[2];else{_[0]==="C"?(d=[n,i].concat(_.slice(1)),n=d[6],i=d[7]):(d=[n,i,n,i,l,s,l,s],n=l,i=s);for(var w=0,S=r.length;w<S;w++){var b=r[w];if(b[0]==="M")o=f=b[1],a=h=b[2];else{b[0]==="C"?(v=[o,a].concat(b.slice(1)),o=v[6],a=v[7]):(v=[o,a,o,a,f,h,f,h],o=f,a=h);var E=uA(d,v,t);if(t)g+=E;else{for(var O=0,D=E.length;O<D;O++)E[O].segment1=y,E[O].segment2=w,E[O].bez1=d,E[O].bez2=v;g=g.concat(E)}}}}}return g},cA=function(e,r){return fA(e,r)};function hA(e,r){var t=[],n=[];function i(o,a){if(o.length===1)t.push(o[0]),n.push(o[0]);else{for(var l=[],s=0;s<o.length-1;s++)s===0&&t.push(o[0]),s===o.length-2&&n.push(o[s+1]),l[s]=[(1-a)*o[s][0]+a*o[s+1][0],(1-a)*o[s][1]+a*o[s+1][1]];i(l,a)}}return e.length&&i(e,r),{left:t,right:n.reverse()}}function dA(e,r,t){var n=[[e[1],e[2]]];t=t||2;var i=[];r[0]==="A"?(n.push(r[6]),n.push(r[7])):r[0]==="C"?(n.push([r[1],r[2]]),n.push([r[3],r[4]]),n.push([r[5],r[6]])):r[0]==="S"||r[0]==="Q"?(n.push([r[1],r[2]]),n.push([r[3],r[4]])):n.push([r[1],r[2]]);for(var o=n,a=1/t,l=0;l<t-1;l++){var s=a/(1-a*l),f=hA(o,s);i.push(f.left),o=f.right}i.push(o);var h=i.map(function(d){var v=[];return d.length===4&&(v.push("C"),v=v.concat(d[2])),d.length>=3&&(d.length===3&&v.push("Q"),v=v.concat(d[1])),d.length===2&&v.push("L"),v=v.concat(d[d.length-1]),v});return h}var vA=function(e,r,t){if(t===1)return[[].concat(e)];var n=[];if(r[0]==="L"||r[0]==="C"||r[0]==="Q")n=n.concat(dA(e,r,t));else{var i=[].concat(e);i[0]==="M"&&(i[0]="L");for(var o=0;o<=t-1;o++)n.push(i)}return n},pA=function(e,r){if(e.length===1)return e;var t=e.length-1,n=r.length-1,i=t/n,o=[];if(e.length===1&&e[0][0]==="M"){for(var a=0;a<n-t;a++)e.push(e[0]);return e}for(var a=0;a<n;a++){var l=Math.floor(i*a);o[l]=(o[l]||0)+1}var s=o.reduce(function(f,h,d){return d===t?f.concat(e[t]):f.concat(vA(e[d],e[d+1],h))},[]);return s.unshift(e[0]),(r[n]==="Z"||r[n]==="z")&&s.push("Z"),s},gA=function(e,r){if(e.length!==r.length)return!1;var t=!0;return Ve(e,function(n,i){if(n!==r[i])return t=!1,!1}),t};function yA(e,r,t){var n=null,i=t;return r<i&&(i=r,n="add"),e<i&&(i=e,n="del"),{type:n,min:i}}var CA=function(e,r){var t=e.length,n=r.length,i,o,a=0;if(t===0||n===0)return null;for(var l=[],s=0;s<=t;s++)l[s]=[],l[s][0]={min:s};for(var f=0;f<=n;f++)l[0][f]={min:f};for(var s=1;s<=t;s++){i=e[s-1];for(var f=1;f<=n;f++){o=r[f-1],gA(i,o)?a=0:a=1;var h=l[s-1][f].min+1,d=l[s][f-1].min+1,v=l[s-1][f-1].min+a;l[s][f]=yA(h,d,v)}}return l},a1=function(e,r){var t=CA(e,r),n=e.length,i=r.length,o=[],a=1,l=1;if(t[n][i].min!==n){for(var s=1;s<=n;s++){var f=t[s][s].min;l=s;for(var h=a;h<=i;h++)t[s][h].min<f&&(f=t[s][h].min,l=h);a=l,t[s][a].type&&o.push({index:s-1,type:t[s][a].type})}for(var s=o.length-1;s>=0;s--)a=o[s].index,o[s].type==="add"?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}n=e.length;var d=i-n;if(n<i)for(var s=0;s<d;s++)e[n-1][0]==="z"||e[n-1][0]==="Z"?e.splice(n-2,0,e[n-2]):e.push(e[n-1]),n+=1;return e};function sh(e,r,t){for(var n=[].concat(e),i,o=1/(t+1),a=l1(r)[0],l=1;l<=t;l++)o*=l,i=Math.floor(e.length*o),i===0?n.unshift([a[0]*o+e[i][0]*(1-o),a[1]*o+e[i][1]*(1-o)]):n.splice(i,0,[a[0]*o+e[i][0]*(1-o),a[1]*o+e[i][1]*(1-o)]);return n}function l1(e){var r=[];switch(e[0]){case"M":r.push([e[1],e[2]]);break;case"L":r.push([e[1],e[2]]);break;case"A":r.push([e[6],e[7]]);break;case"Q":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"T":r.push([e[1],e[2]]);break;case"C":r.push([e[5],e[6]]),r.push([e[1],e[2]]),r.push([e[3],e[4]]);break;case"S":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"H":r.push([e[1],e[1]]);break;case"V":r.push([e[1],e[1]]);break}return r}var uh=function(e,r){if(e.length<=1)return e;for(var t,n=0;n<r.length;n++)if(e[n][0]!==r[n][0])switch(t=l1(e[n]),r[n][0]){case"M":e[n]=["M"].concat(t[0]);break;case"L":e[n]=["L"].concat(t[0]);break;case"A":e[n]=[].concat(r[n]),e[n][6]=t[0][0],e[n][7]=t[0][1];break;case"Q":if(t.length<2)if(n>0)t=sh(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["Q"].concat(t.reduce(function(i,o){return i.concat(o)},[]));break;case"T":e[n]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(n>0)t=sh(t,e[n-1],2);else{e[n]=r[n];break}e[n]=["C"].concat(t.reduce(function(i,o){return i.concat(o)},[]));break;case"S":if(t.length<2)if(n>0)t=sh(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["S"].concat(t.reduce(function(i,o){return i.concat(o)},[]));break;default:e[n]=r[n]}return e},mA=Object.freeze({__proto__:null,catmullRomToBezier:ih,fillPath:pA,fillPathByDiff:a1,formatPath:uh,intersection:cA,parsePathArray:e1,parsePathString:xa,pathToAbsolute:oh,pathToCurve:ah,rectPath:n1}),_A=function(){function e(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){var r=this.type;return"[Event (type="+r+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}(),wA="*",fu=function(){function e(){this._events={}}return e.prototype.on=function(r,t,n){return this._events[r]||(this._events[r]=[]),this._events[r].push({callback:t,once:!!n}),this},e.prototype.once=function(r,t){return this.on(r,t,!0)},e.prototype.emit=function(r){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this._events[r]||[],a=this._events[wA]||[],l=function(s){for(var f=s.length,h=0;h<f;h++)if(s[h]){var d=s[h],v=d.callback,g=d.once;g&&(s.splice(h,1),s.length===0&&delete t._events[r],f--,h--),v.apply(t,n)}};l(o),l(a)},e.prototype.off=function(r,t){if(!r)this._events={};else if(!t)delete this._events[r];else{for(var n=this._events[r]||[],i=n.length,o=0;o<i;o++)n[o].callback===t&&(n.splice(o,1),i--,o--);n.length===0&&delete this._events[r]}return this},e.prototype.getEvents=function(){return this._events},e}();function s1(e,r){var t=e.indexOf(r);t!==-1&&e.splice(t,1)}var u1=typeof window<"u"&&typeof window.document<"u";function f1(e,r){if(e.isCanvas())return!0;for(var t=r.getParent(),n=!1;t;){if(t===e){n=!0;break}t=t.getParent()}return n}function fh(e){return e.cfg.visible&&e.cfg.capture}var xA=function(e){re(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=Zg(i,t),n}return r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,n){this.cfg[t]=n},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(fu),c1=function(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))},SA=function(){function e(r,t,n){this.name=r,this.version=t,this.os=n,this.type="browser"}return e}(),bA=function(){function e(r){this.version=r,this.type="node",this.name="node",this.os=process.platform}return e}(),TA=function(){function e(r,t,n,i){this.name=r,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return e}(),EA=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),LA=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),AA=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,RA=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h1=3,OA=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",AA]],d1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function IA(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new LA:typeof navigator<"u"?BA(navigator.userAgent):$A()}function MA(e){return e!==""&&OA.reduce(function(r,t){var n=t[0],i=t[1];if(r)return r;var o=i.exec(e);return!!o&&[n,o]},!1)}function BA(e){var r=MA(e);if(!r)return null;var t=r[0],n=r[1];if(t==="searchbot")return new EA;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<h1&&(i=c1(c1([],i,!0),FA(h1-i.length),!0)):i=[];var o=i.join("."),a=DA(e),l=RA.exec(e);return l&&l[1]?new TA(t,o,a,l[1]):new SA(t,o,a)}function DA(e){for(var r=0,t=d1.length;r<t;r++){var n=d1[r],i=n[0],o=n[1],a=o.exec(e);if(a)return i}return null}function $A(){var e=typeof process<"u"&&process.version;return e?new bA(process.version.slice(1)):null}function FA(e){for(var r=[],t=0;t<e;t++)r.push("0");return r}var cu=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)});function hu(e,r,t){var n=r[0],i=r[1],o=r[2],a=r[3],l=r[4],s=r[5],f=r[6],h=r[7],d=r[8],v=t[0],g=t[1],y=t[2],C=t[3],_=t[4],w=t[5],S=t[6],b=t[7],E=t[8];return e[0]=v*n+g*a+y*f,e[1]=v*i+g*l+y*h,e[2]=v*o+g*s+y*d,e[3]=C*n+_*a+w*f,e[4]=C*i+_*l+w*h,e[5]=C*o+_*s+w*d,e[6]=S*n+b*a+E*f,e[7]=S*i+b*l+E*h,e[8]=S*o+b*s+E*d,e}function PA(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=r[0],e[7]=r[1],e[8]=1,e}function NA(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=-t,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function HA(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=r[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function zA(){var e=new cu(3);return cu!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function kA(e,r,t){var n=r[0],i=r[1],o=r[2];return e[0]=n*t[0]+i*t[3]+o*t[6],e[1]=n*t[1]+i*t[4]+o*t[7],e[2]=n*t[2]+i*t[5]+o*t[8],e}(function(){var e=zA();return function(r,t,n,i,o,a){var l,s;for(t||(t=3),n||(n=0),i?s=Math.min(i*t+n,r.length):s=r.length,l=n;l<s;l+=t)e[0]=r[l],e[1]=r[l+1],e[2]=r[l+2],o(e,e,a),r[l]=e[0],r[l+1]=e[1],r[l+2]=e[2];return r}})();function WA(){var e=new cu(2);return cu!=Float32Array&&(e[0]=0,e[1]=0),e}function GA(e,r){var t=r[0],n=r[1],i=t*t+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=r[0]*i,e[1]=r[1]*i,e}function UA(e,r){return e[0]*r[0]+e[1]*r[1]}function YA(e,r){return e[0]===r[0]&&e[1]===r[1]}(function(){var e=WA();return function(r,t,n,i,o,a){var l,s;for(t||(t=2),n||(n=0),i?s=Math.min(i*t+n,r.length):s=r.length,l=n;l<s;l+=t)e[0]=r[l],e[1]=r[l+1],o(e,e,a),r[l]=e[0],r[l+1]=e[1];return r}})();function XA(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return PA(n,t),hu(e,n,r)}function VA(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return NA(n,t),hu(e,n,r)}function qA(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return HA(n,t),hu(e,n,r)}function KA(e,r,t){return hu(e,t,r)}function v1(e,r){for(var t=e?[].concat(e):[1,0,0,0,1,0,0,0,1],n=0,i=r.length;n<i;n++){var o=r[n];switch(o[0]){case"t":XA(t,t,[o[1],o[2]]);break;case"s":qA(t,t,[o[1],o[2]]);break;case"r":VA(t,t,o[1]);break;case"m":KA(t,t,o[1]);break}}return t}function p1(e,r){var t=[],n=e[0],i=e[1],o=e[2],a=e[3],l=e[4],s=e[5],f=e[6],h=e[7],d=e[8],v=r[0],g=r[1],y=r[2],C=r[3],_=r[4],w=r[5],S=r[6],b=r[7],E=r[8];return t[0]=v*n+g*a+y*f,t[1]=v*i+g*l+y*h,t[2]=v*o+g*s+y*d,t[3]=C*n+_*a+w*f,t[4]=C*i+_*l+w*h,t[5]=C*o+_*s+w*d,t[6]=S*n+b*a+E*f,t[7]=S*i+b*l+E*h,t[8]=S*o+b*s+E*d,t}function Ro(e,r){var t=[],n=r[0],i=r[1];return t[0]=e[0]*n+e[3]*i+e[6],t[1]=e[1]*n+e[4]*i+e[7],t}function g1(e){var r=[],t=e[0],n=e[1],i=e[2],o=e[3],a=e[4],l=e[5],s=e[6],f=e[7],h=e[8],d=h*a-l*f,v=-h*o+l*s,g=f*o-a*s,y=t*d+n*v+i*g;return y?(y=1/y,r[0]=d*y,r[1]=(-h*n+i*f)*y,r[2]=(l*n-i*a)*y,r[3]=v*y,r[4]=(h*t-i*s)*y,r[5]=(-l*t+i*o)*y,r[6]=g*y,r[7]=(-f*t+n*s)*y,r[8]=(a*t-n*o)*y,r):null}var wl=v1,ch="matrix",jA=["zIndex","capture","visible","type"],ZA=["repeat"],QA=":",JA="*";function eR(e){for(var r=[],t=0;t<e.length;t++)en(e[t])?r.push([].concat(e[t])):r.push(e[t]);return r}function tR(e,r){var t={},n=r.attrs;for(var i in e)t[i]=n[i];return t}function rR(e,r){var t={},n=r.attr();return Ve(e,function(i,o){ZA.indexOf(o)===-1&&!iu(n[o],i)&&(t[o]=i)}),t}function nR(e,r){if(r.onFrame)return e;var t=r.startTime,n=r.delay,i=r.duration,o=Object.prototype.hasOwnProperty;return Ve(e,function(a){t+n<a.startTime+a.delay+a.duration&&i>a.delay&&Ve(r.toAttrs,function(l,s){o.call(a.toAttrs,s)&&(delete a.toAttrs[s],delete a.fromAttrs[s])})}),e}var y1=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;n.attrs={};var i=n.getDefaultAttrs();return Zg(i,t.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n[0],a=n[1];if(!o)return this.attrs;if(ml(o)){for(var l in o)this.setAttr(l,o[l]);return this.afterAttrsChange(o),this}return n.length===2?(this.setAttr(o,a),this.afterAttrsChange((t={},t[o]=a,t)),this):this.attrs[o]},r.prototype.isClipped=function(t,n){var i=this.getClip();return i&&!i.isHit(t,n)},r.prototype.setAttr=function(t,n){var i=this.attrs[t];i!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,i))},r.prototype.onAttrChange=function(t,n,i){t==="matrix"&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){t===void 0&&(t=!0);var n=this.getParent();n?(s1(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(ch,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(ch)},r.prototype.setMatrix=function(t){this.attr(ch,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),i=this.cfg.parentMatrix;i&&n?t=p1(i,n):t=n||i,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var n=this.attr("matrix"),i=null;t&&n?i=p1(t,n):i=n||t,this.set("totalMatrix",i),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?Ro(n,t):t},r.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var i=g1(n);if(i)return Ro(i,t)}return t},r.prototype.setClip=function(t){var n=this.getCanvas(),i=null;if(t){var o=this.getShapeBase(),a=jg(t.type),l=o[a];l&&(i=new l({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},r.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},r.prototype.clone=function(){var t=this,n=this.attrs,i={};Ve(n,function(l,s){en(n[s])?i[s]=eR(n[s]):i[s]=n[s]});var o=this.constructor,a=new o({attrs:i});return Ve(jA,function(l){a.set(l,t.get(l))}),a},r.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},e.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var o=this.get("animations")||[];i.timer||i.initTimer();var a=t[0],l=t[1],s=t[2],f=s===void 0?"easeLinear":s,h=t[3],d=h===void 0?au:h,v=t[4],g=v===void 0?0:v,y,C,_,w,S;Ao(a)?(y=a,a={}):ml(a)&&a.onFrame&&(y=a.onFrame,C=a.repeat),ml(l)?(S=l,l=S.duration,f=S.easing||"easeLinear",g=S.delay||0,C=S.repeat||C||!1,d=S.callback||au,_=S.pauseCallback||au,w=S.resumeCallback||au):(nh(d)&&(g=d,d=null),Ao(f)?(d=f,f="easeLinear"):f=f||"easeLinear");var b=rR(a,this),E={fromAttrs:tR(b,this),toAttrs:b,duration:l,easing:f,repeat:C,callback:d,pauseCallback:_,resumeCallback:w,delay:g,startTime:i.getTime(),id:rA(),onFrame:y,pathFormatted:!1};o.length>0?o=nR(o,E):i.addAnimator(this),o.push(E),this.set("animations",o),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var n=this;t===void 0&&(t=!0);var i=this.get("animations");Ve(i,function(o){t&&(o.onFrame?n.attr(o.onFrame(1)):n.attr(o.toAttrs)),o.callback&&o.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),i=t.getTime();return Ve(n,function(o){o._paused=!0,o._pauseTime=i,o.pauseCallback&&o.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},r.prototype.resumeAnimate=function(){var t=this.get("timeline"),n=t.getTime(),i=this.get("animations"),o=this.get("_pause").pauseTime;return Ve(i,function(a){a.startTime=a.startTime+(n-o),a._paused=!1,a._pauseTime=null,a.resumeCallback&&a.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},r.prototype.emitDelegation=function(t,n){var i=this,o=n.propagationPath;this.getEvents();var a;t==="mouseenter"?a=n.fromShape:t==="mouseleave"&&(a=n.toShape);for(var l=function(d){var v=o[d],g=v.get("name");if(g){if((v.isGroup()||v.isCanvas&&v.isCanvas())&&a&&f1(v,a))return"break";en(g)?Ve(g,function(y){i.emitDelegateEvent(v,y,n)}):s.emitDelegateEvent(v,g,n)}},s=this,f=0;f<o.length;f++){var h=l(f);if(h==="break")break}},r.prototype.emitDelegateEvent=function(t,n,i){var o=this.getEvents(),a=n+QA+i.type;(o[a]||o[JA])&&(i.name=a,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(a,i))},r.prototype.translate=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=this.getMatrix(),o=wl(i,[["t",t,n]]);return this.setMatrix(o),this},r.prototype.move=function(t,n){var i=this.attr("x")||0,o=this.attr("y")||0;return this.translate(t-i,n-o),this},r.prototype.moveTo=function(t,n){return this.move(t,n)},r.prototype.scale=function(t,n){var i=this.getMatrix(),o=wl(i,[["s",t,n||t]]);return this.setMatrix(o),this},r.prototype.rotate=function(t){var n=this.getMatrix(),i=wl(n,[["r",t]]);return this.setMatrix(i),this},r.prototype.rotateAtStart=function(t){var n=this.attr(),i=n.x,o=n.y,a=this.getMatrix(),l=wl(a,[["t",-i,-o],["r",t],["t",i,o]]);return this.setMatrix(l),this},r.prototype.rotateAtPoint=function(t,n,i){var o=this.getMatrix(),a=wl(o,[["t",-t,-n],["r",i],["t",t,n]]);return this.setMatrix(a),this},r}(xA),C1={},hh="_INDEX";function m1(e,r){if(e.set("canvas",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){m1(n,r)})}}function _1(e,r){if(e.set("timeline",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){_1(n,r)})}}function iR(e,r,t){r.set("parent",null),r.set("canvas",null),s1(e.getChildren(),r)}function oR(e){return function(r,t){var n=e(r,t);return n===0?r[hh]-t[hh]:n}}var w1=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,n=-1/0,i=1/0,o=-1/0,a=this.getChildren().filter(function(s){return s.get("visible")&&(!s.isGroup()||s.isGroup()&&s.getChildren().length>0)});a.length>0?Ve(a,function(s){var f=s.getBBox(),h=f.minX,d=f.maxX,v=f.minY,g=f.maxY;h<t&&(t=h),d>n&&(n=d),v<i&&(i=v),g>o&&(o=g)}):(t=0,n=0,i=0,o=0);var l={x:t,y:i,minX:t,minY:i,maxX:n,maxY:o,width:n-t,height:o-i};return l},r.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,i=1/0,o=-1/0,a=this.getChildren().filter(function(s){return s.get("visible")&&(!s.isGroup()||s.isGroup()&&s.getChildren().length>0)});a.length>0?Ve(a,function(s){var f=s.getCanvasBBox(),h=f.minX,d=f.maxX,v=f.minY,g=f.maxY;h<t&&(t=h),d>n&&(n=d),v<i&&(i=v),g>o&&(o=g)}):(t=0,n=0,i=0,o=0);var l={x:t,y:i,minX:t,minY:i,maxX:n,maxY:o,width:n-t,height:o-i};return l},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,n,i){if(e.prototype.onAttrChange.call(this,t,n,i),t==="matrix"){var o=this.getTotalMatrix();this._applyChildrenMarix(o)}},r.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},r.prototype._applyChildrenMarix=function(t){var n=this.getChildren();Ve(n,function(i){i.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],o=t[1];ml(i)?o=i:o.type=i;var a=C1[o.type];a||(a=jg(o.type),C1[o.type]=a);var l=this.getShapeBase(),s=new l[a](o);return this.add(s),s},r.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],o=t[1],a;if(Ao(i))o?a=new i(o):a=new i({parent:this});else{var l=i||{},s=this.getGroupBase();a=new s(l)}return this.add(a),a},r.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},r.prototype.getShape=function(t,n,i){if(!fh(this))return null;var o=this.getChildren(),a;if(this.isCanvas())a=this._findShape(o,t,n,i);else{var l=[t,n,1];l=this.invertFromMatrix(l),this.isClipped(l[0],l[1])||(a=this._findShape(o,l[0],l[1],i))}return a},r.prototype._findShape=function(t,n,i,o){for(var a=null,l=t.length-1;l>=0;l--){var s=t[l];if(fh(s)&&(s.isGroup()?a=s.getShape(n,i,o):s.isHit(n,i)&&(a=s)),a)break}return a},r.prototype.add=function(t){var n=this.getCanvas(),i=this.getChildren(),o=this.get("timeline"),a=t.getParent();a&&iR(a,t),t.set("parent",this),n&&m1(t,n),o&&_1(t,o),i.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var t=this.getChildren();Ve(t,function(n,i){return n[hh]=i,n}),t.sort(oR(function(n,i){return n.get("zIndex")-i.get("zIndex")})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){var n=this.getChildren();return n[t]},r.prototype.getCount=function(){var t=this.getChildren();return t.length},r.prototype.contain=function(t){var n=this.getChildren();return n.indexOf(t)>-1},r.prototype.removeChild=function(t,n){n===void 0&&(n=!0),this.contain(t)&&t.remove(n)},r.prototype.findAll=function(t){var n=[],i=this.getChildren();return Ve(i,function(o){t(o)&&n.push(o),o.isGroup()&&(n=n.concat(o.findAll(t)))}),n},r.prototype.find=function(t){var n=null,i=this.getChildren();return Ve(i,function(o){if(t(o)?n=o:o.isGroup()&&(n=o.find(t)),n)return!1}),n},r.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},r}(y1),Sa=0,xl=0,Sl=0,x1=1e3,du,bl,vu=0,Oo=0,pu=0,Tl=typeof performance=="object"&&performance.now?performance:Date,S1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function b1(){return Oo||(S1(aR),Oo=Tl.now()+pu)}function aR(){Oo=0}function dh(){this._call=this._time=this._next=null}dh.prototype=vh.prototype={constructor:dh,restart:function(e,r,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?b1():+t)+(r==null?0:+r),!this._next&&bl!==this&&(bl?bl._next=this:du=this,bl=this),this._call=e,this._time=t,ph()},stop:function(){this._call&&(this._call=null,this._time=1/0,ph())}};function vh(e,r,t){var n=new dh;return n.restart(e,r,t),n}function lR(){b1(),++Sa;for(var e=du,r;e;)(r=Oo-e._time)>=0&&e._call.call(null,r),e=e._next;--Sa}function T1(){Oo=(vu=Tl.now())+pu,Sa=xl=0;try{lR()}finally{Sa=0,uR(),Oo=0}}function sR(){var e=Tl.now(),r=e-vu;r>x1&&(pu-=r,vu=e)}function uR(){for(var e,r=du,t,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:du=t);bl=e,ph(n)}function ph(e){if(!Sa){xl&&(xl=clearTimeout(xl));var r=e-Oo;r>24?(e<1/0&&(xl=setTimeout(T1,e-Tl.now()-pu)),Sl&&(Sl=clearInterval(Sl))):(Sl||(vu=Tl.now(),Sl=setInterval(sR,x1)),Sa=1,S1(T1))}}function gh(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function E1(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function El(){}var Ll=.7,gu=1/Ll,ba="\\s*([+-]?\\d+)\\s*",Al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fR=/^#([0-9a-f]{3,8})$/,cR=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),hR=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),dR=new RegExp(`^rgba\\(${ba},${ba},${ba},${Al}\\)$`),vR=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${Al}\\)$`),pR=new RegExp(`^hsl\\(${Al},${Yn},${Yn}\\)$`),gR=new RegExp(`^hsla\\(${Al},${Yn},${Yn},${Al}\\)$`),L1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gh(El,Rl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:A1,formatHex:A1,formatHex8:yR,formatHsl:CR,formatRgb:R1,toString:R1});function A1(){return this.rgb().formatHex()}function yR(){return this.rgb().formatHex8()}function CR(){return D1(this).formatHsl()}function R1(){return this.rgb().formatRgb()}function Rl(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=fR.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?O1(r):t===3?new Sr(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?yu(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?yu(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=cR.exec(e))?new Sr(r[1],r[2],r[3],1):(r=hR.exec(e))?new Sr(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=dR.exec(e))?yu(r[1],r[2],r[3],r[4]):(r=vR.exec(e))?yu(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=pR.exec(e))?B1(r[1],r[2]/100,r[3]/100,1):(r=gR.exec(e))?B1(r[1],r[2]/100,r[3]/100,r[4]):L1.hasOwnProperty(e)?O1(L1[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function O1(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function yu(e,r,t,n){return n<=0&&(e=r=t=NaN),new Sr(e,r,t,n)}function mR(e){return e instanceof El||(e=Rl(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function yh(e,r,t,n){return arguments.length===1?mR(e):new Sr(e,r,t,n??1)}function Sr(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}gh(Sr,yh,E1(El,{brighter(e){return e=e==null?gu:Math.pow(gu,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Io(this.r),Io(this.g),Io(this.b),Cu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I1,formatHex:I1,formatHex8:_R,formatRgb:M1,toString:M1}));function I1(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}`}function _R(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}${Mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function M1(){const e=Cu(this.opacity);return`${e===1?"rgb(":"rgba("}${Io(this.r)}, ${Io(this.g)}, ${Io(this.b)}${e===1?")":`, ${e})`}`}function Cu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mo(e){return e=Io(e),(e<16?"0":"")+e.toString(16)}function B1(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new Sn(e,r,t,n)}function D1(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof El||(e=Rl(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,i=Math.min(r,t,n),o=Math.max(r,t,n),a=NaN,l=o-i,s=(o+i)/2;return l?(r===o?a=(t-n)/l+(t<n)*6:t===o?a=(n-r)/l+2:a=(r-t)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new Sn(a,l,s,e.opacity)}function wR(e,r,t,n){return arguments.length===1?D1(e):new Sn(e,r,t,n??1)}function Sn(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}gh(Sn,wR,E1(El,{brighter(e){return e=e==null?gu:Math.pow(gu,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,i=2*t-n;return new Sr(Ch(e>=240?e-240:e+120,i,n),Ch(e,i,n),Ch(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Sn($1(this.h),mu(this.s),mu(this.l),Cu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cu(this.opacity);return`${e===1?"hsl(":"hsla("}${$1(this.h)}, ${mu(this.s)*100}%, ${mu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $1(e){return e=(e||0)%360,e<0?e+360:e}function mu(e){return Math.max(0,Math.min(1,e||0))}function Ch(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}var mh=e=>()=>e;function xR(e,r){return function(t){return e+t*r}}function SR(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function bR(e){return(e=+e)==1?F1:function(r,t){return t-r?SR(r,t,e):mh(isNaN(r)?t:r)}}function F1(e,r){var t=r-e;return t?xR(e,t):mh(isNaN(e)?r:e)}var P1=function e(r){var t=bR(r);function n(i,o){var a=t((i=yh(i)).r,(o=yh(o)).r),l=t(i.g,o.g),s=t(i.b,o.b),f=F1(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=s(h),i.opacity=f(h),i+""}}return n.gamma=e,n}(1);function N1(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),i;return function(o){for(i=0;i<t;++i)n[i]=e[i]*(1-o)+r[i]*o;return n}}function H1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TR(e,r){return(H1(r)?N1:z1)(e,r)}function z1(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,i=new Array(n),o=new Array(t),a;for(a=0;a<n;++a)i[a]=_u(e[a],r[a]);for(;a<t;++a)o[a]=r[a];return function(l){for(a=0;a<n;++a)o[a]=i[a](l);return o}}function ER(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function _h(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function LR(e,r){var t={},n={},i;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in e?t[i]=_u(e[i],r[i]):n[i]=r[i];return function(o){for(i in t)n[i]=t[i](o);return n}}var wh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xh=new RegExp(wh.source,"g");function AR(e){return function(){return e}}function RR(e){return function(r){return e(r)+""}}function OR(e,r){var t=wh.lastIndex=xh.lastIndex=0,n,i,o,a=-1,l=[],s=[];for(e=e+"",r=r+"";(n=wh.exec(e))&&(i=xh.exec(r));)(o=i.index)>t&&(o=r.slice(t,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:_h(n,i)})),t=xh.lastIndex;return t<r.length&&(o=r.slice(t),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?RR(s[0].x):AR(r):(r=s.length,function(f){for(var h=0,d;h<r;++h)l[(d=s[h]).i]=d.x(f);return l.join("")})}function _u(e,r){var t=typeof r,n;return r==null||t==="boolean"?mh(r):(t==="number"?_h:t==="string"?(n=Rl(r))?(r=n,P1):OR:r instanceof Rl?P1:r instanceof Date?ER:H1(r)?N1:Array.isArray(r)?z1:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?LR:_h)(e,r)}function IR(e){return+e}function MR(e){return e*e}function BR(e){return e*(2-e)}function k1(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function W1(e){return e*e*e}function DR(e){return--e*e*e+1}function G1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Sh=3,$R=function e(r){r=+r;function t(n){return Math.pow(n,r)}return t.exponent=e,t}(Sh),FR=function e(r){r=+r;function t(n){return 1-Math.pow(1-n,r)}return t.exponent=e,t}(Sh),U1=function e(r){r=+r;function t(n){return((n*=2)<=1?Math.pow(n,r):2-Math.pow(2-n,r))/2}return t.exponent=e,t}(Sh),Y1=Math.PI,X1=Y1/2;function PR(e){return+e==1?1:1-Math.cos(e*X1)}function NR(e){return Math.sin(e*X1)}function V1(e){return(1-Math.cos(Y1*e))/2}function qi(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function HR(e){return qi(1-+e)}function zR(e){return 1-qi(e)}function q1(e){return((e*=2)<=1?qi(1-e):2-qi(e-1))/2}function kR(e){return 1-Math.sqrt(1-e*e)}function WR(e){return Math.sqrt(1- --e*e)}function K1(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var bh=4/11,GR=6/11,UR=8/11,YR=3/4,XR=9/11,VR=10/11,qR=15/16,KR=21/22,jR=63/64,wu=1/bh/bh;function ZR(e){return 1-Ol(1-e)}function Ol(e){return(e=+e)<bh?wu*e*e:e<UR?wu*(e-=GR)*e+YR:e<VR?wu*(e-=XR)*e+qR:wu*(e-=KR)*e+jR}function QR(e){return((e*=2)<=1?1-Ol(1-e):Ol(e-1)+1)/2}var Th=1.70158,JR=function e(r){r=+r;function t(n){return(n=+n)*n*(r*(n-1)+n)}return t.overshoot=e,t}(Th),eO=function e(r){r=+r;function t(n){return--n*n*((n+1)*r+n)+1}return t.overshoot=e,t}(Th),j1=function e(r){r=+r;function t(n){return((n*=2)<1?n*n*((r+1)*n-r):(n-=2)*n*((r+1)*n+r)+2)/2}return t.overshoot=e,t}(Th),Ta=2*Math.PI,Eh=1,Lh=.3,tO=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Ta);function i(o){return r*qi(- --o)*Math.sin((n-o)/t)}return i.amplitude=function(o){return e(o,t*Ta)},i.period=function(o){return e(r,o)},i}(Eh,Lh),Z1=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Ta);function i(o){return 1-r*qi(o=+o)*Math.sin((o+n)/t)}return i.amplitude=function(o){return e(o,t*Ta)},i.period=function(o){return e(r,o)},i}(Eh,Lh),rO=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Ta);function i(o){return((o=o*2-1)<0?r*qi(-o)*Math.sin((n-o)/t):2-r*qi(o)*Math.sin((n+o)/t))/2}return i.amplitude=function(o){return e(o,t*Ta)},i.period=function(o){return e(r,o)},i}(Eh,Lh),nO=Object.freeze({__proto__:null,easeLinear:IR,easeQuad:k1,easeQuadIn:MR,easeQuadOut:BR,easeQuadInOut:k1,easeCubic:G1,easeCubicIn:W1,easeCubicOut:DR,easeCubicInOut:G1,easePoly:U1,easePolyIn:$R,easePolyOut:FR,easePolyInOut:U1,easeSin:V1,easeSinIn:PR,easeSinOut:NR,easeSinInOut:V1,easeExp:q1,easeExpIn:HR,easeExpOut:zR,easeExpInOut:q1,easeCircle:K1,easeCircleIn:kR,easeCircleOut:WR,easeCircleInOut:K1,easeBounce:Ol,easeBounceIn:ZR,easeBounceOut:Ol,easeBounceInOut:QR,easeBack:j1,easeBackIn:JR,easeBackOut:eO,easeBackInOut:j1,easeElastic:Z1,easeElasticIn:tO,easeElasticOut:Z1,easeElasticInOut:rO}),iO={};function oO(e){return iO[e.toLowerCase()]||nO[e]}var aO=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},lO=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},Q1=[1,0,0,0,1,0,0,0,1];function sO(e,r,t){var n={},i=r.fromAttrs,o=r.toAttrs;if(!e.destroyed){var a;for(var l in o)if(!iu(i[l],o[l]))if(l==="path"){var s=o[l],f=i[l];s.length>f.length?(s=xa(o[l]),f=xa(i[l]),f=a1(f,s),f=uh(f,s),r.fromAttrs.path=f,r.toAttrs.path=s):r.pathFormatted||(s=xa(o[l]),f=xa(i[l]),f=uh(f,s),r.fromAttrs.path=f,r.toAttrs.path=s,r.pathFormatted=!0),n[l]=[];for(var h=0;h<s.length;h++){for(var d=s[h],v=f[h],g=[],y=0;y<d.length;y++)nh(d[y])&&v&&nh(v[y])?(a=_u(v[y],d[y]),g.push(a(t))):g.push(d[y]);n[l].push(g)}}else if(l==="matrix"){var C=TR(i[l]||Q1,o[l]||Q1),_=C(t);n[l]=_}else aO(l)&&lO(o[l])?n[l]=o[l]:Ao(o[l])||(a=_u(i[l],o[l]),n[l]=a(t));e.attr(n)}}function uO(e,r,t){var n=r.startTime,i=r.delay;if(t<n+i||r._paused)return!1;var o,a=r.duration,l=r.easing,s=oO(l);if(t=t-n-r.delay,r.repeat)o=t%a/a,o=s(o);else if(o=t/a,o<1)o=s(o);else return r.onFrame?e.attr(r.onFrame(1)):e.attr(r.toAttrs),!0;if(r.onFrame){var f=r.onFrame(o);e.attr(f)}else sO(e,r,o);return!1}var fO=function(){function e(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return e.prototype.initTimer=function(){var r=this,t=!1,n,i,o;this.timer=vh(function(a){if(r.current=a,r.animators.length>0){for(var l=r.animators.length-1;l>=0;l--){if(n=r.animators[l],n.destroyed){r.removeAnimator(l);continue}if(!n.isAnimatePaused()){i=n.get("animations");for(var s=i.length-1;s>=0;s--)o=i[s],t=uO(n,o,a),t&&(i.splice(s,1),t=!1,o.callback&&o.callback())}i.length===0&&r.removeAnimator(l)}var f=r.canvas.get("autoDraw");f||r.canvas.draw()}})},e.prototype.addAnimator=function(r){this.animators.push(r)},e.prototype.removeAnimator=function(r){this.animators.splice(r,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(r){r===void 0&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),cO=40,J1=0,ey=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ty(e,r,t){t.name=r,t.target=e,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}function hO(e,r,t){if(t.bubbles){var n=void 0,i=!1;if(r==="mouseenter"?(n=t.fromShape,i=!0):r==="mouseleave"&&(i=!0,n=t.toShape),e.isCanvas()&&i)return;if(n&&f1(e,n)){t.bubbles=!1;return}t.name=r,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}}var dO=function(){function e(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var i=n.type;t._triggerEvent(i,n)},this._onDocumentMove=function(n){var i=t.canvas,o=i.get("el");if(o!==n.target&&(t.dragging||t.currentShape)){var a=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,a,t.draggingShape)}},this._onDocumentMouseUp=function(n){var i=t.canvas,o=i.get("el");if(o!==n.target&&t.dragging){var a=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,a,null),t._emitEvent("dragend",n,a,t.draggingShape),t._afterDrag(t.draggingShape,a,n)}},this.canvas=r.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");Ve(ey,function(n){t.addEventListener(n,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");Ve(ey,function(n){t.removeEventListener(n,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(r,t,n,i,o,a){var l=new _A(r,t);return l.fromShape=o,l.toShape=a,l.x=n.x,l.y=n.y,l.clientX=n.clientX,l.clientY=n.clientY,l.propagationPath.push(i),l},e.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},e.prototype._getPointInfo=function(r){var t=this.canvas,n=t.getClientByEvent(r),i=t.getPointByEvent(r);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(r,t){var n=this._getPointInfo(t),i=this._getShape(n,t),o=this["_on"+r],a=!1;if(o)o.call(this,n,i,t);else{var l=this.currentShape;r==="mouseenter"||r==="dragenter"||r==="mouseover"?(this._emitEvent(r,t,n,null,null,i),i&&this._emitEvent(r,t,n,i,null,i),r==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):r==="mouseleave"||r==="dragleave"||r==="mouseout"?(a=!0,l&&this._emitEvent(r,t,n,l,l,null),this._emitEvent(r,t,n,null,l,null),r==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(r,t,n,i,null,null)}if(a||(this.currentShape=i),i&&!i.get("destroyed")){var s=this.canvas,f=s.get("el");f.style.cursor=i.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(r,t,n){n.button===J1&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,r,t,null,null)},e.prototype._emitMouseoverEvents=function(r,t,n,i){var o=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",r,t,n,n,i),this._emitEvent("mouseleave",r,t,n,n,i),(!i||i.get("destroyed"))&&(o.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",r,t,i,n,i),this._emitEvent("mouseenter",r,t,i,n,i)))},e.prototype._emitDragoverEvents=function(r,t,n,i,o){i?(i!==n&&(n&&this._emitEvent("dragleave",r,t,n,n,i),this._emitEvent("dragenter",r,t,i,n,i)),o||this._emitEvent("dragover",r,t,i)):n&&this._emitEvent("dragleave",r,t,n,n,i),o&&this._emitEvent("dragover",r,t,i)},e.prototype._afterDrag=function(r,t,n){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(t,n);i!==r&&this._emitMouseoverEvents(n,t,r,i),this.currentShape=i},e.prototype._onmouseup=function(r,t,n){if(n.button===J1){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,r,t),this._emitEvent("dragend",n,r,i),this._afterDrag(i,r,n)):(this._emitEvent("mouseup",n,r,t),t===this.mousedownShape&&this._emitEvent("click",n,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(r,t,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,r,i,t,!0)},e.prototype._onmousemove=function(r,t,n){var i=this.canvas,o=this.currentShape,a=this.draggingShape;if(this.dragging)a&&this._emitDragoverEvents(n,r,o,t,!1),this._emitEvent("drag",n,r,a);else{var l=this.mousedownPoint;if(l){var s=this.mousedownShape,f=n.timeStamp,h=f-this.mousedownTimeStamp,d=l.clientX-r.clientX,v=l.clientY-r.clientY,g=d*d+v*v;h>120||g>cO?s&&s.get("draggable")?(a=this.mousedownShape,a.set("capture",!1),this.draggingShape=a,this.dragging=!0,this._emitEvent("dragstart",n,r,a),this.mousedownShape=null,this.mousedownPoint=null):!s&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,r,o,t),this._emitEvent("mousemove",n,r,t)):(this._emitMouseoverEvents(n,r,o,t),this._emitEvent("mousemove",n,r,t))}else this._emitMouseoverEvents(n,r,o,t),this._emitEvent("mousemove",n,r,t)}},e.prototype._emitEvent=function(r,t,n,i,o,a){var l=this._getEventObj(r,t,n,i,o,a);if(i){l.shape=i,ty(i,r,l);for(var s=i.getParent();s;)s.emitDelegation(r,l),l.propagationStopped||hO(s,r,l),l.propagationPath.push(s),s=s.getParent()}else{var f=this.canvas;ty(f,r,l)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),ry="px",ny=IA(),vO=ny&&ny.name==="firefox",pO=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");xn(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var n=this.get("container");n.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new dO({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new fO(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,n){var i=this.get("el");u1&&(i.style.width=t+ry,i.style.height=n+ry)},r.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");u1&&n&&(n.style.cursor=t)},r.prototype.getPointByEvent=function(t){var n=this.get("supportCSSTransform");if(n){if(vO&&!Mt(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Mt(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var i=this.getClientByEvent(t),o=i.x,a=i.y;return this.getPointByClient(o,a)},r.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(t.type==="touchend"?n=t.changedTouches[0]:n=t.touches[0]),{x:n.clientX,y:n.clientY}},r.prototype.getPointByClient=function(t,n){var i=this.get("el"),o=i.getBoundingClientRect();return{x:t-o.left,y:n-o.top}},r.prototype.getClientByPoint=function(t,n){var i=this.get("el"),o=i.getBoundingClientRect();return{x:t+o.left,y:n+o.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},r}(w1),gO=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var o=n[i];t.add(o.clone())}return t},r}(w1),yO=function(e){re(r,e);function r(t){return e.call(this,t)||this}return r.prototype._isInBBox=function(t,n){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=n&&i.maxY>=n},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),i=t.minX,o=t.minY,a=t.maxX,l=t.maxY;if(n){var s=Ro(n,[t.minX,t.minY]),f=Ro(n,[t.maxX,t.minY]),h=Ro(n,[t.minX,t.maxY]),d=Ro(n,[t.maxX,t.maxY]);i=Math.min(s[0],f[0],h[0],d[0]),a=Math.max(s[0],f[0],h[0],d[0]),o=Math.min(s[1],f[1],h[1],d[1]),l=Math.max(s[1],f[1],h[1],d[1])}var v=this.attrs;if(v.shadowColor){var g=v.shadowBlur,y=g===void 0?0:g,C=v.shadowOffsetX,_=C===void 0?0:C,w=v.shadowOffsetY,S=w===void 0?0:w,b=i-y+_,E=a+y+_,O=o-y+S,D=l+y+S;i=Math.min(i,b),a=Math.max(a,E),o=Math.min(o,O),l=Math.max(l,D)}return{x:i,y:o,minX:i,minY:o,maxX:a,maxY:l,width:a-i,height:l-o}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,n){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,n){var i=this.get("startArrowShape"),o=this.get("endArrowShape"),a=[t,n,1];a=this.invertFromMatrix(a);var l=a[0],s=a[1],f=this._isInBBox(l,s);return this.isOnlyHitBox()?f:!!(f&&!this.isClipped(l,s)&&(this.isInShape(l,s)||i&&i.isHit(l,s)||o&&o.isHit(l,s)))},r}(y1),iy=new Map;function Xn(e,r){iy.set(e,r)}function CO(e){return iy.get(e)}function oy(e){var r=e.attr(),t=r.x,n=r.y,i=r.width,o=r.height;return{x:t,y:n,width:i,height:o}}function ay(e){var r=e.attr(),t=r.x,n=r.y,i=r.r;return{x:t-i,y:n-i,width:i*2,height:i*2}}function Zt(e,r,t,n){var i=e-t,o=r-n;return Math.sqrt(i*i+o*o)}function xu(e,r){return Math.abs(e-r)<.001}function Ea(e,r){var t=Xi(e),n=Xi(r),i=Yi(e),o=Yi(r);return{x:t,y:n,width:i-t,height:o-n}}function Su(e){return(e+Math.PI*2)%(Math.PI*2)}var br={box:function(e,r,t,n){return Ea([e,t],[r,n])},length:function(e,r,t,n){return Zt(e,r,t,n)},pointAt:function(e,r,t,n,i){return{x:(1-i)*e+i*t,y:(1-i)*r+i*n}},pointDistance:function(e,r,t,n,i,o){var a=(t-e)*(i-e)+(n-r)*(o-r);if(a<0)return Zt(e,r,i,o);var l=(t-e)*(t-e)+(n-r)*(n-r);return a>l?Zt(t,n,i,o):this.pointToLine(e,r,t,n,i,o)},pointToLine:function(e,r,t,n,i,o){var a=[t-e,n-r];if(YA(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-r)*(o-r));var l=[-a[1],a[0]];GA(l,l);var s=[i-e,o-r];return Math.abs(UA(s,l))},tangentAngle:function(e,r,t,n){return Math.atan2(n-r,t-e)}},mO=1e-4;function ly(e,r,t,n,i,o){var a,l=1/0,s=[t,n],f=20;o&&o>200&&(f=o/10);for(var h=1/f,d=h/10,v=0;v<=f;v++){var g=v*h,y=[i.apply(null,e.concat([g])),i.apply(null,r.concat([g]))],C=Zt(s[0],s[1],y[0],y[1]);C<l&&(a=g,l=C)}if(a===0)return{x:e[0],y:r[0]};if(a===1){var _=e.length;return{x:e[_-1],y:r[_-1]}}l=1/0;for(var v=0;v<32&&!(d<mO);v++){var w=a-d,S=a+d,y=[i.apply(null,e.concat([w])),i.apply(null,r.concat([w]))],C=Zt(s[0],s[1],y[0],y[1]);if(w>=0&&C<l)a=w,l=C;else{var b=[i.apply(null,e.concat([S])),i.apply(null,r.concat([S]))],E=Zt(s[0],s[1],b[0],b[1]);S<=1&&E<l?(a=S,l=E):d*=.5}}return{x:i.apply(null,e.concat([a])),y:i.apply(null,r.concat([a]))}}function _O(e,r){for(var t=0,n=e.length,i=0;i<n;i++){var o=e[i],a=r[i],l=e[(i+1)%n],s=r[(i+1)%n];t+=Zt(o,a,l,s)}return t/2}function Ki(e,r,t,n){var i=1-n;return i*i*e+2*n*i*r+n*n*t}function sy(e,r,t){var n=e+t-2*r;if(xu(n,0))return[.5];var i=(e-r)/n;return i<=1&&i>=0?[i]:[]}function uy(e,r,t,n){return 2*(1-n)*(r-e)+2*n*(t-r)}function fy(e,r,t,n,i,o,a){var l=Ki(e,t,i,a),s=Ki(r,n,o,a),f=br.pointAt(e,r,t,n,a),h=br.pointAt(t,n,i,o,a);return[[e,r,f.x,f.y,l,s],[l,s,h.x,h.y,i,o]]}function Ah(e,r,t,n,i,o,a){if(a===0)return(Zt(e,r,t,n)+Zt(t,n,i,o)+Zt(e,r,i,o))/2;var l=fy(e,r,t,n,i,o,.5),s=l[0],f=l[1];return s.push(a-1),f.push(a-1),Ah.apply(null,s)+Ah.apply(null,f)}var cy={box:function(e,r,t,n,i,o){var a=sy(e,t,i)[0],l=sy(r,n,o)[0],s=[e,i],f=[r,o];return a!==void 0&&s.push(Ki(e,t,i,a)),l!==void 0&&f.push(Ki(r,n,o,l)),Ea(s,f)},length:function(e,r,t,n,i,o){return Ah(e,r,t,n,i,o,3)},nearestPoint:function(e,r,t,n,i,o,a,l){return ly([e,t,i],[r,n,o],a,l,Ki)},pointDistance:function(e,r,t,n,i,o,a,l){var s=this.nearestPoint(e,r,t,n,i,o,a,l);return Zt(s.x,s.y,a,l)},interpolationAt:Ki,pointAt:function(e,r,t,n,i,o,a){return{x:Ki(e,t,i,a),y:Ki(r,n,o,a)}},divide:function(e,r,t,n,i,o,a){return fy(e,r,t,n,i,o,a)},tangentAngle:function(e,r,t,n,i,o,a){var l=uy(e,t,i,a),s=uy(r,n,o,a),f=Math.atan2(s,l);return Su(f)}};function ji(e,r,t,n,i){var o=1-i;return o*o*o*e+3*r*i*o*o+3*t*i*i*o+n*i*i*i}function hy(e,r,t,n,i){var o=1-i;return 3*(o*o*(r-e)+2*o*i*(t-r)+i*i*(n-t))}function Rh(e,r,t,n){var i=-3*e+9*r-9*t+3*n,o=6*e-12*r+6*t,a=3*r-3*e,l=[],s,f,h;if(xu(i,0))xu(o,0)||(s=-a/o,s>=0&&s<=1&&l.push(s));else{var d=o*o-4*i*a;xu(d,0)?l.push(-o/(2*i)):d>0&&(h=Math.sqrt(d),s=(-o+h)/(2*i),f=(-o-h)/(2*i),s>=0&&s<=1&&l.push(s),f>=0&&f<=1&&l.push(f))}return l}function dy(e,r,t,n,i,o,a,l,s){var f=ji(e,t,i,a,s),h=ji(r,n,o,l,s),d=br.pointAt(e,r,t,n,s),v=br.pointAt(t,n,i,o,s),g=br.pointAt(i,o,a,l,s),y=br.pointAt(d.x,d.y,v.x,v.y,s),C=br.pointAt(v.x,v.y,g.x,g.y,s);return[[e,r,d.x,d.y,y.x,y.y,f,h],[f,h,C.x,C.y,g.x,g.y,a,l]]}function Oh(e,r,t,n,i,o,a,l,s){if(s===0)return _O([e,t,i,a],[r,n,o,l]);var f=dy(e,r,t,n,i,o,a,l,.5),h=f[0],d=f[1];return h.push(s-1),d.push(s-1),Oh.apply(null,h)+Oh.apply(null,d)}var Il={extrema:Rh,box:function(e,r,t,n,i,o,a,l){for(var s=[e,a],f=[r,l],h=Rh(e,t,i,a),d=Rh(r,n,o,l),v=0;v<h.length;v++)s.push(ji(e,t,i,a,h[v]));for(var v=0;v<d.length;v++)f.push(ji(r,n,o,l,d[v]));return Ea(s,f)},length:function(e,r,t,n,i,o,a,l){return Oh(e,r,t,n,i,o,a,l,3)},nearestPoint:function(e,r,t,n,i,o,a,l,s,f,h){return ly([e,t,i,a],[r,n,o,l],s,f,ji,h)},pointDistance:function(e,r,t,n,i,o,a,l,s,f,h){var d=this.nearestPoint(e,r,t,n,i,o,a,l,s,f,h);return Zt(d.x,d.y,s,f)},interpolationAt:ji,pointAt:function(e,r,t,n,i,o,a,l,s){return{x:ji(e,t,i,a,s),y:ji(r,n,o,l,s)}},divide:function(e,r,t,n,i,o,a,l,s){return dy(e,r,t,n,i,o,a,l,s)},tangentAngle:function(e,r,t,n,i,o,a,l,s){var f=hy(e,t,i,a,s),h=hy(r,n,o,l,s);return Su(Math.atan2(h,f))}};function vy(e,r){var t=Math.abs(e);return r>0?t:t*-1}var wO={box:function(e,r,t,n){return{x:e-t,y:r-n,width:t*2,height:n*2}},length:function(e,r,t,n){return Math.PI*(3*(t+n)-Math.sqrt((3*t+n)*(t+3*n)))},nearestPoint:function(e,r,t,n,i,o){var a=t,l=n;if(a===0||l===0)return{x:e,y:r};for(var s=i-e,f=o-r,h=Math.abs(s),d=Math.abs(f),v=a*a,g=l*l,y=Math.PI/4,C,_,w=0;w<4;w++){C=a*Math.cos(y),_=l*Math.sin(y);var S=(v-g)*Math.pow(Math.cos(y),3)/a,b=(g-v)*Math.pow(Math.sin(y),3)/l,E=C-S,O=_-b,D=h-S,F=d-b,H=Math.hypot(O,E),k=Math.hypot(F,D),q=H*Math.asin((E*F-O*D)/(H*k)),V=q/Math.sqrt(v+g-C*C-_*_);y+=V,y=Math.min(Math.PI/2,Math.max(0,y))}return{x:e+vy(C,s),y:r+vy(_,f)}},pointDistance:function(e,r,t,n,i,o){var a=this.nearestPoint(e,r,t,n,i,o);return Zt(a.x,a.y,i,o)},pointAt:function(e,r,t,n,i){var o=2*Math.PI*i;return{x:e+t*Math.cos(o),y:r+n*Math.sin(o)}},tangentAngle:function(e,r,t,n,i){var o=2*Math.PI*i,a=Math.atan2(n*Math.cos(o),-t*Math.sin(o));return Su(a)}};function xO(e,r,t,n,i,o,a,l){return-1*t*Math.cos(i)*Math.sin(l)-n*Math.sin(i)*Math.cos(l)}function SO(e,r,t,n,i,o,a,l){return-1*t*Math.sin(i)*Math.sin(l)+n*Math.cos(i)*Math.cos(l)}function bO(e,r,t){return Math.atan(-r/e*Math.tan(t))}function TO(e,r,t){return Math.atan(r/(e*Math.tan(t)))}function py(e,r,t,n,i,o){return t*Math.cos(i)*Math.cos(o)-n*Math.sin(i)*Math.sin(o)+e}function gy(e,r,t,n,i,o){return t*Math.sin(i)*Math.cos(o)+n*Math.cos(i)*Math.sin(o)+r}function EO(e,r,t,n){var i=Math.atan2(n*e,t*r);return(i+Math.PI*2)%(Math.PI*2)}function yy(e,r,t){return{x:e*Math.cos(t),y:r*Math.sin(t)}}function Cy(e,r,t){var n=Math.cos(t),i=Math.sin(t);return[e*n-r*i,e*i+r*n]}var LO={box:function(e,r,t,n,i,o,a){for(var l=bO(t,n,i),s=1/0,f=-1/0,h=[o,a],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var v=l+d;o<a?o<v&&v<a&&h.push(v):a<v&&v<o&&h.push(v)}for(var d=0;d<h.length;d++){var g=py(e,r,t,n,i,h[d]);g<s&&(s=g),g>f&&(f=g)}for(var y=TO(t,n,i),C=1/0,_=-1/0,w=[o,a],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var S=y+d;o<a?o<S&&S<a&&w.push(S):a<S&&S<o&&w.push(S)}for(var d=0;d<w.length;d++){var b=gy(e,r,t,n,i,w[d]);b<C&&(C=b),b>_&&(_=b)}return{x:s,y:C,width:f-s,height:_-C}},length:function(e,r,t,n,i,o,a){},nearestPoint:function(e,r,t,n,i,o,a,l,s){var f=Cy(l-e,s-r,-i),h=f[0],d=f[1],v=wO.nearestPoint(0,0,t,n,h,d),g=EO(t,n,v.x,v.y);g<o?v=yy(t,n,o):g>a&&(v=yy(t,n,a));var y=Cy(v.x,v.y,i);return{x:y[0]+e,y:y[1]+r}},pointDistance:function(e,r,t,n,i,o,a,l,s){var f=this.nearestPoint(e,r,t,n,l,s);return Zt(f.x,f.y,l,s)},pointAt:function(e,r,t,n,i,o,a,l){var s=(a-o)*l+o;return{x:py(e,r,t,n,i,s),y:gy(e,r,t,n,i,s)}},tangentAngle:function(e,r,t,n,i,o,a,l){var s=(a-o)*l+o,f=xO(e,r,t,n,i,o,a,s),h=SO(e,r,t,n,i,o,a,s);return Su(Math.atan2(h,f))}};function my(e){for(var r=0,t=[],n=0;n<e.length-1;n++){var i=e[n],o=e[n+1],a=Zt(i[0],i[1],o[0],o[1]),l={from:i,to:o,length:a};t.push(l),r+=a}return{segments:t,totalLength:r}}function AO(e){if(e.length<2)return 0;for(var r=0,t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];r+=Zt(n[0],n[1],i[0],i[1])}return r}function RO(e,r){if(r>1||r<0||e.length<2)return null;var t=my(e),n=t.segments,i=t.totalLength;if(i===0)return{x:e[0][0],y:e[0][1]};for(var o=0,a=null,l=0;l<n.length;l++){var s=n[l],f=s.from,h=s.to,d=s.length/i;if(r>=o&&r<=o+d){var v=(r-o)/d;a=br.pointAt(f[0],f[1],h[0],h[1],v);break}o+=d}return a}function OO(e,r){if(r>1||r<0||e.length<2)return 0;for(var t=my(e),n=t.segments,i=t.totalLength,o=0,a=0,l=0;l<n.length;l++){var s=n[l],f=s.from,h=s.to,d=s.length/i;if(r>=o&&r<=o+d){a=Math.atan2(h[1]-f[1],h[0]-f[0]);break}o+=d}return a}function IO(e,r,t){for(var n=1/0,i=0;i<e.length-1;i++){var o=e[i],a=e[i+1],l=br.pointDistance(o[0],o[1],a[0],a[1],r,t);l<n&&(n=l)}return n}var MO={box:function(e){for(var r=[],t=[],n=0;n<e.length;n++){var i=e[n];r.push(i[0]),t.push(i[1])}return Ea(r,t)},length:function(e){return AO(e)},pointAt:function(e,r){return RO(e,r)},pointDistance:function(e,r,t){return IO(e,r,t)},tangentAngle:function(e,r){return OO(e,r)}};function _y(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function Ih(e,r){var t=e.get("startArrowShape"),n=e.get("endArrowShape"),i=null,o=null;return t&&(i=t.getCanvasBBox(),r=_y(r,i)),n&&(o=n.getCanvasBBox(),r=_y(r,o)),r}function BO(e){for(var r=e.attr(),t=r.points,n=[],i=[],o=0;o<t.length;o++){var a=t[o];n.push(a[0]),i.push(a[1])}var l=Ea(n,i),s=l.x,f=l.y,h=l.width,d=l.height,v={minX:s,minY:f,maxX:s+h,maxY:f+d};return v=Ih(e,v),{x:v.minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}}function DO(e){for(var r=e.attr(),t=r.points,n=[],i=[],o=0;o<t.length;o++){var a=t[o];n.push(a[0]),i.push(a[1])}return Ea(n,i)}var Mh=null;function wy(){if(!Mh){var e=document.createElement("canvas");e.width=1,e.height=1,Mh=e.getContext("2d")}return Mh}function xy(e,r,t){var n=1;if(xn(e)&&(n=e.split(`
`).length),n>1){var i=$O(r,t);return r*n+i*(n-1)}return r}function $O(e,r){return r?r-e:e*.14}function FO(e,r){var t=wy(),n=0;if(Mt(e)||e==="")return n;if(t.save(),t.font=r,xn(e)&&e.includes(`
`)){var i=e.split(`
`);Ve(i,function(o){var a=t.measureText(o).width;n<a&&(n=a)})}else n=t.measureText(e).width;return t.restore(),n}function Sy(e){var r=e.fontSize,t=e.fontFamily,n=e.fontWeight,i=e.fontStyle,o=e.fontVariant;return[i,o,n,r+"px",t].join(" ").trim()}function PO(e){var r=e.attr(),t=r.x,n=r.y,i=r.text,o=r.fontSize,a=r.lineHeight,l=r.font;l||(l=Sy(r));var s=FO(i,l),f;if(!s)f={x:t,y:n,width:0,height:0};else{var h=r.textAlign,d=r.textBaseline,v=xy(i,o,a),g={x:t,y:n-v};h&&(h==="end"||h==="right"?g.x-=s:h==="center"&&(g.x-=s/2)),d&&(d==="top"?g.y+=v:d==="middle"&&(g.y+=v/2)),f={x:g.x,y:g.y,width:s,height:v}}return f}var NO=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,HO=/[^\s\,]+/ig;function zO(e){var r=e||[];if(en(r))return r;if(xn(r))return r=r.match(NO),Ve(r,function(t,n){if(t=t.match(HO),t[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}Ve(t,function(o,a){isNaN(o)||(t[a]=+o)}),r[n]=t}),r}var Ml=`	
\v\f\r   ᠎             　\u2028\u2029`,kO=new RegExp("([a-z])["+Ml+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ml+"]*,?["+Ml+"]*)+)","ig"),WO=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ml+"]*,?["+Ml+"]*","ig");function GO(e){if(!e)return null;if(en(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(kO,function(n,i,o){var a=[],l=i.toLowerCase();if(o.replace(WO,function(s,f){f&&a.push(+f)}),l==="m"&&a.length>2&&(t.push([i].concat(a.splice(0,2))),l="l",i=i==="m"?"l":"L"),l==="o"&&a.length===1&&t.push([i,a[0]]),l==="r")t.push([i].concat(a));else for(;a.length>=r[l]&&(t.push([i].concat(a.splice(0,r[l]))),!!r[l]););return""}),t}var UO=/[a-z]/;function by(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function Ty(e){var r=GO(e);if(!r||!r.length)return[["M",0,0]];for(var t=!1,n=0;n<r.length;n++){var i=r[n][0];if(UO.test(i)||["V","H","T","S"].indexOf(i)>=0){t=!0;break}}if(!t)return r;var o=[],a=0,l=0,s=0,f=0,h=0,d=r[0];(d[0]==="M"||d[0]==="m")&&(a=+d[1],l=+d[2],s=a,f=l,h++,o[0]=["M",a,l]);for(var n=h,v=r.length;n<v;n++){var g=r[n],y=o[n-1],C=[],i=g[0],_=i.toUpperCase();if(i!==_)switch(C[0]=_,_){case"A":C[1]=g[1],C[2]=g[2],C[3]=g[3],C[4]=g[4],C[5]=g[5],C[6]=+g[6]+a,C[7]=+g[7]+l;break;case"V":C[1]=+g[1]+l;break;case"H":C[1]=+g[1]+a;break;case"M":s=+g[1]+a,f=+g[2]+l,C[1]=s,C[2]=f;break;default:for(var w=1,S=g.length;w<S;w++)C[w]=+g[w]+(w%2?a:l)}else C=r[n];switch(_){case"Z":a=+s,l=+f;break;case"H":a=C[1],C=["L",a,l];break;case"V":l=C[1],C=["L",a,l];break;case"T":a=C[1],l=C[2];var b=by([y[1],y[2]],[y[3],y[4]]);C=["Q",b[0],b[1],a,l];break;case"S":a=C[C.length-2],l=C[C.length-1];var E=y.length,O=by([y[E-4],y[E-3]],[y[E-2],y[E-1]]);C=["C",O[0],O[1],C[1],C[2],a,l];break;case"M":s=C[C.length-2],f=C[C.length-1];break;default:a=C[C.length-2],l=C[C.length-1]}o.push(C)}return o}function bu(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Bh(e,r){return bu(e)*bu(r)?(e[0]*r[0]+e[1]*r[1])/(bu(e)*bu(r)):1}function Ey(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(Bh(e,r))}function Dh(e,r){return e[0]===r[0]&&e[1]===r[1]}function YO(e,r){var t=r[1],n=r[2],i=qg(Kg(r[3]),Math.PI*2),o=r[4],a=r[5],l=e[0],s=e[1],f=r[6],h=r[7],d=Math.cos(i)*(l-f)/2+Math.sin(i)*(s-h)/2,v=-1*Math.sin(i)*(l-f)/2+Math.cos(i)*(s-h)/2,g=d*d/(t*t)+v*v/(n*n);g>1&&(t*=Math.sqrt(g),n*=Math.sqrt(g));var y=t*t*(v*v)+n*n*(d*d),C=y?Math.sqrt((t*t*(n*n)-y)/y):1;o===a&&(C*=-1),isNaN(C)&&(C=0);var _=n?C*t*v/n:0,w=t?C*-n*d/t:0,S=(l+f)/2+Math.cos(i)*_-Math.sin(i)*w,b=(s+h)/2+Math.sin(i)*_+Math.cos(i)*w,E=[(d-_)/t,(v-w)/n],O=[(-1*d-_)/t,(-1*v-w)/n],D=Ey([1,0],E),F=Ey(E,O);return Bh(E,O)<=-1&&(F=Math.PI),Bh(E,O)>=1&&(F=0),a===0&&F>0&&(F=F-2*Math.PI),a===1&&F<0&&(F=F+2*Math.PI),{cx:S,cy:b,rx:Dh(e,[f,h])?0:t,ry:Dh(e,[f,h])?0:n,startAngle:D,endAngle:D+F,xRotation:i,arcFlag:o,sweepFlag:a}}function Ly(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function Ay(e){e=zO(e);for(var r=[],t=null,n=null,i=null,o=0,a=e.length,l=0;l<a;l++){var s=e[l];n=e[l+1];var f=s[0],h={command:f,prePoint:t,params:s,startTangent:null,endTangent:null};switch(f){case"M":i=[s[1],s[2]],o=l;break;case"A":var d=YO(t,s);h.arcParams=d;break}if(f==="Z")t=i,n=e[o+1];else{var v=s.length;t=[s[v-2],s[v-1]]}n&&n[0]==="Z"&&(n=e[o],r[o]&&(r[o].prePoint=t)),h.currentPoint=t,r[o]&&Dh(t,r[o].currentPoint)&&(r[o].prePoint=h.prePoint);var g=n?[n[n.length-2],n[n.length-1]]:null;h.nextPoint=g;var y=h.prePoint;if(["L","H","V"].includes(f))h.startTangent=[y[0]-t[0],y[1]-t[1]],h.endTangent=[t[0]-y[0],t[1]-y[1]];else if(f==="Q"){var C=[s[1],s[2]];h.startTangent=[y[0]-C[0],y[1]-C[1]],h.endTangent=[t[0]-C[0],t[1]-C[1]]}else if(f==="T"){var _=r[l-1],C=Ly(_.currentPoint,y);_.command==="Q"?(h.command="Q",h.startTangent=[y[0]-C[0],y[1]-C[1]],h.endTangent=[t[0]-C[0],t[1]-C[1]]):(h.command="TL",h.startTangent=[y[0]-t[0],y[1]-t[1]],h.endTangent=[t[0]-y[0],t[1]-y[1]])}else if(f==="C"){var w=[s[1],s[2]],S=[s[3],s[4]];h.startTangent=[y[0]-w[0],y[1]-w[1]],h.endTangent=[t[0]-S[0],t[1]-S[1]],h.startTangent[0]===0&&h.startTangent[1]===0&&(h.startTangent=[w[0]-S[0],w[1]-S[1]]),h.endTangent[0]===0&&h.endTangent[1]===0&&(h.endTangent=[S[0]-w[0],S[1]-w[1]])}else if(f==="S"){var _=r[l-1],w=Ly(_.currentPoint,y),S=[s[1],s[2]];_.command==="C"?(h.command="C",h.startTangent=[y[0]-w[0],y[1]-w[1]],h.endTangent=[t[0]-S[0],t[1]-S[1]]):(h.command="SQ",h.startTangent=[y[0]-S[0],y[1]-S[1]],h.endTangent=[t[0]-S[0],t[1]-S[1]])}else if(f==="A"){var b=.001,E=h.arcParams||{},O=E.cx,D=O===void 0?0:O,F=E.cy,H=F===void 0?0:F,k=E.rx,q=k===void 0?0:k,V=E.ry,Q=V===void 0?0:V,ie=E.sweepFlag,ue=ie===void 0?0:ie,K=E.startAngle,te=K===void 0?0:K,Re=E.endAngle,me=Re===void 0?0:Re;ue===0&&(b*=-1);var we=q*Math.cos(te-b)+D,ke=Q*Math.sin(te-b)+H;h.startTangent=[we-i[0],ke-i[1]];var Ae=q*Math.cos(te+me+b)+D,qe=Q*Math.sin(te+me-b)+H;h.endTangent=[y[0]-Ae,y[1]-qe]}r.push(h)}return r}function XO(e,r){for(var t=[],n=[],i=[],o=0;o<e.length;o++){var a=e[o],l=a.currentPoint,s=a.params,f=a.prePoint,h=void 0;switch(a.command){case"Q":h=cy.box(f[0],f[1],s[1],s[2],s[3],s[4]);break;case"C":h=Il.box(f[0],f[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var d=a.arcParams;h=LO.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:t.push(l[0]),n.push(l[1]);break}h&&(a.box=h,t.push(h.x,h.x+h.width),n.push(h.y,h.y+h.height)),r&&(a.command==="L"||a.command==="M")&&a.prePoint&&a.nextPoint&&i.push(a)}t=t.filter(function(w){return!Number.isNaN(w)&&w!==1/0&&w!==-1/0}),n=n.filter(function(w){return!Number.isNaN(w)&&w!==1/0&&w!==-1/0});var v=Xi(t),g=Xi(n),y=Yi(t),C=Yi(n);if(i.length===0)return{x:v,y:g,width:y-v,height:C-g};for(var o=0;o<i.length;o++){var a=i[o],l=a.currentPoint,_=void 0;l[0]===v?(_=Tu(a,r),v=v-_.xExtra):l[0]===y&&(_=Tu(a,r),y=y+_.xExtra),l[1]===g?(_=Tu(a,r),g=g-_.yExtra):l[1]===C&&(_=Tu(a,r),C=C+_.yExtra)}return{x:v,y:g,width:y-v,height:C-g}}function Tu(e,r){var t=e.prePoint,n=e.currentPoint,i=e.nextPoint,o=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),a=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),s=Math.acos((o+a-l)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!s||Math.sin(s)===0||qL(s,0))return{xExtra:0,yExtra:0};var f=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),h=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));f=f>Math.PI/2?Math.PI-f:f,h=h>Math.PI/2?Math.PI-h:h;var d={xExtra:Math.cos(s/2-f)*(r/2*(1/Math.sin(s/2)))-r/2||0,yExtra:Math.cos(h-s/2)*(r/2*(1/Math.sin(s/2)))-r/2||0};return d}function VO(e){var r=e.attr(),t=r.path,n=r.stroke,i=n?r.lineWidth:0,o=e.get("segments")||Ay(t),a=XO(o,i),l=a.x,s=a.y,f=a.width,h=a.height,d={minX:l,minY:s,maxX:l+f,maxY:s+h};return d=Ih(e,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function qO(e){var r=e.attr(),t=r.x1,n=r.y1,i=r.x2,o=r.y2,a=Math.min(t,i),l=Math.max(t,i),s=Math.min(n,o),f=Math.max(n,o),h={minX:a,maxX:l,minY:s,maxY:f};return h=Ih(e,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function KO(e){var r=e.attr(),t=r.x,n=r.y,i=r.rx,o=r.ry;return{x:t-i,y:n-o,width:i*2,height:o*2}}Xn("rect",oy),Xn("image",oy),Xn("circle",ay),Xn("marker",ay),Xn("polyline",BO),Xn("polygon",DO),Xn("text",PO),Xn("path",VO),Xn("line",qO),Xn("ellipse",KO);function jO(){return window?window.devicePixelRatio:1}function Ry(e,r,t,n){var i=e-t,o=r-n;return Math.sqrt(i*i+o*o)}function Bo(e,r,t,n,i,o){return i>=e&&i<=e+t&&o>=r&&o<=r+n}function Bl(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function ZO(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function Oy(e,r){return e[0]===r[0]&&e[1]===r[1]}var QO=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,JO=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,eI=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Iy=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function My(e,r){var t=e.match(Iy);Ve(t,function(n){var i=n.split(":");r.addColorStop(i[0],i[1])})}function tI(e,r,t){var n=QO.exec(t),i=parseFloat(n[1])%360*(Math.PI/180),o=n[2],a=r.getBBox(),l,s;i>=0&&i<1/2*Math.PI?(l={x:a.minX,y:a.minY},s={x:a.maxX,y:a.maxY}):1/2*Math.PI<=i&&i<Math.PI?(l={x:a.maxX,y:a.minY},s={x:a.minX,y:a.maxY}):Math.PI<=i&&i<3/2*Math.PI?(l={x:a.maxX,y:a.maxY},s={x:a.minX,y:a.minY}):(l={x:a.minX,y:a.maxY},s={x:a.maxX,y:a.minY});var f=Math.tan(i),h=f*f,d=(s.x-l.x+f*(s.y-l.y))/(h+1)+l.x,v=f*(s.x-l.x+f*(s.y-l.y))/(h+1)+l.y,g=e.createLinearGradient(l.x,l.y,d,v);return My(o,g),g}function rI(e,r,t){var n=JO.exec(t),i=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),l=n[4];if(a===0){var s=l.match(Iy);return s[s.length-1].split(":")[1]}var f=r.getBBox(),h=f.maxX-f.minX,d=f.maxY-f.minY,v=Math.sqrt(h*h+d*d)/2,g=e.createRadialGradient(f.minX+h*i,f.minY+d*o,0,f.minX+h/2,f.minY+d/2,a*v);return My(l,g),g}function nI(e,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var n,i,o=eI.exec(t),a=o[1],l=o[2];function s(){n=e.createPattern(i,a),r.set("pattern",n),r.set("patternSource",t)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,l.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=l,i.complete?s():(i.onload=s,i.src=i.src),n}function iI(e,r,t){var n=r.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if(xn(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return tI(e,r,t);if(t[0]==="r")return rI(e,r,t);if(t[0]==="p")return nI(e,r,t)}return t}if(t instanceof CanvasPattern)return t}function oI(e){var r=0,t=0,n=0,i=0;return en(e)?e.length===1?r=t=n=i=e[0]:e.length===2?(r=n=e[0],t=i=e[1]):e.length===3?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,[r,t,n,i]}function Eu(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function $h(e,r){return Eu(e)*Eu(r)?(e[0]*r[0]+e[1]*r[1])/(Eu(e)*Eu(r)):1}function By(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos($h(e,r))}function Dy(e,r){var t=r[1],n=r[2],i=qg(Kg(r[3]),Math.PI*2),o=r[4],a=r[5],l=e[0],s=e[1],f=r[6],h=r[7],d=Math.cos(i)*(l-f)/2+Math.sin(i)*(s-h)/2,v=-1*Math.sin(i)*(l-f)/2+Math.cos(i)*(s-h)/2,g=d*d/(t*t)+v*v/(n*n);g>1&&(t*=Math.sqrt(g),n*=Math.sqrt(g));var y=t*t*(v*v)+n*n*(d*d),C=y?Math.sqrt((t*t*(n*n)-y)/y):1;o===a&&(C*=-1),isNaN(C)&&(C=0);var _=n?C*t*v/n:0,w=t?C*-n*d/t:0,S=(l+f)/2+Math.cos(i)*_-Math.sin(i)*w,b=(s+h)/2+Math.sin(i)*_+Math.cos(i)*w,E=[(d-_)/t,(v-w)/n],O=[(-1*d-_)/t,(-1*v-w)/n],D=By([1,0],E),F=By(E,O);return $h(E,O)<=-1&&(F=Math.PI),$h(E,O)>=1&&(F=0),a===0&&F>0&&(F=F-2*Math.PI),a===1&&F<0&&(F=F+2*Math.PI),{cx:S,cy:b,rx:Oy(e,[f,h])?0:t,ry:Oy(e,[f,h])?0:n,startAngle:D,endAngle:D+F,xRotation:i,arcFlag:o,sweepFlag:a}}var Lu=Math.sin,Au=Math.cos,Fh=Math.atan2,Ru=Math.PI;function $y(e,r,t,n,i,o,a){var l=r.stroke,s=r.lineWidth,f=t-i,h=n-o,d=Fh(h,f),v=new Uh({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Au(Ru/6)+","+10*Lu(Ru/6)+" L0,0 L"+10*Au(Ru/6)+",-"+10*Lu(Ru/6),stroke:l,lineWidth:s}});v.translate(i,o),v.rotateAtPoint(i,o,d),e.set(a?"startArrowShape":"endArrowShape",v)}function Fy(e,r,t,n,i,o,a){var l=r.startArrow,s=r.endArrow,f=r.stroke,h=r.lineWidth,d=a?l:s,v=d.d,g=d.fill,y=d.stroke,C=d.lineWidth,_=ru(d,["d","fill","stroke","lineWidth"]),w=t-i,S=n-o,b=Fh(S,w);v&&(i=i-Au(b)*v,o=o-Lu(b)*v);var E=new Uh({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:B(B({},_),{stroke:y||f,lineWidth:C||h,fill:g})});E.translate(i,o),E.rotateAtPoint(i,o,b),e.set(a?"startArrowShape":"endArrowShape",E)}function Do(e,r,t,n,i){var o=Fh(n-r,t-e);return{dx:Au(o)*i,dy:Lu(o)*i}}function Ph(e,r,t,n,i,o){typeof r.startArrow=="object"?Fy(e,r,t,n,i,o,!0):r.startArrow?$y(e,r,t,n,i,o,!0):e.set("startArrowShape",null)}function Nh(e,r,t,n,i,o){typeof r.endArrow=="object"?Fy(e,r,t,n,i,o,!1):r.endArrow?$y(e,r,t,n,i,o,!1):e.set("startArrowShape",null)}var Py={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function La(e,r){var t=r.attr();for(var n in t){var i=t[n],o=Py[n]?Py[n]:n;o==="matrix"&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):o==="lineDash"&&e.setLineDash?en(i)&&e.setLineDash(i):(o==="strokeStyle"||o==="fillStyle"?i=iI(e,r,i):o==="globalAlpha"&&(i=i*e.globalAlpha),e[o]=i)}}function Hh(e,r,t){for(var n=0;n<r.length;n++){var i=r[n];i.cfg.visible?i.draw(e,t):i.skipDraw()}}function aI(e,r,t){var n=e.get("refreshElements");Ve(n,function(i){if(i!==e)for(var o=i.cfg.parent;o&&o!==e&&!o.cfg.refresh;)o.cfg.refresh=!0,o=o.cfg.parent}),n[0]===e?kh(r):zh(r,t)}function zh(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&kh(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&zh(n.cfg.children,r);else{var i=lI(n,r);n.cfg.refresh=i,i&&n.isGroup()&&zh(n.cfg.children,r)}}}function Ny(e){for(var r=0;r<e.length;r++){var t=e[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&Ny(t.cfg.children)}}function kh(e,r){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&kh(n.get("children")))}}function lI(e,r){var t=e.cfg.cacheCanvasBBox,n=e.cfg.isInView&&t&&Bl(t,r);return n}function Hy(e,r,t,n){var i=t.path,o=t.startArrow,a=t.endArrow;if(i){var l=[0,0],s=[0,0],f={dx:0,dy:0};r.beginPath();for(var h=0;h<i.length;h++){var d=i[h],v=d[0];if(h===0&&o&&o.d){var g=e.getStartTangent();f=Do(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}else if(h===i.length-2&&i[h+1][0]==="Z"&&a&&a.d){var y=i[h+1];if(y[0]==="Z"){var g=e.getEndTangent();f=Do(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}}else if(h===i.length-1&&a&&a.d&&i[0]!=="Z"){var g=e.getEndTangent();f=Do(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}var C=f.dx,_=f.dy;switch(v){case"M":r.moveTo(d[1]-C,d[2]-_),s=[d[1],d[2]];break;case"L":r.lineTo(d[1]-C,d[2]-_);break;case"Q":r.quadraticCurveTo(d[1],d[2],d[3]-C,d[4]-_);break;case"C":r.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-C,d[6]-_);break;case"A":{var w=void 0;n?(w=n[h],w||(w=Dy(l,d),n[h]=w)):w=Dy(l,d);var S=w.cx,b=w.cy,E=w.rx,O=w.ry,D=w.startAngle,F=w.endAngle,H=w.xRotation,k=w.sweepFlag;if(r.ellipse)r.ellipse(S,b,E,O,H,D,F,1-k);else{var q=E>O?E:O,V=E>O?1:E/O,Q=E>O?O/E:1;r.translate(S,b),r.rotate(H),r.scale(V,Q),r.arc(0,0,q,D,F,1-k),r.scale(1/V,1/Q),r.rotate(-H),r.translate(-S,-b)}break}case"Z":r.closePath();break}if(v==="Z")l=s;else{var ie=d.length;l=[d[ie-2],d[ie-1]]}}}}function zy(e,r){var t=e.get("canvas");t&&(r==="remove"&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(t.refreshElement(e,r,t),t.get("autoDraw")&&t.draw())))}function sI(e){var r;if(e.destroyed)r=e._cacheCanvasBBox;else{var t=e.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),i=e.getCanvasBBox(),o=i&&!!(i.width&&i.height);n&&o?r=ZO(t,i):n?r=t:o&&(r=i)}return r}function uI(e){if(!e.length)return null;var r=[],t=[],n=[],i=[];return Ve(e,function(o){var a=sI(o);a&&(r.push(a.minX),t.push(a.minY),n.push(a.maxX),i.push(a.maxY))}),{minX:Xi(r),minY:Xi(t),maxX:Yi(n),maxY:Yi(i)}}function fI(e,r){return!e||!r||!Bl(e,r)?null:{minX:Math.max(e.minX,r.minX),minY:Math.max(e.minY,r.minY),maxX:Math.min(e.maxX,r.maxX),maxY:Math.min(e.maxY,r.maxY)}}var Vn=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){zy(this,t)},r.prototype.getShapeBase=function(){return th},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,n){n&&(t.save(),La(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],i=[];Ve(t,function(v){var g=v.cfg.cacheCanvasBBox;g&&v.cfg.isInView&&(n.push(g.minX,g.maxX),i.push(g.minY,g.maxY))});var o=null;if(n.length){var a=Xi(n),l=Yi(n),s=Xi(i),f=Yi(i);o={minX:a,minY:s,x:a,y:s,maxX:l,maxY:f,width:l-a,height:f-s};var h=this.cfg.canvas;if(h){var d=h.getViewRange();this.set("isInView",Bl(o,d))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",o)},r.prototype.draw=function(t,n){var i=this.cfg.children,o=n?this.cfg.refresh:!0;i.length&&o&&(t.save(),La(t,this),this._applyClip(t,this.getClip()),Hh(t,i,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(gO),cI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return th},r.prototype.getGroupBase=function(){return Vn},r.prototype.onCanvasChange=function(t){zy(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),i=CO(t),o=i(this),a=n/2,l=o.x-a,s=o.y-a,f=o.x+o.width+a,h=o.y+o.height+a;return{x:l,minX:l,y:s,minY:s,width:o.width+n,height:o.height+n,maxX:f,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,n){n&&(t.save(),La(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.draw=function(t,n){var i=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var o=this.getCanvasBBox();if(!Bl(n,o)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),La(t,this),this._applyClip(t,i),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),i=Bl(n,t);this.set("isInView",i),i?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,o=n.opacity,a=n.strokeOpacity,l=n.fillOpacity;this.isFill()&&(!Mt(l)&&l!==1?(t.globalAlpha=l,this.fill(t),t.globalAlpha=o):this.fill(t)),this.isStroke()&&i>0&&(!Mt(a)&&a!==1&&(t.globalAlpha=a),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,n){var i=this.isStroke(),o=this.isFill(),a=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,i,o,a)},r.prototype.isInStrokeOrPath=function(t,n,i,o,a){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(yO),bn=cI,hI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,n,i,o,a){var l=this.attr(),s=l.x,f=l.y,h=l.r,d=a/2,v=Ry(s,f,t,n);return o&&i?v<=h+d:o?v<=h:i?v>=h-d&&v<=h+d:!1},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,o=n.y,a=n.r;t.beginPath(),t.arc(i,o,a,0,Math.PI*2,!1),t.closePath()},r}(bn),dI=hI;function Ou(e,r,t,n){return e/(t*t)+r/(n*n)}var vI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,n,i,o,a){var l=this.attr(),s=a/2,f=l.x,h=l.y,d=l.rx,v=l.ry,g=(t-f)*(t-f),y=(n-h)*(n-h);return o&&i?Ou(g,y,d+s,v+s)<=1:o?Ou(g,y,d,v)<=1:i?Ou(g,y,d-s,v-s)>=1&&Ou(g,y,d+s,v+s)<=1:!1},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,o=n.y,a=n.rx,l=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(i,o,a,l,0,0,Math.PI*2,!1);else{var s=a>l?a:l,f=a>l?1:a/l,h=a>l?l/a:1;t.save(),t.translate(i,o),t.scale(f,h),t.arc(0,0,s,0,Math.PI*2),t.restore(),t.closePath()}},r}(bn),pI=vI;function ky(e){return e instanceof HTMLElement&&xn(e.nodeName)&&e.nodeName.toUpperCase()==="CANVAS"}var gI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var n=this,i=this.attrs;if(xn(t)){var o=new Image;o.onload=function(){if(n.destroyed)return!1;n.attr("img",o),n.set("loading",!1),n._afterLoading();var a=n.get("callback");a&&a.call(n)},o.crossOrigin="Anonymous",o.src=t,this.set("loading",!0)}else t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):ky(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||(i.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t==="img"&&this._setImage(n)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),i=n.x,o=n.y,a=n.width,l=n.height,s=n.sx,f=n.sy,h=n.swidth,d=n.sheight,v=n.img;(v instanceof Image||ky(v))&&(!Mt(s)&&!Mt(f)&&!Mt(h)&&!Mt(d)?t.drawImage(v,s,f,h,d,i,o,a,l):t.drawImage(v,i,o,a,l))},r}(bn),Wh=gI;function Zi(e,r,t,n,i,o,a){var l=Math.min(e,t),s=Math.max(e,t),f=Math.min(r,n),h=Math.max(r,n),d=i/2;return o>=l-d&&o<=s+d&&a>=f-d&&a<=h+d?br.pointToLine(e,r,t,n,o,a)<=i/2:!1}var yI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),n=t.x1,i=t.y1,o=t.x2,a=t.y2,l=t.startArrow,s=t.endArrow;l&&Ph(this,t,o,a,n,i),s&&Nh(this,t,n,i,o,a)},r.prototype.isInStrokeOrPath=function(t,n,i,o,a){if(!i||!a)return!1;var l=this.attr(),s=l.x1,f=l.y1,h=l.x2,d=l.y2;return Zi(s,f,h,d,a,t,n)},r.prototype.createPath=function(t){var n=this.attr(),i=n.x1,o=n.y1,a=n.x2,l=n.y2,s=n.startArrow,f=n.endArrow,h={dx:0,dy:0},d={dx:0,dy:0};s&&s.d&&(h=Do(i,o,a,l,n.startArrow.d)),f&&f.d&&(d=Do(i,o,a,l,n.endArrow.d)),t.beginPath(),t.moveTo(i+h.dx,o+h.dy),t.lineTo(a-d.dx,l-d.dy)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,i=t.y1,o=t.x2,a=t.y2;return br.length(n,i,o,a)},r.prototype.getPoint=function(t){var n=this.attr(),i=n.x1,o=n.y1,a=n.x2,l=n.y2;return br.pointAt(i,o,a,l,t)},r}(bn),CI=yI,mI={circle:function(e,r,t){return[["M",e-t,r],["A",t,t,0,1,0,e+t,r],["A",t,t,0,1,0,e-t,r]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["Z"]]},"triangle-down":function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},_I=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return Mt(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),n=t.x,i=t.y,o=t.symbol||"circle",a=this._getR(t),l,s;if(Ao(o))l=o,s=l(n,i,a),s=Ty(s);else{if(l=r.Symbols[o],!l)return console.warn(o+" marker is not supported."),null;s=l(n,i,a)}return s},r.prototype.createPath=function(t){var n=this._getPath(),i=this.get("paramsCache");Hy(this,t,{path:n},i)},r.Symbols=mI,r}(bn),wI=_I;function Wy(e,r,t){var n=wy();return e.createPath(n),n.isPointInPath(r,t)}var xI=1e-6;function Gh(e){return Math.abs(e)<xI?0:e<0?-1:1}function SI(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function Gy(e,r,t){var n=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],l=e[(o+1)%i];if(SI(a,l,[r,t]))return!0;Gh(a[1]-t)>0!=Gh(l[1]-t)>0&&Gh(r-(t-a[1])*(a[0]-l[0])/(a[1]-l[1])-a[0])<0&&(n=!n)}return n}function Dl(e,r,t,n,i,o,a,l){var s=(Math.atan2(l-r,a-e)+Math.PI*2)%(Math.PI*2);if(s<n||s>i)return!1;var f={x:e+t*Math.cos(s),y:r+t*Math.sin(s)};return Ry(f.x,f.y,a,l)<=o/2}var bI=v1;function TI(e){for(var r=!1,t=e.length,n=0;n<t;n++){var i=e[n],o=i[0];if(o==="C"||o==="A"||o==="Q"){r=!0;break}}return r}function EI(e,r,t,n,i){for(var o=!1,a=r/2,l=0;l<e.length;l++){var s=e[l],f=s.currentPoint,h=s.params,d=s.prePoint,v=s.box;if(!(v&&!Bo(v.x-a,v.y-a,v.width+r,v.height+r,t,n))){switch(s.command){case"L":case"Z":o=Zi(d[0],d[1],f[0],f[1],r,t,n);break;case"Q":var g=cy.pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],t,n);o=g<=r/2;break;case"C":var y=Il.pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],h[5],h[6],t,n,i);o=y<=r/2;break;case"A":var C=s.arcParams,_=C.cx,w=C.cy,S=C.rx,b=C.ry,E=C.startAngle,O=C.endAngle,D=C.xRotation,F=[t,n,1],H=S>b?S:b,k=S>b?1:S/b,q=S>b?b/S:1,V=bI(null,[["t",-_,-w],["r",-D],["s",1/k,1/q]]);kA(F,F,V),o=Dl(0,0,H,E,O,r,F[0],F[1]);break}if(o)break}}return o}function LI(e){for(var r=e.length,t=[],n=[],i=[],o=0;o<r;o++){var a=e[o],l=a[0];l==="M"?(i.length&&(n.push(i),i=[]),i.push([a[1],a[2]])):l==="Z"?i.length&&(t.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&n.push(i),{polygons:t,polylines:n}}var Iu=B({hasArc:TI,extractPolygons:LI,isPointInStroke:EI},mA);function Uy(e,r,t){for(var n=!1,i=0;i<e.length;i++){var o=e[i];if(n=Gy(o,r,t),n)break}return n}var AI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t==="path"&&this._setPathArr(n),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=Ty(t);var n=Iu.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Ay(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,i=t.endArrow;if(n){var o=this.getStartTangent();Ph(this,t,o[0][0],o[0][1],o[1][0],o[1][1])}if(i){var o=this.getEndTangent();Nh(this,t,o[0][0],o[0][1],o[1][0],o[1][1])}},r.prototype.isInStrokeOrPath=function(t,n,i,o,a){var l=this.getSegments(),s=this.get("hasArc"),f=!1;if(i){var h=this.getTotalLength();f=Iu.isPointInStroke(l,a,t,n,h)}if(!f&&o)if(s)f=Wy(this,t,n);else{var d=this.attr("path"),v=Iu.extractPolygons(d);f=Uy(v.polygons,t,n)||Uy(v.polylines,t,n)}return f},r.prototype.createPath=function(t){var n=this.attr(),i=this.get("paramsCache");Hy(this,t,n,i)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return Mt(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var i,o,a=this.get("curve");if(!n||n.length===0)return a?{x:a[0][1],y:a[0][2]}:null;Ve(n,function(h,d){t>=h[0]&&t<=h[1]&&(i=(t-h[0])/(h[1]-h[0]),o=d)});var l=a[o];if(Mt(l)||Mt(o))return null;var s=l.length,f=a[o+1];return Il.pointAt(l[s-2],l[s-1],f[1],f[2],f[3],f[4],f[5],f[6],i)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Iu.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,n=0,i=[],o,a,l,s,f=this.get("curve");if(f){if(Ve(f,function(h,d){l=f[d+1],s=h.length,l&&(t+=Il.length(h[s-2],h[s-1],l[1],l[2],l[3],l[4],l[5],l[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}Ve(f,function(h,d){l=f[d+1],s=h.length,l&&(o=[],o[0]=n/t,a=Il.length(h[s-2],h[s-1],l[1],l[2],l[3],l[4],l[5],l[6]),n+=a||0,o[1]=n/t,i.push(o))}),this.set("tCache",i)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var i=t[0].currentPoint,o=t[1].currentPoint,a=t[1].startTangent;n=[],a?(n.push([i[0]-a[0],i[1]-a[1]]),n.push([i[0],i[1]])):(n.push([o[0],o[1]]),n.push([i[0],i[1]]))}return n},r.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,i;if(n>1){var o=t[n-2].currentPoint,a=t[n-1].currentPoint,l=t[n-1].endTangent;i=[],l?(i.push([a[0]-l[0],a[1]-l[1]]),i.push([a[0],a[1]])):(i.push([o[0],o[1]]),i.push([a[0],a[1]]))}return i},r}(bn),Uh=AI;function Yy(e,r,t,n,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var l=e[a][0],s=e[a][1],f=e[a+1][0],h=e[a+1][1];if(Zi(l,s,f,h,r,t,n))return!0}if(i){var d=e[0],v=e[o-1];if(Zi(d[0],d[1],v[0],v[1],r,t,n))return!0}return!1}var RI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,n,i,o,a){var l=this.attr().points,s=!1;return i&&(s=Yy(l,a,t,n,!0)),!s&&o&&(s=Gy(l,t,n)),s},r.prototype.createPath=function(t){var n=this.attr(),i=n.points;if(!(i.length<2)){t.beginPath();for(var o=0;o<i.length;o++){var a=i[o];o===0?t.moveTo(a[0],a[1]):t.lineTo(a[0],a[1])}t.closePath()}},r}(bn),OI=RI,II=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,i=n.points,o=n.startArrow,a=n.endArrow,l=i.length,s=i[0][0],f=i[0][1],h=i[l-1][0],d=i[l-1][1];o&&Ph(this,t,i[1][0],i[1][1],s,f),a&&Nh(this,t,i[l-2][0],i[l-2][1],h,d)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,n,i,o,a){if(!i||!a)return!1;var l=this.attr().points;return Yy(l,a,t,n,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var n=this.attr(),i=n.points,o=n.startArrow,a=n.endArrow,l=i.length;if(!(i.length<2)){var s=i[0][0],f=i[0][1],h=i[l-1][0],d=i[l-1][1];if(o&&o.d){var v=Do(s,f,i[1][0],i[1][1],o.d);s+=v.dx,f+=v.dy}if(a&&a.d){var v=Do(i[l-2][0],i[l-2][1],h,d,a.d);h-=v.dx,d-=v.dy}t.beginPath(),t.moveTo(s,f);for(var g=0;g<l-1;g++){var y=i[g];t.lineTo(y[0],y[1])}t.lineTo(h,d)}},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return Mt(n)?(this.set("totalLength",MO.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var o,a;return Ve(i,function(l,s){t>=l[0]&&t<=l[1]&&(o=(t-l[0])/(l[1]-l[0]),a=s)}),br.pointAt(n[a][0],n[a][1],n[a+1][0],n[a+1][1],o)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,o=[],a,l;Ve(t,function(s,f){t[f+1]&&(a=[],a[0]=i/n,l=br.length(s[0],s[1],t[f+1][0],t[f+1][1]),i+=l,a[1]=i/n,o.push(a))}),this.set("tCache",o)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,i=[];return i.push([t[n-1][0],t[n-1][1]]),i.push([t[n][0],t[n][1]]),i},r}(bn),MI=II;function BI(e,r,t,n,i,o,a){var l=i/2;return Bo(e-l,r-l,t,i,o,a)||Bo(e+t-l,r-l,i,n,o,a)||Bo(e+l,r+n-l,t,i,o,a)||Bo(e-l,r+l,i,n,o,a)}function DI(e,r,t,n,i,o,a,l){return Zi(e+i,r,e+t-i,r,o,a,l)||Zi(e+t,r+i,e+t,r+n-i,o,a,l)||Zi(e+t-i,r+n,e+i,r+n,o,a,l)||Zi(e,r+n-i,e,r+i,o,a,l)||Dl(e+t-i,r+i,i,1.5*Math.PI,2*Math.PI,o,a,l)||Dl(e+t-i,r+n-i,i,0,.5*Math.PI,o,a,l)||Dl(e+i,r+n-i,i,.5*Math.PI,Math.PI,o,a,l)||Dl(e+i,r+i,i,Math.PI,1.5*Math.PI,o,a,l)}var $I=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,n,i,o,a){var l=this.attr(),s=l.x,f=l.y,h=l.width,d=l.height,v=l.radius;if(v){var y=!1;return i&&(y=DI(s,f,h,d,v,a,t,n)),!y&&o&&(y=Wy(this,t,n)),y}else{var g=a/2;if(o&&i)return Bo(s-g,f-g,h+g,d+g,t,n);if(o)return Bo(s,f,h,d,t,n);if(i)return BI(s,f,h,d,a,t,n)}},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,o=n.y,a=n.width,l=n.height,s=n.radius;if(t.beginPath(),s===0)t.rect(i,o,a,l);else{var f=oI(s),h=f[0],d=f[1],v=f[2],g=f[3];t.moveTo(i+h,o),t.lineTo(i+a-d,o),d!==0&&t.arc(i+a-d,o+d,d,-Math.PI/2,0),t.lineTo(i+a,o+l-v),v!==0&&t.arc(i+a-v,o+l-v,v,0,Math.PI/2),t.lineTo(i+g,o+l),g!==0&&t.arc(i+g,o+l-g,g,Math.PI/2,Math.PI),t.lineTo(i,o+h),h!==0&&t.arc(i+h,o+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(bn),FI=$I,PI=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return B(B({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=Sy(t)},r.prototype._setText=function(t){var n=null;xn(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},r.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,i=t.fontSize*1;return n?n-i:i*.14},r.prototype._drawTextArr=function(t,n,i){var o=this.attrs,a=o.textBaseline,l=o.x,s=o.y,f=o.fontSize*1,h=this._getSpaceingY(),d=xy(o.text,o.fontSize,o.lineHeight),v;Ve(n,function(g,y){v=s+y*(h+f)-d+f,a==="middle"&&(v+=d-f-(d-f)/2),a==="top"&&(v+=d-f),Mt(g)||(i?t.fillText(g,l,v):t.strokeText(g,l,v))})},r.prototype._drawText=function(t,n){var i=this.attr(),o=i.x,a=i.y,l=this.get("textArr");if(l)this._drawTextArr(t,l,n);else{var s=i.text;Mt(s)||(n?t.fillText(s,o,a):t.strokeText(s,o,a))}},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,o=n.opacity,a=n.strokeOpacity,l=n.fillOpacity;this.isStroke()&&i>0&&(!Mt(a)&&a!==1&&(t.globalAlpha=o),this.stroke(t)),this.isFill()&&(!Mt(l)&&l!==1?(t.globalAlpha=l,this.fill(t),t.globalAlpha=o):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(bn),NI=PI;function HI(e,r){if(r){var t=g1(r);return Ro(t,e)}return e}function Xy(e,r,t){var n=e.getTotalMatrix();if(n){var i=HI([r,t,1],n),o=i[0],a=i[1];return[o,a]}return[r,t]}function Vy(e,r,t){if(e.isCanvas&&e.isCanvas())return!0;if(!fh(e)||e.cfg.isInView===!1)return!1;if(e.cfg.clipShape){var n=Xy(e,r,t),i=n[0],o=n[1];if(e.isClipped(i,o))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return r>=a.minX&&r<=a.maxX&&t>=a.minY&&t<=a.maxY}function qy(e,r,t){if(!Vy(e,r,t))return null;for(var n=null,i=e.getChildren(),o=i.length,a=o-1;a>=0;a--){var l=i[a];if(l.isGroup())n=qy(l,r,t);else if(Vy(l,r,t)){var s=l,f=Xy(l,r,t),h=f[0],d=f[1];s.isInShape(h,d)&&(n=l)}if(n)break}return n}var Ky=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return th},r.prototype.getGroupBase=function(){return Vn},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||jO();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},r.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var i=this.get("context"),o=this.get("el"),a=this.getPixelRatio();o.width=a*t,o.height=a*n,a>1&&i.scale(a,a)},r.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},r.prototype.getShape=function(t,n){var i;return this.get("quickHit")?i=qy(this,t,n):i=e.prototype.getShape.call(this,t,n,null),i},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),i;if(t.length&&t[0]===this)i=n;else if(i=uI(t),i){i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1;var o=this.get("clipView");o&&(i=fI(i,n))}return i},r.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(JL(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),i=this.getChildren();t.clearRect(0,0,n.width,n.height),La(t,this),Hh(t,i),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),i=this.getChildren(),o=this._getRefreshRegion();o?(t.clearRect(o.minX,o.minY,o.maxX-o.minX,o.maxY-o.minY),t.save(),t.beginPath(),t.rect(o.minX,o.minY,o.maxX-o.minX,o.maxY-o.minY),t.clip(),La(t,this),aI(this,i,o),Hh(t,i,o),t.restore()):n.length&&Ny(n),Ve(n,function(a){a.get("hasChanged")&&a.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=QL(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(pO),Tr="$$value$$",Te="$$extra$$",Yh="$$origin$$",zI="$$extra_column$$",qn="$$total$$",Mu="$$multi$$",$o="$$series_number$$",Fo="$$empty_field_value$$",Xh="$$empty_extra_placeholder$$",jy;(function(e){e.DATA_CELL_CLICK_EVENT="interaction:data-cell-click",e.MERGED_CELLS_CLICK_EVENT="interaction:merged-cells-click",e.CORNER_TEXT_CLICK_EVENT="interaction:corner-cell-text-click",e.ROW_COLUMN_CLICK_EVENT="interaction:row-column-click",e.ROW_TEXT_CLICK_EVENT="interaction:row-text-click",e.HOVER_EVENT="interaction:hover",e.TREND_ICON_CLICK="interaction:trend-icon-click"})(jy||(jy={}));var ur;(function(e){e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_OUT="mouseout",e.MOUSE_LEAVE="mouseleave",e.MOUSE_UP="mouseup",e.KEY_DOWN="keydown",e.KEY_UP="keyup",e.CLICK="click",e.HOVER="hover",e.DOUBLE_CLICK="dblclick",e.CONTEXT_MENU="contextmenu"})(ur||(ur={}));var I;(function(e){e.ROW_CELL_HOVER="row-cell:hover",e.ROW_CELL_CLICK="row-cell:click",e.ROW_CELL_DOUBLE_CLICK="row-cell:double-click",e.ROW_CELL_CONTEXT_MENU="row-cell:context-menu",e.ROW_CELL_MOUSE_DOWN="row-cell:mouse-down",e.ROW_CELL_MOUSE_UP="row-cell:mouse-up",e.ROW_CELL_MOUSE_MOVE="row-cell:mouse-move",e.ROW_CELL_COLLAPSE_TREE_ROWS="row-cell:collapsed-tree-rows",e.ROW_CELL_SCROLL="row-cell:scroll",e.ROW_CELL_BRUSH_SELECTION="row-cell:brush-selection",e.COL_CELL_HOVER="col-cell:hover",e.COL_CELL_CLICK="col-cell:click",e.COL_CELL_DOUBLE_CLICK="col-cell:double-click",e.COL_CELL_CONTEXT_MENU="col-cell:context-menu",e.COL_CELL_MOUSE_DOWN="col-cell:mouse-down",e.COL_CELL_MOUSE_UP="col-cell:mouse-up",e.COL_CELL_MOUSE_MOVE="col-cell:mouse-move",e.COL_CELL_BRUSH_SELECTION="col-cell:brush-selection",e.DATA_CELL_HOVER="data-cell:hover",e.DATA_CELL_CLICK="data-cell:click",e.DATA_CELL_DOUBLE_CLICK="data-cell:double-click",e.DATA_CELL_CONTEXT_MENU="data-cell:context-menu",e.DATA_CELL_MOUSE_UP="data-cell:mouse-up",e.DATA_CELL_MOUSE_DOWN="data-cell:mouse-down",e.DATA_CELL_MOUSE_MOVE="data-cell:mouse-move",e.DATA_CELL_TREND_ICON_CLICK="data-cell:trend-icon-click",e.DATA_CELL_BRUSH_SELECTION="data-cell:brush-selection",e.DATA_CELL_SELECT_MOVE="data-cell:select-move",e.CORNER_CELL_HOVER="corner-cell:hover",e.CORNER_CELL_CLICK="corner-cell:click",e.CORNER_CELL_DOUBLE_CLICK="corner-cell:double-click",e.CORNER_CELL_CONTEXT_MENU="corner-cell:context-menu",e.CORNER_CELL_MOUSE_DOWN="corner-cell:mouse-down",e.CORNER_CELL_MOUSE_UP="corner-cell:mouse-up",e.CORNER_CELL_MOUSE_MOVE="corner-cell:mouse-move",e.MERGED_CELLS_HOVER="merged-cells:hover",e.MERGED_CELLS_CLICK="merged-cells:click",e.MERGED_CELLS_DOUBLE_CLICK="merged-cells:double-click",e.MERGED_CELLS_CONTEXT_MENU="merged-cell:context-menu",e.MERGED_CELLS_MOUSE_DOWN="merged-cells:mouse-down",e.MERGED_CELLS_MOUSE_UP="merged-cells:mouse-up",e.MERGED_CELLS_MOUSE_MOVE="merged-cells:mouse-move",e.RANGE_SORT="sort:range-sort",e.RANGE_SORTED="sort:range-sorted",e.RANGE_FILTER="filter:range-filter",e.RANGE_FILTERED="filter:range-filtered",e.LAYOUT_AFTER_HEADER_LAYOUT="layout:after-header-layout",e.LAYOUT_CELL_SCROLL="layout:cell-scroll",e.LAYOUT_PAGINATION="layout:pagination",e.LAYOUT_COLLAPSE_ROWS="layout:collapsed-rows",e.LAYOUT_AFTER_COLLAPSE_ROWS="layout:after-collapsed-rows",e.LAYOUT_AFTER_REAL_DATA_CELL_RENDER="layout:after-real-data-cell-render",e.LAYOUT_TREE_ROWS_COLLAPSE_ALL="layout:toggle-collapse-all",e.LAYOUT_COLS_EXPANDED="layout:table-col-expanded",e.LAYOUT_COLS_HIDDEN="layout:table-col-hidden",e.LAYOUT_AFTER_RENDER="layout:after-render",e.LAYOUT_BEFORE_RENDER="layout:before-render",e.LAYOUT_DESTROY="layout:destroy",e.LAYOUT_RESIZE="layout:resize",e.LAYOUT_RESIZE_SERIES_WIDTH="layout:resize-series-width",e.LAYOUT_RESIZE_ROW_WIDTH="layout:resize-row-width",e.LAYOUT_RESIZE_ROW_HEIGHT="layout:resize-row-height",e.LAYOUT_RESIZE_COL_WIDTH="layout:resize-column-width",e.LAYOUT_RESIZE_COL_HEIGHT="layout:resize-column-height",e.LAYOUT_RESIZE_TREE_WIDTH="layout:resize-tree-width",e.LAYOUT_RESIZE_MOUSE_DOWN="layout:resize:mouse-down",e.LAYOUT_RESIZE_MOUSE_MOVE="layout:resize:mouse-move",e.LAYOUT_RESIZE_MOUSE_UP="layout:resize-mouse-up",e.GLOBAL_KEYBOARD_DOWN="global:keyboard-down",e.GLOBAL_KEYBOARD_UP="global:keyboard-up",e.GLOBAL_COPIED="global:copied",e.GLOBAL_MOUSE_UP="global:mouse-up",e.GLOBAL_MOUSE_MOVE="global:mouse-move",e.GLOBAL_ACTION_ICON_CLICK="global:action-icon-click",e.GLOBAL_ACTION_ICON_HOVER="global:action-icon-hover",e.GLOBAL_ACTION_ICON_HOVER_OFF="global:action-icon-hover-off",e.GLOBAL_CONTEXT_MENU="global:context-menu",e.GLOBAL_CLICK="global:click",e.GLOBAL_DOUBLE_CLICK="global:double-click",e.GLOBAL_SELECTED="global:selected",e.GLOBAL_HOVER="global:hover",e.GLOBAL_RESET="global:reset",e.GLOBAL_LINK_FIELD_JUMP="global:link-field-jump",e.GLOBAL_SCROLL="global:scroll"})(I||(I={}));var kI=0,WI=3,Zy=3,$l=4,GI=5,UI=5,YI=1,XI=1,Qy=2,VI="backGroundGroup",qI="foreGroundGroup",KI="panelGroup",jI="panelScrollGroup",Jy="mergedCellsGroup",eC="frozenRowGroup",tC="frozenColGroup",ZI="frozenTrailingRowGroup",QI="frozenTrailingColGroup",JI="frozenTopGroup",eM="frozenBottomGroup",Aa="rowResizeAreaGroup",rC="rowFrozenResizeAreaGroup",Bu="frozenSplitLine",nC="rowIndexResizeAreaGroup",Vh="cornerResizeAreaGroup",iC="colResizeAreaGroup",oC="colFrozenResizeAreaGroup",tM="colScrollGroup",rM="colFrozenGroup",nM="colFrozenTrailingGroup",aC="gridGroup",iM="rowScrollGroup",oM="rowHeaderFrozenGroup",aM="series-number-node",lC="horizontal-resize-area-",qh="root",Qt="[&]",Kh="-",Du="-",sC=28,uC=16,fC=16,lM=/^root\[&\]*/,sM=.5,jh=50,Ra;(function(e){e.Line="line",e.Bar="bar",e.Bullet="bullet"})(Ra||(Ra={}));var cC="square",Oa="...",Zh="antv-s2",$u="valueRanges",Qh={},hC="#000000",Jh="#FFFFFF",uM={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]},vi,Ot;(function(e){e.ROW="row",e.COL="col",e.TRAILING_ROW="trailingRow",e.TRAILING_COL="trailingCol",e.SCROLL="scroll",e.TOP="top",e.BOTTOM="bottom"})(Ot||(Ot={}));var tn;(function(e){e.FROZEN_COL="frozenCol",e.FROZEN_ROW="frozenRow",e.FROZEN_TRAILING_COL="frozenTrailingCol",e.FROZEN_TRAILING_ROW="frozenTrailingRow"})(tn||(tn={}));var dC=(vi={},vi[Ot.ROW]="frozenRowGroup",vi[Ot.COL]="frozenColGroup",vi[Ot.TRAILING_COL]="frozenTrailingColGroup",vi[Ot.TRAILING_ROW]="frozenTrailingRowGroup",vi[Ot.SCROLL]="panelScrollGroup",vi[Ot.TOP]="frozenTopGroup",vi[Ot.BOTTOM]="frozenBottomGroup",vi),fr;(function(e){e.CORNER_CELL_CLICK="cornerCellClick",e.DATA_CELL_CLICK="dataCellClick",e.MERGED_CELLS_CLICK="mergedCellsClick",e.ROW_COLUMN_CLICK="rowColumnClick",e.ROW_TEXT_CLICK="rowTextClick",e.HOVER="hover",e.BRUSH_SELECTION="brushSelection",e.ROW_BRUSH_SELECTION="rowBrushSelection",e.COL_BRUSH_SELECTION="colBrushSelection",e.COL_ROW_RESIZE="rowColResize",e.DATA_CELL_MULTI_SELECTION="dataCellMultiSelection",e.RANGE_SELECTION="rangeSelection",e.SELECTED_CELL_MOVE="selectedCellMove"})(fr||(fr={}));var le;(function(e){e.ALL_SELECTED="allSelected",e.SELECTED="selected",e.BRUSH_SELECTED="brushSelected",e.UNSELECTED="unselected",e.HOVER="hover",e.HOVER_FOCUS="hoverFocus",e.HIGHLIGHT="highlight",e.SEARCH_RESULT="searchResult",e.PREPARE_SELECT="prepareSelect"})(le||(le={}));var ee;(function(e){e.DATA_CELL="dataCell",e.HEADER_CELL="headerCell",e.ROW_CELL="rowCell",e.COL_CELL="colCell",e.CORNER_CELL="cornerCell",e.MERGED_CELL="mergedCell"})(ee||(ee={}));var ed=800,Fr={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},fM={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},td="interactionStateInfo",Jt;(function(e){e.CLICK="click",e.UN_DRAGGED="unDragged",e.DRAGGED="dragged"})(Jt||(Jt={}));var er;(function(e){e.SHIFT="Shift",e.COPY="c",e.ESC="Escape",e.META="Meta",e.CONTROL="Control",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"})(er||(er={}));var vC;(function(e){e.ASC="ASC",e.DESC="DESC"})(vC||(vC={}));var Ee;(function(e){e.HOVER="hover",e.CLICK="click",e.BRUSH_SELECTION="brushSelection",e.ROW_BRUSH_SELECTION="rowBrushSelection",e.COL_BRUSH_SELECTION="colBrushSelection",e.MULTI_SELECTION="multiSelection",e.RESIZE="resize"})(Ee||(Ee={}));var pC={x:{value:0,scroll:!1},y:{value:0,scroll:!1}},Fu;(function(e){e.CONTENT="content",e.CANVAS="canvas"})(Fu||(Fu={}));var Pt;(function(e){e.SCROLL_UP="scrollUp",e.SCROLL_DOWN="scrollDown"})(Pt||(Pt={}));var Pu;(function(e){e[e.SCROLL_UP=-1]="SCROLL_UP",e[e.SCROLL_DOWN=1]="SCROLL_DOWN"})(Pu||(Pu={}));var cM="RESIZE_START_GUIDE_LINE",hM="RESIZE_END_GUIDE_LINE",dM="RESIZE_MASK",rn;(function(e){e.Horizontal="col",e.Vertical="row"})(rn||(rn={}));var cr;(function(e){e.Field="field",e.Cell="cell",e.Tree="tree",e.Series="series"})(cr||(cr={}));var Nu;(function(e){e.ALL="all",e.CURRENT="current"})(Nu||(Nu={}));var gC=1,Po;(function(e){e.Adaptive="adaptive",e.ColAdaptive="colAdaptive",e.Compact="compact"})(Po||(Po={}));var yC=120,vM={layoutWidthType:Po.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},CC={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:ed},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:Fu.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:Nu.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:vM,frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:Du,supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},pM=typeof global=="object"&&global&&global.Object===Object&&global,mC=pM,gM=typeof self=="object"&&self&&self.Object===Object&&self,yM=mC||gM||Function("return this")(),Nt=yM,CM=Nt.Symbol,tr=CM,_C=Object.prototype,mM=_C.hasOwnProperty,_M=_C.toString,Fl=tr?tr.toStringTag:void 0;function wM(e){var r=mM.call(e,Fl),t=e[Fl];try{e[Fl]=void 0;var n=!0}catch{}var i=_M.call(e);return n&&(r?e[Fl]=t:delete e[Fl]),i}var xM=Object.prototype,SM=xM.toString;function bM(e){return SM.call(e)}var TM="[object Null]",EM="[object Undefined]",wC=tr?tr.toStringTag:void 0;function hr(e){return e==null?e===void 0?EM:TM:wC&&wC in Object(e)?wM(e):bM(e)}function bt(e){return e!=null&&typeof e=="object"}var LM="[object Symbol]";function Pr(e){return typeof e=="symbol"||bt(e)&&hr(e)==LM}var AM=NaN;function xC(e){return typeof e=="number"?e:Pr(e)?AM:+e}function yt(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var RM=Array.isArray,se=RM,OM=1/0,SC=tr?tr.prototype:void 0,bC=SC?SC.toString:void 0;function Nr(e){if(typeof e=="string")return e;if(se(e))return yt(e,Nr)+"";if(Pr(e))return bC?bC.call(e):"";var r=e+"";return r=="0"&&1/e==-OM?"-0":r}function Hu(e,r){return function(t,n){var i;if(t===void 0&&n===void 0)return r;if(t!==void 0&&(i=t),n!==void 0){if(i===void 0)return n;typeof t=="string"||typeof n=="string"?(t=Nr(t),n=Nr(n)):(t=xC(t),n=xC(n)),i=e(t,n)}return i}}var IM=Hu(function(e,r){return e+r},0),MM=IM,BM=/\s/;function TC(e){for(var r=e.length;r--&&BM.test(e.charAt(r)););return r}var DM=/^\s+/;function EC(e){return e&&e.slice(0,TC(e)+1).replace(DM,"")}function Ke(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var LC=NaN,$M=/^[-+]0x[0-9a-f]+$/i,FM=/^0b[01]+$/i,PM=/^0o[0-7]+$/i,NM=parseInt;function Hr(e){if(typeof e=="number")return e;if(Pr(e))return LC;if(Ke(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ke(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=EC(e);var t=FM.test(e);return t||PM.test(e)?NM(e.slice(2),t?2:8):$M.test(e)?LC:+e}var AC=1/0,HM=17976931348623157e292;function pi(e){if(!e)return e===0?e:0;if(e=Hr(e),e===AC||e===-AC){var r=e<0?-1:1;return r*HM}return e===e?e:0}function Me(e){var r=pi(e),t=r%1;return r===r?t?r-t:r:0}var zM="Expected a function";function kM(e,r){if(typeof r!="function")throw new TypeError(zM);return e=Me(e),function(){if(--e<1)return r.apply(this,arguments)}}function rr(e){return e}var WM="[object AsyncFunction]",GM="[object Function]",UM="[object GeneratorFunction]",YM="[object Proxy]";function Ht(e){if(!Ke(e))return!1;var r=hr(e);return r==GM||r==UM||r==WM||r==YM}var XM=Nt["__core-js_shared__"],zu=XM,RC=function(){var e=/[^.]+$/.exec(zu&&zu.keys&&zu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VM(e){return!!RC&&RC in e}var qM=Function.prototype,KM=qM.toString;function No(e){if(e!=null){try{return KM.call(e)}catch{}try{return e+""}catch{}}return""}var jM=/[\\^$.*+?()[\]{}|]/g,ZM=/^\[object .+?Constructor\]$/,QM=Function.prototype,JM=Object.prototype,e6=QM.toString,t6=JM.hasOwnProperty,r6=RegExp("^"+e6.call(t6).replace(jM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OC(e){if(!Ke(e)||VM(e))return!1;var r=Ht(e)?r6:ZM;return r.test(No(e))}function n6(e,r){return e==null?void 0:e[r]}function Ho(e,r){var t=n6(e,r);return OC(t)?t:void 0}var i6=Ho(Nt,"WeakMap"),Pl=i6,o6=Pl&&new Pl,ku=o6,a6=ku?function(e,r){return ku.set(e,r),e}:rr,IC=a6,MC=Object.create,l6=function(){function e(){}return function(r){if(!Ke(r))return{};if(MC)return MC(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),Ia=l6;function Nl(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=Ia(e.prototype),n=e.apply(t,r);return Ke(n)?n:t}}var s6=1;function u6(e,r,t){var n=r&s6,i=Nl(e);function o(){var a=this&&this!==Nt&&this instanceof o?i:e;return a.apply(n?t:this,arguments)}return o}function zr(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var f6=Math.max;function BC(e,r,t,n){for(var i=-1,o=e.length,a=t.length,l=-1,s=r.length,f=f6(o-a,0),h=Array(s+f),d=!n;++l<s;)h[l]=r[l];for(;++i<a;)(d||i<o)&&(h[t[i]]=e[i]);for(;f--;)h[l++]=e[i++];return h}var c6=Math.max;function DC(e,r,t,n){for(var i=-1,o=e.length,a=-1,l=t.length,s=-1,f=r.length,h=c6(o-l,0),d=Array(h+f),v=!n;++i<h;)d[i]=e[i];for(var g=i;++s<f;)d[g+s]=r[s];for(;++a<l;)(v||i<o)&&(d[g+t[a]]=e[i++]);return d}function h6(e,r){for(var t=e.length,n=0;t--;)e[t]===r&&++n;return n}function Wu(){}var d6=4294967295;function ze(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d6,this.__views__=[]}ze.prototype=Ia(Wu.prototype),ze.prototype.constructor=ze;function Gu(){}var v6=ku?function(e){return ku.get(e)}:Gu,rd=v6,p6={},Ma=p6,g6=Object.prototype,y6=g6.hasOwnProperty;function Uu(e){for(var r=e.name+"",t=Ma[r],n=y6.call(Ma,r)?t.length:0;n--;){var i=t[n],o=i.func;if(o==null||o==e)return i.name}return r}function nn(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}nn.prototype=Ia(Wu.prototype),nn.prototype.constructor=nn;function Er(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}function $C(e){if(e instanceof ze)return e.clone();var r=new nn(e.__wrapped__,e.__chain__);return r.__actions__=Er(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}var C6=Object.prototype,m6=C6.hasOwnProperty;function A(e){if(bt(e)&&!se(e)&&!(e instanceof ze)){if(e instanceof nn)return e;if(m6.call(e,"__wrapped__"))return $C(e)}return new nn(e)}A.prototype=Wu.prototype,A.prototype.constructor=A;function nd(e){var r=Uu(e),t=A[r];if(typeof t!="function"||!(r in ze.prototype))return!1;if(e===t)return!0;var n=rd(t);return!!n&&e===n[0]}var _6=800,w6=16,x6=Date.now;function FC(e){var r=0,t=0;return function(){var n=x6(),i=w6-(n-t);if(t=n,i>0){if(++r>=_6)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var S6=FC(IC),PC=S6,b6=/\{\n\/\* \[wrapped with (.+)\] \*/,T6=/,? & /;function E6(e){var r=e.match(b6);return r?r[1].split(T6):[]}var L6=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function A6(e,r){var t=r.length;if(!t)return e;var n=t-1;return r[n]=(t>1?"& ":"")+r[n],r=r.join(t>2?", ":" "),e.replace(L6,`{
/* [wrapped with `+r+`] */
`)}function Ba(e){return function(){return e}}var R6=function(){try{var e=Ho(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Yu=R6,O6=Yu?function(e,r){return Yu(e,"toString",{configurable:!0,enumerable:!1,value:Ba(r),writable:!0})}:rr,I6=O6,M6=FC(I6),id=M6;function on(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}function Xu(e,r,t,n){for(var i=e.length,o=t+(n?1:-1);n?o--:++o<i;)if(r(e[o],o,e))return o;return-1}function NC(e){return e!==e}function B6(e,r,t){for(var n=t-1,i=e.length;++n<i;)if(e[n]===r)return n;return-1}function Da(e,r,t){return r===r?B6(e,r,t):Xu(e,NC,t)}function Vu(e,r){var t=e==null?0:e.length;return!!t&&Da(e,r,0)>-1}var D6=1,$6=2,F6=8,P6=16,N6=32,H6=64,z6=128,k6=256,W6=512,G6=[["ary",z6],["bind",D6],["bindKey",$6],["curry",F6],["curryRight",P6],["flip",W6],["partial",N6],["partialRight",H6],["rearg",k6]];function U6(e,r){return on(G6,function(t){var n="_."+t[0];r&t[1]&&!Vu(e,n)&&e.push(n)}),e.sort()}function HC(e,r,t){var n=r+"";return id(e,A6(n,U6(E6(n),t)))}var Y6=1,X6=2,V6=4,q6=8,zC=32,kC=64;function WC(e,r,t,n,i,o,a,l,s,f){var h=r&q6,d=h?a:void 0,v=h?void 0:a,g=h?o:void 0,y=h?void 0:o;r|=h?zC:kC,r&=~(h?kC:zC),r&V6||(r&=~(Y6|X6));var C=[e,r,i,g,d,y,v,l,s,f],_=t.apply(void 0,C);return nd(e)&&PC(_,C),_.placeholder=n,HC(_,e,r)}function $a(e){var r=e;return r.placeholder}var K6=9007199254740991,j6=/^(?:0|[1-9]\d*)$/;function gi(e,r){var t=typeof e;return r=r??K6,!!r&&(t=="number"||t!="symbol"&&j6.test(e))&&e>-1&&e%1==0&&e<r}var Z6=Math.min;function Q6(e,r){for(var t=e.length,n=Z6(r.length,t),i=Er(e);n--;){var o=r[n];e[n]=gi(o,t)?i[o]:void 0}return e}var GC="__lodash_placeholder__";function Qi(e,r){for(var t=-1,n=e.length,i=0,o=[];++t<n;){var a=e[t];(a===r||a===GC)&&(e[t]=GC,o[i++]=t)}return o}var J6=1,e8=2,t8=8,r8=16,n8=128,i8=512;function qu(e,r,t,n,i,o,a,l,s,f){var h=r&n8,d=r&J6,v=r&e8,g=r&(t8|r8),y=r&i8,C=v?void 0:Nl(e);function _(){for(var w=arguments.length,S=Array(w),b=w;b--;)S[b]=arguments[b];if(g)var E=$a(_),O=h6(S,E);if(n&&(S=BC(S,n,i,g)),o&&(S=DC(S,o,a,g)),w-=O,g&&w<f){var D=Qi(S,E);return WC(e,r,qu,_.placeholder,t,S,D,l,s,f-w)}var F=d?t:this,H=v?F[e]:e;return w=S.length,l?S=Q6(S,l):y&&w>1&&S.reverse(),h&&s<w&&(S.length=s),this&&this!==Nt&&this instanceof _&&(H=C||Nl(H)),H.apply(F,S)}return _}function o8(e,r,t){var n=Nl(e);function i(){for(var o=arguments.length,a=Array(o),l=o,s=$a(i);l--;)a[l]=arguments[l];var f=o<3&&a[0]!==s&&a[o-1]!==s?[]:Qi(a,s);if(o-=f.length,o<t)return WC(e,r,qu,i.placeholder,void 0,a,f,void 0,void 0,t-o);var h=this&&this!==Nt&&this instanceof i?n:e;return zr(h,this,a)}return i}var a8=1;function l8(e,r,t,n){var i=r&a8,o=Nl(e);function a(){for(var l=-1,s=arguments.length,f=-1,h=n.length,d=Array(h+s),v=this&&this!==Nt&&this instanceof a?o:e;++f<h;)d[f]=n[f];for(;s--;)d[f++]=arguments[++l];return zr(v,i?t:this,d)}return a}var UC="__lodash_placeholder__",od=1,s8=2,u8=4,YC=8,Hl=128,XC=256,f8=Math.min;function c8(e,r){var t=e[1],n=r[1],i=t|n,o=i<(od|s8|Hl),a=n==Hl&&t==YC||n==Hl&&t==XC&&e[7].length<=r[8]||n==(Hl|XC)&&r[7].length<=r[8]&&t==YC;if(!(o||a))return e;n&od&&(e[2]=r[2],i|=t&od?0:u8);var l=r[3];if(l){var s=e[3];e[3]=s?BC(s,l,r[4]):l,e[4]=s?Qi(e[3],UC):r[4]}return l=r[5],l&&(s=e[5],e[5]=s?DC(s,l,r[6]):l,e[6]=s?Qi(e[5],UC):r[6]),l=r[7],l&&(e[7]=l),n&Hl&&(e[8]=e[8]==null?r[8]:f8(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=i,e}var h8="Expected a function",VC=1,d8=2,ad=8,ld=16,sd=32,qC=64,KC=Math.max;function yi(e,r,t,n,i,o,a,l){var s=r&d8;if(!s&&typeof e!="function")throw new TypeError(h8);var f=n?n.length:0;if(f||(r&=~(sd|qC),n=i=void 0),a=a===void 0?a:KC(Me(a),0),l=l===void 0?l:Me(l),f-=i?i.length:0,r&qC){var h=n,d=i;n=i=void 0}var v=s?void 0:rd(e),g=[e,r,t,n,i,h,d,o,a,l];if(v&&c8(g,v),e=g[0],r=g[1],t=g[2],n=g[3],i=g[4],l=g[9]=g[9]===void 0?s?0:e.length:KC(g[9]-f,0),!l&&r&(ad|ld)&&(r&=~(ad|ld)),!r||r==VC)var y=u6(e,r,t);else r==ad||r==ld?y=o8(e,r,l):(r==sd||r==(VC|sd))&&!i.length?y=l8(e,r,t,n):y=qu.apply(void 0,g);var C=v?IC:PC;return HC(C(y,g),e,r)}var v8=128;function jC(e,r,t){return r=t?void 0:r,r=e&&r==null?e.length:r,yi(e,v8,void 0,void 0,void 0,void 0,r)}function Ci(e,r,t){r=="__proto__"&&Yu?Yu(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function Tn(e,r){return e===r||e!==e&&r!==r}var p8=Object.prototype,g8=p8.hasOwnProperty;function zl(e,r,t){var n=e[r];(!(g8.call(e,r)&&Tn(n,t))||t===void 0&&!(r in e))&&Ci(e,r,t)}function Kn(e,r,t,n){var i=!t;t||(t={});for(var o=-1,a=r.length;++o<a;){var l=r[o],s=n?n(t[l],e[l],l,t,e):void 0;s===void 0&&(s=e[l]),i?Ci(t,l,s):zl(t,l,s)}return t}var ZC=Math.max;function QC(e,r,t){return r=ZC(r===void 0?e.length-1:r,0),function(){for(var n=arguments,i=-1,o=ZC(n.length-r,0),a=Array(o);++i<o;)a[i]=n[r+i];i=-1;for(var l=Array(r+1);++i<r;)l[i]=n[i];return l[r]=t(a),zr(e,this,l)}}function $e(e,r){return id(QC(e,r,rr),e+"")}var y8=9007199254740991;function Ku(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=y8}function Lr(e){return e!=null&&Ku(e.length)&&!Ht(e)}function dr(e,r,t){if(!Ke(t))return!1;var n=typeof r;return(n=="number"?Lr(t)&&gi(r,t.length):n=="string"&&r in t)?Tn(t[r],e):!1}function Fa(e){return $e(function(r,t){var n=-1,i=t.length,o=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&dr(t[0],t[1],a)&&(o=i<3?void 0:o,i=1),r=Object(r);++n<i;){var l=t[n];l&&e(r,l,n,o)}return r})}var C8=Object.prototype;function kl(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||C8;return e===t}function ud(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var m8="[object Arguments]";function JC(e){return bt(e)&&hr(e)==m8}var em=Object.prototype,_8=em.hasOwnProperty,w8=em.propertyIsEnumerable,x8=JC(function(){return arguments}())?JC:function(e){return bt(e)&&_8.call(e,"callee")&&!w8.call(e,"callee")},zo=x8;function fd(){return!1}var tm=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,rm=tm&&typeof module=="object"&&module&&!module.nodeType&&module,S8=rm&&rm.exports===tm,nm=S8?Nt.Buffer:void 0,b8=nm?nm.isBuffer:void 0,T8=b8||fd,Ji=T8,E8="[object Arguments]",L8="[object Array]",A8="[object Boolean]",R8="[object Date]",O8="[object Error]",I8="[object Function]",M8="[object Map]",B8="[object Number]",D8="[object Object]",$8="[object RegExp]",F8="[object Set]",P8="[object String]",N8="[object WeakMap]",H8="[object ArrayBuffer]",z8="[object DataView]",k8="[object Float32Array]",W8="[object Float64Array]",G8="[object Int8Array]",U8="[object Int16Array]",Y8="[object Int32Array]",X8="[object Uint8Array]",V8="[object Uint8ClampedArray]",q8="[object Uint16Array]",K8="[object Uint32Array]",vt={};vt[k8]=vt[W8]=vt[G8]=vt[U8]=vt[Y8]=vt[X8]=vt[V8]=vt[q8]=vt[K8]=!0,vt[E8]=vt[L8]=vt[H8]=vt[A8]=vt[z8]=vt[R8]=vt[O8]=vt[I8]=vt[M8]=vt[B8]=vt[D8]=vt[$8]=vt[F8]=vt[P8]=vt[N8]=!1;function j8(e){return bt(e)&&Ku(e.length)&&!!vt[hr(e)]}function kr(e){return function(r){return e(r)}}var im=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,Wl=im&&typeof module=="object"&&module&&!module.nodeType&&module,Z8=Wl&&Wl.exports===im,cd=Z8&&mC.process,Q8=function(){try{var e=Wl&&Wl.require&&Wl.require("util").types;return e||cd&&cd.binding&&cd.binding("util")}catch{}}(),an=Q8,om=an&&an.isTypedArray,J8=om?kr(om):j8,Pa=J8,e3=Object.prototype,t3=e3.hasOwnProperty;function am(e,r){var t=se(e),n=!t&&zo(e),i=!t&&!n&&Ji(e),o=!t&&!n&&!i&&Pa(e),a=t||n||i||o,l=a?ud(e.length,String):[],s=l.length;for(var f in e)(r||t3.call(e,f))&&!(a&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||gi(f,s)))&&l.push(f);return l}function lm(e,r){return function(t){return e(r(t))}}var r3=lm(Object.keys,Object),n3=r3,i3=Object.prototype,o3=i3.hasOwnProperty;function hd(e){if(!kl(e))return n3(e);var r=[];for(var t in Object(e))o3.call(e,t)&&t!="constructor"&&r.push(t);return r}function xt(e){return Lr(e)?am(e):hd(e)}var a3=Object.prototype,l3=a3.hasOwnProperty,s3=Fa(function(e,r){if(kl(r)||Lr(r)){Kn(r,xt(r),e);return}for(var t in r)l3.call(r,t)&&zl(e,t,r[t])}),sm=s3;function u3(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var f3=Object.prototype,c3=f3.hasOwnProperty;function h3(e){if(!Ke(e))return u3(e);var r=kl(e),t=[];for(var n in e)n=="constructor"&&(r||!c3.call(e,n))||t.push(n);return t}function Ar(e){return Lr(e)?am(e,!0):h3(e)}var d3=Fa(function(e,r){Kn(r,Ar(r),e)}),um=d3,v3=Fa(function(e,r,t,n){Kn(r,Ar(r),e,n)}),ju=v3,p3=Fa(function(e,r,t,n){Kn(r,xt(r),e,n)}),g3=p3,y3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C3=/^\w*$/;function dd(e,r){if(se(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Pr(e)?!0:C3.test(e)||!y3.test(e)||r!=null&&e in Object(r)}var m3=Ho(Object,"create"),Gl=m3;function _3(){this.__data__=Gl?Gl(null):{},this.size=0}function w3(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var x3="__lodash_hash_undefined__",S3=Object.prototype,b3=S3.hasOwnProperty;function T3(e){var r=this.__data__;if(Gl){var t=r[e];return t===x3?void 0:t}return b3.call(r,e)?r[e]:void 0}var E3=Object.prototype,L3=E3.hasOwnProperty;function A3(e){var r=this.__data__;return Gl?r[e]!==void 0:L3.call(r,e)}var R3="__lodash_hash_undefined__";function O3(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Gl&&r===void 0?R3:r,this}function ko(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}ko.prototype.clear=_3,ko.prototype.delete=w3,ko.prototype.get=T3,ko.prototype.has=A3,ko.prototype.set=O3;function I3(){this.__data__=[],this.size=0}function Zu(e,r){for(var t=e.length;t--;)if(Tn(e[t][0],r))return t;return-1}var M3=Array.prototype,B3=M3.splice;function D3(e){var r=this.__data__,t=Zu(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():B3.call(r,t,1),--this.size,!0}function $3(e){var r=this.__data__,t=Zu(r,e);return t<0?void 0:r[t][1]}function F3(e){return Zu(this.__data__,e)>-1}function P3(e,r){var t=this.__data__,n=Zu(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}function mi(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}mi.prototype.clear=I3,mi.prototype.delete=D3,mi.prototype.get=$3,mi.prototype.has=F3,mi.prototype.set=P3;var N3=Ho(Nt,"Map"),Ul=N3;function H3(){this.size=0,this.__data__={hash:new ko,map:new(Ul||mi),string:new ko}}function z3(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Qu(e,r){var t=e.__data__;return z3(r)?t[typeof r=="string"?"string":"hash"]:t.map}function k3(e){var r=Qu(this,e).delete(e);return this.size-=r?1:0,r}function W3(e){return Qu(this,e).get(e)}function G3(e){return Qu(this,e).has(e)}function U3(e,r){var t=Qu(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}function _i(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}_i.prototype.clear=H3,_i.prototype.delete=k3,_i.prototype.get=W3,_i.prototype.has=G3,_i.prototype.set=U3;var Y3="Expected a function";function Wo(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Y3);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return t.cache=o.set(i,a)||o,a};return t.cache=new(Wo.Cache||_i),t}Wo.Cache=_i;var X3=500;function V3(e){var r=Wo(e,function(n){return t.size===X3&&t.clear(),n}),t=r.cache;return r}var q3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K3=/\\(\\)?/g,j3=V3(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(q3,function(t,n,i,o){r.push(i?o.replace(K3,"$1"):n||t)}),r}),fm=j3;function je(e){return e==null?"":Nr(e)}function eo(e,r){return se(e)?e:dd(e,r)?[e]:fm(je(e))}var Z3=1/0;function jn(e){if(typeof e=="string"||Pr(e))return e;var r=e+"";return r=="0"&&1/e==-Z3?"-0":r}function Go(e,r){r=eo(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[jn(r[t++])];return t&&t==n?e:void 0}function ve(e,r,t){var n=e==null?void 0:Go(e,r);return n===void 0?t:n}function vd(e,r){for(var t=-1,n=r.length,i=Array(n),o=e==null;++t<n;)i[t]=o?void 0:ve(e,r[t]);return i}function to(e,r){for(var t=-1,n=r.length,i=e.length;++t<n;)e[i+t]=r[t];return e}var cm=tr?tr.isConcatSpreadable:void 0;function Q3(e){return se(e)||zo(e)||!!(cm&&e&&e[cm])}function Wt(e,r,t,n,i){var o=-1,a=e.length;for(t||(t=Q3),i||(i=[]);++o<a;){var l=e[o];r>0&&t(l)?r>1?Wt(l,r-1,t,n,i):to(i,l):n||(i[i.length]=l)}return i}function pd(e){var r=e==null?0:e.length;return r?Wt(e,1):[]}function wi(e){return id(QC(e,void 0,pd),e+"")}var J3=wi(vd),e5=J3,t5=lm(Object.getPrototypeOf,Object),Ju=t5,r5="[object Object]",n5=Function.prototype,i5=Object.prototype,hm=n5.toString,o5=i5.hasOwnProperty,a5=hm.call(Object);function Yl(e){if(!bt(e)||hr(e)!=r5)return!1;var r=Ju(e);if(r===null)return!0;var t=o5.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&hm.call(t)==a5}var l5="[object DOMException]",s5="[object Error]";function gd(e){if(!bt(e))return!1;var r=hr(e);return r==s5||r==l5||typeof e.message=="string"&&typeof e.name=="string"&&!Yl(e)}var u5=$e(function(e,r){try{return zr(e,void 0,r)}catch(t){return gd(t)?t:new Error(t)}}),dm=u5,f5="Expected a function";function vm(e,r){var t;if(typeof r!="function")throw new TypeError(f5);return e=Me(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=void 0),t}}var c5=1,h5=32,yd=$e(function(e,r,t){var n=c5;if(t.length){var i=Qi(t,$a(yd));n|=h5}return yi(e,n,r,t,i)});yd.placeholder={};var pm=yd,d5=wi(function(e,r){return on(r,function(t){t=jn(t),Ci(e,t,pm(e[t],e))}),e}),v5=d5,p5=1,g5=2,y5=32,Cd=$e(function(e,r,t){var n=p5|g5;if(t.length){var i=Qi(t,$a(Cd));n|=y5}return yi(r,n,e,t,i)});Cd.placeholder={};var C5=Cd;function ln(e,r,t){var n=-1,i=e.length;r<0&&(r=-r>i?0:i+r),t=t>i?i:t,t<0&&(t+=i),i=r>t?0:t-r>>>0,r>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+r];return o}function ro(e,r,t){var n=e.length;return t=t===void 0?n:t,!r&&t>=n?e:ln(e,r,t)}var m5="\\ud800-\\udfff",_5="\\u0300-\\u036f",w5="\\ufe20-\\ufe2f",x5="\\u20d0-\\u20ff",S5=_5+w5+x5,b5="\\ufe0e\\ufe0f",T5="\\u200d",E5=RegExp("["+T5+m5+S5+b5+"]");function Na(e){return E5.test(e)}function L5(e){return e.split("")}var gm="\\ud800-\\udfff",A5="\\u0300-\\u036f",R5="\\ufe20-\\ufe2f",O5="\\u20d0-\\u20ff",I5=A5+R5+O5,M5="\\ufe0e\\ufe0f",B5="["+gm+"]",md="["+I5+"]",_d="\\ud83c[\\udffb-\\udfff]",D5="(?:"+md+"|"+_d+")",ym="[^"+gm+"]",Cm="(?:\\ud83c[\\udde6-\\uddff]){2}",mm="[\\ud800-\\udbff][\\udc00-\\udfff]",$5="\\u200d",_m=D5+"?",wm="["+M5+"]?",F5="(?:"+$5+"(?:"+[ym,Cm,mm].join("|")+")"+wm+_m+")*",P5=wm+_m+F5,N5="(?:"+[ym+md+"?",md,Cm,mm,B5].join("|")+")",H5=RegExp(_d+"(?="+_d+")|"+N5+P5,"g");function z5(e){return e.match(H5)||[]}function En(e){return Na(e)?z5(e):L5(e)}function xm(e){return function(r){r=je(r);var t=Na(r)?En(r):void 0,n=t?t[0]:r.charAt(0),i=t?ro(t,1).join(""):r.slice(1);return n[e]()+i}}var k5=xm("toUpperCase"),wd=k5;function Sm(e){return wd(je(e).toLowerCase())}function xd(e,r,t,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(t=e[++i]);++i<o;)t=r(t,e[i],i,e);return t}function Sd(e){return function(r){return e==null?void 0:e[r]}}var W5={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},G5=Sd(W5),U5=G5,Y5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,X5="\\u0300-\\u036f",V5="\\ufe20-\\ufe2f",q5="\\u20d0-\\u20ff",K5=X5+V5+q5,j5="["+K5+"]",Z5=RegExp(j5,"g");function bm(e){return e=je(e),e&&e.replace(Y5,U5).replace(Z5,"")}var Q5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function J5(e){return e.match(Q5)||[]}var eB=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function tB(e){return eB.test(e)}var Tm="\\ud800-\\udfff",rB="\\u0300-\\u036f",nB="\\ufe20-\\ufe2f",iB="\\u20d0-\\u20ff",oB=rB+nB+iB,Em="\\u2700-\\u27bf",Lm="a-z\\xdf-\\xf6\\xf8-\\xff",aB="\\xac\\xb1\\xd7\\xf7",lB="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sB="\\u2000-\\u206f",uB=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Am="A-Z\\xc0-\\xd6\\xd8-\\xde",fB="\\ufe0e\\ufe0f",Rm=aB+lB+sB+uB,Om="['’]",Im="["+Rm+"]",cB="["+oB+"]",Mm="\\d+",hB="["+Em+"]",Bm="["+Lm+"]",Dm="[^"+Tm+Rm+Mm+Em+Lm+Am+"]",dB="\\ud83c[\\udffb-\\udfff]",vB="(?:"+cB+"|"+dB+")",pB="[^"+Tm+"]",$m="(?:\\ud83c[\\udde6-\\uddff]){2}",Fm="[\\ud800-\\udbff][\\udc00-\\udfff]",Ha="["+Am+"]",gB="\\u200d",Pm="(?:"+Bm+"|"+Dm+")",yB="(?:"+Ha+"|"+Dm+")",Nm="(?:"+Om+"(?:d|ll|m|re|s|t|ve))?",Hm="(?:"+Om+"(?:D|LL|M|RE|S|T|VE))?",zm=vB+"?",km="["+fB+"]?",CB="(?:"+gB+"(?:"+[pB,$m,Fm].join("|")+")"+km+zm+")*",mB="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_B="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wB=km+zm+CB,xB="(?:"+[hB,$m,Fm].join("|")+")"+wB,SB=RegExp([Ha+"?"+Bm+"+"+Nm+"(?="+[Im,Ha,"$"].join("|")+")",yB+"+"+Hm+"(?="+[Im,Ha+Pm,"$"].join("|")+")",Ha+"?"+Pm+"+"+Nm,Ha+"+"+Hm,_B,mB,Mm,xB].join("|"),"g");function bB(e){return e.match(SB)||[]}function Wm(e,r,t){return e=je(e),r=t?void 0:r,r===void 0?tB(e)?bB(e):J5(e):e.match(r)||[]}var TB="['’]",EB=RegExp(TB,"g");function za(e){return function(r){return xd(Wm(bm(r).replace(EB,"")),e,"")}}var LB=za(function(e,r,t){return r=r.toLowerCase(),e+(t?Sm(r):r)}),AB=LB;function RB(){if(!arguments.length)return[];var e=arguments[0];return se(e)?e:[e]}var OB=Nt.isFinite,IB=Math.min;function bd(e){var r=Math[e];return function(t,n){if(t=Hr(t),n=n==null?0:IB(Me(n),292),n&&OB(t)){var i=(je(t)+"e").split("e"),o=r(i[0]+"e"+(+i[1]+n));return i=(je(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return r(t)}}var MB=bd("ceil"),BB=MB;function Gm(e){var r=A(e);return r.__chain__=!0,r}var DB=Math.ceil,$B=Math.max;function FB(e,r,t){(t?dr(e,r,t):r===void 0)?r=1:r=$B(Me(r),0);var n=e==null?0:e.length;if(!n||r<1)return[];for(var i=0,o=0,a=Array(DB(n/r));i<n;)a[o++]=ln(e,i,i+=r);return a}function Uo(e,r,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),r!==void 0&&(e=e>=r?e:r)),e}function ef(e,r,t){return t===void 0&&(t=r,r=void 0),t!==void 0&&(t=Hr(t),t=t===t?t:0),r!==void 0&&(r=Hr(r),r=r===r?r:0),Uo(Hr(e),r,t)}function PB(){this.__data__=new mi,this.size=0}function NB(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function HB(e){return this.__data__.get(e)}function zB(e){return this.__data__.has(e)}var kB=200;function WB(e,r){var t=this.__data__;if(t instanceof mi){var n=t.__data__;if(!Ul||n.length<kB-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new _i(n)}return t.set(e,r),this.size=t.size,this}function Ln(e){var r=this.__data__=new mi(e);this.size=r.size}Ln.prototype.clear=PB,Ln.prototype.delete=NB,Ln.prototype.get=HB,Ln.prototype.has=zB,Ln.prototype.set=WB;function Um(e,r){return e&&Kn(r,xt(r),e)}function GB(e,r){return e&&Kn(r,Ar(r),e)}var Ym=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,Xm=Ym&&typeof module=="object"&&module&&!module.nodeType&&module,UB=Xm&&Xm.exports===Ym,Vm=UB?Nt.Buffer:void 0,qm=Vm?Vm.allocUnsafe:void 0;function Km(e,r){if(r)return e.slice();var t=e.length,n=qm?qm(t):new e.constructor(t);return e.copy(n),n}function no(e,r){for(var t=-1,n=e==null?0:e.length,i=0,o=[];++t<n;){var a=e[t];r(a,t,e)&&(o[i++]=a)}return o}function Td(){return[]}var YB=Object.prototype,XB=YB.propertyIsEnumerable,jm=Object.getOwnPropertySymbols,VB=jm?function(e){return e==null?[]:(e=Object(e),no(jm(e),function(r){return XB.call(e,r)}))}:Td,Ed=VB;function qB(e,r){return Kn(e,Ed(e),r)}var KB=Object.getOwnPropertySymbols,jB=KB?function(e){for(var r=[];e;)to(r,Ed(e)),e=Ju(e);return r}:Td,Zm=jB;function ZB(e,r){return Kn(e,Zm(e),r)}function Qm(e,r,t){var n=r(e);return se(e)?n:to(n,t(e))}function Ld(e){return Qm(e,xt,Ed)}function Ad(e){return Qm(e,Ar,Zm)}var QB=Ho(Nt,"DataView"),Rd=QB,JB=Ho(Nt,"Promise"),Od=JB,e4=Ho(Nt,"Set"),ka=e4,Jm="[object Map]",t4="[object Object]",e_="[object Promise]",t_="[object Set]",r_="[object WeakMap]",n_="[object DataView]",r4=No(Rd),n4=No(Ul),i4=No(Od),o4=No(ka),a4=No(Pl),Yo=hr;(Rd&&Yo(new Rd(new ArrayBuffer(1)))!=n_||Ul&&Yo(new Ul)!=Jm||Od&&Yo(Od.resolve())!=e_||ka&&Yo(new ka)!=t_||Pl&&Yo(new Pl)!=r_)&&(Yo=function(e){var r=hr(e),t=r==t4?e.constructor:void 0,n=t?No(t):"";if(n)switch(n){case r4:return n_;case n4:return Jm;case i4:return e_;case o4:return t_;case a4:return r_}return r});var Zn=Yo,l4=Object.prototype,s4=l4.hasOwnProperty;function u4(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&s4.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var f4=Nt.Uint8Array,tf=f4;function Id(e){var r=new e.constructor(e.byteLength);return new tf(r).set(new tf(e)),r}function c4(e,r){var t=r?Id(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var h4=/\w*$/;function d4(e){var r=new e.constructor(e.source,h4.exec(e));return r.lastIndex=e.lastIndex,r}var i_=tr?tr.prototype:void 0,o_=i_?i_.valueOf:void 0;function v4(e){return o_?Object(o_.call(e)):{}}function a_(e,r){var t=r?Id(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var p4="[object Boolean]",g4="[object Date]",y4="[object Map]",C4="[object Number]",m4="[object RegExp]",_4="[object Set]",w4="[object String]",x4="[object Symbol]",S4="[object ArrayBuffer]",b4="[object DataView]",T4="[object Float32Array]",E4="[object Float64Array]",L4="[object Int8Array]",A4="[object Int16Array]",R4="[object Int32Array]",O4="[object Uint8Array]",I4="[object Uint8ClampedArray]",M4="[object Uint16Array]",B4="[object Uint32Array]";function D4(e,r,t){var n=e.constructor;switch(r){case S4:return Id(e);case p4:case g4:return new n(+e);case b4:return c4(e,t);case T4:case E4:case L4:case A4:case R4:case O4:case I4:case M4:case B4:return a_(e,t);case y4:return new n;case C4:case w4:return new n(e);case m4:return d4(e);case _4:return new n;case x4:return v4(e)}}function l_(e){return typeof e.constructor=="function"&&!kl(e)?Ia(Ju(e)):{}}var $4="[object Map]";function F4(e){return bt(e)&&Zn(e)==$4}var s_=an&&an.isMap,P4=s_?kr(s_):F4,u_=P4,N4="[object Set]";function H4(e){return bt(e)&&Zn(e)==N4}var f_=an&&an.isSet,z4=f_?kr(f_):H4,c_=z4,k4=1,W4=2,G4=4,h_="[object Arguments]",U4="[object Array]",Y4="[object Boolean]",X4="[object Date]",V4="[object Error]",d_="[object Function]",q4="[object GeneratorFunction]",K4="[object Map]",j4="[object Number]",v_="[object Object]",Z4="[object RegExp]",Q4="[object Set]",J4="[object String]",eD="[object Symbol]",tD="[object WeakMap]",rD="[object ArrayBuffer]",nD="[object DataView]",iD="[object Float32Array]",oD="[object Float64Array]",aD="[object Int8Array]",lD="[object Int16Array]",sD="[object Int32Array]",uD="[object Uint8Array]",fD="[object Uint8ClampedArray]",cD="[object Uint16Array]",hD="[object Uint32Array]",ft={};ft[h_]=ft[U4]=ft[rD]=ft[nD]=ft[Y4]=ft[X4]=ft[iD]=ft[oD]=ft[aD]=ft[lD]=ft[sD]=ft[K4]=ft[j4]=ft[v_]=ft[Z4]=ft[Q4]=ft[J4]=ft[eD]=ft[uD]=ft[fD]=ft[cD]=ft[hD]=!0,ft[V4]=ft[d_]=ft[tD]=!1;function sn(e,r,t,n,i,o){var a,l=r&k4,s=r&W4,f=r&G4;if(t&&(a=i?t(e,n,i,o):t(e)),a!==void 0)return a;if(!Ke(e))return e;var h=se(e);if(h){if(a=u4(e),!l)return Er(e,a)}else{var d=Zn(e),v=d==d_||d==q4;if(Ji(e))return Km(e,l);if(d==v_||d==h_||v&&!i){if(a=s||v?{}:l_(e),!l)return s?ZB(e,GB(a,e)):qB(e,Um(a,e))}else{if(!ft[d])return i?e:{};a=D4(e,d,l)}}o||(o=new Ln);var g=o.get(e);if(g)return g;o.set(e,a),c_(e)?e.forEach(function(_){a.add(sn(_,r,t,_,e,o))}):u_(e)&&e.forEach(function(_,w){a.set(w,sn(_,r,t,w,e,o))});var y=f?s?Ad:Ld:s?Ar:xt,C=h?void 0:y(e);return on(C||e,function(_,w){C&&(w=_,_=e[w]),zl(a,w,sn(_,r,t,w,e,o))}),a}var dD=4;function Wa(e){return sn(e,dD)}var vD=1,pD=4;function Md(e){return sn(e,vD|pD)}var gD=1,yD=4;function CD(e,r){return r=typeof r=="function"?r:void 0,sn(e,gD|yD,r)}var mD=4;function _D(e,r){return r=typeof r=="function"?r:void 0,sn(e,mD,r)}function wD(){return new nn(this.value(),this.__chain__)}function An(e){for(var r=-1,t=e==null?0:e.length,n=0,i=[];++r<t;){var o=e[r];o&&(i[n++]=o)}return i}function Ga(){var e=arguments.length;if(!e)return[];for(var r=Array(e-1),t=arguments[0],n=e;n--;)r[n-1]=arguments[n];return to(se(t)?Er(t):[t],Wt(r,1))}var xD="__lodash_hash_undefined__";function SD(e){return this.__data__.set(e,xD),this}function bD(e){return this.__data__.has(e)}function Xo(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new _i;++r<t;)this.add(e[r])}Xo.prototype.add=Xo.prototype.push=SD,Xo.prototype.has=bD;function Bd(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}function Xl(e,r){return e.has(r)}var TD=1,ED=2;function p_(e,r,t,n,i,o){var a=t&TD,l=e.length,s=r.length;if(l!=s&&!(a&&s>l))return!1;var f=o.get(e),h=o.get(r);if(f&&h)return f==r&&h==e;var d=-1,v=!0,g=t&ED?new Xo:void 0;for(o.set(e,r),o.set(r,e);++d<l;){var y=e[d],C=r[d];if(n)var _=a?n(C,y,d,r,e,o):n(y,C,d,e,r,o);if(_!==void 0){if(_)continue;v=!1;break}if(g){if(!Bd(r,function(w,S){if(!Xl(g,S)&&(y===w||i(y,w,t,n,o)))return g.push(S)})){v=!1;break}}else if(!(y===C||i(y,C,t,n,o))){v=!1;break}}return o.delete(e),o.delete(r),v}function Dd(e){var r=-1,t=Array(e.size);return e.forEach(function(n,i){t[++r]=[i,n]}),t}function rf(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var LD=1,AD=2,RD="[object Boolean]",OD="[object Date]",ID="[object Error]",MD="[object Map]",BD="[object Number]",DD="[object RegExp]",$D="[object Set]",FD="[object String]",PD="[object Symbol]",ND="[object ArrayBuffer]",HD="[object DataView]",g_=tr?tr.prototype:void 0,$d=g_?g_.valueOf:void 0;function zD(e,r,t,n,i,o,a){switch(t){case HD:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case ND:return!(e.byteLength!=r.byteLength||!o(new tf(e),new tf(r)));case RD:case OD:case BD:return Tn(+e,+r);case ID:return e.name==r.name&&e.message==r.message;case DD:case FD:return e==r+"";case MD:var l=Dd;case $D:var s=n&LD;if(l||(l=rf),e.size!=r.size&&!s)return!1;var f=a.get(e);if(f)return f==r;n|=AD,a.set(e,r);var h=p_(l(e),l(r),n,i,o,a);return a.delete(e),h;case PD:if($d)return $d.call(e)==$d.call(r)}return!1}var kD=1,WD=Object.prototype,GD=WD.hasOwnProperty;function UD(e,r,t,n,i,o){var a=t&kD,l=Ld(e),s=l.length,f=Ld(r),h=f.length;if(s!=h&&!a)return!1;for(var d=s;d--;){var v=l[d];if(!(a?v in r:GD.call(r,v)))return!1}var g=o.get(e),y=o.get(r);if(g&&y)return g==r&&y==e;var C=!0;o.set(e,r),o.set(r,e);for(var _=a;++d<s;){v=l[d];var w=e[v],S=r[v];if(n)var b=a?n(S,w,v,r,e,o):n(w,S,v,e,r,o);if(!(b===void 0?w===S||i(w,S,t,n,o):b)){C=!1;break}_||(_=v=="constructor")}if(C&&!_){var E=e.constructor,O=r.constructor;E!=O&&"constructor"in e&&"constructor"in r&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(C=!1)}return o.delete(e),o.delete(r),C}var YD=1,y_="[object Arguments]",C_="[object Array]",nf="[object Object]",XD=Object.prototype,m_=XD.hasOwnProperty;function VD(e,r,t,n,i,o){var a=se(e),l=se(r),s=a?C_:Zn(e),f=l?C_:Zn(r);s=s==y_?nf:s,f=f==y_?nf:f;var h=s==nf,d=f==nf,v=s==f;if(v&&Ji(e)){if(!Ji(r))return!1;a=!0,h=!1}if(v&&!h)return o||(o=new Ln),a||Pa(e)?p_(e,r,t,n,i,o):zD(e,r,s,t,n,i,o);if(!(t&YD)){var g=h&&m_.call(e,"__wrapped__"),y=d&&m_.call(r,"__wrapped__");if(g||y){var C=g?e.value():e,_=y?r.value():r;return o||(o=new Ln),i(C,_,t,n,o)}}return v?(o||(o=new Ln),UD(e,r,t,n,i,o)):!1}function Vl(e,r,t,n,i){return e===r?!0:e==null||r==null||!bt(e)&&!bt(r)?e!==e&&r!==r:VD(e,r,t,n,Vl,i)}var qD=1,KD=2;function Fd(e,r,t,n){var i=t.length,o=i,a=!n;if(e==null)return!o;for(e=Object(e);i--;){var l=t[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){l=t[i];var s=l[0],f=e[s],h=l[1];if(a&&l[2]){if(f===void 0&&!(s in e))return!1}else{var d=new Ln;if(n)var v=n(f,h,s,e,r,d);if(!(v===void 0?Vl(h,f,qD|KD,n,d):v))return!1}}return!0}function __(e){return e===e&&!Ke(e)}function Pd(e){for(var r=xt(e),t=r.length;t--;){var n=r[t],i=e[n];r[t]=[n,i,__(i)]}return r}function w_(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}function x_(e){var r=Pd(e);return r.length==1&&r[0][2]?w_(r[0][0],r[0][1]):function(t){return t===e||Fd(t,e,r)}}function jD(e,r){return e!=null&&r in Object(e)}function S_(e,r,t){r=eo(r,e);for(var n=-1,i=r.length,o=!1;++n<i;){var a=jn(r[n]);if(!(o=e!=null&&t(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Ku(i)&&gi(a,i)&&(se(e)||zo(e)))}function Vo(e,r){return e!=null&&S_(e,r,jD)}var ZD=1,QD=2;function b_(e,r){return dd(e)&&__(r)?w_(jn(e),r):function(t){var n=ve(t,e);return n===void 0&&n===r?Vo(t,e):Vl(r,n,ZD|QD)}}function Nd(e){return function(r){return r==null?void 0:r[e]}}function JD(e){return function(r){return Go(r,e)}}function T_(e){return dd(e)?Nd(jn(e)):JD(e)}function Le(e){return typeof e=="function"?e:e==null?rr:typeof e=="object"?se(e)?b_(e[0],e[1]):x_(e):T_(e)}var e9="Expected a function";function E_(e){var r=e==null?0:e.length,t=Le;return e=r?yt(e,function(n){if(typeof n[1]!="function")throw new TypeError(e9);return[t(n[0]),n[1]]}):[],$e(function(n){for(var i=-1;++i<r;){var o=e[i];if(zr(o[0],this,n))return zr(o[1],this,n)}})}function L_(e,r,t){var n=t.length;if(e==null)return!n;for(e=Object(e);n--;){var i=t[n],o=r[i],a=e[i];if(a===void 0&&!(i in e)||!o(a))return!1}return!0}function t9(e){var r=xt(e);return function(t){return L_(t,e,r)}}var r9=1;function n9(e){return t9(sn(e,r9))}function i9(e,r){return r==null||L_(e,r,xt(r))}function o9(e,r,t,n){for(var i=-1,o=e==null?0:e.length;++i<o;){var a=e[i];r(n,a,t(a),e)}return n}function A_(e){return function(r,t,n){for(var i=-1,o=Object(r),a=n(r),l=a.length;l--;){var s=a[e?l:++i];if(t(o[s],s,o)===!1)break}return r}}var a9=A_(),Hd=a9;function Qn(e,r){return e&&Hd(e,r,xt)}function R_(e,r){return function(t,n){if(t==null)return t;if(!Lr(t))return e(t,n);for(var i=t.length,o=r?i:-1,a=Object(t);(r?o--:++o<i)&&n(a[o],o,a)!==!1;);return t}}var l9=R_(Qn),io=l9;function s9(e,r,t,n){return io(e,function(i,o,a){r(n,i,t(i),a)}),n}function of(e,r){return function(t,n){var i=se(t)?o9:s9,o=r?r():{};return i(t,e,Le(n),o)}}var u9=Object.prototype,f9=u9.hasOwnProperty,c9=of(function(e,r,t){f9.call(e,t)?++e[t]:Ci(e,t,1)}),h9=c9;function d9(e,r){var t=Ia(e);return r==null?t:Um(t,r)}var v9=8;function zd(e,r,t){r=t?void 0:r;var n=yi(e,v9,void 0,void 0,void 0,void 0,void 0,r);return n.placeholder=zd.placeholder,n}zd.placeholder={};var p9=16;function kd(e,r,t){r=t?void 0:r;var n=yi(e,p9,void 0,void 0,void 0,void 0,void 0,r);return n.placeholder=kd.placeholder,n}kd.placeholder={};var g9=function(){return Nt.Date.now()},af=g9,y9="Expected a function",C9=Math.max,m9=Math.min;function ql(e,r,t){var n,i,o,a,l,s,f=0,h=!1,d=!1,v=!0;if(typeof e!="function")throw new TypeError(y9);r=Hr(r)||0,Ke(t)&&(h=!!t.leading,d="maxWait"in t,o=d?C9(Hr(t.maxWait)||0,r):o,v="trailing"in t?!!t.trailing:v);function g(D){var F=n,H=i;return n=i=void 0,f=D,a=e.apply(H,F),a}function y(D){return f=D,l=setTimeout(w,r),h?g(D):a}function C(D){var F=D-s,H=D-f,k=r-F;return d?m9(k,o-H):k}function _(D){var F=D-s,H=D-f;return s===void 0||F>=r||F<0||d&&H>=o}function w(){var D=af();if(_(D))return S(D);l=setTimeout(w,C(D))}function S(D){return l=void 0,v&&n?g(D):(n=i=void 0,a)}function b(){l!==void 0&&clearTimeout(l),f=0,n=s=i=l=void 0}function E(){return l===void 0?a:S(af())}function O(){var D=af(),F=_(D);if(n=arguments,i=this,s=D,F){if(l===void 0)return y(s);if(d)return clearTimeout(l),l=setTimeout(w,r),g(s)}return l===void 0&&(l=setTimeout(w,r)),a}return O.cancel=b,O.flush=E,O}function _9(e,r){return e==null||e!==e?r:e}var O_=Object.prototype,w9=O_.hasOwnProperty,x9=$e(function(e,r){e=Object(e);var t=-1,n=r.length,i=n>2?r[2]:void 0;for(i&&dr(r[0],r[1],i)&&(n=1);++t<n;)for(var o=r[t],a=Ar(o),l=-1,s=a.length;++l<s;){var f=a[l],h=e[f];(h===void 0||Tn(h,O_[f])&&!w9.call(e,f))&&(e[f]=o[f])}return e}),S9=x9;function Wd(e,r,t){(t!==void 0&&!Tn(e[r],t)||t===void 0&&!(r in e))&&Ci(e,r,t)}function Lt(e){return bt(e)&&Lr(e)}function Gd(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}function I_(e){return Kn(e,Ar(e))}function b9(e,r,t,n,i,o,a){var l=Gd(e,t),s=Gd(r,t),f=a.get(s);if(f){Wd(e,t,f);return}var h=o?o(l,s,t+"",e,r,a):void 0,d=h===void 0;if(d){var v=se(s),g=!v&&Ji(s),y=!v&&!g&&Pa(s);h=s,v||g||y?se(l)?h=l:Lt(l)?h=Er(l):g?(d=!1,h=Km(s,!0)):y?(d=!1,h=a_(s,!0)):h=[]:Yl(s)||zo(s)?(h=l,zo(l)?h=I_(l):(!Ke(l)||Ht(l))&&(h=l_(s))):d=!1}d&&(a.set(s,h),i(h,s,n,o,a),a.delete(s)),Wd(e,t,h)}function lf(e,r,t,n,i){e!==r&&Hd(r,function(o,a){if(i||(i=new Ln),Ke(o))b9(e,r,a,t,lf,n,i);else{var l=n?n(Gd(e,a),o,a+"",e,r,i):void 0;l===void 0&&(l=o),Wd(e,a,l)}},Ar)}function M_(e,r,t,n,i,o){return Ke(e)&&Ke(r)&&(o.set(r,e),lf(e,r,void 0,M_,o),o.delete(r)),e}var T9=Fa(function(e,r,t,n){lf(e,r,t,n)}),Ud=T9,E9=$e(function(e){return e.push(void 0,M_),zr(Ud,void 0,e)}),L9=E9,A9="Expected a function";function B_(e,r,t){if(typeof e!="function")throw new TypeError(A9);return setTimeout(function(){e.apply(void 0,t)},r)}var R9=$e(function(e,r){return B_(e,1,r)}),O9=R9,I9=$e(function(e,r,t){return B_(e,Hr(r)||0,t)}),M9=I9;function Yd(e,r,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(r,e[n]))return!0;return!1}var B9=200;function Kl(e,r,t,n){var i=-1,o=Vu,a=!0,l=e.length,s=[],f=r.length;if(!l)return s;t&&(r=yt(r,kr(t))),n?(o=Yd,a=!1):r.length>=B9&&(o=Xl,a=!1,r=new Xo(r));e:for(;++i<l;){var h=e[i],d=t==null?h:t(h);if(h=n||h!==0?h:0,a&&d===d){for(var v=f;v--;)if(r[v]===d)continue e;s.push(h)}else o(r,d,n)||s.push(h)}return s}var D9=$e(function(e,r){return Lt(e)?Kl(e,Wt(r,1,Lt,!0)):[]}),D_=D9;function nt(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var $9=$e(function(e,r){var t=nt(r);return Lt(t)&&(t=void 0),Lt(e)?Kl(e,Wt(r,1,Lt,!0),Le(t)):[]}),F9=$9,P9=$e(function(e,r){var t=nt(r);return Lt(t)&&(t=void 0),Lt(e)?Kl(e,Wt(r,1,Lt,!0),void 0,t):[]}),$_=P9,N9=Hu(function(e,r){return e/r},1),H9=N9;function z9(e,r,t){var n=e==null?0:e.length;return n?(r=t||r===void 0?1:Me(r),ln(e,r<0?0:r,n)):[]}function k9(e,r,t){var n=e==null?0:e.length;return n?(r=t||r===void 0?1:Me(r),r=n-r,ln(e,0,r<0?0:r)):[]}function sf(e,r,t,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&r(e[o],o,e););return t?ln(e,n?0:o,n?o+1:i):ln(e,n?o+1:0,n?i:o)}function W9(e,r){return e&&e.length?sf(e,Le(r),!0,!0):[]}function G9(e,r){return e&&e.length?sf(e,Le(r),!0):[]}function Jn(e){return typeof e=="function"?e:rr}function _e(e,r){var t=se(e)?on:io;return t(e,Jn(r))}function U9(e,r){for(var t=e==null?0:e.length;t--&&r(e[t],t,e)!==!1;);return e}var Y9=A_(!0),F_=Y9;function Xd(e,r){return e&&F_(e,r,xt)}var X9=R_(Xd,!0),P_=X9;function N_(e,r){var t=se(e)?U9:P_;return t(e,Jn(r))}function H_(e,r,t){e=je(e),r=Nr(r);var n=e.length;t=t===void 0?n:Uo(Me(t),0,n);var i=t;return t-=r.length,t>=0&&e.slice(t,i)==r}function V9(e,r){return yt(r,function(t){return[t,e[t]]})}function q9(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=[n,n]}),t}var K9="[object Map]",j9="[object Set]";function z_(e){return function(r){var t=Zn(r);return t==K9?Dd(r):t==j9?q9(r):V9(r,e(r))}}var Z9=z_(xt),k_=Z9,Q9=z_(Ar),W_=Q9,J9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},e$=Sd(J9),t$=e$,G_=/[&<>"']/g,r$=RegExp(G_.source);function Vd(e){return e=je(e),e&&r$.test(e)?e.replace(G_,t$):e}var U_=/[\\^$.*+?()[\]{}|]/g,n$=RegExp(U_.source);function i$(e){return e=je(e),e&&n$.test(e)?e.replace(U_,"\\$&"):e}function Y_(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(!r(e[t],t,e))return!1;return!0}function o$(e,r){var t=!0;return io(e,function(n,i,o){return t=!!r(n,i,o),t}),t}function uf(e,r,t){var n=se(e)?Y_:o$;return t&&dr(e,r,t)&&(r=void 0),n(e,Le(r))}var a$=4294967295;function X_(e){return e?Uo(Me(e),0,a$):0}function l$(e,r,t,n){var i=e.length;for(t=Me(t),t<0&&(t=-t>i?0:i+t),n=n===void 0||n>i?i:Me(n),n<0&&(n+=i),n=t>n?0:X_(n);t<n;)e[t++]=r;return e}function s$(e,r,t,n){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&dr(e,r,t)&&(t=0,n=i),l$(e,r,t,n)):[]}function V_(e,r){var t=[];return io(e,function(n,i,o){r(n,i,o)&&t.push(n)}),t}function xi(e,r){var t=se(e)?no:V_;return t(e,Le(r))}function q_(e){return function(r,t,n){var i=Object(r);if(!Lr(r)){var o=Le(t);r=xt(r),t=function(l){return o(i[l],l,i)}}var a=e(r,t,n);return a>-1?i[o?r[a]:a]:void 0}}var u$=Math.max;function Ua(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var i=t==null?0:Me(t);return i<0&&(i=u$(n+i,0)),Xu(e,Le(r),i)}var f$=q_(Ua),nr=f$;function K_(e,r,t){var n;return t(e,function(i,o,a){if(r(i,o,a))return n=o,!1}),n}function c$(e,r){return K_(e,Le(r),Qn)}var h$=Math.max,d$=Math.min;function j_(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var i=n-1;return t!==void 0&&(i=Me(t),i=t<0?h$(n+i,0):d$(i,n-1)),Xu(e,Le(r),i,!0)}var v$=q_(j_),ff=v$;function p$(e,r){return K_(e,Le(r),Xd)}function qo(e){return e&&e.length?e[0]:void 0}function Z_(e,r){var t=-1,n=Lr(e)?Array(e.length):[];return io(e,function(i,o,a){n[++t]=r(i,o,a)}),n}function Ne(e,r){var t=se(e)?yt:Z_;return t(e,Le(r))}function jl(e,r){return Wt(Ne(e,r),1)}var g$=1/0;function y$(e,r){return Wt(Ne(e,r),g$)}function C$(e,r,t){return t=t===void 0?1:Me(t),Wt(Ne(e,r),t)}var m$=1/0;function Q_(e){var r=e==null?0:e.length;return r?Wt(e,m$):[]}function _$(e,r){var t=e==null?0:e.length;return t?(r=r===void 0?1:Me(r),Wt(e,r)):[]}var w$=512;function x$(e){return yi(e,w$)}var S$=bd("floor"),b$=S$,T$="Expected a function",E$=8,L$=32,A$=128,R$=256;function J_(e){return wi(function(r){var t=r.length,n=t,i=nn.prototype.thru;for(e&&r.reverse();n--;){var o=r[n];if(typeof o!="function")throw new TypeError(T$);if(i&&!a&&Uu(o)=="wrapper")var a=new nn([],!0)}for(n=a?n:t;++n<t;){o=r[n];var l=Uu(o),s=l=="wrapper"?rd(o):void 0;s&&nd(s[0])&&s[1]==(A$|E$|L$|R$)&&!s[4].length&&s[9]==1?a=a[Uu(s[0])].apply(a,s[3]):a=o.length==1&&nd(o)?a[l]():a.thru(o)}return function(){var f=arguments,h=f[0];if(a&&f.length==1&&se(h))return a.plant(h).value();for(var d=0,v=t?r[d].apply(this,f):h;++d<t;)v=r[d].call(this,v);return v}})}var O$=J_(),I$=O$,M$=J_(!0),B$=M$;function ew(e,r){return e==null?e:Hd(e,Jn(r),Ar)}function D$(e,r){return e==null?e:F_(e,Jn(r),Ar)}function $$(e,r){return e&&Qn(e,Jn(r))}function F$(e,r){return e&&Xd(e,Jn(r))}function P$(e){for(var r=-1,t=e==null?0:e.length,n={};++r<t;){var i=e[r];n[i[0]]=i[1]}return n}function cf(e,r){return no(r,function(t){return Ht(e[t])})}function N$(e){return e==null?[]:cf(e,xt(e))}function H$(e){return e==null?[]:cf(e,Ar(e))}var z$=Object.prototype,k$=z$.hasOwnProperty,W$=of(function(e,r,t){k$.call(e,t)?e[t].push(r):Ci(e,t,[r])}),G$=W$;function qd(e,r){return e>r}function hf(e){return function(r,t){return typeof r=="string"&&typeof t=="string"||(r=Hr(r),t=Hr(t)),e(r,t)}}var U$=hf(qd),Y$=U$,X$=hf(function(e,r){return e>=r}),V$=X$,q$=Object.prototype,K$=q$.hasOwnProperty;function j$(e,r){return e!=null&&K$.call(e,r)}function Kd(e,r){return e!=null&&S_(e,r,j$)}var Z$=Math.max,Q$=Math.min;function J$(e,r,t){return e>=Q$(r,t)&&e<Z$(r,t)}function jd(e,r,t){return r=pi(r),t===void 0?(t=r,r=0):t=pi(t),e=Hr(e),J$(e,r,t)}var eF="[object String]";function Ya(e){return typeof e=="string"||!se(e)&&bt(e)&&hr(e)==eF}function Zd(e,r){return yt(r,function(t){return e[t]})}function Si(e){return e==null?[]:Zd(e,xt(e))}var tF=Math.max;function vr(e,r,t,n){e=Lr(e)?e:Si(e),t=t&&!n?Me(t):0;var i=e.length;return t<0&&(t=tF(i+t,0)),Ya(e)?t<=i&&e.indexOf(r,t)>-1:!!i&&Da(e,r,t)>-1}var rF=Math.max;function df(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var i=t==null?0:Me(t);return i<0&&(i=rF(n+i,0)),Da(e,r,i)}function nF(e){var r=e==null?0:e.length;return r?ln(e,0,-1):[]}var iF=Math.min;function Qd(e,r,t){for(var n=t?Yd:Vu,i=e[0].length,o=e.length,a=o,l=Array(o),s=1/0,f=[];a--;){var h=e[a];a&&r&&(h=yt(h,kr(r))),s=iF(h.length,s),l[a]=!t&&(r||i>=120&&h.length>=120)?new Xo(a&&h):void 0}h=e[0];var d=-1,v=l[0];e:for(;++d<i&&f.length<s;){var g=h[d],y=r?r(g):g;if(g=t||g!==0?g:0,!(v?Xl(v,y):n(f,y,t))){for(a=o;--a;){var C=l[a];if(!(C?Xl(C,y):n(e[a],y,t)))continue e}v&&v.push(y),f.push(g)}}return f}function Jd(e){return Lt(e)?e:[]}var oF=$e(function(e){var r=yt(e,Jd);return r.length&&r[0]===e[0]?Qd(r):[]}),tw=oF,aF=$e(function(e){var r=nt(e),t=yt(e,Jd);return r===nt(t)?r=void 0:t.pop(),t.length&&t[0]===e[0]?Qd(t,Le(r)):[]}),lF=aF,sF=$e(function(e){var r=nt(e),t=yt(e,Jd);return r=typeof r=="function"?r:void 0,r&&t.pop(),t.length&&t[0]===e[0]?Qd(t,void 0,r):[]}),uF=sF;function fF(e,r,t,n){return Qn(e,function(i,o,a){r(n,t(i),o,a)}),n}function rw(e,r){return function(t,n){return fF(t,e,r(n),{})}}var cF=Object.prototype,hF=cF.toString,dF=rw(function(e,r,t){r!=null&&typeof r.toString!="function"&&(r=hF.call(r)),e[r]=t},Ba(rr)),vF=dF,nw=Object.prototype,pF=nw.hasOwnProperty,gF=nw.toString,yF=rw(function(e,r,t){r!=null&&typeof r.toString!="function"&&(r=gF.call(r)),pF.call(e,r)?e[r].push(t):e[r]=[t]},Le),CF=yF;function iw(e,r){return r.length<2?e:Go(e,ln(r,0,-1))}function Zl(e,r,t){r=eo(r,e),e=iw(e,r);var n=e==null?e:e[jn(nt(r))];return n==null?void 0:zr(n,e,t)}var mF=$e(Zl),_F=mF,wF=$e(function(e,r,t){var n=-1,i=typeof r=="function",o=Lr(e)?Array(e.length):[];return io(e,function(a){o[++n]=i?zr(r,a,t):Zl(a,r,t)}),o}),xF=wF,SF="[object ArrayBuffer]";function bF(e){return bt(e)&&hr(e)==SF}var ow=an&&an.isArrayBuffer,TF=ow?kr(ow):bF,EF=TF,LF="[object Boolean]";function ei(e){return e===!0||e===!1||bt(e)&&hr(e)==LF}var AF="[object Date]";function RF(e){return bt(e)&&hr(e)==AF}var aw=an&&an.isDate,OF=aw?kr(aw):RF,IF=OF;function MF(e){return bt(e)&&e.nodeType===1&&!Yl(e)}var BF="[object Map]",DF="[object Set]",$F=Object.prototype,FF=$F.hasOwnProperty;function J(e){if(e==null)return!0;if(Lr(e)&&(se(e)||typeof e=="string"||typeof e.splice=="function"||Ji(e)||Pa(e)||zo(e)))return!e.length;var r=Zn(e);if(r==BF||r==DF)return!e.size;if(kl(e))return!hd(e).length;for(var t in e)if(FF.call(e,t))return!1;return!0}function Gt(e,r){return Vl(e,r)}function PF(e,r,t){t=typeof t=="function"?t:void 0;var n=t?t(e,r):void 0;return n===void 0?Vl(e,r,void 0,t):!!n}var NF=Nt.isFinite;function HF(e){return typeof e=="number"&&NF(e)}function lw(e){return typeof e=="number"&&e==Me(e)}function zF(e,r){return e===r||Fd(e,r,Pd(r))}function kF(e,r,t){return t=typeof t=="function"?t:void 0,Fd(e,r,Pd(r),t)}var WF="[object Number]";function pr(e){return typeof e=="number"||bt(e)&&hr(e)==WF}function sw(e){return pr(e)&&e!=+e}var GF=zu?Ht:fd,UF=GF,YF="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function XF(e){if(UF(e))throw new Error(YF);return OC(e)}function It(e){return e==null}function uw(e){return e===null}var VF="[object RegExp]";function qF(e){return bt(e)&&hr(e)==VF}var fw=an&&an.isRegExp,KF=fw?kr(fw):qF,ev=KF,cw=9007199254740991;function jF(e){return lw(e)&&e>=-cw&&e<=cw}function vf(e){return e===void 0}var ZF="[object WeakMap]";function QF(e){return bt(e)&&Zn(e)==ZF}var JF="[object WeakSet]";function eP(e){return bt(e)&&hr(e)==JF}var tP=1;function rP(e){return Le(typeof e=="function"?e:sn(e,tP))}var nP=Array.prototype,iP=nP.join;function oP(e,r){return e==null?"":iP.call(e,r)}var aP=za(function(e,r,t){return e+(t?"-":"")+r.toLowerCase()}),lP=aP,sP=of(function(e,r,t){Ci(e,t,r)}),uP=sP;function fP(e,r,t){for(var n=t+1;n--;)if(e[n]===r)return n;return n}var cP=Math.max,hP=Math.min;function dP(e,r,t){var n=e==null?0:e.length;if(!n)return-1;var i=n;return t!==void 0&&(i=Me(t),i=i<0?cP(n+i,0):hP(i,n-1)),r===r?fP(e,r,i):Xu(e,NC,i,!0)}var vP=za(function(e,r,t){return e+(t?" ":"")+r.toLowerCase()}),tv=vP,pP=xm("toLowerCase"),gP=pP;function rv(e,r){return e<r}var yP=hf(rv),CP=yP,mP=hf(function(e,r){return e<=r}),_P=mP;function hw(e,r){var t={};return r=Le(r),Qn(e,function(n,i,o){Ci(t,r(n,i,o),n)}),t}function wP(e,r){var t={};return r=Le(r),Qn(e,function(n,i,o){Ci(t,i,r(n,i,o))}),t}var xP=1;function nv(e){return x_(sn(e,xP))}var SP=1;function bP(e,r){return b_(e,sn(r,SP))}function pf(e,r,t){for(var n=-1,i=e.length;++n<i;){var o=e[n],a=r(o);if(a!=null&&(l===void 0?a===a&&!Pr(a):t(a,l)))var l=a,s=o}return s}function bi(e){return e&&e.length?pf(e,rr,qd):void 0}function iv(e,r){return e&&e.length?pf(e,Le(r),qd):void 0}function ov(e,r){for(var t,n=-1,i=e.length;++n<i;){var o=r(e[n]);o!==void 0&&(t=t===void 0?o:t+o)}return t}var TP=NaN;function dw(e,r){var t=e==null?0:e.length;return t?ov(e,r)/t:TP}function EP(e){return dw(e,rr)}function LP(e,r){return dw(e,Le(r))}var AP=Fa(function(e,r,t){lf(e,r,t)}),Ql=AP,RP=$e(function(e,r){return function(t){return Zl(t,e,r)}}),OP=RP,IP=$e(function(e,r){return function(t){return Zl(e,t,r)}}),MP=IP;function av(e){return e&&e.length?pf(e,rr,rv):void 0}function BP(e,r){return e&&e.length?pf(e,Le(r),rv):void 0}function vw(e,r,t){var n=xt(r),i=cf(r,n),o=!(Ke(t)&&"chain"in t)||!!t.chain,a=Ht(e);return on(i,function(l){var s=r[l];e[l]=s,a&&(e.prototype[l]=function(){var f=this.__chain__;if(o||f){var h=e(this.__wrapped__),d=h.__actions__=Er(this.__actions__);return d.push({func:s,args:arguments,thisArg:e}),h.__chain__=f,h}return s.apply(e,to([this.value()],arguments))})}),e}var DP=Hu(function(e,r){return e*r},1),$P=DP,FP="Expected a function";function Jl(e){if(typeof e!="function")throw new TypeError(FP);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function PP(e){for(var r,t=[];!(r=e.next()).done;)t.push(r.value);return t}var NP="[object Map]",HP="[object Set]",lv=tr?tr.iterator:void 0;function pw(e){if(!e)return[];if(Lr(e))return Ya(e)?En(e):Er(e);if(lv&&e[lv])return PP(e[lv]());var r=Zn(e),t=r==NP?Dd:r==HP?rf:Si;return t(e)}function zP(){this.__values__===void 0&&(this.__values__=pw(this.value()));var e=this.__index__>=this.__values__.length,r=e?void 0:this.__values__[this.__index__++];return{done:e,value:r}}function gw(e,r){var t=e.length;if(t)return r+=r<0?t:0,gi(r,t)?e[r]:void 0}function kP(e,r){return e&&e.length?gw(e,Me(r)):void 0}function WP(e){return e=Me(e),$e(function(r){return gw(r,e)})}function sv(e,r){return r=eo(r,e),e=iw(e,r),e==null||delete e[jn(nt(r))]}function GP(e){return Yl(e)?void 0:e}var UP=1,YP=2,XP=4,VP=wi(function(e,r){var t={};if(e==null)return t;var n=!1;r=yt(r,function(o){return o=eo(o,e),n||(n=o.length>1),o}),Kn(e,Ad(e),t),n&&(t=sn(t,UP|YP|XP,GP));for(var i=r.length;i--;)sv(t,r[i]);return t}),uv=VP;function es(e,r,t,n){if(!Ke(e))return e;r=eo(r,e);for(var i=-1,o=r.length,a=o-1,l=e;l!=null&&++i<o;){var s=jn(r[i]),f=t;if(s==="__proto__"||s==="constructor"||s==="prototype")return e;if(i!=a){var h=l[s];f=n?n(h,s,l):void 0,f===void 0&&(f=Ke(h)?h:gi(r[i+1])?[]:{})}zl(l,s,f),l=l[s]}return e}function yw(e,r,t){for(var n=-1,i=r.length,o={};++n<i;){var a=r[n],l=Go(e,a);t(l,a)&&es(o,eo(a,e),l)}return o}function fv(e,r){if(e==null)return{};var t=yt(Ad(e),function(n){return[n]});return r=Le(r),yw(e,t,function(n,i){return r(n,i[0])})}function qP(e,r){return fv(e,Jl(Le(r)))}function KP(e){return vm(2,e)}function jP(e,r){var t=e.length;for(e.sort(r);t--;)e[t]=e[t].value;return e}function Cw(e,r){if(e!==r){var t=e!==void 0,n=e===null,i=e===e,o=Pr(e),a=r!==void 0,l=r===null,s=r===r,f=Pr(r);if(!l&&!f&&!o&&e>r||o&&a&&s&&!l&&!f||n&&a&&s||!t&&s||!i)return 1;if(!n&&!o&&!f&&e<r||f&&t&&i&&!n&&!o||l&&t&&i||!a&&i||!s)return-1}return 0}function ZP(e,r,t){for(var n=-1,i=e.criteria,o=r.criteria,a=i.length,l=t.length;++n<a;){var s=Cw(i[n],o[n]);if(s){if(n>=l)return s;var f=t[n];return s*(f=="desc"?-1:1)}}return e.index-r.index}function mw(e,r,t){r.length?r=yt(r,function(o){return se(o)?function(a){return Go(a,o.length===1?o[0]:o)}:o}):r=[rr];var n=-1;r=yt(r,kr(Le));var i=Z_(e,function(o,a,l){var s=yt(r,function(f){return f(o)});return{criteria:s,index:++n,value:o}});return jP(i,function(o,a){return ZP(o,a,t)})}function cv(e,r,t,n){return e==null?[]:(se(r)||(r=r==null?[]:[r]),t=n?void 0:t,se(t)||(t=t==null?[]:[t]),mw(e,r,t))}function hv(e){return wi(function(r){return r=yt(r,kr(Le)),$e(function(t){var n=this;return e(r,function(i){return zr(i,n,t)})})})}var QP=hv(yt),JP=QP,eN=$e,tN=eN,rN=Math.min,nN=tN(function(e,r){r=r.length==1&&se(r[0])?yt(r[0],kr(Le)):yt(Wt(r,1),kr(Le));var t=r.length;return $e(function(n){for(var i=-1,o=rN(n.length,t);++i<o;)n[i]=r[i].call(this,n[i]);return zr(e,this,n)})}),iN=nN,oN=hv(Y_),aN=oN,lN=hv(Bd),sN=lN,uN=9007199254740991,fN=Math.floor;function dv(e,r){var t="";if(!e||r<1||r>uN)return t;do r%2&&(t+=e),r=fN(r/2),r&&(e+=e);while(r);return t}var cN=Nd("length"),hN=cN,_w="\\ud800-\\udfff",dN="\\u0300-\\u036f",vN="\\ufe20-\\ufe2f",pN="\\u20d0-\\u20ff",gN=dN+vN+pN,yN="\\ufe0e\\ufe0f",CN="["+_w+"]",vv="["+gN+"]",pv="\\ud83c[\\udffb-\\udfff]",mN="(?:"+vv+"|"+pv+")",ww="[^"+_w+"]",xw="(?:\\ud83c[\\udde6-\\uddff]){2}",Sw="[\\ud800-\\udbff][\\udc00-\\udfff]",_N="\\u200d",bw=mN+"?",Tw="["+yN+"]?",wN="(?:"+_N+"(?:"+[ww,xw,Sw].join("|")+")"+Tw+bw+")*",xN=Tw+bw+wN,SN="(?:"+[ww+vv+"?",vv,xw,Sw,CN].join("|")+")",Ew=RegExp(pv+"(?="+pv+")|"+SN+xN,"g");function bN(e){for(var r=Ew.lastIndex=0;Ew.test(e);)++r;return r}function Xa(e){return Na(e)?bN(e):hN(e)}var TN=Math.ceil;function gf(e,r){r=r===void 0?" ":Nr(r);var t=r.length;if(t<2)return t?dv(r,e):r;var n=dv(r,TN(e/Xa(r)));return Na(r)?ro(En(n),0,e).join(""):n.slice(0,e)}var EN=Math.ceil,LN=Math.floor;function AN(e,r,t){e=je(e),r=Me(r);var n=r?Xa(e):0;if(!r||n>=r)return e;var i=(r-n)/2;return gf(LN(i),t)+e+gf(EN(i),t)}function RN(e,r,t){e=je(e),r=Me(r);var n=r?Xa(e):0;return r&&n<r?e+gf(r-n,t):e}function ON(e,r,t){e=je(e),r=Me(r);var n=r?Xa(e):0;return r&&n<r?gf(r-n,t)+e:e}var IN=/^\s+/,MN=Nt.parseInt;function BN(e,r,t){return t||r==null?r=0:r&&(r=+r),MN(je(e).replace(IN,""),r||0)}var DN=32,gv=$e(function(e,r){var t=Qi(r,$a(gv));return yi(e,DN,void 0,r,t)});gv.placeholder={};var Lw=gv,$N=64,yv=$e(function(e,r){var t=Qi(r,$a(yv));return yi(e,$N,void 0,r,t)});yv.placeholder={};var FN=yv,PN=of(function(e,r,t){e[t?0:1].push(r)},function(){return[[],[]]}),NN=PN;function HN(e,r){return yw(e,r,function(t,n){return Vo(e,n)})}var zN=wi(function(e,r){return e==null?{}:HN(e,r)}),Aw=zN;function kN(e){for(var r,t=this;t instanceof Wu;){var n=$C(t);n.__index__=0,n.__values__=void 0,r?i.__wrapped__=n:r=n;var i=n;t=t.__wrapped__}return i.__wrapped__=e,r}function WN(e){return function(r){return e==null?void 0:Go(e,r)}}function GN(e,r,t,n){for(var i=t-1,o=e.length;++i<o;)if(n(e[i],r))return i;return-1}var UN=Array.prototype,Rw=UN.splice;function Cv(e,r,t,n){var i=n?GN:Da,o=-1,a=r.length,l=e;for(e===r&&(r=Er(r)),t&&(l=yt(e,kr(t)));++o<a;)for(var s=0,f=r[o],h=t?t(f):f;(s=i(l,h,s,n))>-1;)l!==e&&Rw.call(l,s,1),Rw.call(e,s,1);return e}function Ow(e,r){return e&&e.length&&r&&r.length?Cv(e,r):e}var YN=$e(Ow),XN=YN;function VN(e,r,t){return e&&e.length&&r&&r.length?Cv(e,r,Le(t)):e}function qN(e,r,t){return e&&e.length&&r&&r.length?Cv(e,r,void 0,t):e}var KN=Array.prototype,jN=KN.splice;function Iw(e,r){for(var t=e?r.length:0,n=t-1;t--;){var i=r[t];if(t==n||i!==o){var o=i;gi(i)?jN.call(e,i,1):sv(e,i)}}return e}var ZN=wi(function(e,r){var t=e==null?0:e.length,n=vd(e,r);return Iw(e,yt(r,function(i){return gi(i,t)?+i:i}).sort(Cw)),n}),QN=ZN,JN=Math.floor,e7=Math.random;function mv(e,r){return e+JN(e7()*(r-e+1))}var t7=parseFloat,r7=Math.min,n7=Math.random;function i7(e,r,t){if(t&&typeof t!="boolean"&&dr(e,r,t)&&(r=t=void 0),t===void 0&&(typeof r=="boolean"?(t=r,r=void 0):typeof e=="boolean"&&(t=e,e=void 0)),e===void 0&&r===void 0?(e=0,r=1):(e=pi(e),r===void 0?(r=e,e=0):r=pi(r)),e>r){var n=e;e=r,r=n}if(t||e%1||r%1){var i=n7();return r7(e+i*(r-e+t7("1e-"+((i+"").length-1))),r)}return mv(e,r)}var o7=Math.ceil,a7=Math.max;function l7(e,r,t,n){for(var i=-1,o=a7(o7((r-e)/(t||1)),0),a=Array(o);o--;)a[n?o:++i]=e,e+=t;return a}function Mw(e){return function(r,t,n){return n&&typeof n!="number"&&dr(r,t,n)&&(t=n=void 0),r=pi(r),t===void 0?(t=r,r=0):t=pi(t),n=n===void 0?r<t?1:-1:pi(n),l7(r,t,n,e)}}var s7=Mw(),Va=s7,u7=Mw(!0),f7=u7,c7=256,h7=wi(function(e,r){return yi(e,c7,void 0,void 0,void 0,r)}),d7=h7;function Bw(e,r,t,n,i){return i(e,function(o,a,l){t=n?(n=!1,o):r(t,o,a,l)}),t}function yf(e,r,t){var n=se(e)?xd:Bw,i=arguments.length<3;return n(e,Le(r),t,i,io)}function v7(e,r,t,n){var i=e==null?0:e.length;for(n&&i&&(t=e[--i]);i--;)t=r(t,e[i],i,e);return t}function p7(e,r,t){var n=se(e)?v7:Bw,i=arguments.length<3;return n(e,Le(r),t,i,P_)}function g7(e,r){var t=se(e)?no:V_;return t(e,Jl(Le(r)))}function y7(e,r){var t=[];if(!(e&&e.length))return t;var n=-1,i=[],o=e.length;for(r=Le(r);++n<o;){var a=e[n];r(a,n,e)&&(t.push(a),i.push(n))}return Iw(e,i),t}function C7(e,r,t){return(t?dr(e,r,t):r===void 0)?r=1:r=Me(r),dv(je(e),r)}function m7(){var e=arguments,r=je(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var _7="Expected a function";function w7(e,r){if(typeof e!="function")throw new TypeError(_7);return r=r===void 0?r:Me(r),$e(e,r)}function x7(e,r,t){r=eo(r,e);var n=-1,i=r.length;for(i||(i=1,e=void 0);++n<i;){var o=e==null?void 0:e[jn(r[n])];o===void 0&&(n=i,o=t),e=Ht(o)?o.call(e):o}return e}var S7=Array.prototype,b7=S7.reverse;function _v(e){return e==null?e:b7.call(e)}var T7=bd("round"),E7=T7;function Dw(e){var r=e.length;return r?e[mv(0,r-1)]:void 0}function L7(e){return Dw(Si(e))}function A7(e){var r=se(e)?Dw:L7;return r(e)}function Cf(e,r){var t=-1,n=e.length,i=n-1;for(r=r===void 0?n:r;++t<r;){var o=mv(t,i),a=e[o];e[o]=e[t],e[t]=a}return e.length=r,e}function R7(e,r){return Cf(Er(e),Uo(r,0,e.length))}function O7(e,r){var t=Si(e);return Cf(t,Uo(r,0,t.length))}function I7(e,r,t){(t?dr(e,r,t):r===void 0)?r=1:r=Me(r);var n=se(e)?R7:O7;return n(e,r)}function ts(e,r,t){return e==null?e:es(e,r,t)}function M7(e,r,t,n){return n=typeof n=="function"?n:void 0,e==null?e:es(e,r,t,n)}function B7(e){return Cf(Er(e))}function D7(e){return Cf(Si(e))}function $7(e){var r=se(e)?B7:D7;return r(e)}var F7="[object Map]",P7="[object Set]";function Ko(e){if(e==null)return 0;if(Lr(e))return Ya(e)?Xa(e):e.length;var r=Zn(e);return r==F7||r==P7?e.size:hd(e).length}function N7(e,r,t){var n=e==null?0:e.length;return n?(t&&typeof t!="number"&&dr(e,r,t)?(r=0,t=n):(r=r==null?0:Me(r),t=t===void 0?n:Me(t)),ln(e,r,t)):[]}var H7=za(function(e,r,t){return e+(t?"_":"")+r.toLowerCase()}),z7=H7;function k7(e,r){var t;return io(e,function(n,i,o){return t=r(n,i,o),!t}),!!t}function $w(e,r,t){var n=se(e)?Bd:k7;return t&&dr(e,r,t)&&(r=void 0),n(e,Le(r))}var W7=$e(function(e,r){if(e==null)return[];var t=r.length;return t>1&&dr(e,r[0],r[1])?r=[]:t>2&&dr(r[0],r[1],r[2])&&(r=[r[0]]),mw(e,Wt(r,1),[])}),Fw=W7,G7=4294967295,U7=G7-1,Y7=Math.floor,X7=Math.min;function wv(e,r,t,n){var i=0,o=e==null?0:e.length;if(o===0)return 0;r=t(r);for(var a=r!==r,l=r===null,s=Pr(r),f=r===void 0;i<o;){var h=Y7((i+o)/2),d=t(e[h]),v=d!==void 0,g=d===null,y=d===d,C=Pr(d);if(a)var _=n||y;else f?_=y&&(n||v):l?_=y&&v&&(n||!g):s?_=y&&v&&!g&&(n||!C):g||C?_=!1:_=n?d<=r:d<r;_?i=h+1:o=h}return X7(o,U7)}var V7=4294967295,q7=V7>>>1;function mf(e,r,t){var n=0,i=e==null?n:e.length;if(typeof r=="number"&&r===r&&i<=q7){for(;n<i;){var o=n+i>>>1,a=e[o];a!==null&&!Pr(a)&&(t?a<=r:a<r)?n=o+1:i=o}return i}return wv(e,r,rr,t)}function K7(e,r){return mf(e,r)}function j7(e,r,t){return wv(e,r,Le(t))}function Z7(e,r){var t=e==null?0:e.length;if(t){var n=mf(e,r);if(n<t&&Tn(e[n],r))return n}return-1}function Q7(e,r){return mf(e,r,!0)}function J7(e,r,t){return wv(e,r,Le(t),!0)}function eH(e,r){var t=e==null?0:e.length;if(t){var n=mf(e,r,!0)-1;if(Tn(e[n],r))return n}return-1}function Pw(e,r){for(var t=-1,n=e.length,i=0,o=[];++t<n;){var a=e[t],l=r?r(a):a;if(!t||!Tn(l,s)){var s=l;o[i++]=a===0?0:a}}return o}function tH(e){return e&&e.length?Pw(e):[]}function rH(e,r){return e&&e.length?Pw(e,Le(r)):[]}var nH=4294967295;function Nw(e,r,t){return t&&typeof t!="number"&&dr(e,r,t)&&(r=t=void 0),t=t===void 0?nH:t>>>0,t?(e=je(e),e&&(typeof r=="string"||r!=null&&!ev(r))&&(r=Nr(r),!r&&Na(e))?ro(En(e),0,t):e.split(r,t)):[]}var iH="Expected a function",oH=Math.max;function aH(e,r){if(typeof e!="function")throw new TypeError(iH);return r=r==null?0:oH(Me(r),0),$e(function(t){var n=t[r],i=ro(t,0,r);return n&&to(i,n),zr(e,this,i)})}var lH=za(function(e,r,t){return e+(t?" ":"")+wd(r)}),sH=lH;function uH(e,r,t){return e=je(e),t=t==null?0:Uo(Me(t),0,e.length),r=Nr(r),e.slice(t,t+r.length)==r}function fH(){return{}}function cH(){return""}function Hw(){return!0}var hH=Hu(function(e,r){return e-r},0),dH=hH;function vH(e){return e&&e.length?ov(e,rr):0}function zw(e,r){return e&&e.length?ov(e,Le(r)):0}function pH(e){var r=e==null?0:e.length;return r?ln(e,1,r):[]}function gH(e,r,t){return e&&e.length?(r=t||r===void 0?1:Me(r),ln(e,0,r<0?0:r)):[]}function yH(e,r,t){var n=e==null?0:e.length;return n?(r=t||r===void 0?1:Me(r),r=n-r,ln(e,r<0?0:r,n)):[]}function CH(e,r){return e&&e.length?sf(e,Le(r),!1,!0):[]}function mH(e,r){return e&&e.length?sf(e,Le(r)):[]}function _H(e,r){return r(e),e}var kw=Object.prototype,wH=kw.hasOwnProperty;function Ww(e,r,t,n){return e===void 0||Tn(e,kw[t])&&!wH.call(n,t)?r:e}var xH={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function SH(e){return"\\"+xH[e]}var bH=/<%=([\s\S]+?)%>/g,Gw=bH,TH=/<%-([\s\S]+?)%>/g,EH=TH,LH=/<%([\s\S]+?)%>/g,AH=LH,RH={escape:EH,evaluate:AH,interpolate:Gw,variable:"",imports:{_:{escape:Vd}}},xv=RH,OH="Invalid `variable` option passed into `_.template`",IH=/\b__p \+= '';/g,MH=/\b(__p \+=) '' \+/g,BH=/(__e\(.*?\)|\b__t\)) \+\n'';/g,DH=/[()=,{}\[\]\/\s]/,$H=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_f=/($^)/,FH=/['\n\r\u2028\u2029\\]/g,PH=Object.prototype,Uw=PH.hasOwnProperty;function NH(e,r,t){var n=xv.imports._.templateSettings||xv;t&&dr(e,r,t)&&(r=void 0),e=je(e),r=ju({},r,n,Ww);var i=ju({},r.imports,n.imports,Ww),o=xt(i),a=Zd(i,o),l,s,f=0,h=r.interpolate||_f,d="__p += '",v=RegExp((r.escape||_f).source+"|"+h.source+"|"+(h===Gw?$H:_f).source+"|"+(r.evaluate||_f).source+"|$","g"),g=Uw.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(v,function(_,w,S,b,E,O){return S||(S=b),d+=e.slice(f,O).replace(FH,SH),w&&(l=!0,d+=`' +
__e(`+w+`) +
'`),E&&(s=!0,d+=`';
`+E+`;
__p += '`),S&&(d+=`' +
((__t = (`+S+`)) == null ? '' : __t) +
'`),f=O+_.length,_}),d+=`';
`;var y=Uw.call(r,"variable")&&r.variable;if(!y)d=`with (obj) {
`+d+`
}
`;else if(DH.test(y))throw new Error(OH);d=(s?d.replace(IH,""):d).replace(MH,"$1").replace(BH,"$1;"),d="function("+(y||"obj")+`) {
`+(y?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(s?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var C=dm(function(){return Function(o,g+"return "+d).apply(void 0,a)});if(C.source=d,gd(C))throw C;return C}var HH="Expected a function";function Sv(e,r,t){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(HH);return Ke(t)&&(n="leading"in t?!!t.leading:n,i="trailing"in t?!!t.trailing:i),ql(e,r,{leading:n,maxWait:r,trailing:i})}function rs(e,r){return r(e)}var zH=9007199254740991,bv=4294967295,kH=Math.min;function WH(e,r){if(e=Me(e),e<1||e>zH)return[];var t=bv,n=kH(e,bv);r=Jn(r),e-=bv;for(var i=ud(n,r);++t<e;)r(t);return i}function GH(){return this}function Yw(e,r){var t=e;return t instanceof ze&&(t=t.value()),xd(r,function(n,i){return i.func.apply(i.thisArg,to([n],i.args))},t)}function Tv(){return Yw(this.__wrapped__,this.__actions__)}function UH(e){return je(e).toLowerCase()}function YH(e){return se(e)?yt(e,jn):Pr(e)?[e]:Er(fm(je(e)))}var Xw=9007199254740991;function XH(e){return e?Uo(Me(e),-Xw,Xw):e===0?e:0}function ns(e){return je(e).toUpperCase()}function VH(e,r,t){var n=se(e),i=n||Ji(e)||Pa(e);if(r=Le(r),t==null){var o=e&&e.constructor;i?t=n?new o:[]:Ke(e)?t=Ht(o)?Ia(Ju(e)):{}:t={}}return(i?on:Qn)(e,function(a,l,s){return r(t,a,l,s)}),t}function Vw(e,r){for(var t=e.length;t--&&Da(r,e[t],0)>-1;);return t}function qw(e,r){for(var t=-1,n=e.length;++t<n&&Da(r,e[t],0)>-1;);return t}function Kw(e,r,t){if(e=je(e),e&&(t||r===void 0))return EC(e);if(!e||!(r=Nr(r)))return e;var n=En(e),i=En(r),o=qw(n,i),a=Vw(n,i)+1;return ro(n,o,a).join("")}function qH(e,r,t){if(e=je(e),e&&(t||r===void 0))return e.slice(0,TC(e)+1);if(!e||!(r=Nr(r)))return e;var n=En(e),i=Vw(n,En(r))+1;return ro(n,0,i).join("")}var KH=/^\s+/;function jH(e,r,t){if(e=je(e),e&&(t||r===void 0))return e.replace(KH,"");if(!e||!(r=Nr(r)))return e;var n=En(e),i=qw(n,En(r));return ro(n,i).join("")}var ZH=30,QH="...",JH=/\w*$/;function ez(e,r){var t=ZH,n=QH;if(Ke(r)){var i="separator"in r?r.separator:i;t="length"in r?Me(r.length):t,n="omission"in r?Nr(r.omission):n}e=je(e);var o=e.length;if(Na(e)){var a=En(e);o=a.length}if(t>=o)return e;var l=t-Xa(n);if(l<1)return n;var s=a?ro(a,0,l).join(""):e.slice(0,l);if(i===void 0)return s+n;if(a&&(l+=s.length-l),ev(i)){if(e.slice(l).search(i)){var f,h=s;for(i.global||(i=RegExp(i.source,je(JH.exec(i))+"g")),i.lastIndex=0;f=i.exec(h);)var d=f.index;s=s.slice(0,d===void 0?l:d)}}else if(e.indexOf(Nr(i),l)!=l){var v=s.lastIndexOf(i);v>-1&&(s=s.slice(0,v))}return s+n}function tz(e){return jC(e,1)}var rz={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nz=Sd(rz),iz=nz,jw=/&(?:amp|lt|gt|quot|#39);/g,oz=RegExp(jw.source);function az(e){return e=je(e),e&&oz.test(e)?e.replace(jw,iz):e}var lz=1/0,sz=ka&&1/rf(new ka([,-0]))[1]==lz?function(e){return new ka(e)}:Gu,uz=sz,fz=200;function oo(e,r,t){var n=-1,i=Vu,o=e.length,a=!0,l=[],s=l;if(t)a=!1,i=Yd;else if(o>=fz){var f=r?null:uz(e);if(f)return rf(f);a=!1,i=Xl,s=new Xo}else s=r?[]:l;e:for(;++n<o;){var h=e[n],d=r?r(h):h;if(h=t||h!==0?h:0,a&&d===d){for(var v=s.length;v--;)if(s[v]===d)continue e;r&&s.push(d),l.push(h)}else i(s,d,t)||(s!==l&&s.push(d),l.push(h))}return l}var cz=$e(function(e){return oo(Wt(e,1,Lt,!0))}),hz=cz,dz=$e(function(e){var r=nt(e);return Lt(r)&&(r=void 0),oo(Wt(e,1,Lt,!0),Le(r))}),vz=dz,pz=$e(function(e){var r=nt(e);return r=typeof r=="function"?r:void 0,oo(Wt(e,1,Lt,!0),void 0,r)}),gz=pz;function Ti(e){return e&&e.length?oo(e):[]}function yz(e,r){return e&&e.length?oo(e,Le(r)):[]}function Cz(e,r){return r=typeof r=="function"?r:void 0,e&&e.length?oo(e,void 0,r):[]}var mz=0;function _z(e){var r=++mz;return je(e)+r}function Ev(e,r){return e==null?!0:sv(e,r)}var wz=Math.max;function Lv(e){if(!(e&&e.length))return[];var r=0;return e=no(e,function(t){if(Lt(t))return r=wz(t.length,r),!0}),ud(r,function(t){return yt(e,Nd(t))})}function Zw(e,r){if(!(e&&e.length))return[];var t=Lv(e);return r==null?t:yt(t,function(n){return zr(r,void 0,n)})}function Qw(e,r,t,n){return es(e,r,t(Go(e,r)),n)}function xz(e,r,t){return e==null?e:Qw(e,r,Jn(t))}function Sz(e,r,t,n){return n=typeof n=="function"?n:void 0,e==null?e:Qw(e,r,Jn(t),n)}var bz=za(function(e,r,t){return e+(t?" ":"")+r.toUpperCase()}),Tz=bz;function Ez(e){return e==null?[]:Zd(e,Ar(e))}var Lz=$e(function(e,r){return Lt(e)?Kl(e,r):[]}),Az=Lz;function Rz(e,r){return Lw(Jn(r),e)}var Oz=wi(function(e){var r=e.length,t=r?e[0]:0,n=this.__wrapped__,i=function(o){return vd(o,e)};return r>1||this.__actions__.length||!(n instanceof ze)||!gi(t)?this.thru(i):(n=n.slice(t,+t+(r?1:0)),n.__actions__.push({func:rs,args:[i],thisArg:void 0}),new nn(n,this.__chain__).thru(function(o){return r&&!o.length&&o.push(void 0),o}))}),Iz=Oz;function Mz(){return Gm(this)}function Bz(){var e=this.__wrapped__;if(e instanceof ze){var r=e;return this.__actions__.length&&(r=new ze(this)),r=r.reverse(),r.__actions__.push({func:rs,args:[_v],thisArg:void 0}),new nn(r,this.__chain__)}return this.thru(_v)}function Av(e,r,t){var n=e.length;if(n<2)return n?oo(e[0]):[];for(var i=-1,o=Array(n);++i<n;)for(var a=e[i],l=-1;++l<n;)l!=i&&(o[i]=Kl(o[i]||a,e[l],r,t));return oo(Wt(o,1),r,t)}var Dz=$e(function(e){return Av(no(e,Lt))}),$z=Dz,Fz=$e(function(e){var r=nt(e);return Lt(r)&&(r=void 0),Av(no(e,Lt),Le(r))}),Pz=Fz,Nz=$e(function(e){var r=nt(e);return r=typeof r=="function"?r:void 0,Av(no(e,Lt),void 0,r)}),Hz=Nz,zz=$e(Lv),wf=zz;function Jw(e,r,t){for(var n=-1,i=e.length,o=r.length,a={};++n<i;){var l=n<o?r[n]:void 0;t(a,e[n],l)}return a}function kz(e,r){return Jw(e||[],r||[],zl)}function Wz(e,r){return Jw(e||[],r||[],es)}var Gz=$e(function(e){var r=e.length,t=r>1?e[r-1]:void 0;return t=typeof t=="function"?(e.pop(),t):void 0,Zw(e,t)}),Uz=Gz,ae={chunk:FB,compact:An,concat:Ga,difference:D_,differenceBy:F9,differenceWith:$_,drop:z9,dropRight:k9,dropRightWhile:W9,dropWhile:G9,fill:s$,findIndex:Ua,findLastIndex:j_,first:qo,flatten:pd,flattenDeep:Q_,flattenDepth:_$,fromPairs:P$,head:qo,indexOf:df,initial:nF,intersection:tw,intersectionBy:lF,intersectionWith:uF,join:oP,last:nt,lastIndexOf:dP,nth:kP,pull:XN,pullAll:Ow,pullAllBy:VN,pullAllWith:qN,pullAt:QN,remove:y7,reverse:_v,slice:N7,sortedIndex:K7,sortedIndexBy:j7,sortedIndexOf:Z7,sortedLastIndex:Q7,sortedLastIndexBy:J7,sortedLastIndexOf:eH,sortedUniq:tH,sortedUniqBy:rH,tail:pH,take:gH,takeRight:yH,takeRightWhile:CH,takeWhile:mH,union:hz,unionBy:vz,unionWith:gz,uniq:Ti,uniqBy:yz,uniqWith:Cz,unzip:Lv,unzipWith:Zw,without:Az,xor:$z,xorBy:Pz,xorWith:Hz,zip:wf,zipObject:kz,zipObjectDeep:Wz,zipWith:Uz},ot={countBy:h9,each:_e,eachRight:N_,every:uf,filter:xi,find:nr,findLast:ff,flatMap:jl,flatMapDeep:y$,flatMapDepth:C$,forEach:_e,forEachRight:N_,groupBy:G$,includes:vr,invokeMap:xF,keyBy:uP,map:Ne,orderBy:cv,partition:NN,reduce:yf,reduceRight:p7,reject:g7,sample:A7,sampleSize:I7,shuffle:$7,size:Ko,some:$w,sortBy:Fw},Yz={now:af},Tt={after:kM,ary:jC,before:vm,bind:pm,bindKey:C5,curry:zd,curryRight:kd,debounce:ql,defer:O9,delay:M9,flip:x$,memoize:Wo,negate:Jl,once:KP,overArgs:iN,partial:Lw,partialRight:FN,rearg:d7,rest:w7,spread:aH,throttle:Sv,unary:tz,wrap:Rz},de={castArray:RB,clone:Wa,cloneDeep:Md,cloneDeepWith:CD,cloneWith:_D,conformsTo:i9,eq:Tn,gt:Y$,gte:V$,isArguments:zo,isArray:se,isArrayBuffer:EF,isArrayLike:Lr,isArrayLikeObject:Lt,isBoolean:ei,isBuffer:Ji,isDate:IF,isElement:MF,isEmpty:J,isEqual:Gt,isEqualWith:PF,isError:gd,isFinite:HF,isFunction:Ht,isInteger:lw,isLength:Ku,isMap:u_,isMatch:zF,isMatchWith:kF,isNaN:sw,isNative:XF,isNil:It,isNull:uw,isNumber:pr,isObject:Ke,isObjectLike:bt,isPlainObject:Yl,isRegExp:ev,isSafeInteger:jF,isSet:c_,isString:Ya,isSymbol:Pr,isTypedArray:Pa,isUndefined:vf,isWeakMap:QF,isWeakSet:eP,lt:CP,lte:_P,toArray:pw,toFinite:pi,toInteger:Me,toLength:X_,toNumber:Hr,toPlainObject:I_,toSafeInteger:XH,toString:je},gr={add:MM,ceil:BB,divide:H9,floor:b$,max:bi,maxBy:iv,mean:EP,meanBy:LP,min:av,minBy:BP,multiply:$P,round:E7,subtract:dH,sum:vH,sumBy:zw},Rv={clamp:ef,inRange:jd,random:i7},xe={assign:sm,assignIn:um,assignInWith:ju,assignWith:g3,at:e5,create:d9,defaults:S9,defaultsDeep:L9,entries:k_,entriesIn:W_,extend:um,extendWith:ju,findKey:c$,findLastKey:p$,forIn:ew,forInRight:D$,forOwn:$$,forOwnRight:F$,functions:N$,functionsIn:H$,get:ve,has:Kd,hasIn:Vo,invert:vF,invertBy:CF,invoke:_F,keys:xt,keysIn:Ar,mapKeys:hw,mapValues:wP,merge:Ql,mergeWith:Ud,omit:uv,omitBy:qP,pick:Aw,pickBy:fv,result:x7,set:ts,setWith:M7,toPairs:k_,toPairsIn:W_,transform:VH,unset:Ev,update:xz,updateWith:Sz,values:Si,valuesIn:Ez},ti={at:Iz,chain:Gm,commit:wD,lodash:A,next:zP,plant:kN,reverse:Bz,tap:_H,thru:rs,toIterator:GH,toJSON:Tv,value:Tv,valueOf:Tv,wrapperChain:Mz},Ze={camelCase:AB,capitalize:Sm,deburr:bm,endsWith:H_,escape:Vd,escapeRegExp:i$,kebabCase:lP,lowerCase:tv,lowerFirst:gP,pad:AN,padEnd:RN,padStart:ON,parseInt:BN,repeat:C7,replace:m7,snakeCase:z7,split:Nw,startCase:sH,startsWith:uH,template:NH,templateSettings:xv,toLower:UH,toUpper:ns,trim:Kw,trimEnd:qH,trimStart:jH,truncate:ez,unescape:az,upperCase:Tz,upperFirst:wd,words:Wm},et={attempt:dm,bindAll:v5,cond:E_,conforms:n9,constant:Ba,defaultTo:_9,flow:I$,flowRight:B$,identity:rr,iteratee:rP,matches:nv,matchesProperty:bP,method:OP,methodOf:MP,mixin:vw,noop:Gu,nthArg:WP,over:JP,overEvery:aN,overSome:sN,property:T_,propertyOf:WN,range:Va,rangeRight:f7,stubArray:Td,stubFalse:fd,stubObject:fH,stubString:cH,stubTrue:Hw,times:WH,toPath:YH,uniqueId:_z};function Xz(){var e=new ze(this.__wrapped__);return e.__actions__=Er(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Er(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Er(this.__views__),e}function Vz(){if(this.__filtered__){var e=new ze(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var qz=Math.max,Kz=Math.min;function jz(e,r,t){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":r-=a;break;case"take":r=Kz(r,e+a);break;case"takeRight":e=qz(e,r-a);break}}return{start:e,end:r}}var Zz=1,Qz=2,Jz=Math.min;function ek(){var e=this.__wrapped__.value(),r=this.__dir__,t=se(e),n=r<0,i=t?e.length:0,o=jz(0,i,this.__views__),a=o.start,l=o.end,s=l-a,f=n?l:a-1,h=this.__iteratees__,d=h.length,v=0,g=Jz(s,this.__takeCount__);if(!t||!n&&i==s&&g==s)return Yw(e,this.__actions__);var y=[];e:for(;s--&&v<g;){f+=r;for(var C=-1,_=e[f];++C<d;){var w=h[C],S=w.iteratee,b=w.type,E=S(_);if(b==Qz)_=E;else if(!E){if(b==Zz)continue e;break e}}y[v++]=_}return y}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var tk="4.17.21",rk=2,nk=1,ik=3,ex=4294967295,ok=Array.prototype,ak=Object.prototype,tx=ak.hasOwnProperty,rx=tr?tr.iterator:void 0,lk=Math.max,nx=Math.min,Ov=function(e){return function(r,t,n){if(n==null){var i=Ke(t),o=i&&xt(t),a=o&&o.length&&cf(t,o);(a?a.length:i)||(n=t,t=r,r=this)}return e(r,t,n)}}(vw);A.after=Tt.after,A.ary=Tt.ary,A.assign=xe.assign,A.assignIn=xe.assignIn,A.assignInWith=xe.assignInWith,A.assignWith=xe.assignWith,A.at=xe.at,A.before=Tt.before,A.bind=Tt.bind,A.bindAll=et.bindAll,A.bindKey=Tt.bindKey,A.castArray=de.castArray,A.chain=ti.chain,A.chunk=ae.chunk,A.compact=ae.compact,A.concat=ae.concat,A.cond=et.cond,A.conforms=et.conforms,A.constant=et.constant,A.countBy=ot.countBy,A.create=xe.create,A.curry=Tt.curry,A.curryRight=Tt.curryRight,A.debounce=Tt.debounce,A.defaults=xe.defaults,A.defaultsDeep=xe.defaultsDeep,A.defer=Tt.defer,A.delay=Tt.delay,A.difference=ae.difference,A.differenceBy=ae.differenceBy,A.differenceWith=ae.differenceWith,A.drop=ae.drop,A.dropRight=ae.dropRight,A.dropRightWhile=ae.dropRightWhile,A.dropWhile=ae.dropWhile,A.fill=ae.fill,A.filter=ot.filter,A.flatMap=ot.flatMap,A.flatMapDeep=ot.flatMapDeep,A.flatMapDepth=ot.flatMapDepth,A.flatten=ae.flatten,A.flattenDeep=ae.flattenDeep,A.flattenDepth=ae.flattenDepth,A.flip=Tt.flip,A.flow=et.flow,A.flowRight=et.flowRight,A.fromPairs=ae.fromPairs,A.functions=xe.functions,A.functionsIn=xe.functionsIn,A.groupBy=ot.groupBy,A.initial=ae.initial,A.intersection=ae.intersection,A.intersectionBy=ae.intersectionBy,A.intersectionWith=ae.intersectionWith,A.invert=xe.invert,A.invertBy=xe.invertBy,A.invokeMap=ot.invokeMap,A.iteratee=et.iteratee,A.keyBy=ot.keyBy,A.keys=xt,A.keysIn=xe.keysIn,A.map=ot.map,A.mapKeys=xe.mapKeys,A.mapValues=xe.mapValues,A.matches=et.matches,A.matchesProperty=et.matchesProperty,A.memoize=Tt.memoize,A.merge=xe.merge,A.mergeWith=xe.mergeWith,A.method=et.method,A.methodOf=et.methodOf,A.mixin=Ov,A.negate=Jl,A.nthArg=et.nthArg,A.omit=xe.omit,A.omitBy=xe.omitBy,A.once=Tt.once,A.orderBy=ot.orderBy,A.over=et.over,A.overArgs=Tt.overArgs,A.overEvery=et.overEvery,A.overSome=et.overSome,A.partial=Tt.partial,A.partialRight=Tt.partialRight,A.partition=ot.partition,A.pick=xe.pick,A.pickBy=xe.pickBy,A.property=et.property,A.propertyOf=et.propertyOf,A.pull=ae.pull,A.pullAll=ae.pullAll,A.pullAllBy=ae.pullAllBy,A.pullAllWith=ae.pullAllWith,A.pullAt=ae.pullAt,A.range=et.range,A.rangeRight=et.rangeRight,A.rearg=Tt.rearg,A.reject=ot.reject,A.remove=ae.remove,A.rest=Tt.rest,A.reverse=ae.reverse,A.sampleSize=ot.sampleSize,A.set=xe.set,A.setWith=xe.setWith,A.shuffle=ot.shuffle,A.slice=ae.slice,A.sortBy=ot.sortBy,A.sortedUniq=ae.sortedUniq,A.sortedUniqBy=ae.sortedUniqBy,A.split=Ze.split,A.spread=Tt.spread,A.tail=ae.tail,A.take=ae.take,A.takeRight=ae.takeRight,A.takeRightWhile=ae.takeRightWhile,A.takeWhile=ae.takeWhile,A.tap=ti.tap,A.throttle=Tt.throttle,A.thru=rs,A.toArray=de.toArray,A.toPairs=xe.toPairs,A.toPairsIn=xe.toPairsIn,A.toPath=et.toPath,A.toPlainObject=de.toPlainObject,A.transform=xe.transform,A.unary=Tt.unary,A.union=ae.union,A.unionBy=ae.unionBy,A.unionWith=ae.unionWith,A.uniq=ae.uniq,A.uniqBy=ae.uniqBy,A.uniqWith=ae.uniqWith,A.unset=xe.unset,A.unzip=ae.unzip,A.unzipWith=ae.unzipWith,A.update=xe.update,A.updateWith=xe.updateWith,A.values=xe.values,A.valuesIn=xe.valuesIn,A.without=ae.without,A.words=Ze.words,A.wrap=Tt.wrap,A.xor=ae.xor,A.xorBy=ae.xorBy,A.xorWith=ae.xorWith,A.zip=ae.zip,A.zipObject=ae.zipObject,A.zipObjectDeep=ae.zipObjectDeep,A.zipWith=ae.zipWith,A.entries=xe.toPairs,A.entriesIn=xe.toPairsIn,A.extend=xe.assignIn,A.extendWith=xe.assignInWith,Ov(A,A),A.add=gr.add,A.attempt=et.attempt,A.camelCase=Ze.camelCase,A.capitalize=Ze.capitalize,A.ceil=gr.ceil,A.clamp=Rv.clamp,A.clone=de.clone,A.cloneDeep=de.cloneDeep,A.cloneDeepWith=de.cloneDeepWith,A.cloneWith=de.cloneWith,A.conformsTo=de.conformsTo,A.deburr=Ze.deburr,A.defaultTo=et.defaultTo,A.divide=gr.divide,A.endsWith=Ze.endsWith,A.eq=de.eq,A.escape=Ze.escape,A.escapeRegExp=Ze.escapeRegExp,A.every=ot.every,A.find=ot.find,A.findIndex=ae.findIndex,A.findKey=xe.findKey,A.findLast=ot.findLast,A.findLastIndex=ae.findLastIndex,A.findLastKey=xe.findLastKey,A.floor=gr.floor,A.forEach=ot.forEach,A.forEachRight=ot.forEachRight,A.forIn=xe.forIn,A.forInRight=xe.forInRight,A.forOwn=xe.forOwn,A.forOwnRight=xe.forOwnRight,A.get=xe.get,A.gt=de.gt,A.gte=de.gte,A.has=xe.has,A.hasIn=xe.hasIn,A.head=ae.head,A.identity=rr,A.includes=ot.includes,A.indexOf=ae.indexOf,A.inRange=Rv.inRange,A.invoke=xe.invoke,A.isArguments=de.isArguments,A.isArray=se,A.isArrayBuffer=de.isArrayBuffer,A.isArrayLike=de.isArrayLike,A.isArrayLikeObject=de.isArrayLikeObject,A.isBoolean=de.isBoolean,A.isBuffer=de.isBuffer,A.isDate=de.isDate,A.isElement=de.isElement,A.isEmpty=de.isEmpty,A.isEqual=de.isEqual,A.isEqualWith=de.isEqualWith,A.isError=de.isError,A.isFinite=de.isFinite,A.isFunction=de.isFunction,A.isInteger=de.isInteger,A.isLength=de.isLength,A.isMap=de.isMap,A.isMatch=de.isMatch,A.isMatchWith=de.isMatchWith,A.isNaN=de.isNaN,A.isNative=de.isNative,A.isNil=de.isNil,A.isNull=de.isNull,A.isNumber=de.isNumber,A.isObject=Ke,A.isObjectLike=de.isObjectLike,A.isPlainObject=de.isPlainObject,A.isRegExp=de.isRegExp,A.isSafeInteger=de.isSafeInteger,A.isSet=de.isSet,A.isString=de.isString,A.isSymbol=de.isSymbol,A.isTypedArray=de.isTypedArray,A.isUndefined=de.isUndefined,A.isWeakMap=de.isWeakMap,A.isWeakSet=de.isWeakSet,A.join=ae.join,A.kebabCase=Ze.kebabCase,A.last=nt,A.lastIndexOf=ae.lastIndexOf,A.lowerCase=Ze.lowerCase,A.lowerFirst=Ze.lowerFirst,A.lt=de.lt,A.lte=de.lte,A.max=gr.max,A.maxBy=gr.maxBy,A.mean=gr.mean,A.meanBy=gr.meanBy,A.min=gr.min,A.minBy=gr.minBy,A.stubArray=et.stubArray,A.stubFalse=et.stubFalse,A.stubObject=et.stubObject,A.stubString=et.stubString,A.stubTrue=et.stubTrue,A.multiply=gr.multiply,A.nth=ae.nth,A.noop=et.noop,A.now=Yz.now,A.pad=Ze.pad,A.padEnd=Ze.padEnd,A.padStart=Ze.padStart,A.parseInt=Ze.parseInt,A.random=Rv.random,A.reduce=ot.reduce,A.reduceRight=ot.reduceRight,A.repeat=Ze.repeat,A.replace=Ze.replace,A.result=xe.result,A.round=gr.round,A.sample=ot.sample,A.size=ot.size,A.snakeCase=Ze.snakeCase,A.some=ot.some,A.sortedIndex=ae.sortedIndex,A.sortedIndexBy=ae.sortedIndexBy,A.sortedIndexOf=ae.sortedIndexOf,A.sortedLastIndex=ae.sortedLastIndex,A.sortedLastIndexBy=ae.sortedLastIndexBy,A.sortedLastIndexOf=ae.sortedLastIndexOf,A.startCase=Ze.startCase,A.startsWith=Ze.startsWith,A.subtract=gr.subtract,A.sum=gr.sum,A.sumBy=gr.sumBy,A.template=Ze.template,A.times=et.times,A.toFinite=de.toFinite,A.toInteger=Me,A.toLength=de.toLength,A.toLower=Ze.toLower,A.toNumber=de.toNumber,A.toSafeInteger=de.toSafeInteger,A.toString=de.toString,A.toUpper=Ze.toUpper,A.trim=Ze.trim,A.trimEnd=Ze.trimEnd,A.trimStart=Ze.trimStart,A.truncate=Ze.truncate,A.unescape=Ze.unescape,A.uniqueId=et.uniqueId,A.upperCase=Ze.upperCase,A.upperFirst=Ze.upperFirst,A.each=ot.forEach,A.eachRight=ot.forEachRight,A.first=ae.head,Ov(A,function(){var e={};return Qn(A,function(r,t){tx.call(A.prototype,t)||(e[t]=r)}),e}(),{chain:!1}),A.VERSION=tk,(A.templateSettings=Ze.templateSettings).imports._=A,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){A[e].placeholder=A}),on(["drop","take"],function(e,r){ze.prototype[e]=function(t){t=t===void 0?1:lk(Me(t),0);var n=this.__filtered__&&!r?new ze(this):this.clone();return n.__filtered__?n.__takeCount__=nx(t,n.__takeCount__):n.__views__.push({size:nx(t,ex),type:e+(n.__dir__<0?"Right":"")}),n},ze.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),on(["filter","map","takeWhile"],function(e,r){var t=r+1,n=t==nk||t==ik;ze.prototype[e]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:Le(i),type:t}),o.__filtered__=o.__filtered__||n,o}}),on(["head","last"],function(e,r){var t="take"+(r?"Right":"");ze.prototype[e]=function(){return this[t](1).value()[0]}}),on(["initial","tail"],function(e,r){var t="drop"+(r?"":"Right");ze.prototype[e]=function(){return this.__filtered__?new ze(this):this[t](1)}}),ze.prototype.compact=function(){return this.filter(rr)},ze.prototype.find=function(e){return this.filter(e).head()},ze.prototype.findLast=function(e){return this.reverse().find(e)},ze.prototype.invokeMap=$e(function(e,r){return typeof e=="function"?new ze(this):this.map(function(t){return Zl(t,e,r)})}),ze.prototype.reject=function(e){return this.filter(Jl(Le(e)))},ze.prototype.slice=function(e,r){e=Me(e);var t=this;return t.__filtered__&&(e>0||r<0)?new ze(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),r!==void 0&&(r=Me(r),t=r<0?t.dropRight(-r):t.take(r-e)),t)},ze.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ze.prototype.toArray=function(){return this.take(ex)},Qn(ze.prototype,function(e,r){var t=/^(?:filter|find|map|reject)|While$/.test(r),n=/^(?:head|last)$/.test(r),i=A[n?"take"+(r=="last"?"Right":""):r],o=n||/^find/.test(r);i&&(A.prototype[r]=function(){var a=this.__wrapped__,l=n?[1]:arguments,s=a instanceof ze,f=l[0],h=s||se(a),d=function(w){var S=i.apply(A,to([w],l));return n&&v?S[0]:S};h&&t&&typeof f=="function"&&f.length!=1&&(s=h=!1);var v=this.__chain__,g=!!this.__actions__.length,y=o&&!v,C=s&&!g;if(!o&&h){a=C?a:new ze(this);var _=e.apply(a,l);return _.__actions__.push({func:rs,args:[d],thisArg:void 0}),new nn(_,v)}return y&&C?e.apply(this,l):(_=this.thru(d),y?n?_.value()[0]:_.value():_)})}),on(["pop","push","shift","sort","splice","unshift"],function(e){var r=ok[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);A.prototype[e]=function(){var i=arguments;if(n&&!this.__chain__){var o=this.value();return r.apply(se(o)?o:[],i)}return this[t](function(a){return r.apply(se(a)?a:[],i)})}}),Qn(ze.prototype,function(e,r){var t=A[r];if(t){var n=t.name+"";tx.call(Ma,n)||(Ma[n]=[]),Ma[n].push({name:r,func:t})}}),Ma[qu(void 0,rk).name]=[{name:"wrapper",func:void 0}],ze.prototype.clone=Xz,ze.prototype.reverse=Vz,ze.prototype.value=ek,A.prototype.at=ti.at,A.prototype.chain=ti.wrapperChain,A.prototype.commit=ti.commit,A.prototype.next=ti.next,A.prototype.plant=ti.plant,A.prototype.reverse=ti.reverse,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=ti.value,A.prototype.first=A.prototype.head,rx&&(A.prototype[rx]=ti.toIterator);function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xf(e)}var sk=/^\s+/,uk=/\s+$/;function ce(e,r){if(e=e||"",r=r||{},e instanceof ce)return e;if(!(this instanceof ce))return new ce(e,r);var t=fk(e);this._originalInput=e,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||t.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}ce.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),t,n,i,o,a,l;return t=r.r/255,n=r.g/255,i=r.b/255,t<=.03928?o=t/12.92:o=Math.pow((t+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*l},setAlpha:function(r){return this._a=ux(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=ox(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=ox(this._r,this._g,this._b),t=Math.round(r.h*360),n=Math.round(r.s*100),i=Math.round(r.v*100);return this._a==1?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var r=ix(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=ix(this._r,this._g,this._b),t=Math.round(r.h*360),n=Math.round(r.s*100),i=Math.round(r.l*100);return this._a==1?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(r){return ax(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return vk(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ct(this._r,255)*100)+"%",g:Math.round(Ct(this._g,255)*100)+"%",b:Math.round(Ct(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ct(this._r,255)*100)+"%, "+Math.round(Ct(this._g,255)*100)+"%, "+Math.round(Ct(this._b,255)*100)+"%)":"rgba("+Math.round(Ct(this._r,255)*100)+"%, "+Math.round(Ct(this._g,255)*100)+"%, "+Math.round(Ct(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ek[ax(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var t="#"+lx(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(r){var o=ce(r);n="#"+lx(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(r){var t=!!r;r=r||this._format;var n=!1,i=this._a<1&&this._a>=0,o=!t&&i&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return o?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(n=this.toRgbString()),r==="prgb"&&(n=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(n=this.toHexString()),r==="hex3"&&(n=this.toHexString(!0)),r==="hex4"&&(n=this.toHex8String(!0)),r==="hex8"&&(n=this.toHex8String()),r==="name"&&(n=this.toName()),r==="hsl"&&(n=this.toHslString()),r==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return ce(this.toString())},_applyModification:function(r,t){var n=r.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Ck,arguments)},brighten:function(){return this._applyModification(mk,arguments)},darken:function(){return this._applyModification(_k,arguments)},desaturate:function(){return this._applyModification(pk,arguments)},saturate:function(){return this._applyModification(gk,arguments)},greyscale:function(){return this._applyModification(yk,arguments)},spin:function(){return this._applyModification(wk,arguments)},_applyCombination:function(r,t){return r.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(bk,arguments)},complement:function(){return this._applyCombination(xk,arguments)},monochromatic:function(){return this._applyCombination(Tk,arguments)},splitcomplement:function(){return this._applyCombination(Sk,arguments)},triad:function(){return this._applyCombination(sx,[3])},tetrad:function(){return this._applyCombination(sx,[4])}},ce.fromRatio=function(e,r){if(xf(e)=="object"){var t={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?t[n]=e[n]:t[n]=is(e[n]));e=t}return ce(e,r)};function fk(e){var r={r:0,g:0,b:0},t=1,n=null,i=null,o=null,a=!1,l=!1;return typeof e=="string"&&(e=Ok(e)),xf(e)=="object"&&(Ei(e.r)&&Ei(e.g)&&Ei(e.b)?(r=ck(e.r,e.g,e.b),a=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ei(e.h)&&Ei(e.s)&&Ei(e.v)?(n=is(e.s),i=is(e.v),r=dk(e.h,n,i),a=!0,l="hsv"):Ei(e.h)&&Ei(e.s)&&Ei(e.l)&&(n=is(e.s),o=is(e.l),r=hk(e.h,n,o),a=!0,l="hsl"),e.hasOwnProperty("a")&&(t=e.a)),t=ux(t),{ok:a,format:e.format||l,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:t}}function ck(e,r,t){return{r:Ct(e,255)*255,g:Ct(r,255)*255,b:Ct(t,255)*255}}function ix(e,r,t){e=Ct(e,255),r=Ct(r,255),t=Ct(t,255);var n=Math.max(e,r,t),i=Math.min(e,r,t),o,a,l=(n+i)/2;if(n==i)o=a=0;else{var s=n-i;switch(a=l>.5?s/(2-n-i):s/(n+i),n){case e:o=(r-t)/s+(r<t?6:0);break;case r:o=(t-e)/s+2;break;case t:o=(e-r)/s+4;break}o/=6}return{h:o,s:a,l}}function hk(e,r,t){var n,i,o;e=Ct(e,360),r=Ct(r,100),t=Ct(t,100);function a(f,h,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?f+(h-f)*6*d:d<1/2?h:d<2/3?f+(h-f)*(2/3-d)*6:f}if(r===0)n=i=o=t;else{var l=t<.5?t*(1+r):t+r-t*r,s=2*t-l;n=a(s,l,e+1/3),i=a(s,l,e),o=a(s,l,e-1/3)}return{r:n*255,g:i*255,b:o*255}}function ox(e,r,t){e=Ct(e,255),r=Ct(r,255),t=Ct(t,255);var n=Math.max(e,r,t),i=Math.min(e,r,t),o,a,l=n,s=n-i;if(a=n===0?0:s/n,n==i)o=0;else{switch(n){case e:o=(r-t)/s+(r<t?6:0);break;case r:o=(t-e)/s+2;break;case t:o=(e-r)/s+4;break}o/=6}return{h:o,s:a,v:l}}function dk(e,r,t){e=Ct(e,360)*6,r=Ct(r,100),t=Ct(t,100);var n=Math.floor(e),i=e-n,o=t*(1-r),a=t*(1-i*r),l=t*(1-(1-i)*r),s=n%6,f=[t,a,o,o,l,t][s],h=[l,t,t,a,o,o][s],d=[o,o,l,t,t,a][s];return{r:f*255,g:h*255,b:d*255}}function ax(e,r,t,n){var i=[Rn(Math.round(e).toString(16)),Rn(Math.round(r).toString(16)),Rn(Math.round(t).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vk(e,r,t,n,i){var o=[Rn(Math.round(e).toString(16)),Rn(Math.round(r).toString(16)),Rn(Math.round(t).toString(16)),Rn(fx(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function lx(e,r,t,n){var i=[Rn(fx(n)),Rn(Math.round(e).toString(16)),Rn(Math.round(r).toString(16)),Rn(Math.round(t).toString(16))];return i.join("")}ce.equals=function(e,r){return!e||!r?!1:ce(e).toRgbString()==ce(r).toRgbString()},ce.random=function(){return ce.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function pk(e,r){r=r===0?0:r||10;var t=ce(e).toHsl();return t.s-=r/100,t.s=Sf(t.s),ce(t)}function gk(e,r){r=r===0?0:r||10;var t=ce(e).toHsl();return t.s+=r/100,t.s=Sf(t.s),ce(t)}function yk(e){return ce(e).desaturate(100)}function Ck(e,r){r=r===0?0:r||10;var t=ce(e).toHsl();return t.l+=r/100,t.l=Sf(t.l),ce(t)}function mk(e,r){r=r===0?0:r||10;var t=ce(e).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(r/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(r/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(r/100)))),ce(t)}function _k(e,r){r=r===0?0:r||10;var t=ce(e).toHsl();return t.l-=r/100,t.l=Sf(t.l),ce(t)}function wk(e,r){var t=ce(e).toHsl(),n=(t.h+r)%360;return t.h=n<0?360+n:n,ce(t)}function xk(e){var r=ce(e).toHsl();return r.h=(r.h+180)%360,ce(r)}function sx(e,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var t=ce(e).toHsl(),n=[ce(e)],i=360/r,o=1;o<r;o++)n.push(ce({h:(t.h+o*i)%360,s:t.s,l:t.l}));return n}function Sk(e){var r=ce(e).toHsl(),t=r.h;return[ce(e),ce({h:(t+72)%360,s:r.s,l:r.l}),ce({h:(t+216)%360,s:r.s,l:r.l})]}function bk(e,r,t){r=r||6,t=t||30;var n=ce(e).toHsl(),i=360/t,o=[ce(e)];for(n.h=(n.h-(i*r>>1)+720)%360;--r;)n.h=(n.h+i)%360,o.push(ce(n));return o}function Tk(e,r){r=r||6;for(var t=ce(e).toHsv(),n=t.h,i=t.s,o=t.v,a=[],l=1/r;r--;)a.push(ce({h:n,s:i,v:o})),o=(o+l)%1;return a}ce.mix=function(e,r,t){t=t===0?0:t||50;var n=ce(e).toRgb(),i=ce(r).toRgb(),o=t/100,a={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return ce(a)},ce.readability=function(e,r){var t=ce(e),n=ce(r);return(Math.max(t.getLuminance(),n.getLuminance())+.05)/(Math.min(t.getLuminance(),n.getLuminance())+.05)},ce.isReadable=function(e,r,t){var n=ce.readability(e,r),i,o;switch(o=!1,i=Ik(t),i.level+i.size){case"AAsmall":case"AAAlarge":o=n>=4.5;break;case"AAlarge":o=n>=3;break;case"AAAsmall":o=n>=7;break}return o},ce.mostReadable=function(e,r,t){var n=null,i=0,o,a,l,s;t=t||{},a=t.includeFallbackColors,l=t.level,s=t.size;for(var f=0;f<r.length;f++)o=ce.readability(e,r[f]),o>i&&(i=o,n=ce(r[f]));return ce.isReadable(e,n,{level:l,size:s})||!a?n:(t.includeFallbackColors=!1,ce.mostReadable(e,["#fff","#000"],t))};var Iv=ce.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ek=ce.hexNames=Lk(Iv);function Lk(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[e[t]]=t);return r}function ux(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ct(e,r){Ak(e)&&(e="100%");var t=Rk(e);return e=Math.min(r,Math.max(0,parseFloat(e))),t&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function Sf(e){return Math.min(1,Math.max(0,e))}function Wr(e){return parseInt(e,16)}function Ak(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Rk(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Rn(e){return e.length==1?"0"+e:""+e}function is(e){return e<=1&&(e=e*100+"%"),e}function fx(e){return Math.round(parseFloat(e)*255).toString(16)}function cx(e){return Wr(e)/255}var On=function(){var e="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",t="(?:"+r+")|(?:"+e+")",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ei(e){return!!On.CSS_UNIT.exec(e)}function Ok(e){e=e.replace(sk,"").replace(uk,"").toLowerCase();var r=!1;if(Iv[e])e=Iv[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=On.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=On.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=On.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=On.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=On.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=On.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=On.hex8.exec(e))?{r:Wr(t[1]),g:Wr(t[2]),b:Wr(t[3]),a:cx(t[4]),format:r?"name":"hex8"}:(t=On.hex6.exec(e))?{r:Wr(t[1]),g:Wr(t[2]),b:Wr(t[3]),format:r?"name":"hex"}:(t=On.hex4.exec(e))?{r:Wr(t[1]+""+t[1]),g:Wr(t[2]+""+t[2]),b:Wr(t[3]+""+t[3]),a:cx(t[4]+""+t[4]),format:r?"name":"hex8"}:(t=On.hex3.exec(e))?{r:Wr(t[1]+""+t[1]),g:Wr(t[2]+""+t[2]),b:Wr(t[3]+""+t[3]),format:r?"name":"hex"}:!1}function Ik(e){var r,t;return e=e||{level:"AA",size:"small"},r=(e.level||"AA").toUpperCase(),t=(e.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:r,size:t}}var Mk="#FFFFFF",Bk="#000000",Dk=[95,85,75,30,15,0,15,30,45,60,80],$k=15,hx=function(e){return ce(e).getLuminance()<=.5},Fk=function(e,r){return ce.isReadable(e,r,{level:"AA",size:"small"})},Pk=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],Nk=function(e){for(var r=[],t=0;t<11;t++){var n=Dk[t];r.push(ns(n===0?e:ce.mix(e,t<5?Mk:Bk,n).toHexString()))}return r},Mv=function(e){e===void 0&&(e={});var r=Array.from(Array($k)).fill(Jh),t=e.basicColorRelations,n=t===void 0?[]:t,i=e.brandColor,o=Nk(i);return n.forEach(function(a){r[a.basicColorIndex]=o[a.standardColorIndex]}),Pk.forEach(function(a){var l=a.fontColorIndex,s=a.bgColorIndex;r[l]=hx(r[s])?Jh:hC}),B(B({},e),{basicColors:r})},Hk={brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]},zk=Mv(Hk),kk={brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]},Wk=Mv(kk),Gk={brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]},Uk=Mv(Gk),Yk={default:Wk,colorful:zk,gray:Uk},In="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",Xk=12,Vk={小计:"小计",总计:"总计",总和:"（总和）",项:"项",已选择:"已选择",序号:"序号",度量:"度量",数值:"数值",共计:"共计",条:"条",趋势:"趋势",隐藏:"隐藏",组内升序:"组内升序",升序:"升序",降序:"降序",组内降序:"组内降序",不排序:"不排序","，":"，"},qk={小计:"Total",总计:"Total",总和:"(SUM)",项:"items",已选择:"selected",序号:"Index",度量:"Measure",数值:"Measure",共计:"Total",条:"",隐藏:"Hide",趋势:"Trend",组内升序:"Group ASC",组内降序:"Group DESC",升序:"ASC",降序:"DESC",不排序:"No order","，":", "},Kk="zh_CN",dx=Kk,Bv={zh_CN:Vk,en_US:qk},jk=function(e){dx=e},Zk=function(e){Bv=Ql({},Bv,e)},mt=function(e,r){return r===void 0&&(r=e),ve(Bv,[dx,e],r)},Li="".concat(Zh,"-tooltip"),Dv="".concat(Li,"-container"),Qk="".concat(Dv,"-show"),Jk="".concat(Dv,"-hide"),vx={x:15,y:10},eW=function(){return{key:"hiddenColumns",text:mt("隐藏"),icon:"EyeOutlined"}},tW=function(){return{key:"trend",text:mt("趋势"),icon:"Trend"}},rW=function(){return[{key:"asc",icon:"groupAsc",text:mt("组内升序")},{key:"desc",icon:"groupDesc",text:mt("组内降序")},{key:"none",text:mt("不排序")}]},nW=function(){return[{key:"asc",icon:"groupAsc",text:mt("升序")},{key:"desc",icon:"groupDesc",text:mt("降序")},{key:"none",text:mt("不排序")}]},px;(function(e){e[e.ALL=0]="ALL",e[e.COL=1]="COL",e[e.ROW=2]="ROW"})(px||(px={}));var $v=1,un;(function(e){e.All="all",e.DetailOnly="detailOnly"})(un||(un={}));function zt(e){return e==="mobile"?!0:/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function iW(){return/iPhone/gi.test(navigator.userAgent)&&window.screen.height===812&&window.screen.width===375}function gx(){return/windows/i.test(navigator.userAgent)}var oW=function(e){var r=e||"default";return Yk[r.toLowerCase()]},aW=function(e){var r,t,n,i,o,a=(e==null?void 0:e.palette)||oW(e==null?void 0:e.name),l=a.basicColors,s=a.semanticColors,f=a.others,h=(r=e==null?void 0:e.spreadsheet)===null||r===void 0?void 0:r.isTableMode(),d=gx()?"bold":700,v=function(){var g,y;return{bolderText:{fontFamily:In,fontSize:12,fontWeight:d,fill:l[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:l[6]},text:{fontFamily:In,fontSize:12,fontWeight:"normal",fill:l[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:l[6]},cell:{crossBackgroundColor:l[1],backgroundColor:l[8],backgroundColorOpacity:1,horizontalBorderColor:l[9],horizontalBorderColorOpacity:1,verticalBorderColor:l[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:l[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:l[2],backgroundOpacity:.6,borderColor:l[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:l[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:(g=f==null?void 0:f.results)!==null&&g!==void 0?g:l[2],backgroundOpacity:1},highlight:{backgroundColor:(y=f==null?void 0:f.highlight)!==null&&y!==void 0?y:l[6],backgroundOpacity:1},prepareSelect:{borderColor:l[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:l[6],opacity:1},linkLine:{size:1.5,fill:l[6],opacity:.6}},bar:{intervalPadding:4,fill:l[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:l[13],opacity:.25},rangeColors:{good:s==null?void 0:s.green,satisfactory:s.yellow,bad:s.red},backgroundColor:"#E9E9E9"},interval:{height:Xk,fill:l[7]}},icon:{fill:l[13],downIconColor:s.red,upIconColor:s.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:In,fontSize:12,fontWeight:d,fill:l[0],opacity:1,textAlign:h?"center":"left",textBaseline:"middle"},text:{fontFamily:In,fontSize:12,fontWeight:d,fill:l[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:l[3],backgroundColorOpacity:1,horizontalBorderColor:l[10],horizontalBorderColorOpacity:1,verticalBorderColor:l[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:l[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:In,fontSize:12,fontWeight:"normal",fill:l[14],linkTextFill:l[6],opacity:1,textBaseline:h?"middle":"top",textAlign:"center"},measureText:{fontFamily:In,fontSize:12,fontWeight:"normal",fill:l[14],linkTextFill:l[6],opacity:1,textAlign:h?"center":"left",textBaseline:"top"},bolderText:{fontFamily:In,fontSize:12,fontWeight:d,fill:l[14],linkTextFill:l[6],opacity:1,textAlign:h?"center":"left",textBaseline:"top"},text:{fontFamily:In,fontSize:12,fontWeight:"normal",fill:l[14],linkTextFill:l[6],opacity:1,textBaseline:"top",textAlign:h?"center":"left"},cell:{backgroundColor:l[1],backgroundColorOpacity:1,horizontalBorderColor:l[9],horizontalBorderColorOpacity:1,verticalBorderColor:l[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:l[2],backgroundOpacity:.6},selected:{backgroundColor:l[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:l[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:(t=f==null?void 0:f.results)!==null&&t!==void 0?t:l[2],backgroundOpacity:1},highlight:{backgroundColor:(n=f==null?void 0:f.highlight)!==null&&n!==void 0?n:l[6],backgroundOpacity:1}}},icon:{fill:l[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:In,fontSize:12,fontWeight:"normal",fill:l[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:In,fontSize:12,fontWeight:d,fill:l[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:In,fontSize:12,fontWeight:"normal",fill:l[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:l[3],backgroundColorOpacity:1,horizontalBorderColor:l[10],horizontalBorderColorOpacity:1,verticalBorderColor:l[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,borderDash:[],padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:l[4],backgroundOpacity:.6},selected:{backgroundColor:l[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:l[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:(i=f==null?void 0:f.results)!==null&&i!==void 0?i:l[2],backgroundOpacity:1},highlight:{backgroundColor:(o=f==null?void 0:f.highlight)!==null&&o!==void 0?o:l[6],backgroundOpacity:1}}},icon:{fill:l[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:v(),mergedCell:v(),resizeArea:{size:3,background:l[7],backgroundOpacity:0,guideLineColor:l[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:l[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:zt()?3:6,hoverSize:zt()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:l[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:l[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"},borderDash:[]},prepareSelectMask:{backgroundColor:l[5],backgroundOpacity:.3},background:{color:l[8],opacity:1}}},Ut=function(){function e(r){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var t=r.id,n=r.key,i=r.value,o=r.label,a=r.parent,l=r.level,s=r.rowIndex,f=r.isTotals,h=r.isGrandTotals,d=r.isSubTotals,v=r.isCollapsed,g=r.isTotalRoot,y=r.hierarchy,C=r.isPivotMode,_=r.seriesNumberWidth,w=r.field,S=r.spreadsheet,b=r.query,E=r.belongsCell,O=r.inCollapseNode,D=r.isTotalMeasure,F=r.isLeaf,H=r.extra;this.id=t,this.key=n,this.value=i,this.label=o||i,this.parent=a,this.level=l,this.rowIndex=s,this.isTotals=f,this.isCollapsed=v,this.hierarchy=y,this.isPivotMode=C,this.seriesNumberWidth=_,this.field=w,this.spreadsheet=S,this.query=b,this.belongsCell=E,this.inCollapseNode=O,this.isTotalMeasure=D,this.isLeaf=F,this.isGrandTotals=h,this.isSubTotals=d,this.isTotalRoot=g,this.extra=H}return e.getFieldPath=function(r,t){if(r&&!r.isTotals||r&&t){for(var n=r.parent,i=[r.field];n&&n.id!==qh;)i.push(n.field),n=n.parent;return i.reverse()}},e.getAllLeaveNodes=function(r){var t=[];if(r.isLeaf)return[r];for(var n=j([],W(r.children),!1),i=n.shift();i;)i.isLeaf?t.push(i):n.unshift.apply(n,j([],W(i.children),!1)),i=n.shift();return t},e.getAllChildrenNodes=function(r){var t=[];if(r.isLeaf)return[r];for(var n=j([],W(r.children||[]),!1),i=n.shift();i;)t.push(i),n.unshift.apply(n,j([],W(i.children),!1)),i=n.shift();return t},e.getAllBranch=function(r){for(var t=[],n=this.getAllLeaveNodes(r),i=n.shift(),o=[];i;){o.unshift(i);for(var a=i.parent;a&&!Gt(a,r);){o.unshift(a);a=a.parent}t.push(o),i=n.shift(),o=[]}return t},e.blankNode=function(){return new e({id:"",key:"",value:""})},e.rootNode=function(){return new e({id:"root",key:"",value:""})},e.prototype.toJSON=function(){return uv(this,["config","hierarchy","parent","spreadsheet"])},e.prototype.getHeadLeafChild=function(){for(var r=this;!J(r.children);)r=qo(r.children);return r},e.prototype.getTotalHeightForTreeHierarchy=function(){return this.height===0||J(this.children)?this.height:this.children.reduce(function(r,t){return r+t.getTotalHeightForTreeHierarchy()},this.height)},e}(),yx=function(){function e(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return e.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter(function(r){return r.isLeaf})},e.prototype.getNodes=function(r){return r!==void 0?this.allNodesWithoutRoot.filter(function(t){return t.level===r}):this.allNodesWithoutRoot},e.prototype.getNodesLessThanLevel=function(r){return this.allNodesWithoutRoot.filter(function(t){return t.level<=r})},e.prototype.pushNode=function(r,t){t===void 0&&(t=-1),t===-1?this.allNodesWithoutRoot.push(r):this.allNodesWithoutRoot.splice(t,0,r)},e.prototype.pushIndexNode=function(r){this.indexNode.push(r)},e.prototype.getIndexNodes=function(){return this.indexNode},e}(),qa=function(){function e(r){var t=r.label,n=r.isSubTotals,i=r.isGrandTotals,o=r.isTotalRoot;this.label=t,this.isSubTotals=n,this.isGrandTotals=i,this.isTotalRoot=o}return e}(),lW=function(e){var r,t=e.isFirstField,n=e.currentField,i=e.fieldValues,o=e.spreadsheet,a=e.lastField,l=o.getTotalsConfig(t?n:a),s,f;t?l!=null&&l.showGrandTotals&&(s=l.reverseLayout?"unshift":"push",f=new qa({label:l.label,isSubTotals:!1,isGrandTotals:!0,isTotalRoot:!0})):l!=null&&l.showSubTotals&&(A.size(i)>1||A.get(l,"showSubTotals.always")!==!1)&&n!==Te&&(s=l.reverseSubLayout?"unshift":"push",f=new qa({label:l.subLabel,isSubTotals:!0,isGrandTotals:!1,isTotalRoot:!0})),(r=i[s])===null||r===void 0||r.call(i,f)};function Fv(e,r){for(var t={},n=e;n&&n.key;)(!n.isTotalRoot||r)&&n.value!==Fo&&(t[n.key]=n.value),n=n.parent;return t}var sW="Transform Data",uW="Header Layout",fW="Data Cell Render",ri=function(){function e(){var r=this;this.debug=!1,this.debugCallback=function(t,n){if(r.debug){var i=performance.now();n();var o=performance.now();console.log(t,"".concat(o-i," ms"))}else n()},this.logger=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];r.debug&&console.log.apply(console,j([t],W(n),!1))}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setDebug=function(r){this.debug=r},e}(),cW=`
<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">
    <text id="↓" fill="#29A294">
        <tspan x="-0.225097656" y="8.5">↓</tspan>
    </text>
</g>
</svg>`,hW=`<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">
    <text id="↑" fill="#FF4D4F">
        <tspan x="-0.225097656" y="8.5">↑</tspan>
    </text>
</g>
</svg>
`,dW=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 58 (84663) - https://sketch.com -->
    <title>down</title>
    <desc>Created with Sketch.</desc>
    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>
    </g>
</svg>`,vW=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 58 (84663) - https://sketch.com -->
    <title>up</title>
    <desc>Created with Sketch.</desc>
    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>
    </g>
</svg> `,pW=`<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="17452"
xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
<defs>
  <style type="text/css"></style>
</defs>
<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>
</svg>`,gW=`<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17561"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>
</svg>`,yW=`<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17670"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>
</svg>`,CW=`<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17779"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>
</svg>`,mW=`<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="设计输出" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">
    <g id="设计输出-移动端指标详情页-阅读端" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">
        <g id="编组-39" transform="translate(3064.500000, 667.000000)">
            <g id="编组-36" transform="translate(80.500000, 44.000000)">
                <g id="不排序" transform="translate(130.000000, 13.000000)">
                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="形状结合"></path>
                </g>
            </g>
        </g>
    </g>q
</g>
</svg>`,_W='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',wW=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>编组 8备份 3</title>
    <g id="----隐藏列标注！" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="隐藏列标注" transform="translate(-275.000000, -824.000000)">
            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>
            <g id="编组-8备份-3" transform="translate(275.000000, 824.000000)">
                <rect id="矩形" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>
                <rect id="矩形备份-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>
                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">
                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>
                </g>
                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">
                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>
                </g>
            </g>
            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="路径-2备份-3" stroke="#000000" opacity="0.25"></line>
        </g>
    </g>
</svg>`,xW=`<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"
width="200" height="200">
	<defs>
		<style type="text/css">
		</style>
	</defs>
	<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"
	p-id="16910">
	</path>
	<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"
	p-id="16911">
	</path>
</svg>`,SW=`<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"
width="200" height="200">
	<defs>
		<style type="text/css">
		</style>
	</defs>
	<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"
	p-id="17026">
	</path>
	<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"
	p-id="17027">
	</path>
</svg>`,bW=`<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"
    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>
</svg>
`,TW=`<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    fill-opacity="0.45"
    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"
    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>
</svg>
`,EW=`<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
<defs>
<style type="text/css"></style>
</defs>
<path
d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"
p-id="17621"></path>
</svg>
`,LW=`<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    fill-opacity="0.45"
    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"
    p-id="17621"></path>
</svg>
`,AW='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',RW=`<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>
`,OW='<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>',Cx=Object.freeze({__proto__:null,ArrowDown:cW,ArrowUp:hW,CellDown:dW,CellUp:vW,GlobalAsc:pW,GlobalDesc:gW,GroupAsc:yW,GroupDesc:CW,GroupNone:mW,Minus:xW,Plus:SW,SortDown:TW,SortUp:LW,SortDownSelected:bW,SortUpSelected:EW,InfoCircle:_W,ExpandColIcon:wW,Trend:AW,DrillDownIcon:RW,EyeOutlined:OW}),mx={},_x=function(e,r){mx[tv(e)]=r},wx=function(e){return mx[tv(e)]};xt(Cx).forEach(function(e){_x(e,Cx[e])});var xx="<svg",Sx="data:image/svg+xml",bx={},os=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;return n.isOnlineLink=function(i){return/^(https?:)?(\/\/)/.test(i)},n.render(),n}return r.prototype.getImage=function(t,n,i){var o=this;return new Promise(function(a,l){var s=wx(t);if(s){var f=new Image;f.onload=function(){bx[n]=f,a(f)},f.onerror=l,s.includes(Sx)||o.isOnlineLink(s)?(f.src=s,f.crossOrigin="anonymous"):(i&&(s=s.replace(/fill=[\'\"]#?\w+[\'\"]/g,""),s=s.replace(/fill>/g,">")),s=s.replace(xx,"".concat(xx,' fill="').concat(i,'"')),f.src="".concat(Sx,";utf-8,").concat(encodeURIComponent(s)))}})},r.prototype.render=function(){var t=this.cfg,n=t.name,i=t.fill,o=Wa(this.cfg),a=B(B({},uv(o,"fill")),{type:r.type}),l=new Wh({attrs:a});this.iconImageShape=l,this.setImageAttrs({name:n,fill:i})},r.prototype.setImageAttrs=function(t){var n=this,i=t.name,o=t.fill,a=this.iconImageShape;i=i||a.attrs.name,o=o||a.attrs.fill;var l="".concat(i,"-").concat(o),s=bx[l];s?(a.attr("img",s),this.addShape("image",a)):this.getImage(i,l,o).then(function(f){var h,d,v,g=(v=(d=(h=n.getParent())===null||h===void 0?void 0:h.getMeta)===null||d===void 0?void 0:d.call(h).spreadsheet)===null||v===void 0?void 0:v.container;if(n.destroyed||g&&!g.get("refreshElements")){ri.getInstance().logger("GuiIcon ".concat(i," destroyed."));return}a.attr("img",f),n.addShape("image",a)}).catch(function(f){if(f instanceof TypeError){console.warn("GuiIcon ".concat(i," destroyed:"),f);return}console.error("GuiIcon ".concat(i," load failed:"),f)})},r.type="__GUI_ICON__",r}(Vn),Bt;(function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT"})(Bt||(Bt={}));var jo;(function(e){e.SUM="SUM",e.MIN="MIN",e.MAX="MAX",e.AVG="AVG"})(jo||(jo={}));var fn;(function(e){e.Row="row",e.Col="col",e.Series="series"})(fn||(fn={}));var IW=function(){function e(){this.store=new Map}return e.prototype.set=function(r,t){return this.store.set(r,t)},e.prototype.get=function(r,t){var n,i=this.store.get(r);return(n=i)!==null&&n!==void 0?n:t},e.prototype.clear=function(){this.store.clear()},e.prototype.size=function(){return this.store.size},e}(),bf=function(e){var r,t,n=e.facetCfg,i=e.level,o=e.fields,a=n.colCfg,l=n.spreadsheet,s=n.dataSet,f=s.moreThanOneValue(),h=(t=(r=l.dataCfg.fields)===null||r===void 0?void 0:r.valueInCols)!==null&&t!==void 0?t:!0,d=(a==null?void 0:a.hideMeasureColumn)&&h&&!f&&vr(o,Te),v=d?2:1;return i===o.length-v},Tx=function(e,r,t,n){return r.layoutArrange?r.layoutArrange(r.spreadsheet,t,n,e):e},Pv=function(e,r,t,n){var i,o,a=(o=(i=e.spreadsheet)===null||i===void 0?void 0:i.facet)===null||o===void 0?void 0:o.getHiddenColumnsInfo(t);if(a&&e.columns.find(function(C){return C===t.field}))return!1;var l=!0,s=function(C,_,w){_===void 0&&(_=-1),w===void 0&&(w=-1),_===-1?(r.children.push(C),n.pushNode(C)):(r.children.splice(_,0,C),n.pushNode(C,w))};if(e.layoutHierarchy){var f=e.layoutHierarchy(e.spreadsheet,t);if(f){var h=ei(f==null?void 0:f.delete)?f==null?void 0:f.delete:!1;l=!h;var d=f.push,v=f.unshift,g=r.children.length,y=n.getNodes().length;J(v)||(_e(v,function(C){s(C)}),g=r.children.length,y=n.getNodes().length),J(d)||_e(d,function(C){s(C)}),h||s(t,g,y)}else s(t)}else s(t);return l},Nv=function(e,r,t){e!=null&&e.layoutCoordinate&&(r!=null&&r.isLeaf||t!=null&&t.isLeaf)&&(e==null||e.layoutCoordinate(e.spreadsheet,r,t))},MW=function(e,r){var t=e==null?void 0:e.layoutDataPosition;if(t){var n=r.getCellMeta,i=t(e.spreadsheet,n);return B(B({},r),{getCellMeta:i})}return r},Ex=function(){function e(r){this.label=r}return e}(),Lx=function(e){var r=e.addTotalMeasureInTotal,t=e.parentNode,n=e.currentField,i=e.fields,o=e.facetCfg,a=e.hierarchy,l=i.indexOf(n),s=o.dataSet,f=o.values,h=o.spreadsheet,d=[],v={},g=h.getTotalsConfig(n),y=t.isGrandTotals?g.totalsGroupDimensions||[]:g.subTotalsGroupDimensions||[],C=s.isEmpty()?[]:y;if(C!=null&&C.includes(n)){v=Fv(t);var _=s.getDimensionValues(n,v);d.push.apply(d,j([],W((_||[]).map(function(S){return new qa({label:S,isSubTotals:t.isSubTotals,isGrandTotals:t.isGrandTotals,isTotalRoot:!1})})),!1)),J(d)&&n&&d.push(Fo)}else if(r&&n===Te)v=Fv(t),d.push.apply(d,j([],W(f.map(function(S){return new Ex(S)})),!1));else if(bf({facetCfg:o,level:l,fields:i})){t.isLeaf=!0,a.pushIndexNode(t),t.rowIndex=a.getIndexNodes().length-1;return}else{Lx(B(B({},e),{currentField:i[l+1]}));return}var w=d.filter(function(S){return!vf(S)});Hv(B(B({},e),{fieldValues:w,level:l,parentNode:t,query:v}))},BW=function(e){var r,t=e.parentNode,n=e.currentField,i=e.fields,o=e.facetCfg,a=i.indexOf(n),l=o.dataSet,s=o.spreadsheet,f=[],h={};h=Fv(t,!0);var d=l.getDimensionValues(n,h),v=Tx(d,o,t,n);f.push.apply(f,j([],W(v||[]),!1)),J(f)&&n&&(n===Te?f.push.apply(f,j([],W((r=l.fields)===null||r===void 0?void 0:r.values),!1)):f.push(Fo)),lW({currentField:n,lastField:i[a-1],isFirstField:a===0,fieldValues:f,spreadsheet:s});var g=f.filter(function(y){return!vf(y)});Hv(B(B({},e),{fieldValues:g,level:a,parentNode:t,query:h}))},Ax=function(e){e.parentNode.isTotals?Lx(e):BW(e)},as=function(e,r){return"".concat(e).concat(Qt).concat(r)},Hv=function(e){var r,t,n,i,o,a,l,s,f,h,d=e.currentField,v=e.fields,g=e.fieldValues,y=e.facetCfg,C=e.hierarchy,_=e.parentNode,w=e.level,S=e.query,b=e.addMeasureInTotalQuery,E=e.addTotalMeasureInTotal,O=y.spreadsheet,D=y.collapsedCols;try{for(var F=sr(g.entries()),H=F.next();!H.done;H=F.next()){var k=W(H.value,2),q=k[0],V=k[1],Q=V instanceof qa,ie=V instanceof Ex,ue=void 0,K=void 0,te=!1,Re=!1,me=!1,we=!1,ke=d;if(Q){var Ae=V;Re=Ae.isGrandTotals,me=Ae.isSubTotals,we=Ae.isTotalRoot,ue=mt(V.label),we?K=S:K=B(B({},S),(n={},n[d]=ue,n)),b&&(K[Te]=(l=O==null?void 0:O.dataSet)===null||l===void 0?void 0:l.fields.values[0]),te=bf({facetCfg:y,level:w,fields:v})}else ie?(ue=mt(V.label),K=B(B({},S),(i={},i[Te]=ue,i)),ke=Te,Re=_.isGrandTotals,me=_.isSubTotals,te=bf({facetCfg:y,level:w,fields:v})):O.isTableMode()?(ue=V,ke=v[q],K=B(B({},S),(o={},o[ke]=ue,o)),te=!0):(ue=V,K=ue===Fo?B({},S):B(B({},S),(a={},a[d]=ue,a)),te=bf({facetCfg:y,level:w,fields:v}));var qe=as(_.id,ue);if(!qe)return;var at=ei(D==null?void 0:D[qe])?D==null?void 0:D[qe]:!1,Fe=new Ut({id:qe,key:ke,value:ue,level:w,field:ke,parent:_,isTotals:Q||ie,isGrandTotals:Re,isSubTotals:me,isTotalMeasure:ie,isCollapsed:at,isTotalRoot:we,hierarchy:C,query:K,spreadsheet:O,isLeaf:te||at}),We=Pv(y,_,Fe,C),tt=(s=O==null?void 0:O.facet)===null||s===void 0?void 0:s.getHiddenColumnsInfo(Fe);tt&&_&&(_.hiddenChildNodeInfo=tt),w>C.maxLevel&&!Re&&!_.isGrandTotals&&!_.isSubTotals&&!Fe.isSubTotals&&(C.sampleNodesForAllLevels.push(Fe),C.maxLevel=w,C.sampleNodeForLastLevel=tt?((f=tt==null?void 0:tt.displaySiblingNode)===null||f===void 0?void 0:f.next)||((h=tt==null?void 0:tt.displaySiblingNode)===null||h===void 0?void 0:h.prev):Fe);var or=te||at||!We;or?(Fe.isLeaf=!0,C.pushIndexNode(Fe),Fe.rowIndex=C.getIndexNodes().length-1):Ax({addTotalMeasureInTotal:E,addMeasureInTotalQuery:b,parentNode:Fe,currentField:v[w+1],fields:v,facetCfg:y,hierarchy:C})}}catch(mr){r={error:mr}}finally{try{H&&!H.done&&(t=F.return)&&t.call(F)}finally{if(r)throw r.error}}},Rx=function(e,r,t,n){var i=r.facetCfg,o=r.hierarchy,a=r.parentNode,l=i.dataSet;e.forEach(function(s,f){typeof s=="string"&&(s={key:s});var h=s.key,d=h===$o?mt("序号"):l.getFieldName(h),v=n||a;if(Hv({currentField:h,fields:[h],fieldValues:[d],facetCfg:i,hierarchy:o,parentNode:v,level:t,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),s.children&&s.children.length){var g=v.children[f];g.isLeaf=!1,Rx(s.children,r,t+1,g)}})},Zo=function(e,r){return r>0&&e<r},Qo=function(e,r,t){return r>0&&e>=t-r},Tf=function(e,r,t){return t>0&&e<r+t},ls=function(e,r,t){return t>0&&e>=r+1-t},zv=function(e,r,t,n,i,o){var a=Ua(t,function(d,v){var g=e-(It(o)?0:o)+i.x;return g>=d&&g<t[v+1]},0);a=Math.max(a,0);var l=Ua(t,function(d,v){var g=i.width+e+i.x;return g>=d&&g<t[v+1]},a);l=Math.min(l===-1?1/0:l,t.length-2);var s=n.getIndexRange(r+i.y,i.height+r+i.y),f=s.start,h=s.end;return[a,l,f,h]},DW=function(e,r,t){var n=2,i=Math.abs(e/r),o=i<=1/n?0:e,a=i>n?0:r;return[o*t.horizontal,a*t.vertical]},Ai=function(e,r,t){var n,i,o=e==null?void 0:e.getMatrix(),a=(n=o==null?void 0:o[6])!==null&&n!==void 0?n:0,l=(i=o==null?void 0:o[7])!==null&&i!==void 0?i:0;e==null||e.translate(r-a,t-l)},Ef=function(e,r){var t,n=e==null?void 0:e.getMatrix(),i=(t=n==null?void 0:n[6])!==null&&t!==void 0?t:0;e==null||e.translate(r-i,0)},$W=function(e,r){var t,n=e==null?void 0:e.getMatrix(),i=(t=n==null?void 0:n[7])!==null&&t!==void 0?t:0;e==null||e.translate(0,r-i)},FW=function(e,r,t,n){var i=r.frozenColCount,o=r.frozenRowCount,a=r.frozenTrailingColCount,l=r.frozenTrailingRowCount,s=e.colIndex,f=e.rowIndex;return Tf(f,n.start,o)?Ot.ROW:ls(f,n.end,l)?Ot.TRAILING_ROW:Zo(s,i)?Ot.COL:Qo(s,a,t)?Ot.TRAILING_COL:Ot.SCROLL},PW=function(e,r,t){for(var n,i=e.frozenColCount,o=e.frozenRowCount,a=e.frozenTrailingColCount,l=e.frozenTrailingRowCount,s=(n={},n[Ot.TOP]=[],n[Ot.BOTTOM]=[],n),f=0;f<i;f++){for(var h=t.start;h<t.start+o;h++)s[Ot.TOP].push({x:f,y:h});if(l>0)for(var h=0;h<l;h++){var d=t.end-h;s[Ot.BOTTOM].push({x:f,y:d})}}for(var f=0;f<a;f++){for(var v=r-1-f,h=t.start;h<t.start+o;h++)s[Ot.TOP].push({x:v,y:h});if(l>0)for(var h=0;h<l;h++){var d=t.end-h;s[Ot.BOTTOM].push({x:v,y:d})}}return s},NW=function(e,r,t,n){var i=r.frozenColCount,o=r.frozenRowCount,a=r.frozenTrailingColCount,l=r.frozenTrailingRowCount,s=j([],W(e),!1);Zo(s[0],i)&&(s[0]=i),Qo(s[1],a,t)&&(s[1]=t-a-1),Tf(s[2],n.start,o)&&(s[2]=n.start+o),ls(s[3],n.end,l)&&(s[3]=n.end-l);var f=j([],W(s),!1);f[2]=n.start,f[3]=n.start+o-1;var h=j([],W(s),!1);h[0]=0,h[1]=i-1;var d=j([],W(s),!1);d[2]=n.end+1-l,d[3]=n.end;var v=j([],W(s),!1);return v[0]=t-a,v[1]=t-1,{center:s,frozenRow:f,frozenCol:h,frozenTrailingCol:v,frozenTrailingRow:d}},HW=function(e,r){var t=e,n=0,i=t.getTotalLength()-1;if(r){var o=r.current,a=o===void 0?$v:o,l=r.pageSize;n=Math.max((a-1)*l,0),i=Math.min(a*l-1,t.getTotalLength()-1)}return{start:n,end:i}},Lf=function(e,r,t){var n=r,i=t,o=function(a){return a.isLeaf?1:a.children?a.children.reduce(function(l,s){return l+=o(s),l},0):0};return r&&(n=e.slice(0,r).reduce(function(a,l){return a+=o(l),a},0)),t&&(i=e.slice(e.length-t).reduce(function(a,l){return a+=o(l),a},0)),{colCount:n,trailingColCount:i}},Ox=function(e,r){return e.reduce(function(t,n){typeof n=="string"&&(n={key:n});var i=B({},n);return i.children?(i.children=Ox(i.children,r),t.push(i),t):(r[i.key]&&t.push(i),t)},[])},ni=function(e){return e.parent.id==="root"},zW=function(e){for(;!ni(e);)e=e.parent;return e},kW=function(e){var r=[],t=function(n){n.forEach(function(i){typeof i=="string"||!i.children?r.push(i):t(i.children)})};return t(e),r},Jo=function(e){var r=kW(e);return r.map(function(t){return typeof t=="string"?t:t.key})},kv=function(e){var r=e.children[0];return r?r.isLeaf?r:kv(r):e},WW=function(e){return J(e.rows)&&J(e.columns)&&J(e.values)&&J(e.customTreeItems)},Ka=function(e,r){var t,n=e.pagination,i=e.frozenFirstRow,o=e.hierarchyType,a=e.showSeriesNumber,l=n&&n.pageSize,s=!1,f=r==null?void 0:r[0];if(!l&&i){s=((t=f==null?void 0:f.children)===null||t===void 0?void 0:t.length)===0;var h=o==="tree"||o==="customTree";h&&!s&&(s=!a)}var d=s&&!!f;return{frozenRowCount:d?1:0,frozenColCount:0,frozenTrailingColCount:0,frozenTrailingRowCount:0,enableFrozenFirstRow:s,frozenRowHeight:d?f.height:0}},Ix=function(e){return e===Fo?Du:e},GW=function(e){var r=e.facetCfg,t=r.columns,n=r.spreadsheet,i=n.store.get("hiddenColumnsDetail"),o=r==null?void 0:r.showSeriesNumber,a=Jo(t),l=a.filter(function(d){return i?i.every(function(v){return v.hideColumnNodes.every(function(g){return g.field!==d})}):!0}),s=j([],W(l),!1),f=j([],W(t),!1),h={};o&&(f.unshift({key:$o}),h[$o]=!0),s.reduce(function(d,v){return d[v]=!0,d},h),Rx(Ox(f,h),e,0,null)},ja=function(e){return Number.parseFloat((Hr(e)||0).toPrecision(fC))},ao=function(e,r,t){if(t===void 0&&(t=0),!Object.values(e).find(function(a){return a>0}))return e;var n=B({},e);n.frozenColCount>=r&&(n.frozenColCount=r);var i=r-n.frozenColCount;n.frozenTrailingColCount>i&&(n.frozenTrailingColCount=i),n.frozenRowCount>=t&&(n.frozenRowCount=t);var o=t-n.frozenRowCount;return n.frozenTrailingRowCount>o&&(n.frozenTrailingRowCount=o),n},UW=function(e){var r;return(r=e==null?void 0:e.position)!==null&&r!==void 0?r:"right"},YW=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0),e=ja(e),r=ja(r);var t=e>=0,n=r>=0&&e<=0,i=t?e:r,o=n?0:i,a=r-e;return function(l){var s=t?0:1,f=n?ef(Math.abs(0-e)/a,0,1):s,h=ef((l-o)/a,-1,1);return{zeroScale:f,scale:h}}},Mx=function(e,r){return ff(e,function(t){return t.field instanceof RegExp?t.field.test(r):t.field===r})},Wv=function(e){return Ql({size:0,position:"right",margin:{left:0,right:0}},e)},Bx=function(e,r,t){var n=r.size,i=r.margin,o=Mx(e==null?void 0:e.icon,t),a=o&&o.mapping&&{size:n,margin:i,position:UW(o)};return Wv(a)};function Gr(e,r,t){var n;return(n=e==null?void 0:e.addShape)===null||n===void 0?void 0:n.call(e,"rect",B({zIndex:1,attrs:r},t||{}))}function XW(e,r){var t;return(t=e==null?void 0:e.addShape)===null||t===void 0?void 0:t.call(e,"polygon",{attrs:r})}function VW(e,r){var t;return(t=e==null?void 0:e.addShape)===null||t===void 0?void 0:t.call(e,"polyline",{attrs:r})}function Dx(e,r){var t;return(t=e==null?void 0:e.addShape)===null||t===void 0?void 0:t.call(e,"circle",{attrs:r})}function ea(e,r,t,n,i,o,a,l){var s;return!J(r)&&e&&_e(r,function(f){e.contain(f)&&e.removeChild(f,!0)}),(s=e==null?void 0:e.addShape)===null||s===void 0?void 0:s.call(e,"text",{attrs:B(B({x:t,y:n,text:i,originalText:l},o),a)})}function Yt(e,r,t){var n;return(n=e==null?void 0:e.addShape)===null||n===void 0?void 0:n.call(e,"line",{zIndex:100,attrs:B(B({},r),t)})}function cn(e,r,t){if(!J(e)){var n=se(e)?e:[e];n.forEach(function(i){ts(i,"attrs.".concat(r),t)})}}function Gv(e,r){var t=new os(r);return e==null||e.add(t),t}function $x(e,r,t,n,i){var o=new os(B(B({name:n?"Plus":"Minus"},r),{fill:t}));return Ht(i)&&o.on("click",i),e==null||e.add(o),o}var Uv="s2-offscreen-canvas",qW=function(){var e=document.getElementById(Uv);return e||(e=document.createElement("canvas"),e.id=Uv,e.style.display="none",document.body.appendChild(e),e)},KW=function(){var e;(e=document.getElementById(Uv))===null||e===void 0||e.remove()},Fx=function(e,r){var t,n,i,o=e.data,a=e.encode,l=e.type,s=r.getMeta(),f=s.x,h=s.y,d=s.height,v=s.width,g=r.getStyle(ee.DATA_CELL),y=g.cell,C=g.miniChart,_=[],w=Ne(o,function(ie){return _.push(ie==null?void 0:ie[a.y]),{x:ie[a.x],y:ie[a.y]}}),S=bi(_),b=av(_),E=S-b,O=f+y.padding.left,D=f+v-y.padding.right,F=h+y.padding.top,H=h+d-y.padding.bottom,k=H-F,q=l===Ra.Bar?(D-O-(_.length-1)*((t=C==null?void 0:C.bar)===null||t===void 0?void 0:t.intervalPadding))/_.length+((n=C==null?void 0:C.bar)===null||n===void 0?void 0:n.intervalPadding):(i=(D-O)/(_.length-1))!==null&&i!==void 0?i:0,V=[],Q=Ne(w,function(ie,ue){var K,te=O+ue*q,Re;if(E!==0?Re=H-((ie==null?void 0:ie.y)-b)/E*k:Re=b>0?F:H,l===Ra.Bar){var me=void 0,we=void 0;b<0&&S>0&&E!==0?(me=H-(0-b)/E*k,we=Math.abs(Re-me),(ie==null?void 0:ie.y)<0&&(Re=me)):(me=b<0?F:H,E=bi([Math.abs(S),Math.abs(b)]),we=E===0?k:Math.abs((ie==null?void 0:ie.y)-0)/E*k,Re=me);var ke=q-((K=C==null?void 0:C.bar)===null||K===void 0?void 0:K.intervalPadding);V.push([ke,we])}return[te,Re]});return{points:Q,box:V}},jW=function(e,r){if(!(J(e==null?void 0:e.data)||J(r))){var t=r.getStyle(ee.DATA_CELL),n=t.miniChart,i=n.line,o=i.point,a=i.linkLine,l=Fx(e,r).points;VW(r,{points:l,stroke:a.fill,lineWidth:a.size,opacity:a.opacity});for(var s=0;s<l.length;s++)Dx(r,{x:l[s][0],y:l[s][1],r:o.size,fill:o.fill,fillOpacity:o.opacity})}},ZW=function(e,r){if(!(J(e==null?void 0:e.data)||J(r)))for(var t=r.getStyle(ee.DATA_CELL),n=t.miniChart,i=n.bar,o=Fx(e,r),a=o.points,l=o.box,s=0;s<a.length;s++)Gr(r,{x:a[s][0],y:a[s][1],width:l[s][0],height:l[s][1],fill:i.fill,fillOpacity:i.opacity})},QW=function(e,r,t){var n=Number(r)-Number(e);return Number.isNaN(n)||Number(e)<0?t.bad:n<=.1?t.good:n>.1&&n<=.2?t.satisfactory:t.bad},JW=function(e,r){var t,n,i=Number(e);if(Number.isNaN(i))return e;var o=(t=r.min)!==null&&t!==void 0?t:r,a=(n=r.max)!==null&&n!==void 0?n:r,l=new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:a,useGrouping:!1,style:"percent"});return l.format(i)},eG=function(e){var r,t,n,i,o,a;if(!J(e)){var l=e.getCellArea(),s=l.x,f=l.y,h=l.height,d=l.width,v=e.findFieldCondition((r=e.cellConditions)===null||r===void 0?void 0:r.interval);if(v&&v.mapping){var g=e.mappingValue(v);if(!g)return;var y=g.isCompare?g:e.valueRangeByField,C=ja(y.minValue),_=ja(y.maxValue),w=It(g==null?void 0:g.fieldValue)?ja(e.getMeta().fieldValue):ja(g==null?void 0:g.fieldValue);if(w<C||w>_)return;var S=(n=(t=e.getStyle().miniChart.interval)===null||t===void 0?void 0:t.height)!==null&&n!==void 0?n:e.getStyle().cell.miniBarChartHeight,b=(o=(i=e.getStyle().miniChart.interval)===null||i===void 0?void 0:i.fill)!==null&&o!==void 0?o:e.getStyle().cell.miniBarChartFillColor,E=YW(C,_),O=E(w),D=O.zeroScale,F=O.scale,H=(a=g.fill)!==null&&a!==void 0?a:b;return Gr(e,{x:s+d*D,y:f+h/2-S/2,width:d*F,height:S,fill:H})}}},tG=function(e,r){var t,n=r.getStyle(ee.DATA_CELL),i=r.getMeta(),o=i.x,a=i.y,l=i.height,s=i.width,f=i.spreadsheet;if(J(e)){ea(r,[],o+s-n.cell.padding.right,a+l/2,ra(r,f.options.placeholder),n.text);return}var h=n.miniChart.bullet,d=h.progressBar,v=h.comparativeMeasure,g=h.rangeColors,y=h.backgroundColor,C=e.measure,_=e.target,w=Math.max(Number(C),0),S=Math.max(Number(_),0),b=JW(C,2),E=(d==null?void 0:d.widthPercent)>1?(d==null?void 0:d.widthPercent)/100:d==null?void 0:d.widthPercent,O=n.cell.padding,D=s-O.left-O.right,F=E*D,H=D-F,k=o+s-O.right-F,q=a+l/2-d.height/2;Gr(r,{x:k,y:q,width:F,height:d.height,fill:y,textBaseline:n.text.textBaseline});var V=ve(r.getMeta(),"spreadsheet.options.bullet.getRangeColor"),Q=Math.max(Math.min(F*w,F),0);Gr(r,{x:k,y:q+(d.height-d.innerHeight)/2,width:Q,height:d.innerHeight,fill:(t=V==null?void 0:V(w,S))!==null&&t!==void 0?t:QW(w,S,g)});var ie=k+F*S;Yt(r,{x1:ie,y1:a+(l-v.height)/2,x2:ie,y2:a+(l-v.height)/2+v.height},{stroke:(v==null?void 0:v.fill)||(v==null?void 0:v.color),lineWidth:v.width,opacity:v==null?void 0:v.opacity}),ea(r,[],k-O.right,a+l/2,Za({measureTextWidth:f.measureTextWidth,text:b,maxWidth:H-O.right,fontParam:n.text}),n.text)},rG=function(e,r){switch(r==null?void 0:r.type){case Ra.Line:jW(r,e);break;case Ra.Bar:ZW(r,e);break;default:tG(r,e);break}},Px=function(e,r){var t=e.x,n=e.y,i=e.width,o=e.height,a=i-(r==null?void 0:r.left)-(r==null?void 0:r.right),l=o-(r==null?void 0:r.top)-(r==null?void 0:r.bottom);return{x:t+(r==null?void 0:r.left),y:n+(r==null?void 0:r.top),width:a,height:l}},Nx=function(e,r){return r=Wv(r),e-r.size-r.margin.right-r.margin.left},Af=function(e,r,t){var n=e.y,i=e.height;t===void 0&&(t=0);var o=0;switch(r){case"top":o=n;break;case"middle":o=n+i/2-t/2;break;default:o=n+i-t;break}return o},ss=function(e,r,t,n,i){t===void 0&&(t=0),i===void 0&&(i=1);var o=e.x,a=e.width,l=r||{},s=l.textAlign,f=l.textBaseline,h=Wv(n),d=h.size,v=h.margin,g=h.position,y=i*(d+v.left)+(i?v.right:0),C,_;switch(s){case"left":C=o+(g==="left"?y:0),_=o+(g==="left"?v.left:t+v.left);break;case"center":{var w=y-(g==="left"?v.left:v.right)+t,S=o+a/2-w/2;C=S+t/2+(g==="left"?y-v.left:0),_=S+(g==="left"?0:t+v.left);break}default:{C=o+a-(g==="right"?y:0),_=o+a-(g==="right"?y-v.left:t+y-v.left);break}}var b=Af(e,f,0),E=Af(e,f,d);return{text:{x:C,y:b},icon:{x:_,y:E}}},nG=function(e,r){return ss(e,r).text},iG=function(e,r,t){var n=r.start+r.width,i=e.start+e.width,o,a;if(r.start<=e.start&&n>=i)o=e.start+e.width/2,a=e.width;else if(r.start<=e.start){var l=r.width-(e.start-r.start);o=l<t?n-t/2:n-l/2,a=l}else if(n>=i){var l=r.width-(n-i);o=l<t?r.start+t/2:r.start+l/2,a=l}else o=r.start+r.width/2,a=r.width;return{start:o,width:a}},ta=function(e,r,t){var n=r.x,i=r.y,o=r.width,a=r.height,l=t.horizontalBorderWidth,s=t.horizontalBorderColorOpacity,f=t.horizontalBorderColor,h=t.verticalBorderWidth,d=t.verticalBorderColor,v=t.verticalBorderColorOpacity,g=t.borderDash,y,C,_,w,S;if(e===Bt.TOP||e===Bt.BOTTOM){var b=i;e===Bt.TOP?b=i+h/2:b=i+a-h/2,C=b,w=b,y=n,_=n+o,S={lineWidth:l,stroke:f,strokeOpacity:s,lineDash:g}}if(e===Bt.LEFT||e===Bt.RIGHT){var E=n;e===Bt.LEFT?E=n+l/2:E=n+o-l/2,y=E,_=E,C=i,w=i+a,S={lineWidth:h,stroke:d,strokeOpacity:v,lineDash:g}}return{position:{x1:y,x2:_,y1:C,y2:w},style:S}},oG=function(e,r,t){t===void 0&&(t={left:0,right:0});var n=B({},e);return r==="left"?(n.start+=t.left,n.width-=t.left):r==="right"&&(n.width-=t.right),n},aG=function(e,r,t,n){var i=r+t,o=e.start;if(n==="center")return o-t/2;var a=e.width-i>0,l=a?e.width/2:i/2;return n==="left"?o-l:o+l-t};Wo(function(e,r){if(e===void 0&&(e=""),!r)return 0;var t=qW().getContext("2d"),n=r,i=n.fontSize,o=n.fontFamily,a=n.fontWeight,l=n.fontStyle,s=n.fontVariant;return t.font=[l,s,a,"".concat(i,"px"),o].join(" ").trim(),t.measureText("".concat(e)).width},function(e,r){return j([e],W(Si(r)),!1).join("")});var Hx=function(e,r,t,n){var i=16,o=e(Oa,n),a;Ya(r)?a=r:a=je(r);var l=t,s=[],f,h;if(e(r,n)<=t)return r;for(var d=!0;d;){if(f=a.substr(0,i),h=e(f,n),h+o>l&&h>l){d=!1;break}if(s.push(f),l-=h,a=a.substr(i),!a)return s.join("")}for(var v=!0;v;){if(f=a.substr(0,1),h=e(f,n),h+o>l){v=!1;break}if(s.push(f),l-=h,a=a.substr(1),!a)return s.join("")}return"".concat(s.join(""),"...")},Za=function(e){var r=e.measureTextWidth,t=e.text,n=e.maxWidth,i=e.fontParam,o=e.priorityParam,a=e.placeholder,l={},s=a??Du,f=It(t)||t===""||t===Fo,h=f?s:"".concat(t),d=o;if(i&&se(i)?d=i:l=i||{},!d||!d.length)return Hx(r,h,n,l);var v=[],g=[h];d.forEach(function(w){g.forEach(function(S,b){var E=-1,O=S.match(new RegExp(w));if(O){var D=O[0];E=O.index,v.push(D);var F=E+D.length,H=S.slice(0,E),k=S.slice(F),q=[H,k].filter(function(V){return!!V});g.splice.apply(g,j([b,1],W(q),!1))}})}),g=v.concat(g);var y=h,C=r(Oa,l),_=n;return g.forEach(function(w){if(_<=0){var S=y.indexOf(w),b=y.slice(S-3,S);if(b&&b!==Oa){var E=r(w,l);y=y.replace(w,E>C?Oa:w)}else y=y.replace(w,"");_-=C}else{var E=r(w,l);if(_<E&&E>C){var O=Hx(r,w,_,l);y=y.replace(w,O),_=0}else _-=E}}),y},lG=function(e,r,t,n){var i=r.right,o=t||0;return e+i/2+o},sG=function(e){var r,t,n=e.getMeta().isTotals,i=(t=(r=e).isMeasureField)===null||t===void 0?void 0:t.call(r),o=e.getStyle(e.cellType||ee.DATA_CELL),a;return i?a=o.measureText:n?a=o.bolderText:a=o.text,{cellStyle:o,textStyle:a}},uG=function(e){var r=e.rowIndex,t=e.colIndex,n=e.meta,i=e.data,o=e.textStyle,a=e.textCondition,l=o==null?void 0:o.fill;return a!=null&&a.mapping&&(l=a==null?void 0:a.mapping(i,{rowIndex:r,colIndex:t,meta:n}).fill),B(B({},o),{fill:l})},ra=function(e,r){return Ht(r)?r(e):r},fG=function(e,r,t){for(var n=e.x,i=e.y,o=e.width,a=e.height,l=a/Ko(r),s=[],f,h,d,v=0,g=Ne(t,function(w){return w>1?w/100:w}),y=0;y<Ko(r);y++){h=i+l*y;var C=[];f=n,v=0;for(var _=0;_<Ko(r[y]);_++)d=J(g)?o/Ko(r[0]):o*g[_],f=lG(n,{left:0,right:0},v),v+=d,C.push({x:f,y:h,width:d,height:l});s.push(C)}return s},cG=function(e,r,t){var n,i,o,a;t===void 0&&(t=!0);var l=e.getContentArea(),s=l.x,f=l.y,h=l.height,d=l.width,v=e.getMeta().fieldValue,g=v.values,y=e.getMeta().spreadsheet,C=y.options,_=y.measureTextWidth,w=C.style.cellCfg.valuesCfg,S=(i=(n=C==null?void 0:C.conditions)===null||n===void 0?void 0:n.text)===null||i===void 0?void 0:i[0],b=(a=(o=C==null?void 0:C.conditions)===null||o===void 0?void 0:o.icon)===null||a===void 0?void 0:a[0];if(!se(g)){rG(e,g);return}var E=w==null?void 0:w.widthPercent,O=0;if(v!=null&&v.label){var D=e.getStyle(ee.DATA_CELL),F=D.bolderText;O=h/(g.length+1);var H=ea(e,[],s,f+O/2,Za({measureTextWidth:_,text:v.label,maxWidth:d,fontParam:F}),F);e.addTextShape(H)}for(var k=sG(e),q=k.cellStyle,V=k.textStyle,Q=q==null?void 0:q.icon,ie=b&&b.mapping&&{size:Q==null?void 0:Q.size,margin:Q==null?void 0:Q.margin,position:b==null?void 0:b.position},ue,K=fG({x:s,y:f+O,height:h-O,width:d},g,E),te=0;te<g.length;te++)for(var Re=Wa(g[te]),me=0;me<Re.length;me++){ue=Re[me];var we=t?uG({rowIndex:te,colIndex:me,meta:e==null?void 0:e.getMeta(),data:ue,textStyle:V,textCondition:S}):V,ke=(e==null?void 0:e.getMeta().spreadsheet.options).placeholder,Ae=ra(e==null?void 0:e.getMeta(),ke),qe=Nx(K[te][me].width,Q),at=Za({measureTextWidth:_,text:ue,maxWidth:qe,fontParam:we,placeholder:Ae}),Fe=_(at,V),We=ss(K[te][me],V,Fe,ie,b?1:0),H=ea(e,[],We.text.x,We.text.y,at,we,{},ue==null?void 0:ue.toString());if(e.addTextShape(H),b&&t){var tt=b==null?void 0:b.mapping(ue,{rowIndex:te,colIndex:me,meta:e==null?void 0:e.getMeta()});if(tt){var or=Gv(e,B(B({},We.icon),{name:tt.icon,width:Q==null?void 0:Q.size,height:Q==null?void 0:Q.size,fill:tt.fill}));e.addConditionIconShape(or)}}}},Yv=function(e,r){return r===void 0&&(r=1),(e==null?void 0:e.width)*r},zx=function(e){try{return JSON.parse(e)}catch{return null}},hG=function(e,r,t){return e.sort(function(n,i){var o=r.indexOf(n),a=r.indexOf(i);return o===-1&&a===-1?0:o===-1?1:a===-1?-1:o-a})},dG=function(e){return e===void 0&&(e=[]),e.filter(function(r){return r!==qn&&r!==Xh})},vG=function(e){return se(e)?Q_(e):[e]},pG=function(e,r){var t;return(t=e==null?void 0:e.filter(function(n){return!(r!=null&&r.includes(n))}))===null||t===void 0?void 0:t.concat(r)};function gG(e,r){var t=e.isRowTotal,n=e.isRowSubTotal,i=e.isColTotal,o=e.isColSubTotal,a=r||{},l=a.row,s=a.col,f=l||{},h=f.calcTotals,d=h===void 0?{}:h,v=f.calcSubTotals,g=v===void 0?{}:v,y=s||{},C=y.calcTotals,_=C===void 0?{}:C,w=y.calcSubTotals,S=w===void 0?{}:w,b=function(E,O){if((E.aggregation||E.calcFunc)&&O)return{aggregation:E.aggregation,calcFunc:E.calcFunc}};return b(_,i)||b(S,o)||b(d,t)||b(g,n)}function us(e){return e===Mu}function na(e,r,t){return e===void 0&&(e={}),r===void 0&&(r=[]),t===void 0&&(t=qn),r.reduce(function(n,i){var o=e[i];return i in e?n.push(String(o)):n.push(t),n},[])}function kx(e,r){var t=r.filter(function(n){return n in e});return J(t)&&t.push(Xh),t}function Wx(e,r,t){e===void 0&&(e={}),r===void 0&&(r=[]);var n=[];function i(o,a,l){return a.reduce(function(s,f){var h=o[f];return f in o?s.push(String(h)):f===Te&&l?s.push(l):s.push(qn),s},[])}return t?t.forEach(function(o){n.push(i(e,r,o))}):n.push(i(e,r)),n}function yG(e,r,t){var n,i=r.slice(0,r.indexOf(e)+1);return(n=t.map(function(o){return i.map(function(a){return o[a]}).join("".concat(Qt))}))===null||n===void 0?void 0:n.filter(function(o){return o})}function Rf(e,r){return e.concat(r).filter(function(t){return t!==Te}).join(Qt)}function Of(e){var r=e.rowDimensionValues,t=e.colDimensionValues,n=e.isFirstCreate,i=e.onFirstCreate,o=e.rowFields,a=e.colFields,l=e.rowPivotMeta,s=e.colPivotMeta,f=e.prefix,h=f===void 0?"":f,d=function(y,C,_,w){for(var S=_,b=[],E=0;E<C.length;E++){var O=C[E];if(n&&S&&!(S!=null&&S.has(O))){var D=C.slice(0,E+1).map(function(Q){return String(Q)}),F=D.join(Qt),H=O===qn,k=void 0;H?k=0:S.has(qn)?k=S.size:k=S.size+1,S.set(O,{id:F,dimensions:D,value:O,level:k,children:new Map}),i==null||i({dimension:y==null?void 0:y[E],dimensionPath:F,careRepeated:w})}var q=S==null?void 0:S.get(O);if(b.push(us(O)?O:q==null?void 0:q.level),q){var V=y==null?void 0:y[E+1];n&&q.childField!==V&&(q.childField=V),S=q==null?void 0:q.children}}return b},v=d(o,r,l,!1),g=d(a,t,s,!0);return j(j([h],W(v),!1),W(g),!1)}function CG(e){var r=e.rows,t=e.columns,n=e.values,i=e.valueInCols,o=e.data,a=o===void 0?[]:o,l=e.indexesData,s=l===void 0?{}:l,f=e.sortedDimensionValues,h=e.rowPivotMeta,d=e.colPivotMeta,v=e.getExistValuesByDataItem,g=[],y=new Set(tw(r,t)),C=function(w){var S=w.dimension,b=w.dimensionPath,E=w.careRepeated,O=E===void 0?!0:E;O&&y.has(S)||(f[S]||(f[S]=[])).push(b)},_=Rf(r,t);return a.forEach(function(w){var S,b,E,O;if(!(!w||J(w))){var D=v?v(w,n):kx(w,n),F=Wx(w,r,i?null:D),H=Wx(w,t,i?D:null);try{for(var k=sr(F),q=k.next();!q.done;q=k.next()){var V=q.value;try{for(var Q=(E=void 0,sr(H)),ie=Q.next();!ie.done;ie=Q.next()){var ue=ie.value,K=Of({rowDimensionValues:V,colDimensionValues:ue,rowPivotMeta:h,colPivotMeta:d,rowFields:r,colFields:t,isFirstCreate:!0,onFirstCreate:C,prefix:_});g.push(K),ts(s,K,w)}}catch(te){E={error:te}}finally{try{ie&&!ie.done&&(O=Q.return)&&O.call(Q)}finally{if(E)throw E.error}}}}catch(te){S={error:te}}finally{try{q&&!q.done&&(b=k.return)&&b.call(k)}finally{if(S)throw S.error}}}}),{paths:g,indexesData:s,rowPivotMeta:h,colPivotMeta:d,sortedDimensionValues:f}}function Gx(e,r){if(!(!e||!r)){var t=r.split(Qt),n=nt(t),i=e;_e(t,function(o,a){var l=i.get(o);return l?(o===n?(l.children=new Map,l.childField=void 0):i=l.children,!0):a===0&&o===qh})}}function mG(e,r,t){var n=function(a){var l=nr(e,function(s){var f=s.field;return f===a});return ve(l,"name",a)},i=r||t,o={field:Te,name:i,formatter:function(a){return n(a)}};return o}function fs(e,r){return{isRowTotal:e.isGrandTotals,isRowSubTotal:e.isSubTotals,isColTotal:r.isGrandTotals,isColSubTotal:r.isSubTotals}}function _G(e){for(var r=null,t=0;t<e.length;t++){var n=e[t];if(us(n))r=t;else if(!uw(r)&&r<t)return!0}return!1}function Ux(e){var r=e.pivotMeta,t=e.dimensionValues,n=e.fieldIdx,i=e.queryType,o=e.fields,a=e.sortedDimensionValues,l={children:r},s=[l];function f(v,g){var y,C=jl(v,function(S){var b,E,O=[];try{for(var D=sr(S.children.values()),F=D.next();!F.done;F=D.next()){var H=F.value;H.value!==Xh&&(i===un.All||H.value!==qn)&&O.push(H)}}catch(k){b={error:k}}finally{try{F&&!F.done&&(E=D.return)&&E.call(D)}finally{if(b)throw b.error}}return O});if(v.length>1){var _=(y=a[g])!==null&&y!==void 0?y:[],w=new Map(_.map(function(S,b){return[S,b]}));return C.sort(function(S,b){return w.get(S.id)-w.get(b.id)}),C}return C}for(var h=function(v){var g=t[v],y=o[v];us(g)?s=f(s,y):s=s.map(function(C){return C.children.get(g)}).filter(Boolean)},d=0;d<=n;d++)h(d);return s}function Yx(e){var r=e.dimensionValues,t=e.pivotMeta,n=e.fields,i=e.sortedDimensionValues,o=e.queryType,a=o===void 0?un.All:o;if(!_G(r))return[r];var l=Ux({pivotMeta:t,dimensionValues:r,fieldIdx:r.length-1,queryType:a,fields:n,sortedDimensionValues:i});return l.map(function(s){return s.dimensions})}function wG(e){var r=e.rowFields,t=e.rowDimensionValues,n=e.rowPivotMeta,i=e.colFields,o=e.colDimensionValues,a=e.colPivotMeta,l=e.queryType,s=e.sortedDimensionValues,f=Yx({dimensionValues:t,pivotMeta:n,fields:r,sortedDimensionValues:s,queryType:l}),h=Yx({dimensionValues:o,pivotMeta:a,fields:i,sortedDimensionValues:s,queryType:l});return{rowQueries:f,colQueries:h}}function xG(e,r){return e?se(e)?jl(e,function(t){if(!se(t))return An([t]);var n=r===un.DetailOnly?1:0;return An(t.slice(n))}):An([e]):[]}var If;function Xx(e,r){return!e||!r?!1:String(e).toLowerCase()===String(r).toLowerCase()}var SG=`\r
`,bG="	",Mf=function(e,r){var t=e.getColumnNodes().find(function(n){return n.id===r});return e.isPivotMode()?t==null?void 0:t.value:t==null?void 0:t.field},TG=function(e,r){var t=r.getColumnNodes().find(function(n){return n.colIndex===e});return Mf(r,t.id)},EG=function(e,r){var t=e.rowIndex,n=e.colIndex;return[r.getRowNodes().find(function(i){return i.rowIndex===t}),r.getColumnNodes().find(function(i){return i.colIndex===n})]},cs=function(e,r){var t=r.getColumnNodes().find(function(i){return i.colIndex===e}),n=Mf(r,t.id);return r.options.interaction.copyWithFormat?r.dataSet.getFieldFormatter(n):function(i){return i}},LG=function(e){var r,t,n,i,o=((i=(n=(t=e.options)===null||t===void 0?void 0:t.style)===null||n===void 0?void 0:n.colCfg)===null||i===void 0?void 0:i.hideMeasureColumn)&&e.isValueInCols();return o?(r={},r[Te]=e.dataCfg.fields.values[0],r):{}},AG=function(e,r,t){var n,i;if(t.isPivotMode()){var o=W(EG(e,t),2),a=o[0],l=o[1],s=LG(t),f=t.dataSet.getCellData({query:B(B(B({},a.query),l.query),s),rowNode:a,isTotals:a.isTotals||a.isTotalMeasure||l.isTotals||l.isTotalMeasure,totalStatus:fs(a,l)});return(n=f==null?void 0:f[Tr])!==null&&n!==void 0?n:""}var h=TG(e.colIndex,t);return(i=r[e.rowIndex])===null||i===void 0?void 0:i[h]},Vx=function(e,r,t){var n=cs(e.colIndex,t);return n(AG(e,r,t))},Xv=function(e){return/\n/.test(e)?'"'+e.replace(/\r\n?/g,`
`)+'"':e},hs=function(e,r){var t=e.split(Qt);return r?t.slice(t.length-r):(t.shift(),t)},Vv=function(e,r){return Ne(e,function(t){return r.dataSet.getFieldName(t)})},_t;(function(e){e.PLAIN="text/plain",e.HTML="text/html"})(_t||(_t={}));var RG=function(e){return{type:_t.PLAIN,content:Ne(e,function(r){return r.join(bG)}).join(SG)}},OG=function(e){function r(n,i){return n.map(function(o){return"<".concat(i,">").concat(Vd(o),"</").concat(i,">")}).join("")}function t(n,i){return n.map(function(o){return"<".concat(i,">").concat(r(o,"td"),"</").concat(i,">")}).join("")}return{type:_t.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat(t(e,"tr"),"</tbody></table>")}},IG=(If={},If[_t.PLAIN]=RG,If[_t.HTML]=OG,If);function Rr(e){return IG[e]}function MG(e,r){return r===void 0&&(r=_t.PLAIN),Array.isArray(r)?[].concat(e).filter(function(t){return r.includes(t.type)}).map(function(t){return t.content}):[].concat(e).filter(function(t){return(t==null?void 0:t.type)===r}).map(function(t){return t.content})[0]||""}var qx=function(e,r,t){var n,i,o,a,l,s,f=(i=(n=e[0])===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0,h=(o=r==null?void 0:r.length)!==null&&o!==void 0?o:0,d=(l=(a=t[0])===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0,v=(s=t.length)!==null&&s!==void 0?s:0,g=f+d,y=h+v,C=Array.from(Array(y),function(){return new Array(g)});return C=Ne(C,function(_,w){return Ne(_,function(S,b){if(b>=0&&b<f&&w>=0&&w<h)return"";if(b>=f&&b<=g&&w>=0&&w<h)return r[w][b-f];if(b>=0&&b<f&&w>=h&&w<y)return e[w-h][b];if(b>=f&&b<=g&&w>=h&&w<y)return t[w-h][b-f]})}),[Rr(_t.PLAIN)(C),Rr(_t.HTML)(C)]},BG=function(e,r,t){var n=r.map(function(i){return i.map(function(o){return o?Xv(Vx(o,e,t)):""})});return[Rr(_t.PLAIN)(n),Rr(_t.HTML)(n)]},DG=function(e){if(!(e!=null&&e.length))return[];var r=W([{row:1/0,col:1/0},{row:0,col:0}],2),t=r[0],n=r[1];e.forEach(function(s){var f=s.rowIndex,h=s.colIndex;t.col=Math.min(h,t.col),t.row=Math.min(f,t.row),n.col=Math.max(h,n.col),n.row=Math.max(f,n.row)});var i=W([n.row-t.row+1,n.col-t.col+1],2),o=i[0],a=i[1],l=new Array(o).fill("").map(function(){return new Array(a).fill("")});return e.forEach(function(s){var f=s.rowIndex,h=s.colIndex,d=W([f-t.row,h-t.col],2),v=d[0],g=d[1];l[v][g]=s}),l},$G=function(e,r){var t=e.dataSet.getDisplayDataSet(),n=r.length?r.map(function(o){return{field:Mf(e,o.id),formatter:cs(o.colIndex,e)}}):e.dataCfg.fields.columns.map(function(o){return e.getColumnNodes().find(function(a){return a.field===o})}).map(function(o){return{field:Mf(e,o.id),formatter:cs(o.colIndex,e)}}),i=t.map(function(o){return n.map(function(a){var l=a.field,s=a.formatter;return Xv(s(o[l]))})});return[Rr(_t.PLAIN)(i),Rr(_t.HTML)(i)]},Kx=function(e,r,t){return Ne(e,function(n){return r.map(function(i){var o,a=t.dataSet.getCellData({query:B(B({},n.query),i.query),rowNode:n,isTotals:n.isTotals||n.isTotalMeasure||i.isTotals||i.isTotalMeasure,totalStatus:fs(n,i)});return cs(i.colIndex,t)((o=a==null?void 0:a[Tr])!==null&&o!==void 0?o:"")})})},FG=function(e,r,t){var n=Kx(r,t,e);return[Rr(_t.PLAIN)(n),Rr(_t.HTML)(n)]},PG=function(e,r,t){var n=Ne(r,function(a){return hs(a.id)}),i=wf.apply(void 0,j([],W(Ne(t,function(a){return hs(a.id)})),!1)),o=Kx(r,t,e);return qx(n,i,o)};function jx(e,r,t){var n=e.options.interaction.copyWithHeader;return n?PG(e,r,t):FG(e,r,t)}var NG=function(e,r){var t=e.getRowNodes().filter(function(o){return o.isLeaf||e.isHierarchyTreeType()}),n=e.getColumnNodes().filter(function(o){return o.isLeaf}),i=r.length?r.reduce(function(o,a){return o.push.apply(o,j([],W(n.filter(function(l){return l.id.startsWith(a.id)})),!1)),o},[]):n;return jx(e,t,i)},Zx=function(e,r,t){return r.isPivotMode()?NG(r,t):$G(r,t)},HG=function(e,r){var t=e.dataSet.getDisplayDataSet(),n=t.filter(function(i,o){return r.map(function(a){return a.rowIndex}).includes(o)}).map(function(i){var o=e.getColumnNodes().reduce(function(a,l,s){return a[l.field]=s,a},{});return Object.keys(i).sort(function(a,l){return o[a]-o[l]}).map(function(a){return e.getColumnNodes().find(function(l){return l.field===a})}).filter(Boolean).map(function(a){return Xv(cs(a.colIndex,e)(i[a.field]))})});return[Rr(_t.PLAIN)(n),Rr(_t.HTML)(n)]},zG=function(e,r){var t=e.getRowNodes().filter(function(o){return o.isLeaf||e.isHierarchyTreeType()}),n=e.getColumnNodes().filter(function(o){return o.isLeaf}),i=r.reduce(function(o,a){return o.push.apply(o,j([],W(t.filter(function(l){return l.id.startsWith(a.id)})),!1)),o},[]);return jx(e,i,n)},kG=function(e,r,t){return r.isPivotMode()?zG(r,t):HG(r,t)},WG=function(e,r,t){var n=wf.apply(void 0,j([],W(Ne(e[0],function(a){var l,s=(a==null?void 0:a.colId)||nt((l=a==null?void 0:a.id)===null||l===void 0?void 0:l.split(Kh))||"";return Vv(hs(s),t)})),!1)),i=Ne(e,function(a){var l,s,f,h=((l=a==null?void 0:a[0])===null||l===void 0?void 0:l.rowId)||qo((f=(s=a==null?void 0:a[0])===null||s===void 0?void 0:s.id)===null||f===void 0?void 0:f.split(Kh))||"";return Vv(hs(h),t)}),o=Ne(e,function(a){return Ne(a,function(l){return Vx(l,r,t)})});return qx(i,n,o)};function GG(e){var r=new Set;return _e(e,function(t){var n=t.getMeta().level;r.has(n)||r.add(n)}),r}function UG(e,r){return xi(e,function(t){var n=t.getMeta(),i=n.level===r,o=n.isTotals&&J(n.children);return i||o})}function YG(e,r){for(var t=e,n={level:r},i=t.label;t.level>=0;){for(var o=n.level-t.level;o>0;)i="".concat(t.label).concat(Qt).concat(i),o--;n=t,t=t.parent}return i}function XG(e,r,t){return Ne(e,function(n){var i=n.getMeta(),o=i.id,a=i.isTotals,l=i.spreadsheet,s=a?YG(i,r):o,f=hs(s,t.size);return Vv(f,l)})}function VG(e){var r,t=GG(e),n=(r=bi(Array.from(t)))!==null&&r!==void 0?r:0,i=UG(e,n),o=e[0].cellType===ee.COL_CELL,a=XG(i,n,t);return o&&(a=wf.apply(void 0,j([],W(a),!1))),[Rr(_t.PLAIN)(a),Rr(_t.HTML)(a)]}var qG=function(e,r,t){return Ne(r,function(n){var i;return(i=e[n])!==null&&i!==void 0?i:t})},KG=function(e,r){var t=e.options.placeholder,n=e.dataCfg.fields,i=n.rows,o=n.columns,a=n.values,l=ra(e,t),s=e.getColumnLeafNodes(),f=[];if(e.isTableMode()){var h=xi(s,function(y){return y.field!==$o});f=Ne(r,function(y){return Ne(h,function(C){var _;return(_=y==null?void 0:y[C.field])!==null&&_!==void 0?_:l})})}else if(e.isPivotMode()){var d=j(j(j([],W(i),!1),W(o),!1),W(a),!1),v=vG(r),g=v.filter(function(y){return j(j([],W(i),!1),W(o),!1).every(function(C){return!It(y[C])})});f=yf(g,function(y,C){return j(j([],W(y),!1),[qG(C,d,l)],!1)},[])}return[Rr(_t.PLAIN)(f),Rr(_t.HTML)(f)]};function jG(e,r){var t,n,i=r.filter(function(h){var d=h.type;return d===ee.COL_CELL}),o=r.filter(function(h){var d=h.type;return d===ee.ROW_CELL}),a=e.dataSet.getDisplayDataSet();if(e.interaction.getCurrentStateName()===le.ALL_SELECTED)n=Zx(a,e,[]);else if(i.length)n=Zx(a,e,i);else if(o.length)n=kG(a,e,o);else{if(!r.length)return;var l=DG(r),s=e.interaction.getSelectedCellHighlight().currentRow;if(s){var f=cv(r,"rowIndex","asc").map(function(h){return e.dataSet.getRowData(h)});n=KG(e,f)}else!((t=e.options.interaction)===null||t===void 0)&&t.copyWithHeader?n=WG(l,a,e):n=BG(a,l,e)}return n}var ZG=function(e){var r,t=e.interaction,n=t.getState().cells||[],i,o=(r=t.getInteractedCells())!==null&&r!==void 0?r:[],a=J(o)?!1:uf(o,function(l){return l.cellType===ee.ROW_CELL||l.cellType===ee.COL_CELL});return a?i=VG(o):i=jG(e,n),i&&JG(i),MG(i,_t.PLAIN)};function ds(e){if(!e)return e;var r=Ix(e);if(typeof r=="string"){var t=r;return'"'.concat(t.replace(/"/g,'""'),'"')}return'"'.concat(r,'"')}var Qx=function(e){return new Promise(function(r,t){var n;Array.isArray(e)?n=ve(e.filter(function(a){return a.type===_t.PLAIN}),"[0].content",""):n=e.content||"";var i=document.createElement("textarea");i.value=n,document.body.appendChild(i),i.focus({preventScroll:!0}),i.select();var o=document.execCommand("copy");document.body.removeChild(i),o?r():t()})},QG=function(e){return navigator.clipboard.write([new ClipboardItem([].concat(e).reduce(function(r,t){var n,i=t.type,o=t.content,a=o.replace(/\x00/g,"");return B(B({},r),(n={},n[i]=new Blob([a],{type:i}),n))},{}))]).catch(function(){return Qx(e)})},JG=function(e,r){r===void 0&&(r=!1);var t;return typeof e=="string"?t={content:e,type:_t.PLAIN}:t=e,!navigator.clipboard||!window.ClipboardItem||r?Qx(t):QG(t)},eU=function(e,r){try{var t=document.createElement("a");t.download="".concat(r,".csv");var n=new Blob(["\uFEFF".concat(e)],{type:"text/csv;charset=utf-8"});t.href=URL.createObjectURL(n),t.click(),URL.revokeObjectURL(t.href)}catch(i){console.error(i)}},tU=function(e){var r=e!=null&&e.label?[e==null?void 0:e.label]:[],t=e==null?void 0:e.values;return J(t)||_e(t,function(n){r.push(n.join(" "))}),r.join("$")},rU=function(e,r){var t,n,i,o;return r?(o=e==null?void 0:e.values)===null||o===void 0?void 0:o[0]:(n=(t=e==null?void 0:e.originalValues)===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:(i=e==null?void 0:e.values)===null||i===void 0?void 0:i[0]},nU=function(e,r,t){var n,i,o,a=e.dataSet.getDisplayDataSet(),l=((o=e.dataCfg)===null||o===void 0?void 0:o.fields).columns,s=Jo(l||[]),f=[],h=function(_,w){var S=[];t?S=s.map(function(b){var E=e.dataSet.getFieldFormatter(b);return ds(E(w[b],w))}):S=s.map(function(b){return ds(w[b])}),e.options.showSeriesNumber&&(S=[ds(_+1)].concat(S)),f.push(S.join(r))};try{for(var d=sr(a.entries()),v=d.next();!v.done;v=d.next()){var g=W(v.value,2),y=g[0],C=g[1];h(y,C)}}catch(_){n={error:_}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return f},iU=function(e,r,t){if(!e)return"";var n=e.fieldValue,i=e.valueField,o=e.data;if(Ke(n))return tU(n);if(!t)return"".concat(n);var a=r.dataSet.getFieldFormatter(i);return a(n,o)},oU=function(e,r,t,n){var i=[];if(e){var o=e.fieldValue,a=e.valueField,l=e.data;if(Ke(o))return i=rU(o,n),i;if(It(o)&&t.length>1)return i.push.apply(i,j([],W(t),!1)),i;if(!n)i.push(o);else{var s=r.dataSet.getFieldFormatter(a);i.push(s(o,l))}}else i.push.apply(i,j([],W(t),!1));return i.join("    ")},Jx=function(e){var r=zx(e);return se(r)?r:e},aU=function(e,r,t){var n=Jx(r.label),i=se(n)?n.length:1,o=t.options.placeholder,a=Ht(o)?o(e):o;return Array(i).fill(a)},lU=function(e){var r=e.map(function(t){return t.map(function(n){return se(n)?n:se(t[0])?j([n],W(new Array(t[0].length-1)),!1):n})});return r},eS=function(e){var r,t,n,i,o=(n=(t=(r=e.spreadsheet)===null||r===void 0?void 0:r.dataSet)===null||t===void 0?void 0:t.getFieldFormatter)===null||n===void 0?void 0:n.call(t,e.field);return(i=o==null?void 0:o(e.label))!==null&&i!==void 0?i:e.label},sU=function(e){var r=[],t=function(n){if(n.id!==qh){var i=eS(n);if(r.unshift(i),n!=null&&n.parent)return t(n.parent)}};return t(e),r},uU=function(e){return{isFormatHeader:e,isFormatData:e}},fU=function(e,r,t){var n,i,o,a,l,s=uU(t),f=s.isFormatHeader,h=s.isFormatData,d=(l=e==null?void 0:e.facet)===null||l===void 0?void 0:l.layoutResult,v=d.rowsHierarchy,g=d.rowLeafNodes,y=d.colLeafNodes,C=d.getCellMeta,_=v.maxLevel,w=e.dataCfg.fields.valueInCols,S=v.sampleNodesForAllLevels.map(function(Qe){return e.dataSet.getFieldName(Qe.key)}),b=g.reduce(function(Qe,lt){var ht,Ir=((ht=lt.level)!==null&&ht!==void 0?ht:0)+1;return Ir>Qe?Ir:Qe},0),E=[],O=0;if(!e.isPivotMode())E=nU(e,r,h);else{var D=g.filter(function(Qe){return Qe.height!==0});try{for(var F=sr(D),H=F.next();!H.done;H=F.next()){var k=H.value,q=[];if(f)q=sU(k);else{k.label=Kw(k==null?void 0:k.label);var V=k.id.replace(lM,"");q=V.split(Qt)}var Q=_+1,ie=Q-q.length;ie>0&&q.push.apply(q,j([],W(new Array(ie)),!1));var ue=e.dataSet.getFieldName(nt(q));q[q.length-1]=ue;try{for(var K=(o=void 0,sr(y)),te=K.next();!te.done;te=K.next()){var Re=te.value;if(w){var me=C(k.rowIndex,Re.colIndex);q.push(iU(me,e,h))}else{var me=C(k.rowIndex,Re.colIndex),we=aU(me,Re,e),ke=oU(me,e,we,h);se(ke)?q=q.concat.apply(q,j([],W(ke),!1)):q.push(ke)}}}catch(Qe){o={error:Qe}}finally{try{te&&!te.done&&(a=K.return)&&a.call(K)}finally{if(o)throw o.error}}O=bi([q.length,O]);var Ae=q.map(function(Qe){return ds(Qe)}).join(r);E.push(Ae)}}catch(Qe){n={error:Qe}}finally{try{H&&!H.done&&(i=F.return)&&i.call(F)}finally{if(n)throw n.error}}}var qe=[];if(J(y)&&!e.isPivotMode())qe=[S];else{var at=0,Fe=Wa(y).map(function(Qe){for(var lt=Qe,ht=[];lt.level!==void 0;){var Ir=Jx(lt.label);se(Ir)?at=bi([at,Ko(Ir)]):Ir=f&&e.isPivotMode()?eS(lt):Ir,ht.push(Ir),lt=lt.parent}return ht});at>1&&(Fe=lU(Fe));for(var We=Fe.map(function(Qe){return Qe.length}),tt=bi(We),or=[],mr=function(Qe){var lt=Fe.map(function(ht){return ht.length<tt?j(j([],W(new Array(tt-ht.length)),!1),W(ht),!1):ht}).map(function(ht){return ht[Qe]}).map(function(ht){return e.dataSet.getFieldName(ht)});or.push(pd(lt))},Vt=tt-1;Vt>=0;Vt-=1)mr(Vt);qe=or.map(function(Qe,lt){var ht,Ir;if(e.isPivotMode()){var Xr=e.facet.cornerHeader.cfg,hc=Xr.columns,b0=Xr.rows,ha=Xr.data,Vr=ha.filter(function(fi){var Ns=fi.cornerType;return Ns===fn.Col});if(lt<or.length-1)return j(j(j([],W(Array(_).fill("")),!1),[((Ir=Vr.find(function(fi){var Ns=fi.field;return Ns===hc[lt]}))===null||Ir===void 0?void 0:Ir.label)||""],!1),W(Qe),!1);var zn=b0.slice(0,b);return zn.length<b&&zn.unshift.apply(zn,j([],W(Array(b-zn.length).fill("")),!1)),j(j([],W(zn.map(function(fi){return e.dataSet.getFieldName(fi)||""})),!1),W(Qe),!1)}return lt<or.length?(ht=Array(b).fill("")).concat.apply(ht,j([],W(Qe),!1)):S.concat.apply(S,j([],W(Qe),!1))})}var yo=qe.map(function(Qe){var lt=O-Qe.length;return lt>0&&Qe.unshift.apply(Qe,j([],W(new Array(lt)),!1)),Qe.map(function(ht){return ds(ht)}).join(r)}).join(`\r
`),ui=[yo].concat(E),Co=ui.join(`\r
`);return Co},cU=function(e){var r,t,n,i,o,a,l=(n=(t=(r=e.target)===null||r===void 0?void 0:r.attrs)===null||t===void 0?void 0:t.appendInfo)===null||n===void 0?void 0:n.cellData,s=(o=(i=e.target).get)===null||o===void 0?void 0:o.call(i,"parent"),f=((a=s==null?void 0:s.getMeta)===null||a===void 0?void 0:a.call(s))||l;return{target:s,viewMeta:f,event:e}},qv=function(e,r,t){var n,i=e.split(Qt);if(t)n=[e];else{n=[as(i[0],i[1])];for(var o=2;o<i.length;o+=1)n.push(as(n[o-2],i[o]))}var a=xi(r,function(l){var s;return n.includes((s=l.getMeta())===null||s===void 0?void 0:s.id)});return a},tS=function(e,r,t){if(e){var n=qv(e,r);_e(n,function(i){i.updateByState(t)})}},hU=function(e,r){return typeof e=="function"?e(r):e.some(function(t){return t===r.key||t===r.id||t===r.valueField})},Mn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=function(i,o){if(se(i)&&se(o))return o},n=j(j([],W(e),!1),[t],!1);return Ud.apply(void 0,j([{}],W(n),!1))},dU=function(e){var r=["rows","columns","values"],t=r.reduce(function(n,i){var o=e[i],a=Ti(o);return Gt(a,o)||console.warn("fields.".concat(i,":[").concat(o,"] should be unique")),n[i]=a,n},{});return B(B({},e),t)},Kv=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Mn.apply(void 0,j([uM],W(e),!1));return t.fields=dU(t.fields),(!J(t.fields.customTreeItems)||J(t.fields.values))&&(t.fields.valueInCols=!1),t},rS=function(e){return Mn(CC,e)},Bf=function(e){re(r,e);function r(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=e.call(this,{})||this;return a.textShapes=[],a.actualTextWidth=0,a.conditionIconShapes=[],a.stateShapes=new Map,a.meta=t,a.spreadsheet=n,a.theme=n.theme,a.conditions=a.spreadsheet.options.conditions,a.handleRestOptions.apply(a,j([],W(i),!1)),a.shouldInit()&&a.initCell(),a}return r.prototype.getMeta=function(){return this.meta},r.prototype.setMeta=function(t){this.meta=Mn(this.meta,t)},r.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},r.prototype.getTextAndIconPosition=function(t){t===void 0&&(t=1);var n=this.getTextStyle(),i=this.getIconStyle();return ss(this.getContentArea(),n,this.actualTextWidth,i,t)},r.prototype.getActualText=function(){return this.actualText},r.prototype.isTextOverflowing=function(){var t=this.getActualText();return t?vr(t,Oa):t!==this.getFieldValue()},r.prototype.getFieldValue=function(){var t=this.getFormattedFieldValue().formattedValue;return t===Fo?this.getActualText():t},r.prototype.handleRestOptions=function(){},r.prototype.shouldInit=function(){var t=this.meta,n=t.width,i=t.height;return n>0&&i>0},r.prototype.getStyle=function(t){return ve(this.theme,t||this.cellType)},r.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},r.prototype.shouldDrawResizeAreaByType=function(t,n){var i=this.spreadsheet.options.interaction.resize;return ei(i)?i:Ht(i.visible)?i.visible(n):i[t]},r.prototype.getCellArea=function(){var t=this.meta,n=t.x,i=t.y,o=t.height,a=t.width;return{x:n,y:i,height:o,width:a}},r.prototype.getContentArea=function(){var t=this.getStyle()||this.theme.dataCell,n=(t==null?void 0:t.cell).padding;return Px(this.getCellArea(),n)},r.prototype.getIconPosition=function(t){return t===void 0&&(t=1),this.getTextAndIconPosition(t).icon},r.prototype.drawTextShape=function(){var t=this.getFormattedFieldValue().formattedValue,n=this.getMaxTextWidth(),i=this.getTextStyle(),o=this.spreadsheet,a=o.options.placeholder,l=o.measureTextWidth,s=ra(this,a),f=Za({measureTextWidth:l,text:t,maxWidth:n,fontParam:i,placeholder:s});this.actualText=f,this.actualTextWidth=l(f,i);var h=this.getTextPosition();this.textShape=ea(this,[this.textShape],h.x,h.y,f,i),this.textShapes.push(this.textShape)},r.prototype.drawLinkFieldShape=function(t,n){if(t){var i=this.spreadsheet.options.style.device;if(!zt(i)){var o=this.getTextStyle(),a=this.getTextPosition(),l=a.x;o.textAlign==="center"?l-=this.actualTextWidth/2:o.textAlign==="right"&&(l-=this.actualTextWidth);var s=this.textShape.getBBox().maxY;this.linkFieldShape=Yt(this,{x1:l,y1:s+1,x2:l+this.actualTextWidth,y2:s+1},{stroke:n,lineWidth:1})}this.textShape.attr({fill:n,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},r.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},r.prototype.drawLinkField=function(t){var n=this.spreadsheet.options.interaction.linkFields,i=n===void 0?[]:n,o=this.getLinkFieldStyle(),a=hU(i,t);this.drawLinkFieldShape(a,o)},r.prototype.updateByState=function(t,n){var i=this;this.spreadsheet.interaction.setInteractedCells(n);var o=ve(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(t));_e(o,function(a,l){var s=xt(fv(fM,function(f){return vr(f,l)}));s.forEach(function(f){var h=i.stateShapes.has(f),d=h?i.stateShapes.get(f):i[f],v=se(d)?d:[d];if(h&&v.forEach(function(y){y.set("visible",!0)}),f==="interactiveBorderShape"&&l==="borderWidth"&&pr(a)){var g=i.getInteractiveBorderShapeStyle(a);_e(g,function(y,C){cn(v,C,y)})}cn(v,Fr[l],a)})})},r.prototype.getInteractiveBorderShapeStyle=function(t){var n=this.getCellArea(),i=n.x,o=n.y,a=n.height,l=n.width,s=this.theme.dataCell.cell,f=s.horizontalBorderWidth,h=s.verticalBorderWidth;return{x:i+h/2+t/2,y:o+f/2+t/2,width:l-h-t,height:a-f-t}},r.prototype.hideInteractionShape=function(){this.stateShapes.forEach(function(t){cn(t,Fr.backgroundOpacity,0),cn(t,Fr.backgroundColor,"transparent"),cn(t,Fr.borderOpacity,0),cn(t,Fr.borderWidth,1),cn(t,Fr.borderColor,"transparent")})},r.prototype.clearUnselectedState=function(){cn(this.backgroundShape,Fr.backgroundOpacity,1),cn(this.textShapes,Fr.textOpacity,1),cn(this.linkFieldShape,Fr.opacity,1)},r.prototype.getTextShape=function(){return this.textShape},r.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},r.prototype.addTextShape=function(t){t&&this.textShapes.push(t)},r.prototype.getConditionIconShape=function(){return this.conditionIconShape},r.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},r.prototype.addConditionIconShape=function(t){t&&this.conditionIconShapes.push(t)},r.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(r.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),r.prototype.drawConditionIconShapes=function(){var t,n=this.findFieldCondition((t=this.conditions)===null||t===void 0?void 0:t.icon);if(n&&n.mapping){var i=this.mappingValue(n),o=this.getIconPosition(),a=this.theme.dataCell.icon.size;J(i==null?void 0:i.icon)||(this.conditionIconShape=Gv(this,B(B({},o),{name:i.icon,width:a,height:a,fill:i.fill})),this.addConditionIconShape(this.conditionIconShape))}},r.prototype.getTextConditionFill=function(t){var n,i,o=t.fill,a=this.findFieldCondition((n=this.conditions)===null||n===void 0?void 0:n.text);return a!=null&&a.mapping&&(o=((i=this.mappingValue(a))===null||i===void 0?void 0:i.fill)||t.fill),o},r.prototype.getCrossBackgroundColor=function(t){var n=this.getStyle().cell,i=n.crossBackgroundColor,o=n.backgroundColorOpacity;return i&&t%2===0?{backgroundColorOpacity:o,backgroundColor:i}:{backgroundColorOpacity:o,backgroundColor:this.getStyle().cell.backgroundColor}},r}(Vn),nS=function(e,r){return r?r(e[Te],e[Tr]):e[Tr]},ia=function(e,r){var t=r.getMeta().id;return e.some(function(n){return Gt(n.id,t)})},vs=function(e,r){return"".concat(e).concat(Kh).concat(r)},vU=function(e){var r=e.interaction.getSelectedCellHighlight(),t=r.currentRow,n=r.currentCol,i=r.rowHeader,o=r.colHeader;return t||n||i||o},jv=function(e){return e.type===ee.DATA_CELL},pU=function(e,r){_e(e,function(t){jv(t)&&t.rowIndex===r.getMeta().rowIndex&&r.updateByState(le.SELECTED)})},gU=function(e,r){_e(e,function(t){jv(t)&&t.colIndex===r.getMeta().colIndex&&r.updateByState(le.SELECTED)})},yU=function(e,r){_e(e,function(t){jv(t)&&t.rowIndex===r.getMeta().rowIndex&&t.colIndex===r.getMeta().colIndex&&r.updateByState(le.SELECTED)})},CU=function(e,r,t){var n=t.interaction.getSelectedCellHighlight(),i=n.rowHeader,o=n.colHeader,a=n.currentRow,l=n.currentCol,s=r.cellType===ee.ROW_CELL,f=t.isTableMode()&&t.options.showSeriesNumber&&i&&s;(a||f)&&pU(e,r),l&&gU(e,r),(i||o)&&yU(e,r)},lo=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"cellType",{get:function(){return ee.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),r.prototype.handleByStateName=function(t,n){ia(t,this)&&this.updateByState(n)},r.prototype.handleSearchResult=function(t){if(ia(t,this)){var n=nr(t,function(i){return i==null?void 0:i.isTarget});n.id===this.getMeta().id?this.updateByState(le.HIGHLIGHT):this.updateByState(le.SEARCH_RESULT)}},r.prototype.handleSelect=function(t){var n,i=(n=t==null?void 0:t[0])===null||n===void 0?void 0:n.type;switch(i){case ee.COL_CELL:this.changeRowColSelectState("colIndex");break;case ee.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case ee.DATA_CELL:vU(this.spreadsheet)?CU(t,this,this.spreadsheet):ia(t,this)?this.updateByState(le.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(le.UNSELECTED);break}},r.prototype.handleHover=function(t){var n=qo(t);if(n.type!==ee.DATA_CELL){this.hideInteractionShape();return}var i=this.spreadsheet.interaction.getHoverHighlight(),o=i.currentRow,a=i.currentCol;if(o||a){var l=this.meta.colIndex,s=this.meta.rowIndex;a&&l===(n==null?void 0:n.colIndex)||o&&s===(n==null?void 0:n.rowIndex)?this.updateByState(le.HOVER):this.hideInteractionShape()}var f=this.getMeta(),h=f.id,d=f.rowIndex,v=f.colIndex;Gt(n.id,h)&&Gt(n.rowIndex,d)&&Gt(n.colIndex,v)&&this.updateByState(le.HOVER_FOCUS)},r.prototype.update=function(){var t=this.spreadsheet.interaction.getCurrentStateName(),n=this.spreadsheet.interaction.getCells();if(t===le.ALL_SELECTED){this.updateByState(le.SELECTED);return}if(!(J(n)||!t))switch(t){case le.SELECTED:this.handleSelect(n);break;case le.HOVER_FOCUS:case le.HOVER:this.handleHover(n);break;case le.SEARCH_RESULT:this.handleSearchResult(n);break;default:this.handleByStateName(n,t);break}},r.prototype.setMeta=function(t){e.prototype.setMeta.call(this,t),this.initCell()},r.prototype.drawTextShape=function(){e.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},r.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},r.prototype.getDefaultTextFill=function(t){var n=t.fill,i=this.getBackgroundColor(),o=i.backgroundColor,a=i.intelligentReverseTextColor;return hx(o)&&(n===hC||!Fk(o,n))&&a&&(n=Jh),n},r.prototype.getTextStyle=function(){var t=this.meta.isTotals,n=t?this.theme.dataCell.bolderText:this.theme.dataCell.text,i=this.getTextConditionFill(B(B({},n),{fill:this.getDefaultTextFill(n)}));return B(B({},n),{fill:i})},r.prototype.getIconStyle=function(){return Bx(this.conditions,this.theme.dataCell.icon,this.meta.valueField)},r.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=eG(this)},r.prototype.shouldHideRowSubtotalData=function(){var t,n=this.meta,i=n.rowId,o=n.rowIndex,a=this.spreadsheet.store.get("drillDownIdPathMap");if(a!=null&&a.has(i))return!1;var l=((t=this.spreadsheet.options.totals)!==null&&t!==void 0?t:{}).row,s=l===void 0?{}:l,f=this.spreadsheet.facet.layoutResult.rowLeafNodes[o],h=!(f!=null&&f.isGrandTotals)&&(f==null?void 0:f.isTotals);return this.spreadsheet.options.hierarchyType==="tree"&&!s.showSubTotals&&h},r.prototype.getFormattedFieldValue=function(){var t;if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:Du};var n=this.meta,i=n.rowId,o=n.valueField,a=n.fieldValue,l=n.data,s=n.id,f=(t=this.spreadsheet.dataSet.displayFormattedValueMap)===null||t===void 0?void 0:t.get(s),h=this.spreadsheet.dataSet.getFieldMeta(i),d=h?i:o,v=this.spreadsheet.dataSet.getFieldFormatter(d),g=f??v(a,l,this.meta);return{value:a,formattedValue:g}},r.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width,n=this.getIconStyle();return Nx(t,n)},r.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},r.prototype.getBackgroundColor=function(){var t,n=this.getCrossBackgroundColor(this.meta.rowIndex),i=n.backgroundColor,o=n.backgroundColorOpacity;if(this.shouldHideRowSubtotalData())return{backgroundColor:i,backgroundColorOpacity:o};var a=this.findFieldCondition((t=this.conditions)===null||t===void 0?void 0:t.background),l=!1;if(a&&a.mapping){var s=this.mappingValue(a);s&&(i=s.fill,l=s.intelligentReverseTextColor,o=1)}return{backgroundColor:i,backgroundColorOpacity:o,intelligentReverseTextColor:l}},r.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),n=t.backgroundColor,i=t.backgroundColorOpacity;this.backgroundShape=Gr(this,B(B({},this.getCellArea()),{fill:n,fillOpacity:i}))},r.prototype.drawInteractiveBorderShape=function(){var t=1,n=this.getCellArea(),i=n.x,o=n.y,a=n.height,l=n.width;this.stateShapes.set("interactiveBorderShape",Gr(this,{x:i+t,y:o+t,width:l-t*2,height:a-t*2},{capture:!1,visible:!1}))},r.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Gr(this,B({},this.getCellArea()),{visible:!1}))},r.prototype.changeRowColSelectState=function(t){var n=this.spreadsheet.interaction,i=ve(this.meta,t),o=n.getState(),a=o.nodes,l=a===void 0?[]:a,s=o.cells,f=s===void 0?[]:s,h=!1;if(this.spreadsheet.isTableMode()&&l.length){var d=l[0].hierarchy.getLeaves();h=d.some(function(v,g){return l.some(function(y){return y===v})?g===i:!1})}else h=j(j([],W(l),!1),W(f),!1).some(function(v){return ve(v,t)===i});h?this.updateByState(le.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(le.UNSELECTED):this.hideInteractionShape()},r.prototype.drawBorderShape=function(){var t=this;[Bt.BOTTOM,Bt.RIGHT].forEach(function(n){var i=ta(n,t.getCellArea(),t.getStyle().cell),o=i.position,a=i.style;Yt(t,o,a)})},r.prototype.findFieldCondition=function(t){return Mx(t,this.meta.valueField)},r.prototype.mappingValue=function(t){var n=this.meta.fieldValue,i=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return t==null?void 0:t.mapping(n,i)},r.prototype.updateByState=function(t){if(e.prototype.updateByState.call(this,t,this),t===le.UNSELECTED){var n=ve(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(t));n&&this.toggleConditionIntervalShapeOpacity(n.opacity)}},r.prototype.clearUnselectedState=function(){e.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},r.prototype.toggleConditionIntervalShapeOpacity=function(t){cn(this.conditionIntervalShape,Fr.backgroundOpacity,t),cn(this.conditionIconShapes,Fr.opacity,t)},r.prototype.drawLeftBorder=function(){var t=ta(Bt.LEFT,this.getCellArea(),this.getStyle().cell),n=t.position,i=t.style;Yt(this,n,i)},r}(Bf),mU=function(e){re(r,e);function r(t,n,i){return e.call(this,i,t,n)||this}return r.prototype.handleRestOptions=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=W(t,1),o=i[0];this.cells=o},Object.defineProperty(r.prototype,"cellType",{get:function(){return ee.MERGED_CELL},enumerable:!1,configurable:!0}),r.prototype.update=function(){},r.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},r.prototype.drawBackgroundShape=function(){var t=SU(this.cells),n=this.theme.dataCell.cell;this.backgroundShape=XW(this,{points:t,stroke:n.horizontalBorderColor,fill:n.backgroundColor,lineHeight:n.horizontalBorderWidth})},r.prototype.drawTextShape=function(){J(this.meta)||(Ke(this.meta.fieldValue)?cG(this):e.prototype.drawTextShape.call(this))},r}(lo),_U=function(e,r,t,n){var i=[e,r],o=[e+t,r],a=[e+t,r+n],l=[e,r+n];return[[i,o],[o,a],[a,l],[l,i]]},wU=function(e){var r=[];return _e(e,function(t){var n=[t[1],t[0]];JSON.stringify(e).includes(JSON.stringify(n))||r.push(t)}),r},xU=function(e,r){return nr(r,function(t){return Gt(t[0],e[1])})},SU=function(e){var r=[];e.forEach(function(a){var l=a.getMeta(),s=l.x,f=l.y,h=l.width,d=l.height;r=r.concat(_U(s,f,h,d))}),r=wU(r);for(var t=[],n=r[0],i=n,o=[];!Gt(n,o);)t=t.concat(i),o=xU(i,r),i=o;return t},bU=function(e,r){var t=[],n;return _e(e,function(i){var o,a,l,s=(a=(o=r==null?void 0:r.facet)===null||o===void 0?void 0:o.layoutResult)===null||a===void 0?void 0:a.getCellMeta(i.rowIndex,i.colIndex);if(s){var f=(l=r==null?void 0:r.facet)===null||l===void 0?void 0:l.cfg.dataCell(s);n=i!=null&&i.showText?s:n,t.push(f)}}),{cells:t,cellsMeta:n}},TU=function(e,r){var t=[],n=[],i;return _e(e,function(o){var a=nr(r,function(l){var s,f=(s=l==null?void 0:l.getMeta)===null||s===void 0?void 0:s.call(l);if((f==null?void 0:f.colIndex)===(o==null?void 0:o.colIndex)&&(f==null?void 0:f.rowIndex)===(o==null?void 0:o.rowIndex))return l});a?(t.push(a),i=o!=null&&o.showText?a==null?void 0:a.getMeta():i):n.push(o)}),{cells:t,invisibleCellInfo:n,cellsMeta:i}},iS=function(e,r,t){var n;t===void 0&&(t=[]);var i=TU(t,e),o=i.cellsMeta,a=i.cells,l=i.invisibleCellInfo,s=o,f=a,h=(l==null?void 0:l.length)>0&&l.length<t.length;if(h){var d=bU(l,r),v=d.cells,g=d.cellsMeta;s=s||g,f=a.concat(v)}return!J(a)&&!s&&(s=(n=f[0])===null||n===void 0?void 0:n.getMeta()),{cells:f,viewMeta:s}},EU=function(e){var r=e.interaction,t=r.getActiveCells(),n=[];return _e(t,function(i,o){var a=i.getMeta(),l=o===0?{showText:!0}:{};n.push(B(B({},l),{colIndex:a==null?void 0:a.colIndex,rowIndex:a==null?void 0:a.rowIndex}))}),n},oS=function(e,r,t){var n;return!((n=e.options)===null||n===void 0)&&n.mergedCell?e.options.mergedCell(e,r,t):new mU(e,r,t)},LU=function(e,r,t){var n,i=r||EU(e);if((i==null?void 0:i.length)<=1){console.error("[mergeCell]: The merged cells must be more than one!");return}var o=e.interaction.getPanelGroupAllDataCells(),a=iS(o,e,i),l=a.cells,s=a.viewMeta;if(!J(l)){var f=((n=e.options)===null||n===void 0?void 0:n.mergedCellsInfo)||[];f.push(i),e.setOptions({mergedCellsInfo:f});var h=t?void 0:s;e.panelScrollGroup.addMergeCell(oS(e,l,h))}},AU=function(e,r){var t=Ne(e.cells,function(n){return{colIndex:n.getMeta().colIndex,rowIndex:n.getMeta().rowIndex}});return xi(r,function(n){var i=n.map(function(o){return o.showText?{colIndex:o.colIndex,rowIndex:o.rowIndex}:o});return!Gt(i,t)})},RU=function(e,r){var t,n,i;if(!r||r.cellType!==ee.MERGED_CELL){console.error("[unmergeCell]: The ".concat(r," is not a MergedCell"));return}var o=AU(r,(t=e.options)===null||t===void 0?void 0:t.mergedCellsInfo);(o==null?void 0:o.length)!==((i=(n=e.options)===null||n===void 0?void 0:n.mergedCellsInfo)===null||i===void 0?void 0:i.length)&&(e.setOptions({mergedCellsInfo:o}),r.remove(!0))},OU=function(e){return Ne(e,function(r){return{cells:r.cells,viewMeta:r.getMeta()}})},aS=function(e,r){return $_(e,r,function(t,n){return Gt(t.viewMeta.id,n.viewMeta.id)})},IU=function(e,r){var t,n=(t=e.options)===null||t===void 0?void 0:t.mergedCellsInfo;if(!J(n)){var i=e.interaction.getPanelGroupAllDataCells();if(!J(i)){var o=[];n.forEach(function(h){var d=iS(i,e,h);d.cells.length>0&&o.push(d)});var a=r.getChildren(),l=OU(a),s=aS(l,o),f=aS(o,l);_e(s,function(h){var d=nr(a,function(v){return Gt(v.getMeta().id,h.viewMeta.id)});d==null||d.remove(!0)}),_e(f,function(h){var d=h.cells,v=h.viewMeta;r.add(oS(e,d,v))})}}},lS=function(e){var r=e.includes(Qt)?"id":"field";return r},Zv=function(e,r){r===void 0&&(r=[]);var t=e.getInitColumnLeafNodes();return An(r.map(function(n){var i=lS(n);return t.find(function(o){return o[i]===n})}))},MU=function(e,r){if(r===void 0&&(r=[]),J(r))return{prev:null,next:null};var t=e.getInitColumnLeafNodes(),n=Zv(e,r).map(function(s){return s==null?void 0:s.colIndex}),i=Math.max.apply(Math,j([],W(n),!1)),o=Math.min.apply(Math,j([],W(n),!1)),a=t.find(function(s){return s.colIndex===i+1}),l=t.find(function(s){return s.colIndex===o-1});return{prev:l||null,next:a||null}},BU=function(e,r){if(J(r))return[];var t=Number.NEGATIVE_INFINITY;return e.reduce(function(n,i,o){if(!r.includes(i))return n;if(o===t+1){var a=nt(n);a.push(i)}else{var l=[i];n.push(l)}return t=o,n},[])},sS=function(e,r,t){r===void 0&&(r=[]),t===void 0&&(t=!1);var n=function(d,v){d===void 0&&(d=[]),v===void 0&&(v=[]),e.setOptions({interaction:{hiddenColumnFields:d}}),e.interaction.reset(),e.store.set("hiddenColumnsDetail",v),e.render(!1,{reBuildHiddenColumnsDetail:!1})};if(J(r)&&t){n();return}var i=e.store.get("hiddenColumnsDetail",[]),o=e.options.interaction.hiddenColumnFields;if(!(Gt(r,o)&&!t)){var a=Ti(j(j([],W(r),!1),W(o),!1)),l=Zv(e,a).every(function(d,v,g){var y=g[v+1];return!y||Math.abs(d.colIndex-y.colIndex)===1}),s=MU(e,l?a:r),f={hideColumnNodes:Zv(e,r),displaySiblingNode:s},h=j(j([],W(i),!1),[f],!1);e.emit(I.LAYOUT_COLS_HIDDEN,f,h),n(a,h)}},DU=function(e){var r=e.dataCfg.fields.columns,t=r===void 0?[]:r;return e.isTableMode()?t:e.getInitColumnLeafNodes().map(function(n){var i=n.id;return i})},Qv=function(e,r,t){r===void 0&&(r=[]),t===void 0&&(t=!1),J(r)&&t&&sS(e,r,!0);var n=DU(e),i=Jo(n),o=BU(i,r);o.forEach(function(a){sS(e,a,t)})},$U=function(e,r){var t=e.getColumnLeafNodes(),n=e.getInitColumnLeafNodes(),i=lS(r);return ve(nt(t),i)===r&&ve(nt(n),i)!==r},FU=function(e){return(e==null?void 0:e.next)||(e==null?void 0:e.prev)},PU=function(e){var r=FU(e);return r==null?void 0:r.id},Jv=function(e,r){return PU(e)===r},ps=function(e){var r=e.type,t=e.id,n=e.theme,i=e.width,o=e.height,a=ru(e,["type","id","theme","width","height"]),l=r===rn.Horizontal?n.size:null,s=r===rn.Vertical?n.size:null;return{fill:n.background,fillOpacity:n.backgroundOpacity,cursor:"".concat(r,"-resize"),width:l,height:s,appendInfo:B(B({},a),{isResizeArea:!0,type:r,id:t,width:i,height:o,size:n.size})}},gs=function(e,r){if(e.foregroundGroup){var t=e.foregroundGroup.findById(r);return t||e.foregroundGroup.addGroup({id:r,zIndex:GI})}},ep=function(e,r,t){var n=t??{},i=n.scrollX,o=i===void 0?0:i,a=n.scrollY,l=a===void 0?0:a,s=!(e.x-o>r.x+r.width||e.x+e.width-o<r.x),f=!(e.y-l>r.y+r.height||e.y+e.height-l<r.y);return s&&f},NU=function(e,r,t){if(!e)return!1;var n=e.iconNames,i=e.displayCondition,o=e.belongsCell;return J(n)||o!==t?!1:i?n.some(function(a){return i(r,a)}):!0},tp=function(e,r,t){var n=nr(e,function(o){return NU(o,r,t)});if(n){var i=n.iconNames;return n.displayCondition&&(i=i.filter(function(o){return n.displayCondition(r,o)})),B(B({},n),{iconNames:i})}},uS=function(e,r){var t=e.label,n=e.field;return Gt(n,Te)?{formattedValue:r||t,value:t}:{formattedValue:t,value:t}},Qa=function(e){return ns(e)==="ASC"},rp=function(e){return ns(e)==="DESC"},fS=function(e){return!sw(Number(e))},cS=function(e,r,t){var n=Qa(r)?1:-1,i=["-",void 0];return e==null?void 0:e.sort(function(o,a){var l=o,s=a;if(t){if(l=o[t],s=a[t],fS(l)&&fS(s))return(Number(l)-Number(s))*n;if(l&&(i!=null&&i.includes(l==null?void 0:l.toString())))return-n;if(Number(l)&&(i!=null&&i.includes(s==null?void 0:s.toString())))return n}return!It(l)&&!It(s)?l.toString().localeCompare(s.toString(),"zh")*n:l?n:-n})},hS=function(e,r,t){return t?pG(r,Ti(e)):j([],W(new Set(j(j([],W(e),!1),W(r),!1))),!1)},dS=function(e){var r=e.sortByValues,t=e.originValues,n=t.filter(function(l){return r.find(function(s){return H_(l,s)})}),i=n.map(function(l){var s=l.split(Qt);if(s.length>1){var f=s.slice(0,s.length-1).join(Qt);return[f,s[s.length-1]]}return s}),o=Array.from(new Set(i.map(function(l){return l[0]})));i.sort(function(l,s){var f=l.slice(0,l.length-1),h=s.slice(0,s.length-1);if(f.join()!==h.join()){var d=o.indexOf(f[0]),v=o.indexOf(h[0]);return d-v}var g=r.indexOf(l[l.length-1]),y=r.indexOf(s[s.length-1]);return g-y});var a=i.map(function(l){return l.join(Qt)});return hG(t,a)},HU=function(e){var r=e.originValues,t=e.measureValues,n=e.sortParam,i=e.dataSet,o=n.sortFunc,a=n.sortFieldId,l=n.sortMethod,s=o(B({data:t},n));return s!=null&&s.length?(i.fields.rows.indexOf(a)>0||i.fields.columns.indexOf(a)>0)&&!vr(s[0],Qt)?dS({sortByValues:s,originValues:r}):hS(s,r,Qa(l)):r},zU=function(e){var r=e.sortParam,t=e.measureValues,n=e.originValues,i=e.dataSet,o=r.sortByMeasure,a=r.query,l=r.sortFieldId,s=r.sortMethod,f=i.fields,h=f.rows,d=f.columns,v=h.includes(l),g;if(o){var y=cS(t,s,o===qn?a[Te]:o);g=yG(l,v?h:Jo(d),y)}else g=Ne(cS(t,s));return hS(g,n,Qa(s))},kU=function(e){var r=e.sortParam,t=e.originValues,n=e.measureValues,i=e.dataSet,o=r.sortFunc,a=r.sortMethod,l=r.sortBy,s=t,f={originValues:t,measureValues:n,sortParam:r,dataSet:i};return o?s=HU(f):l?s=dS({sortByValues:l,originValues:t}):(Qa(a)||rp(a))&&(s=zU(f)),s},WU=function(e,r,t){var n,i={},o=vr(e,Qt);if(o)for(var a=Nw(e,Qt),l=!((n=r==null?void 0:r.rows)===null||n===void 0)&&n.includes(t)?r.rows:Jo(r.columns),s=0;s<=df(l,t);s++)i[l[s]]=a[s];else i[t]=e;return i},vS=function(e){return e.filter(function(r){return r!==Te})},GU=function(e){var r=e.dataSet,t=e.sortParam,n=e.originValues,i=r.fields,o=t.sortByMeasure,a=t.query,l=t.sortFieldId;if(o!==qn){var s=r.getMultiData(a,{queryType:un.DetailOnly});return s}var f=r.getMultiData(a,{queryType:un.All}),h=Jo(i.columns),d=vr(i.rows,l),v=vS(d?i.rows:h),g=vS(d?h:i.rows),y=v[v.indexOf(l)+1],C=xt(a),_=g.filter(function(S){return!C.includes(S)}),w=f.filter(function(S){var b=new Set(Object.keys(S[Yh]));if(!b.has(l)||b.has(y))return!1;var E=_.every(function(O){return!b.has(O)});return E});return J(w)?An(Ne(n,function(S){var b=WU(S,i,l);return r.getTotalValue(B(B({},a),b))})):w},UU=function(e){var r=e.dataSet,t=e.sortParam,n=e.originValues,i=e.isSortByMeasure,o;return i?o=GU(e):o=n,kU({sortParam:t,originValues:n,measureValues:o,dataSet:r})},pS=function(e,r){if(e!=null&&e.sortMethod){if(Qa(e==null?void 0:e.sortMethod))return"groupAsc";if(rp(e==null?void 0:e.sortMethod))return"groupDesc"}if(r)return"SortDown"},gS=function(e){var r,t,n=e.pivotMeta,i=e.dimensions,o=e.sortedDimensionValues,a=e.sortFieldId,l={children:n},s=[l];try{for(var f=sr(i),h=f.next();!h.done;h=f.next()){var d=h.value;if(d!==a)s=jl(s,function(v){return j([],W(v.children.values()),!1)});else{s.forEach(function(v){var g=j([],W(v.children.values()),!1),y=Fw(g,function(C){return df(o,C.id)}).map(function(C){return[C.value,C]});v.children=new Map(y)});break}}}catch(v){r={error:v}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(r)throw r.error}}return l.children},np=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.handleRestOptions=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=W(t,1),o=i[0];this.headerConfig=B({},o);var a=this.meta,l=a.value,s=a.query,f=this.spreadsheet.dataCfg.sortParams,h=this.isSortCell(),d=nr(j([],W(f),!1).reverse(),function(g){return h&&(g==null?void 0:g.sortByMeasure)===l&&Gt(ve(g,"query"),s)}),v=pS(d,h);this.headerConfig.sortParam=B(B(B({},this.headerConfig.sortParam),d||{query:s}),{type:v})},r.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},r.prototype.getTreeIcon=function(){return this.treeIcon},r.prototype.getInteractiveBorderShapeStyle=function(t){var n=this.getCellArea(),i=n.x,o=n.y,a=n.height,l=n.width;return{x:i+t,y:o+t,width:l-t*2,height:a-t*2}},r.prototype.getFormattedFieldValue=function(){var t=this.meta,n=t.label,i=t.isTotalRoot,o=t.isGrandTotals,a=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field),l=!0;this.spreadsheet.isTableMode()?l=!1:this.spreadsheet.isHierarchyTreeType()?l=!(o&&i):l=!i;var s=l&&a?a(n,void 0,this.meta):n;return{formattedValue:s,value:n}},r.prototype.getActionIconCfg=function(){return tp(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},r.prototype.showSortIcon=function(){var t=this.spreadsheet,n=t.options,i=t.dataCfg,o=J(i.fields.values);if(n.showDefaultHeaderActionIcon&&!o){var a=this.headerConfig.sortParam,l=this.meta.query;return l&&Gt(a==null?void 0:a.query,l)&&(a==null?void 0:a.type)&&(a==null?void 0:a.type)!=="none"}return!1},r.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var t=this.getActionIconCfg();if(t){var n=t.iconNames;return n.length}return 0},r.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,n=t.size,i=t.margin;return(n+i.left)*this.getActionIconsCount()},r.prototype.drawSortIcons=function(){var t=this;if(this.showSortIcon()){var n=this.getStyle(),i=n.icon,o=n.text,a=this.getTextConditionFill(o),l=this.headerConfig.sortParam,s=this.getIconPosition(),f=new os(B(B({name:ve(l,"type","none")},s),{width:i.size,height:i.size,fill:a}));f.on("click",function(h){t.spreadsheet.emit(I.GLOBAL_ACTION_ICON_CLICK,h),t.spreadsheet.handleGroupSort(h,t.meta)}),this.add(f),this.actionIcons.push(f)}},r.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},r.prototype.addActionIcon=function(t){var n=this,i=t.x,o=t.y,a=t.iconName,l=t.defaultHide,s=t.action,f=t.onClick,h=t.onHover,d=this.getStyle(),v=d.icon,g=d.text,y=this.getTextConditionFill(g),C=(v==null?void 0:v.fill)||y,_=new os({name:a,x:i,y:o,width:v==null?void 0:v.size,height:v==null?void 0:v.size,fill:C});_.set("visible",!l),_.on("mouseover",function(w){n.spreadsheet.emit(I.GLOBAL_ACTION_ICON_HOVER,w),h==null||h({hovering:!0,iconName:a,meta:n.meta,event:w})}),_.on("mouseleave",function(w){n.spreadsheet.emit(I.GLOBAL_ACTION_ICON_HOVER_OFF,w),h==null||h({hovering:!1,iconName:a,meta:n.meta,event:w})}),_.on("click",function(w){var S;n.spreadsheet.emit(I.GLOBAL_ACTION_ICON_CLICK,w),(S=f||s)===null||S===void 0||S({iconName:a,meta:n.meta,event:w})}),this.actionIcons.push(_),this.add(_)},r.prototype.drawActionIcons=function(){var t=this;if(this.showSortIcon()){this.drawSortIcons();return}var n=this.getActionIconCfg();if(n){var i=n.iconNames,o=n.action,a=n.onClick,l=n.onHover,s=n.defaultHide,f=this.getIconPosition(i.length),h=this.getStyle().icon,d=h.size,v=h.margin;_e(i,function(g,y){var C=f.x+y*d+y*v.left,_=f.y,w=typeof s=="function"?s(t.meta,g):s;w&&(t.hasDefaultHiddenIcon=!0),t.addActionIcon({iconName:g,x:C,y:_,defaultHide:w,action:o,onClick:a,onHover:l})})}},r.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),n=t.backgroundColor,i=t.backgroundColorOpacity;this.backgroundShape=Gr(this,B(B({},this.getCellArea()),{fill:n,fillOpacity:i}))},r.prototype.isSortCell=function(){var t,n,i,o=(n=(t=this.spreadsheet)===null||t===void 0?void 0:t.isValueInCols)===null||n===void 0?void 0:n.call(t),a=this.meta.level===((i=this.meta.hierarchy)===null||i===void 0?void 0:i.maxLevel);return o?a&&this.cellType===ee.COL_CELL:a&&this.cellType===ee.ROW_CELL},r.prototype.handleByStateName=function(t,n){ia(t,this)&&this.updateByState(n)},r.prototype.handleSearchResult=function(t){if(ia(t,this)){var n=nr(t,function(i){return i==null?void 0:i.isTarget});n.id===this.getMeta().id?this.updateByState(le.HIGHLIGHT):this.updateByState(le.SEARCH_RESULT)}},r.prototype.handleHover=function(t){var n;ia(t,this)&&(this.updateByState(le.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon((n=t==null?void 0:t[0])===null||n===void 0?void 0:n.id))},r.prototype.handleSelect=function(t,n){ia(t,this)&&this.updateByState(le.SELECTED);var i=Ne(n,"id");vr(i,this.meta.id)&&this.updateByState(le.SELECTED)},r.prototype.getTextStyle=function(){var t=this.getStyle(),n=t.text,i=t.bolderText,o=t.measureText,a;this.isMeasureField()?a=o||n:this.isBolderText()?a=i:a=n;var l=this.getTextConditionFill(a);return B(B({},a),{fill:l})},r.prototype.getBackgroundColor=function(){var t,n=((t=this.getStyle())===null||t===void 0?void 0:t.cell)||{},i=n.backgroundColor,o=n.backgroundColorOpacity;return this.getBackgroundColorByCondition(i,o)},r.prototype.getBackgroundColorByCondition=function(t,n){var i,o=t,a=this.findFieldCondition((i=this.conditions)===null||i===void 0?void 0:i.background);if(a&&a.mapping){var l=this.mappingValue(a);l&&(o=l.fill)}return{backgroundColor:o,backgroundColorOpacity:n}},r.prototype.toggleActionIcon=function(t){if(this.getMeta().id===t){var n=[];_e(this.actionIcons,function(i){i.get("visible")||(i.set("visible",!0),n.push(i))}),this.spreadsheet.store.set("visibleActionIcons",n)}},r.prototype.update=function(){var t=this.spreadsheet.interaction,n=t==null?void 0:t.getState(),i=t==null?void 0:t.getCells([ee.CORNER_CELL,ee.COL_CELL,ee.ROW_CELL]);if(qo(i))switch(n==null?void 0:n.stateName){case le.SELECTED:case le.BRUSH_SELECTED:this.handleSelect(i,n==null?void 0:n.nodes);break;case le.HOVER_FOCUS:case le.HOVER:this.handleHover(i);break;case le.SEARCH_RESULT:this.handleSearchResult(i);break;default:this.handleByStateName(i,n==null?void 0:n.stateName);break}},r.prototype.updateByState=function(t){e.prototype.updateByState.call(this,t,this)},r.prototype.hideInteractionShape=function(){e.prototype.hideInteractionShape.call(this)},r.prototype.isMeasureField=function(){return[Te,zI].includes(this.meta.field)},r.prototype.mappingValue=function(t){var n=this.getMeta().label;return t==null?void 0:t.mapping(n,this.meta)},r.prototype.findFieldCondition=function(t){var n=this;return ff(t,function(i){return i.field instanceof RegExp?i.field.test(n.meta.field):i.field===n.meta.field})},r}(Bf),Df=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"cellType",{get:function(){return ee.COL_CELL},enumerable:!1,configurable:!0}),r.prototype.initCell=function(){e.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},r.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Gr(this,B({},this.getCellArea()),{visible:!1}))},r.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",Gr(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},r.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getActionIconsWidth()},r.prototype.getIconPosition=function(){if(this.meta.isLeaf)return e.prototype.getIconPosition.call(this,this.getActionIconsCount());var t=this.getIconStyle(),n=t.margin.left,i=this.getTextStyle(),o=this.textPosition,a=o==null?void 0:o.x,l=(o==null?void 0:o.y)-t.size/2;return i.textAlign==="left"?{x:a+this.actualTextWidth+n,y:l}:i.textAlign==="right"?{x:a+n,y:l}:{x:a+this.actualTextWidth/2+n,y:l}},r.prototype.isBolderText=function(){var t=this.meta,n=t.isLeaf,i=t.isTotals;return!!(i||!n)},r.prototype.getTextPosition=function(){var t,n=this.meta.isLeaf,i=this.headerConfig,o=i.width,a=i.scrollContainsRowHeader,l=i.cornerWidth,s=i.scrollX,f=this.getTextStyle(),h=this.getContentArea(),d=this.getIconStyle();if(n)return ss(h,f,this.actualTextWidth,d,this.getActionIconsCount()).text;var v={start:s-(a?l:0),width:o+(a?l:0)},g=this.getTextStyle().textAlign,y=oG(v,g,(t=this.getStyle().cell)===null||t===void 0?void 0:t.padding),C=this.getActionIconsWidth(),_=this.actualTextWidth+C,w=iG(y,{start:h.x,width:h.width},_),S=aG(w,this.actualTextWidth,C,g),b=h.y+h.height/2;return this.textPosition={x:S,y:b},this.textPosition},r.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,n=t.size,i=t.margin,o=this.getActionIconsCount();return(n+i.left)*o+(o>0?i.right:0)},r.prototype.getColResizeAreaKey=function(){return this.meta.key},r.prototype.getColResizeArea=function(){return gs(this.spreadsheet,iC)},r.prototype.getHorizontalResizeAreaName=function(){return"".concat(lC).concat(this.meta.key)},r.prototype.drawHorizontalResizeArea=function(){var t,n,i=((n=(t=this.spreadsheet.options.style)===null||t===void 0?void 0:t.colCfg)===null||n===void 0?void 0:n.height)===0;if(!(i||!this.shouldDrawResizeAreaByType("colCellVertical",this))){var o=this.headerConfig,a=o.cornerWidth,l=o.viewportWidth,s=this.meta,f=s.y,h=s.height,d=this.getResizeAreaStyle(),v=this.getColResizeArea(),g=this.getHorizontalResizeAreaName(),y=v.find(function(_){return _.attrs.name===g});if(!y){var C=a+l;v.addShape("rect",{attrs:B(B({},ps({theme:d,type:rn.Vertical,id:this.getColResizeAreaKey(),effect:cr.Field,offsetX:0,offsetY:f,width:C,height:h,meta:this.meta})),{name:g,x:0,y:f+h-d.size/2,width:C})})}}},r.prototype.shouldAddVerticalResizeArea=function(){var t=this.meta,n=t.x,i=t.y,o=t.width,a=t.height,l=this.headerConfig,s=l.scrollX,f=l.scrollY,h=l.scrollContainsRowHeader,d=l.cornerWidth,v=l.height,g=l.width,y=this.getResizeAreaStyle(),C={x:n+o-y.size/2,y:i,width:y.size,height:a},_={x:h?-d:0,y:0,width:h?d+g:g,height:v};return ep(C,_,{scrollX:s,scrollY:f})},r.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,n=t.x,i=t.y,o=this.headerConfig,a=o.scrollX,l=o.position;return{x:l.x+n-a,y:l.y+i}},r.prototype.drawVerticalResizeArea=function(){if(!(!this.meta.isLeaf||!this.shouldDrawResizeAreaByType("colCellHorizontal",this))){var t=this.meta,n=t.label,i=t.width,o=t.height,a=this.getResizeAreaStyle(),l=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var s=this.getVerticalResizeAreaOffset(),f=s.x,h=s.y;l.addShape("rect",{attrs:B(B({},ps({theme:a,type:rn.Horizontal,effect:cr.Cell,id:n,offsetX:f,offsetY:h,width:i,height:o,meta:this.meta})),{x:f+i-a.size/2,y:h,height:o})})}}},r.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},r.prototype.drawHorizontalBorder=function(){var t=ta(Bt.TOP,this.meta,this.theme.colCell.cell),n=t.position,i=t.style;Yt(this,n,i)},r.prototype.drawVerticalBorder=function(t){var n=ta(t,this.meta,this.theme.colCell.cell),i=n.position,o=n.style;Yt(this,i,o)},r.prototype.drawBorders=function(){var t=this.spreadsheet,n=t.options,i=t.isTableMode;this.meta.colIndex===0&&i()&&!n.showSeriesNumber&&this.drawVerticalBorder(Bt.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(Bt.RIGHT)},r.prototype.hasHiddenColumnCell=function(){var t=this,n=this.spreadsheet.options,i=n.interaction.hiddenColumnFields,o=i===void 0?[]:i,a=n.tooltip.operation,l=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return J(l)||J(o)||!a.hiddenColumns?!1:!!l.find(function(s){return Jv(s==null?void 0:s.displaySiblingNode,t.meta.id)})},r.prototype.getExpandIconTheme=function(){var t=this.getStyle();return t.icon},r.prototype.addExpandColumnSplitLine=function(){var t=this.meta,n=t.x,i=t.y,o=t.width,a=t.height,l=this.theme.splitLine,s=l.horizontalBorderColor,f=l.horizontalBorderWidth,h=l.horizontalBorderColorOpacity,d=l.borderDash,v=this.isLastColumn()?n+o-f:n;Yt(this,{x1:v,y1:i,x2:v,y2:i+a},{stroke:s,lineWidth:f,strokeOpacity:h,lineDash:d})},r.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},r.prototype.addExpandColumnIcons=function(){var t=this.isLastColumn();this.addExpandColumnIcon(t),this.isAllDisplaySiblingNodeHidden()&&t&&this.addExpandColumnIcon(!1)},r.prototype.addExpandColumnIcon=function(t){var n=this,i=this.getExpandColumnIconConfig(t),o=Gv(this,B(B({},i),{name:"ExpandColIcon",cursor:"pointer"}));o.on("click",function(){n.spreadsheet.emit(I.LAYOUT_COLS_EXPANDED,n.meta)})},r.prototype.getExpandColumnIconConfig=function(t){var n=this.getExpandIconTheme().size,i=this.getCellArea(),o=i.x,a=i.y,l=i.width,s=i.height,f=o-n,h=t?f+l:f,d=a+s/2-n/2;return{x:h,y:d,width:n*2,height:n}},r.prototype.isLastColumn=function(){return $U(this.spreadsheet,this.meta.id)},r.prototype.isAllDisplaySiblingNodeHidden=function(){var t=this.meta.id,n=this.spreadsheet.store.get("hiddenColumnsDetail",[]),i=n.find(function(a){var l,s=a.displaySiblingNode;return((l=s==null?void 0:s.next)===null||l===void 0?void 0:l.id)===t}),o=n.find(function(a){var l,s=a.displaySiblingNode;return((l=s==null?void 0:s.prev)===null||l===void 0?void 0:l.id)===t});return o&&i},r}(np),YU=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isBolderText=function(){var t=this.meta.cornerType;return t===fn.Col},Object.defineProperty(r.prototype,"cellType",{get:function(){return ee.CORNER_CELL},enumerable:!1,configurable:!0}),r.prototype.initCell=function(){e.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},r.prototype.drawCellText=function(){this.drawTextShape()},r.prototype.drawTextShape=function(){var t=this.getContentArea().x,n=this.getCellArea(),i=n.y,o=n.height,a=this.getTextStyle(),l=this.getCornerText(),s=this.getMaxTextWidth(),f=ra(this.meta,this.spreadsheet.options.placeholder),h=this.spreadsheet.measureTextWidth,d=Za({measureTextWidth:h,text:l,maxWidth:s,fontParam:a,placeholder:f});this.actualText=d;var v=d.indexOf(Oa),g=d,y="";if(v!==-1&&this.spreadsheet.isHierarchyTreeType()){var C=v+(iW()?1:0);g=l.substr(0,C),y=l.slice(C),y=Za({measureTextWidth:h,text:y,maxWidth:s,fontParam:a})}var _=nG({x:t+this.getTreeIconWidth(),y:i,width:s,height:o},a).x,w=i+(J(y)?o/2:o/4);this.addTextShape(ea(this,[this.textShapes[0]],_,w,g,a)),J(y)||this.addTextShape(ea(this,[this.textShapes[1]],_,i+o*.75,y,a)),this.actualTextWidth=bi([h(g,a),h(y,a)])},r.prototype.drawTreeIcon=function(){var t=this;if(!(!this.showTreeIcon()||this.meta.cornerType===fn.Col)){var n=this.headerConfig.hierarchyCollapse,i=this.getStyle().icon.size,o=this.getTextStyle(),a=o.textBaseline,l=o.fill,s=this.getContentArea();this.treeIcon=$x(this,{x:s.x,y:Af(s,a,i),width:i,height:i},l,n,function(){t.headerConfig.spreadsheet.store.set("scrollY",0),t.headerConfig.spreadsheet.emit(I.LAYOUT_TREE_ROWS_COLLAPSE_ALL,n)})}},r.prototype.drawBorderShape=function(){var t=this;[Bt.TOP,Bt.LEFT].forEach(function(n){var i=ta(n,t.getCellArea(),t.getStyle().cell),o=i.position,a=i.style;Yt(t,o,a)})},r.prototype.isLastRowCornerCell=function(){var t=this.meta,n=t.cornerType,i=t.field,o=this.headerConfig.rows;return n===fn.Row&&(this.spreadsheet.isHierarchyTreeType()||nt(o)===i)},r.prototype.getResizeAreaEffect=function(){var t=this.meta.cornerType;return t===fn.Series?cr.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?cr.Tree:cr.Field},r.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var t=this.getResizeAreaStyle(),n=gs(this.spreadsheet,Vh),i=this.headerConfig,o=i.position,a=i.scrollX,l=i.scrollY,s=i.width,f=i.height,h=this.meta,d=h.x,v=h.y,g=h.width,y=h.height,C=h.field,_=h.cornerType,w={x:d+g-t.size/2,y:v,width:t.size,height:y},S={x:0,y:0,width:s,height:f};if(!(_===fn.Col||!ep(w,S,{scrollX:a,scrollY:l}))){var b=o.x+d-a,E=o.y+(this.isLastRowCornerCell()?0:v);n.addShape("rect",{attrs:B(B({},ps({theme:t,id:C,type:rn.Horizontal,effect:this.getResizeAreaEffect(),offsetX:b,offsetY:E,width:g,height:y,meta:this.meta})),{x:b+g-t.size/2,y:E,height:this.isLastRowCornerCell()?f:y})})}}},r.prototype.showTreeIcon=function(){var t;return this.spreadsheet.isHierarchyTreeType()&&((t=this.meta)===null||t===void 0?void 0:t.x)===0},r.prototype.getIconPosition=function(){var t,n,i=(n=(t=this.textShapes)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.cfg.attrs,o=this.getTextStyle(),a=o.textBaseline,l=o.textAlign,s=this.getStyle().icon,f=s.size,h=s.margin,d=(i==null?void 0:i.x)+E_([[nv("center"),Ba(this.actualTextWidth/2)],[nv("right"),Ba(0)],[Hw,Ba(this.actualTextWidth)]])(l)+h.left,v=Af(this.getContentArea(),a,f);return{x:d,y:v}},r.prototype.getTreeIconWidth=function(){var t=this.getStyle().icon,n=t.size,i=t.margin;return this.showTreeIcon()?n+i.right:0},r.prototype.getTextStyle=function(){var t=this.getStyle(),n=t.text,i=t.bolderText,o=this.isBolderText()?n:i,a=this.getTextConditionFill(o);return B(B({},o),{fill:a})},r.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTreeIconWidth()-this.getActionIconsWidth()},r.prototype.getTextPosition=function(){return{x:0,y:0}},r.prototype.getFormattedFieldValue=function(){return uS(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},r.prototype.getCornerText=function(){var t=this.getFormattedFieldValue().formattedValue;return t},r}(np),XU=function(e,r,t,n){var i,o,a=ve(n,"size"),l=ve(n,"margin"),s=0;return e.options.showDefaultHeaderActionIcon?s=1:s=(o=(i=tp(e.options.headerActionIcons,r,t))===null||i===void 0?void 0:i.iconNames.length)!==null&&o!==void 0?o:0,s*(a+l.left)+(s>0?l.right:0)},yS=function(e,r,t){var n,i,o=((n=t.icon.margin)===null||n===void 0?void 0:n.left)||0,a=((i=t.icon.margin)===null||i===void 0?void 0:i.right)||0,l=e.store.get("hiddenColumnsDetail",[]),s=!1,f=!1;l.forEach(function(d){var v,g,y,C;((g=(v=d==null?void 0:d.displaySiblingNode)===null||v===void 0?void 0:v.prev)===null||g===void 0?void 0:g.field)===r&&(s=!0),((C=(y=d==null?void 0:d.displaySiblingNode)===null||y===void 0?void 0:y.next)===null||C===void 0?void 0:C.field)===r&&(f=!0)});var h=ve(t,"icon.size");return{left:f?h+a:0,right:s?h+o:0}},VU=function(e,r,t){var n=ve(t,"cell.padding"),i=yS(e,r.field,t);return n.left+n.right+XU(e,r,ee.COL_CELL,ve(t,"icon"))+i.left+i.right},CS=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.handleRestOptions=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=W(t,1),o=i[0];this.headerConfig=B({},o);var a=this.meta.field,l=this.spreadsheet.dataCfg.sortParams,s=nr(l,function(h){return(h==null?void 0:h.sortFieldId)===a}),f=pS(s,!0);this.headerConfig.sortParam=B(B(B({},this.headerConfig.sortParam),s||{}),{type:f})},r.prototype.isFrozenCell=function(){var t=this.spreadsheet.options,n=t.frozenColCount,i=t.frozenTrailingColCount,o=this.spreadsheet.facet.layoutResult.colNodes.filter(function(l){return ni(l)}),a=zW(this.meta).colIndex;return Zo(a,n)||Qo(a,i,o.length)},r.prototype.getFormattedFieldValue=function(){return uS(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},r.prototype.shouldAddVerticalResizeArea=function(){return this.isFrozenCell()?!0:e.prototype.shouldAddVerticalResizeArea.call(this)},r.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,n=t.x,i=t.y,o=this.headerConfig,a=o.scrollX,l=o.position;return this.isFrozenCell()?{x:n,y:i}:{x:l.x+n-a,y:l.y+i}},r.prototype.getColResizeArea=function(){var t=this.isFrozenCell();return t?gs(this.spreadsheet,oC):e.prototype.getColResizeArea.call(this)},r.prototype.isSortCell=function(){return!0},r.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},r.prototype.getTextStyle=function(){var t=this.getStyle();return t==null?void 0:t.bolderText},r.prototype.getContentArea=function(){var t,n=(((t=this.getStyle())===null||t===void 0?void 0:t.cell)||this.theme.dataCell.cell).padding,i=B({},n),o=yS(this.spreadsheet,this.meta.field,this.getStyle());return o.left&&(i.left=(i.left||0)+o.left),o.right&&(i.right=(i.right||0)+o.right),Px(this.getCellArea(),i)},r.prototype.getHorizontalResizeAreaName=function(){return"".concat(lC).concat("table-col-cell")},r.prototype.drawBackgroundShape=function(){var t=this.getStyle().cell.backgroundColor;this.backgroundShape=Gr(this,B(B({},this.getCellArea()),{fill:t}))},r}(Df),qU=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getStyle=function(t){return t?this.theme[t]:ve(this,"theme.cornerCell")},r.prototype.showSortIcon=function(){return!1},r.prototype.drawLeftBorder=function(){var t=ta(Bt.LEFT,this.getCellArea(),this.getStyle().cell),n=t.position,i=t.style;Yt(this,n,i)},r.prototype.drawBorders=function(){e.prototype.drawBorders.call(this),this.meta.colIndex===0&&this.drawLeftBorder()},r}(CS),$f=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},r.prototype.drawBorderShape=function(){e.prototype.drawBorderShape.call(this),this.meta.colIndex===0&&this.drawLeftBorder()},r.prototype.shouldDrawResizeArea=function(){return this.meta.colIndex===0},r.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var t=this.getCellArea(),n=t.x,i=t.y,o=t.width,a=t.height,l=this.meta.rowIndex,s=this.getResizeAreaStyle(),f=this.spreadsheet.options,h=f.frozenRowCount,d=f.frozenTrailingRowCount,v=this.spreadsheet.facet.getCellRange(),g=Tf(l,v.start,h),y=ls(l,v.end,d),C=g||y,_=C?rC:Aa,w=gs(this.spreadsheet,_),S=this.spreadsheet.facet.layoutResult.colsHierarchy.height,b=this.spreadsheet.facet.getScrollOffset().scrollY,E=this.spreadsheet.facet.getPaginationScrollY(),O=b+E,D=i+(y?0:S);y||(D-=g?E:O),w.addShape("rect",{attrs:B(B({},ps({id:String(this.meta.rowIndex),theme:s,type:rn.Vertical,effect:cr.Cell,offsetX:n,offsetY:D,width:o,height:a,meta:this.meta})),{x:n,y:D+a-s.size/2,width:o})})}},r}(lo),mS=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"cellType",{get:function(){return ee.ROW_CELL},enumerable:!1,configurable:!0}),r.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},r}($f),Ff=function(){function e(r){this.EVENT="gesture",this.gm=r}return e.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},e.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},e}(),KU=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var n=t.x,i=t.y,o=n-this.preX,a=i-this.preY;this.preX=n,this.preY=i,this.emit({x:n,y:i,deltaX:o,deltaY:a,event:t})},r.prototype.onTouchStart=function(t){var n=t.x,i=t.y;this.preX=n,this.preY=i},r}(Ff),so=typeof performance=="object"&&performance.now?performance:Date,jU=300,_S=10,ZU=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var n=t.x,i=t.y;(n-this.touchStartX>_S||i-this.touchStartY>_S)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var n=this;this.clearTimeout();var i=t.x,o=t.y;this.touchStartTime=so.now(),this.touchStartX=i,this.touchStartY=o,this.pressTimeout=window.setTimeout(function(){n.emit({x:i,y:o,event:t})},jU)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(Ff),QU=100,JU=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var n=this.speedX,i=this.speedY;if(so.now()-this.latestMoveTime<QU){var o=t.x,a=t.y;this.emit({x:o,y:a,speedX:n,speedY:i,event:t})}},r.prototype.onTouchMove=function(t){var n=t.x,i=t.y,o=so.now(),a=n-this.preX,l=i-this.preY,s=o-this.ms;this.speedX=a/s,this.speedY=l/s,this.latestMoveTime=o},r.prototype.onTouchStart=function(t){var n=t.x,i=t.y;this.speedX=this.speedY=0,this.preX=n,this.preY=i,this.ms=so.now()},r}(Ff),eY=300,wS=2,tY=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var n=t.x,i=t.y;n-this.touchStartX<wS&&i-this.touchStartY<wS&&so.now()-this.touchStartTime<eY&&this.emit({x:n,y:i,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var n=t.x,i=t.y;this.touchStartTime=so.now(),this.touchStartX=n,this.touchStartY=i},r}(Ff),rY={Pan:KU,Press:ZU,Swipe:JU,Tap:tY},nY=function(e){return rY[e]},xS=function(e){re(r,e);function r(t,n){n===void 0&&(n={});var i=e.call(this)||this;return i.onTouchStart=function(o){i.preventEvent(o),i.element.on("touchmove",i.onTouchMove),i.element.on("touchend",i.onTouchEnd),i.element.on("touchcancel",i.onTouchCancel),i.emit("touchdown",o),i.doGestures(o)},i.onTouchMove=function(o){i.preventEvent(o),i.emit("touchmove",o),i.doGestures(o)},i.onTouchEnd=function(o){i.preventEvent(o),i.emit("touchend",o),i.element.off("touchmove",i.onTouchMove),i.element.off("touchend",i.onTouchEnd),i.element.off("touchcancel",i.onTouchCancel),i.doGestures(o)},i.onTouchCancel=function(o){i.preventEvent(o),i.emit("touchcancel",o),i.element.off("touchmove",i.onTouchMove),i.element.off("touchend",i.onTouchEnd),i.element.off("touchcancel",i.onTouchCancel),i.doGestures(o)},i.element=t,i.options=n,i.initialGestures(),i.bindTouchStart(),i}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,n=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=n.map(function(i){var o=nY(i);return new o(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var n=t.type,i=this.options.prevents||[];i.includes(n)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(n){n.do(t)})},r}(fu),iY=W1,oY=800,aY="swipe",lY="pan",SS="wheel",sY=function(e){re(r,e);function r(t){var n=e.call(this)||this;return n.rafMs=0,n.onPan=function(i){n.raf&&cancelAnimationFrame(n.raf);var o=i.deltaX,a=i.deltaY,l=n.getWrapperEvent(i,o,a);n.emit(SS,l)},n.onSwipe=function(i){var o=i.speedX,a=i.speedY;n.rafMs=so.now(),n.ms=n.rafMs,(o!==0||a!==0)&&n.rafInertia(i)},n.element=t,n.gm=new xS(t,{gestures:["Pan","Swipe"]}),n.gm.on(aY,n.onSwipe),n.gm.on(lY,n.onPan),n}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var n=this,i=t.speedX,o=t.speedY;this.raf=window.requestAnimationFrame(function(){var a=so.now(),l=(a-n.ms)/oY;if(l<1){l=iY(1-l);var s=a-n.rafMs,f=i*l*s,h=o*l*s,d=n.getWrapperEvent(t,f,h);n.emit(SS,d),n.rafMs=a,n.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,n,i){return B(B({},t),{deltaX:-n,deltaY:-i})},r}(fu),uY=function(e){var r=0,t=e.children;return t==null||t.forEach(function(n){r+=n.height||0}),r},bS=function(e,r,t,n,i){var o=0,a=e+(r-i)/2,l=e+(r+i)/2,s=t+n;return e+i>=s?o=e:s<l?o=t+n-i:t>a?e+r-t>i?o=t:o=e+r-i:o=e+(r-i)/2,o},fY=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"cellType",{get:function(){return ee.ROW_CELL},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){var t;e.prototype.destroy.call(this),(t=this.gm)===null||t===void 0||t.destroy()},r.prototype.initCell=function(){e.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},r.prototype.getBackgroundColor=function(){var t=this.getCrossBackgroundColor(this.meta.rowIndex),n=t.backgroundColor,i=t.backgroundColorOpacity;return this.getBackgroundColorByCondition(n,i)},r.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",Gr(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},r.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Gr(this,B({},this.getCellArea()),{visible:!1}))},r.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},r.prototype.showTreeLeafNodeAlignDot=function(){var t;return((t=this.spreadsheet.options.style)===null||t===void 0?void 0:t.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},r.prototype.getParentTreeIconCfg=function(){if(!(!this.showTreeLeafNodeAlignDot()||!this.spreadsheet.isHierarchyTreeType()||!this.meta.isLeaf))return ve(this.meta,"parent.belongsCell.treeIcon.cfg")},r.prototype.drawTreeIcon=function(){var t=this;if(this.showTreeIcon()){var n=this.meta,i=n.isCollapsed,o=n.id,a=n.hierarchy,l=this.getContentArea().x,s=this.getTextStyle().fill,f=this.getStyle().icon.size,h=this.getContentIndent(),d=l+h,v=this.getIconYPosition();this.treeIcon=$x(this,{x:d,y:v,width:f,height:f},s,i,function(){if(!zt()){if(!i){var g=t.spreadsheet.store.get("scrollY"),y=t.headerConfig.viewportHeight||0,C=uY(t.meta),_=a.height-C;if(g>0&&g+y>_){var w=_-y;t.spreadsheet.store.set("scrollY",w>0?w:0)}}t.spreadsheet.emit(I.ROW_CELL_COLLAPSE_TREE_ROWS,{id:o,isCollapsed:!i,node:t.meta})}}),zt()&&(this.gm=new xS(this,{gestures:["Tap"]}),this.gm.on("tap",function(){t.spreadsheet.emit(I.ROW_CELL_COLLAPSE_TREE_ROWS,{id:o,isCollapsed:!i,node:t.meta})}))}},r.prototype.drawTreeLeafNodeAlignDot=function(){var t=this.getParentTreeIconCfg();if(t){var n=this.getStyle().icon,i=n.size,o=n.margin,a=t.x+i+o.right,l=this.getTextPosition().y,s=this.getTextStyle(),f=s.fill,h=s.fontSize,d=i/5;this.treeLeafNodeAlignDot=Dx(this,{x:a+i/2,y:l+(h-d)/2,r:d,fill:f,fillOpacity:.3})}},r.prototype.isBolderText=function(){var t=this.meta,n=t.isLeaf,i=t.isTotals,o=t.level;return!n&&o===0||i},r.prototype.drawTextShape=function(){e.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},r.prototype.drawRectBorder=function(){var t=this,n=this.getCellArea().x,i=this.getContentIndent(),o=this.spreadsheet.isHierarchyTreeType()?n:n+i;[Bt.BOTTOM,Bt.LEFT].forEach(function(a){var l=ta(a,B(B({},t.getCellArea()),{x:o}),t.getStyle().cell),s=l.position,f=l.style;Yt(t,s,f)})},r.prototype.getResizeClipAreaBBox=function(){var t=this.headerConfig,n=t.width,i=t.viewportHeight;return{x:0,y:0,width:n,height:i}},r.prototype.drawResizeAreaInLeaf=function(){if(!(!this.meta.isLeaf||!this.shouldDrawResizeAreaByType("rowCellVertical",this))){var t=this.getCellArea(),n=t.x,i=t.y,o=t.width,a=t.height,l=this.getResizeAreaStyle(),s=gs(this.spreadsheet,Aa),f=this.headerConfig,h=f.position,d=f.seriesNumberWidth,v=f.width,g=f.scrollX,y=f.scrollY,C={x:n+d,y:i+a-l.size/2,width:o,height:l.size},_=this.getResizeClipAreaBBox();if(ep(C,_,{scrollX:g,scrollY:y})){var w=(h==null?void 0:h.x)+n-g+d,S=(h==null?void 0:h.y)+i-y,b=this.spreadsheet.isFrozenRowHeader()?v-d-(n-g):o;s.addShape("rect",{attrs:B(B({},ps({id:this.meta.id,theme:l,type:rn.Vertical,effect:cr.Cell,offsetX:w,offsetY:S,width:o,height:a,meta:this.meta})),{x:w,y:S+a-l.size/2,width:b})})}}},r.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;for(var t=this.getStyle(),n=t.icon,i=t.cell,o=n.size+n.margin.right,a=this.meta.parent,l=0;a;)a.height!==0&&(l+=o),a=a.parent;return this.showTreeLeafNodeAlignDot()&&(l+=this.isTreeLevel()?0:i.padding.right+n.margin.right),l},r.prototype.getTextIndent=function(){var t=this.getStyle().icon,n=t.size,i=t.margin,o=this.getContentIndent(),a=this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?n+i.right:0;return o+a},r.prototype.isTreeLevel=function(){return nr(ve(this.meta,"parent.children"),function(t){return!t.isLeaf})},r.prototype.getIconPosition=function(){if(!this.textShape)return{x:0,y:0};var t=this.textShape.cfg.attrs,n=t.x,i=t.y,o=t.textAlign,a=this.getStyle().icon.margin.left;return o==="left"?{x:n+this.actualTextWidth+a,y:i}:o==="right"?{x:n+a,y:i}:{x:n+this.actualTextWidth/2+a,y:i}},r.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTextIndent()-this.getActionIconsWidth()},r.prototype.getTextArea=function(){var t=this.getContentArea(),n=this.getTextIndent();return B(B({},t),{x:t.x+n,width:t.width-n})},r.prototype.getAdjustTextAreaHeight=function(t,n,i){var o=t.height;return!this.spreadsheet.facet.vScrollBar&&t.y+t.height>n+i&&(o=n+i-t.y),o},r.prototype.calculateTextY=function(t){var n=t.textArea,i=t.adjustTextAreaHeight,o=this.headerConfig,a=o.scrollY,l=o.viewportHeight,s=this.getTextStyle().fontSize;return bS(n.y,i,a,l,s)},r.prototype.getTextPosition=function(){var t=this.getTextArea(),n=this.headerConfig,i=n.scrollY,o=n.viewportHeight,a=this.getAdjustTextAreaHeight(t,i,o),l=this.calculateTextY({textArea:t,adjustTextAreaHeight:a}),s=ss(t,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x;return{x:s,y:l}},r.prototype.getIconYPosition=function(){var t=this.getTextPosition().y,n=this.getStyle().icon.size,i=this.getTextStyle().fontSize;return t+(i-n)/2},r}(np),ys=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.handleRestOptions=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=W(t),o=i[0],a=i.slice(1);e.prototype.handleRestOptions.call(this,o,a),this.frozenRowCell=a[0]},r.prototype.getAdjustTextAreaHeight=function(t,n,i){var o=t.y-this.getFrozenFirstRowHeight(),a=t.height;return!this.spreadsheet.facet.vScrollBar&&o+t.height>n+i&&(a=n+i-o),a},r.prototype.calculateTextY=function(t){var n=t.textArea,i=t.adjustTextAreaHeight,o=this.headerConfig,a=o.scrollY,l=o.viewportHeight,s=this.getTextStyle().fontSize;return bS(n.y,i,a+this.getFrozenFirstRowHeight(),l,s)},r.prototype.getResizeClipAreaBBox=function(){return B(B({},e.prototype.getResizeClipAreaBBox.call(this)),{y:this.getFrozenFirstRowHeight()})},r.prototype.getFrozenFirstRowHeight=function(){var t;if(this.frozenRowCell)return 0;var n=this.spreadsheet,i=n.facet,o=n.options,a=Ka(o,(t=i==null?void 0:i.layoutResult)===null||t===void 0?void 0:t.rowNodes).frozenRowHeight;return a},r}(fY),TS=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.initCell=function(){this.drawBackgroundShape(),this.drawRectBorder(),this.drawTextShape()},r.prototype.getTextStyle=function(){var t;return(t=this.getStyle())===null||t===void 0?void 0:t.seriesText},r.prototype.getTextPosition=function(){return e.prototype.getTextPosition.call(this)},r.prototype.getActionIconsCount=function(){return 0},r.prototype.getIconStyle=function(){},r.prototype.drawResizeAreaInLeaf=function(){},r.prototype.update=function(){},r.prototype.findFieldCondition=function(){},r.prototype.mappingValue=function(){},r}(ys),Pf=function(e){return[er.META,er.CONTROL].includes(e.key)},ES=function(e){return e.ctrlKey||e.metaKey},ii=function(e){var r=e.getMeta(),t=r||{},n=t.id,i=t.colIndex,o=t.rowIndex,a=t.rowQuery;return{id:n,colIndex:i,rowIndex:o,type:e.cellType,rowQuery:a}},cY=function(e,r){var t=e.interaction;t.changeState({stateName:le.SELECTED,cells:r}),e.emit(I.GLOBAL_SELECTED,t.getActiveCells())};function ip(e,r){var t=Math.min(e.rowIndex,r.rowIndex),n=Math.max(e.rowIndex,r.rowIndex),i=Math.min(e.colIndex,r.colIndex),o=Math.max(e.colIndex,r.colIndex);return{start:{rowIndex:t,colIndex:i},end:{rowIndex:n,colIndex:o}}}function hY(e,r){var t=r.interaction,n=r.facet,i=r.options;if(r.isTableMode()){if(!i.showSeriesNumber)return[];var o=n.layoutResult.colLeafNodes[0].id,a=vs(String(e.rowIndex),o),l=[],s=t.getAllCells().find(function(f){return f.getMeta().id===a});return s&&s instanceof mS&&l.push(s),l}return qv(e.rowId,t.getAllRowHeaderCells(),r.isHierarchyTreeType())}var op=function(e,r){var t=e.getSelectedCellHighlight(),n=t.colHeader,i=t.rowHeader;n&&e.updateCells(e.getAllColHeaderCells()),i&&e.updateCells(e.getAllRowHeaderCells()),r()},LS=function(e){var r=e.store.get("visibleActionIcons"),t=e.interaction.getInteractedCells(),n=e.interaction.getState().cells;if(J(t)&&J(n)&&J(r))return!1;if(_e(r,function(o){o.set("visible",!1)}),e.store.set("visibleActionIcons",[]),_e(t,function(o){o.hideInteractionShape()}),e.interaction.resetState(),e.options.interaction.selectedCellsSpotlight){var i=e.interaction.getPanelGroupAllUnSelectedDataCells()||[];_e(i,function(o){o.clearUnselectedState()})}return!0},dY=function(e,r){var t=r==null?void 0:r.stateName;e.interaction.isEqualStateName(t)||(LS(e),e.hideTooltip(),e.store.set(td,r))},vY=function(e,r,t){var n,i,o=t.facet,a=o.panelBBox.width,l=o==null?void 0:o.frozenGroupInfo,s=(n=l==null?void 0:l.frozenCol.width)!==null&&n!==void 0?n:0,f=(i=l==null?void 0:l.frozenTrailingCol.width)!==null&&i!==void 0?i:0,h=o.layoutResult.colLeafNodes[e];return r===Pt.SCROLL_UP?h.x-s:h.x+h.width-(a-f)},pY=function(e,r,t){var n,i,o=t.facet,a=o.viewCellHeights.getCellOffsetY,l=o.panelBBox.height,s=a(e+1);if(It(s))return 0;var f=o==null?void 0:o.frozenGroupInfo,h=(n=f==null?void 0:f.frozenRow.height)!==null&&n!==void 0?n:0,d=(i=f==null?void 0:f.frozenTrailingRow.height)!==null&&i!==void 0?i:0;return r===Pt.SCROLL_UP?a(e)-h:s-(l-d)};/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Ja=9e15,uo=1e9,ap="0123456789abcdef",Nf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Hf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",lp={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ja,maxE:Ja,crypto:!1},AS,Ri,Se=!0,zf="[DecimalError] ",fo=zf+"Invalid argument: ",RS=zf+"Precision limit exceeded",OS=zf+"crypto unavailable",IS="[object Decimal]",ir=Math.floor,Dt=Math.pow,gY=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,yY=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,CY=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,MS=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn=1e7,pe=7,mY=9007199254740991,_Y=Nf.length-1,sp=Hf.length-1,X={toStringTag:IS};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),he(e)},X.ceil=function(){return he(new this.constructor(this),this.e+1,2)},X.clampedTo=X.clamp=function(e,r){var t,n=this,i=n.constructor;if(e=new i(e),r=new i(r),!e.s||!r.s)return new i(NaN);if(e.gt(r))throw Error(fo+r);return t=n.cmp(e),t<0?e:n.cmp(r)>0?r:new i(n)},X.comparedTo=X.cmp=function(e){var r,t,n,i,o=this,a=o.d,l=(e=new o.constructor(e)).d,s=o.s,f=e.s;if(!a||!l)return!s||!f?NaN:s!==f?s:a===l?0:!a^s<0?1:-1;if(!a[0]||!l[0])return a[0]?s:l[0]?-f:0;if(s!==f)return s;if(o.e!==e.e)return o.e>e.e^s<0?1:-1;for(n=a.length,i=l.length,r=0,t=n<i?n:i;r<t;++r)if(a[r]!==l[r])return a[r]>l[r]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},X.cosine=X.cos=function(){var e,r,t=this,n=t.constructor;return t.d?t.d[0]?(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+pe,n.rounding=1,t=wY(n,NS(n,t)),n.precision=e,n.rounding=r,he(Ri==2||Ri==3?t.neg():t,e,r,!0)):new n(1):new n(NaN)},X.cubeRoot=X.cbrt=function(){var e,r,t,n,i,o,a,l,s,f,h=this,d=h.constructor;if(!h.isFinite()||h.isZero())return new d(h);for(Se=!1,o=h.s*Dt(h.s*h,1/3),!o||Math.abs(o)==1/0?(t=Xt(h.d),e=h.e,(o=(e-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=Dt(t,1/3),e=ir((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t),n.s=h.s):n=new d(o.toString()),a=(e=d.precision)+3;;)if(l=n,s=l.times(l).times(l),f=s.plus(h),n=st(f.plus(h).times(l),f.plus(s),a+2,1),Xt(l.d).slice(0,a)===(t=Xt(n.d)).slice(0,a))if(t=t.slice(a-3,a+1),t=="9999"||!i&&t=="4999"){if(!i&&(he(l,e+1,0),l.times(l).times(l).eq(h))){n=l;break}a+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(he(n,e+1,1),r=!n.times(n).times(n).eq(h));break}return Se=!0,he(n,e,d.rounding,r)},X.decimalPlaces=X.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-ir(this.e/pe))*pe,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t},X.dividedBy=X.div=function(e){return st(this,new this.constructor(e))},X.dividedToIntegerBy=X.divToInt=function(e){var r=this,t=r.constructor;return he(st(r,new t(e),0,1,1),t.precision,t.rounding)},X.equals=X.eq=function(e){return this.cmp(e)===0},X.floor=function(){return he(new this.constructor(this),this.e+1,3)},X.greaterThan=X.gt=function(e){return this.cmp(e)>0},X.greaterThanOrEqualTo=X.gte=function(e){var r=this.cmp(e);return r==1||r===0},X.hyperbolicCosine=X.cosh=function(){var e,r,t,n,i,o=this,a=o.constructor,l=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return l;t=a.precision,n=a.rounding,a.precision=t+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(e=Math.ceil(i/3),r=(1/Uf(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),o=el(a,1,o.times(r),new a(1),!0);for(var s,f=e,h=new a(8);f--;)s=o.times(o),o=l.minus(s.times(h.minus(s.times(h))));return he(o,a.precision=t,a.rounding=n,!0)},X.hyperbolicSine=X.sinh=function(){var e,r,t,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(r=o.precision,t=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=el(o,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/Uf(5,e)),i=el(o,2,i,i,!0);for(var a,l=new o(5),s=new o(16),f=new o(20);e--;)a=i.times(i),i=i.times(l.plus(a.times(s.times(a).plus(f))))}return o.precision=r,o.rounding=t,he(i,r,t,!0)},X.hyperbolicTangent=X.tanh=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+7,n.rounding=1,st(t.sinh(),t.cosh(),n.precision=e,n.rounding=r)):new n(t.s)},X.inverseCosine=X.acos=function(){var e,r=this,t=r.constructor,n=r.abs().cmp(1),i=t.precision,o=t.rounding;return n!==-1?n===0?r.isNeg()?Dn(t,i,o):new t(0):new t(NaN):r.isZero()?Dn(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,r=r.asin(),e=Dn(t,i+4,o).times(.5),t.precision=i,t.rounding=o,e.minus(r))},X.inverseHyperbolicCosine=X.acosh=function(){var e,r,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(e=n.precision,r=n.rounding,n.precision=e+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,Se=!1,t=t.times(t).minus(1).sqrt().plus(t),Se=!0,n.precision=e,n.rounding=r,t.ln()):new n(t)},X.inverseHyperbolicSine=X.asinh=function(){var e,r,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,Se=!1,t=t.times(t).plus(1).sqrt().plus(t),Se=!0,n.precision=e,n.rounding=r,t.ln())},X.inverseHyperbolicTangent=X.atanh=function(){var e,r,t,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,r=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?he(new o(i),e,r,!0):(o.precision=t=n-i.e,i=st(i.plus(1),new o(1).minus(i),t+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=r,i.times(.5))):new o(NaN)},X.inverseSine=X.asin=function(){var e,r,t,n,i=this,o=i.constructor;return i.isZero()?new o(i):(r=i.abs().cmp(1),t=o.precision,n=o.rounding,r!==-1?r===0?(e=Dn(o,t+4,n).times(.5),e.s=i.s,e):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=n,i.times(2)))},X.inverseTangent=X.atan=function(){var e,r,t,n,i,o,a,l,s,f=this,h=f.constructor,d=h.precision,v=h.rounding;if(f.isFinite()){if(f.isZero())return new h(f);if(f.abs().eq(1)&&d+4<=sp)return a=Dn(h,d+4,v).times(.25),a.s=f.s,a}else{if(!f.s)return new h(NaN);if(d+4<=sp)return a=Dn(h,d+4,v).times(.5),a.s=f.s,a}for(h.precision=l=d+10,h.rounding=1,t=Math.min(28,l/pe+2|0),e=t;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(Se=!1,r=Math.ceil(l/pe),n=1,s=f.times(f),a=new h(f),i=f;e!==-1;)if(i=i.times(s),o=a.minus(i.div(n+=2)),i=i.times(s),a=o.plus(i.div(n+=2)),a.d[r]!==void 0)for(e=r;a.d[e]===o.d[e]&&e--;);return t&&(a=a.times(2<<t-1)),Se=!0,he(a,h.precision=d,h.rounding=v,!0)},X.isFinite=function(){return!!this.d},X.isInteger=X.isInt=function(){return!!this.d&&ir(this.e/pe)>this.d.length-2},X.isNaN=function(){return!this.s},X.isNegative=X.isNeg=function(){return this.s<0},X.isPositive=X.isPos=function(){return this.s>0},X.isZero=function(){return!!this.d&&this.d[0]===0},X.lessThan=X.lt=function(e){return this.cmp(e)<0},X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1},X.logarithm=X.log=function(e){var r,t,n,i,o,a,l,s,f=this,h=f.constructor,d=h.precision,v=h.rounding,g=5;if(e==null)e=new h(10),r=!0;else{if(e=new h(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new h(NaN);r=e.eq(10)}if(t=f.d,f.s<0||!t||!t[0]||f.eq(1))return new h(t&&!t[0]?-1/0:f.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)o=!0;else{for(i=t[0];i%10===0;)i/=10;o=i!==1}if(Se=!1,l=d+g,a=ho(f,l),n=r?Gf(h,l+10):ho(e,l),s=st(a,n,l,1),Cs(s.d,i=d,v))do if(l+=10,a=ho(f,l),n=r?Gf(h,l+10):ho(e,l),s=st(a,n,l,1),!o){+Xt(s.d).slice(i+1,i+15)+1==1e14&&(s=he(s,d+1,0));break}while(Cs(s.d,i+=10,v));return Se=!0,he(s,d,v)},X.minus=X.sub=function(e){var r,t,n,i,o,a,l,s,f,h,d,v,g=this,y=g.constructor;if(e=new y(e),!g.d||!e.d)return!g.s||!e.s?e=new y(NaN):g.d?e.s=-e.s:e=new y(e.d||g.s!==e.s?g:NaN),e;if(g.s!=e.s)return e.s=-e.s,g.plus(e);if(f=g.d,v=e.d,l=y.precision,s=y.rounding,!f[0]||!v[0]){if(v[0])e.s=-e.s;else if(f[0])e=new y(g);else return new y(s===3?-0:0);return Se?he(e,l,s):e}if(t=ir(e.e/pe),h=ir(g.e/pe),f=f.slice(),o=h-t,o){for(d=o<0,d?(r=f,o=-o,a=v.length):(r=v,t=h,a=f.length),n=Math.max(Math.ceil(l/pe),a)+2,o>n&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for(n=f.length,a=v.length,d=n<a,d&&(a=n),n=0;n<a;n++)if(f[n]!=v[n]){d=f[n]<v[n];break}o=0}for(d&&(r=f,f=v,v=r,e.s=-e.s),a=f.length,n=v.length-a;n>0;--n)f[a++]=0;for(n=v.length;n>o;){if(f[--n]<v[n]){for(i=n;i&&f[--i]===0;)f[i]=Bn-1;--f[i],f[n]+=Bn}f[n]-=v[n]}for(;f[--a]===0;)f.pop();for(;f[0]===0;f.shift())--t;return f[0]?(e.d=f,e.e=Wf(f,t),Se?he(e,l,s):e):new y(s===3?-0:0)},X.modulo=X.mod=function(e){var r,t=this,n=t.constructor;return e=new n(e),!t.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||t.d&&!t.d[0]?he(new n(t),n.precision,n.rounding):(Se=!1,n.modulo==9?(r=st(t,e.abs(),0,3,1),r.s*=e.s):r=st(t,e,0,n.modulo,1),r=r.times(e),Se=!0,t.minus(r))},X.naturalExponential=X.exp=function(){return up(this)},X.naturalLogarithm=X.ln=function(){return ho(this)},X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s,he(e)},X.plus=X.add=function(e){var r,t,n,i,o,a,l,s,f,h,d=this,v=d.constructor;if(e=new v(e),!d.d||!e.d)return!d.s||!e.s?e=new v(NaN):d.d||(e=new v(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(f=d.d,h=e.d,l=v.precision,s=v.rounding,!f[0]||!h[0])return h[0]||(e=new v(d)),Se?he(e,l,s):e;if(o=ir(d.e/pe),n=ir(e.e/pe),f=f.slice(),i=o-n,i){for(i<0?(t=f,i=-i,a=h.length):(t=h,n=o,a=f.length),o=Math.ceil(l/pe),a=o>a?o+1:a+1,i>a&&(i=a,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(a=f.length,i=h.length,a-i<0&&(i=a,t=h,h=f,f=t),r=0;i;)r=(f[--i]=f[i]+h[i]+r)/Bn|0,f[i]%=Bn;for(r&&(f.unshift(r),++n),a=f.length;f[--a]==0;)f.pop();return e.d=f,e.e=Wf(f,n),Se?he(e,l,s):e},X.precision=X.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fo+e);return t.d?(r=BS(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r},X.round=function(){var e=this,r=e.constructor;return he(new r(e),e.e+1,r.rounding)},X.sine=X.sin=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+pe,n.rounding=1,t=SY(n,NS(n,t)),n.precision=e,n.rounding=r,he(Ri>2?t.neg():t,e,r,!0)):new n(NaN)},X.squareRoot=X.sqrt=function(){var e,r,t,n,i,o,a=this,l=a.d,s=a.e,f=a.s,h=a.constructor;if(f!==1||!l||!l[0])return new h(!f||f<0&&(!l||l[0])?NaN:l?a:1/0);for(Se=!1,f=Math.sqrt(+a),f==0||f==1/0?(r=Xt(l),(r.length+s)%2==0&&(r+="0"),f=Math.sqrt(r),s=ir((s+1)/2)-(s<0||s%2),f==1/0?r="5e"+s:(r=f.toExponential(),r=r.slice(0,r.indexOf("e")+1)+s),n=new h(r)):n=new h(f.toString()),t=(s=h.precision)+3;;)if(o=n,n=o.plus(st(a,o,t+2,1)).times(.5),Xt(o.d).slice(0,t)===(r=Xt(n.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!i&&r=="4999"){if(!i&&(he(o,s+1,0),o.times(o).eq(a))){n=o;break}t+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(he(n,s+1,1),e=!n.times(n).eq(a));break}return Se=!0,he(n,s,h.rounding,e)},X.tangent=X.tan=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+10,n.rounding=1,t=t.sin(),t.s=1,t=st(t,new n(1).minus(t.times(t)).sqrt(),e+10,0),n.precision=e,n.rounding=r,he(Ri==2||Ri==4?t.neg():t,e,r,!0)):new n(NaN)},X.times=X.mul=function(e){var r,t,n,i,o,a,l,s,f,h=this,d=h.constructor,v=h.d,g=(e=new d(e)).d;if(e.s*=h.s,!v||!v[0]||!g||!g[0])return new d(!e.s||v&&!v[0]&&!g||g&&!g[0]&&!v?NaN:!v||!g?e.s/0:e.s*0);for(t=ir(h.e/pe)+ir(e.e/pe),s=v.length,f=g.length,s<f&&(o=v,v=g,g=o,a=s,s=f,f=a),o=[],a=s+f,n=a;n--;)o.push(0);for(n=f;--n>=0;){for(r=0,i=s+n;i>n;)l=o[i]+g[n]*v[i-n-1]+r,o[i--]=l%Bn|0,r=l/Bn|0;o[i]=(o[i]+r)%Bn|0}for(;!o[--a];)o.pop();return r?++t:o.shift(),e.d=o,e.e=Wf(o,t),Se?he(e,d.precision,d.rounding):e},X.toBinary=function(e,r){return cp(this,2,e,r)},X.toDecimalPlaces=X.toDP=function(e,r){var t=this,n=t.constructor;return t=new n(t),e===void 0?t:(Or(e,0,uo),r===void 0?r=n.rounding:Or(r,0,8),he(t,e+t.e+1,r))},X.toExponential=function(e,r){var t,n=this,i=n.constructor;return e===void 0?t=oi(n,!0):(Or(e,0,uo),r===void 0?r=i.rounding:Or(r,0,8),n=he(new i(n),e+1,r),t=oi(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+t:t},X.toFixed=function(e,r){var t,n,i=this,o=i.constructor;return e===void 0?t=oi(i):(Or(e,0,uo),r===void 0?r=o.rounding:Or(r,0,8),n=he(new o(i),e+i.e+1,r),t=oi(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},X.toFraction=function(e){var r,t,n,i,o,a,l,s,f,h,d,v,g=this,y=g.d,C=g.constructor;if(!y)return new C(g);if(f=t=new C(1),n=s=new C(0),r=new C(n),o=r.e=BS(y)-g.e-1,a=o%pe,r.d[0]=Dt(10,a<0?pe+a:a),e==null)e=o>0?r:f;else{if(l=new C(e),!l.isInt()||l.lt(f))throw Error(fo+l);e=l.gt(r)?o>0?r:f:l}for(Se=!1,l=new C(Xt(y)),h=C.precision,C.precision=o=y.length*pe*2;d=st(l,r,0,1,1),i=t.plus(d.times(n)),i.cmp(e)!=1;)t=n,n=i,i=f,f=s.plus(d.times(i)),s=i,i=r,r=l.minus(d.times(i)),l=i;return i=st(e.minus(t),n,0,1,1),s=s.plus(i.times(f)),t=t.plus(i.times(n)),s.s=f.s=g.s,v=st(f,n,o,1).minus(g).abs().cmp(st(s,t,o,1).minus(g).abs())<1?[f,n]:[s,t],C.precision=h,Se=!0,v},X.toHexadecimal=X.toHex=function(e,r){return cp(this,16,e,r)},X.toNearest=function(e,r){var t=this,n=t.constructor;if(t=new n(t),e==null){if(!t.d)return t;e=new n(1),r=n.rounding}else{if(e=new n(e),r===void 0?r=n.rounding:Or(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(Se=!1,t=st(t,e,0,r,1).times(e),Se=!0,he(t)):(e.s=t.s,t=e),t},X.toNumber=function(){return+this},X.toOctal=function(e,r){return cp(this,8,e,r)},X.toPower=X.pow=function(e){var r,t,n,i,o,a,l=this,s=l.constructor,f=+(e=new s(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new s(Dt(+l,f));if(l=new s(l),l.eq(1))return l;if(n=s.precision,o=s.rounding,e.eq(1))return he(l,n,o);if(r=ir(e.e/pe),r>=e.d.length-1&&(t=f<0?-f:f)<=mY)return i=DS(s,l,t,n),e.s<0?new s(1).div(i):he(i,n,o);if(a=l.s,a<0){if(r<e.d.length-1)return new s(NaN);if(e.d[r]&1||(a=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=a,l}return t=Dt(+l,f),r=t==0||!isFinite(t)?ir(f*(Math.log("0."+Xt(l.d))/Math.LN10+l.e+1)):new s(t+"").e,r>s.maxE+1||r<s.minE-1?new s(r>0?a/0:0):(Se=!1,s.rounding=l.s=1,t=Math.min(12,(r+"").length),i=up(e.times(ho(l,n+t)),n),i.d&&(i=he(i,n+5,1),Cs(i.d,n,o)&&(r=n+10,i=he(up(e.times(ho(l,r+t)),r),r+5,1),+Xt(i.d).slice(n+1,n+15)+1==1e14&&(i=he(i,n+1,0)))),i.s=a,Se=!0,s.rounding=o,he(i,n,o))},X.toPrecision=function(e,r){var t,n=this,i=n.constructor;return e===void 0?t=oi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Or(e,1,uo),r===void 0?r=i.rounding:Or(r,0,8),n=he(new i(n),e,r),t=oi(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+t:t},X.toSignificantDigits=X.toSD=function(e,r){var t=this,n=t.constructor;return e===void 0?(e=n.precision,r=n.rounding):(Or(e,1,uo),r===void 0?r=n.rounding:Or(r,0,8)),he(new n(t),e,r)},X.toString=function(){var e=this,r=e.constructor,t=oi(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t},X.truncated=X.trunc=function(){return he(new this.constructor(this),this.e+1,1)},X.valueOf=X.toJSON=function(){var e=this,r=e.constructor,t=oi(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function Xt(e){var r,t,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,r=1;r<i;r++)n=e[r]+"",t=pe-n.length,t&&(o+=co(t)),o+=n;a=e[r],n=a+"",t=pe-n.length,t&&(o+=co(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}function Or(e,r,t){if(e!==~~e||e<r||e>t)throw Error(fo+e)}function Cs(e,r,t,n){var i,o,a,l;for(o=e[0];o>=10;o/=10)--r;return--r<0?(r+=pe,i=0):(i=Math.ceil((r+1)/pe),r%=pe),o=Dt(10,pe-r),l=e[i]%o|0,n==null?r<3?(r==0?l=l/100|0:r==1&&(l=l/10|0),a=t<4&&l==99999||t>3&&l==49999||l==5e4||l==0):a=(t<4&&l+1==o||t>3&&l+1==o/2)&&(e[i+1]/o/100|0)==Dt(10,r-2)-1||(l==o/2||l==0)&&(e[i+1]/o/100|0)==0:r<4?(r==0?l=l/1e3|0:r==1?l=l/100|0:r==2&&(l=l/10|0),a=(n||t<4)&&l==9999||!n&&t>3&&l==4999):a=((n||t<4)&&l+1==o||!n&&t>3&&l+1==o/2)&&(e[i+1]/o/1e3|0)==Dt(10,r-3)-1,a}function kf(e,r,t){for(var n,i=[0],o,a=0,l=e.length;a<l;){for(o=i.length;o--;)i[o]*=r;for(i[0]+=ap.indexOf(e.charAt(a++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function wY(e,r){var t,n,i;if(r.isZero())return r;n=r.d.length,n<32?(t=Math.ceil(n/3),i=(1/Uf(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),e.precision+=t,r=el(e,1,r.times(i),new e(1));for(var o=t;o--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return e.precision-=t,r}var st=function(){function e(n,i,o){var a,l=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+l,n[s]=a%o|0,l=a/o|0;return l&&n.unshift(l),n}function r(n,i,o,a){var l,s;if(o!=a)s=o>a?1:-1;else for(l=s=0;l<o;l++)if(n[l]!=i[l]){s=n[l]>i[l]?1:-1;break}return s}function t(n,i,o,a){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*a+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a,l,s){var f,h,d,v,g,y,C,_,w,S,b,E,O,D,F,H,k,q,V,Q,ie=n.constructor,ue=n.s==i.s?1:-1,K=n.d,te=i.d;if(!K||!K[0]||!te||!te[0])return new ie(!n.s||!i.s||(K?te&&K[0]==te[0]:!te)?NaN:K&&K[0]==0||!te?ue*0:ue/0);for(s?(g=1,h=n.e-i.e):(s=Bn,g=pe,h=ir(n.e/g)-ir(i.e/g)),V=te.length,k=K.length,w=new ie(ue),S=w.d=[],d=0;te[d]==(K[d]||0);d++);if(te[d]>(K[d]||0)&&h--,o==null?(D=o=ie.precision,a=ie.rounding):l?D=o+(n.e-i.e)+1:D=o,D<0)S.push(1),y=!0;else{if(D=D/g+2|0,d=0,V==1){for(v=0,te=te[0],D++;(d<k||v)&&D--;d++)F=v*s+(K[d]||0),S[d]=F/te|0,v=F%te|0;y=v||d<k}else{for(v=s/(te[0]+1)|0,v>1&&(te=e(te,v,s),K=e(K,v,s),V=te.length,k=K.length),H=V,b=K.slice(0,V),E=b.length;E<V;)b[E++]=0;Q=te.slice(),Q.unshift(0),q=te[0],te[1]>=s/2&&++q;do v=0,f=r(te,b,V,E),f<0?(O=b[0],V!=E&&(O=O*s+(b[1]||0)),v=O/q|0,v>1?(v>=s&&(v=s-1),C=e(te,v,s),_=C.length,E=b.length,f=r(C,b,_,E),f==1&&(v--,t(C,V<_?Q:te,_,s))):(v==0&&(f=v=1),C=te.slice()),_=C.length,_<E&&C.unshift(0),t(b,C,E,s),f==-1&&(E=b.length,f=r(te,b,V,E),f<1&&(v++,t(b,V<E?Q:te,E,s))),E=b.length):f===0&&(v++,b=[0]),S[d++]=v,f&&b[0]?b[E++]=K[H]||0:(b=[K[H]],E=1);while((H++<k||b[0]!==void 0)&&D--);y=b[0]!==void 0}S[0]||S.shift()}if(g==1)w.e=h,AS=y;else{for(d=1,v=S[0];v>=10;v/=10)d++;w.e=d+h*g-1,he(w,l?o+w.e+1:o,a,y)}return w}}();function he(e,r,t,n){var i,o,a,l,s,f,h,d,v,g=e.constructor;e:if(r!=null){if(d=e.d,!d)return e;for(i=1,l=d[0];l>=10;l/=10)i++;if(o=r-i,o<0)o+=pe,a=r,h=d[v=0],s=h/Dt(10,i-a-1)%10|0;else if(v=Math.ceil((o+1)/pe),l=d.length,v>=l)if(n){for(;l++<=v;)d.push(0);h=s=0,i=1,o%=pe,a=o-pe+1}else break e;else{for(h=l=d[v],i=1;l>=10;l/=10)i++;o%=pe,a=o-pe+i,s=a<0?0:h/Dt(10,i-a-1)%10|0}if(n=n||r<0||d[v+1]!==void 0||(a<0?h:h%Dt(10,i-a-1)),f=t<4?(s||n)&&(t==0||t==(e.s<0?3:2)):s>5||s==5&&(t==4||n||t==6&&(o>0?a>0?h/Dt(10,i-a):0:d[v-1])%10&1||t==(e.s<0?8:7)),r<1||!d[0])return d.length=0,f?(r-=e.e+1,d[0]=Dt(10,(pe-r%pe)%pe),e.e=-r||0):d[0]=e.e=0,e;if(o==0?(d.length=v,l=1,v--):(d.length=v+1,l=Dt(10,pe-o),d[v]=a>0?(h/Dt(10,i-a)%Dt(10,a)|0)*l:0),f)for(;;)if(v==0){for(o=1,a=d[0];a>=10;a/=10)o++;for(a=d[0]+=l,l=1;a>=10;a/=10)l++;o!=l&&(e.e++,d[0]==Bn&&(d[0]=1));break}else{if(d[v]+=l,d[v]!=Bn)break;d[v--]=0,l=1}for(o=d.length;d[--o]===0;)d.pop()}return Se&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function oi(e,r,t){if(!e.isFinite())return PS(e);var n,i=e.e,o=Xt(e.d),a=o.length;return r?(t&&(n=t-a)>0?o=o.charAt(0)+"."+o.slice(1)+co(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+co(-i-1)+o,t&&(n=t-a)>0&&(o+=co(n))):i>=a?(o+=co(i+1-a),t&&(n=t-i-1)>0&&(o=o+"."+co(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),t&&(n=t-a)>0&&(i+1===a&&(o+="."),o+=co(n))),o}function Wf(e,r){var t=e[0];for(r*=pe;t>=10;t/=10)r++;return r}function Gf(e,r,t){if(r>_Y)throw Se=!0,t&&(e.precision=t),Error(RS);return he(new e(Nf),r,1,!0)}function Dn(e,r,t){if(r>sp)throw Error(RS);return he(new e(Hf),r,t,!0)}function BS(e){var r=e.length-1,t=r*pe+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function co(e){for(var r="";e--;)r+="0";return r}function DS(e,r,t,n){var i,o=new e(1),a=Math.ceil(n/pe+4);for(Se=!1;;){if(t%2&&(o=o.times(r),HS(o.d,a)&&(i=!0)),t=ir(t/2),t===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}r=r.times(r),HS(r.d,a)}return Se=!0,o}function $S(e){return e.d[e.d.length-1]&1}function FS(e,r,t){for(var n,i=new e(r[0]),o=0;++o<r.length;)if(n=new e(r[o]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function up(e,r){var t,n,i,o,a,l,s,f=0,h=0,d=0,v=e.constructor,g=v.rounding,y=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(Se=!1,s=y):s=r,l=new v(.03125);e.e>-2;)e=e.times(l),d+=5;for(n=Math.log(Dt(2,d))/Math.LN10*2+5|0,s+=n,t=o=a=new v(1),v.precision=s;;){if(o=he(o.times(e),s,1),t=t.times(++h),l=a.plus(st(o,t,s,1)),Xt(l.d).slice(0,s)===Xt(a.d).slice(0,s)){for(i=d;i--;)a=he(a.times(a),s,1);if(r==null)if(f<3&&Cs(a.d,s-n,g,f))v.precision=s+=10,t=o=l=new v(1),h=0,f++;else return he(a,v.precision=y,g,Se=!0);else return v.precision=y,a}a=l}}function ho(e,r){var t,n,i,o,a,l,s,f,h,d,v,g=1,y=10,C=e,_=C.d,w=C.constructor,S=w.rounding,b=w.precision;if(C.s<0||!_||!_[0]||!C.e&&_[0]==1&&_.length==1)return new w(_&&!_[0]?-1/0:C.s!=1?NaN:_?0:C);if(r==null?(Se=!1,h=b):h=r,w.precision=h+=y,t=Xt(_),n=t.charAt(0),Math.abs(o=C.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)C=C.times(e),t=Xt(C.d),n=t.charAt(0),g++;o=C.e,n>1?(C=new w("0."+t),o++):C=new w(n+"."+t.slice(1))}else return f=Gf(w,h+2,b).times(o+""),C=ho(new w(n+"."+t.slice(1)),h-y).plus(f),w.precision=b,r==null?he(C,b,S,Se=!0):C;for(d=C,s=a=C=st(C.minus(1),C.plus(1),h,1),v=he(C.times(C),h,1),i=3;;){if(a=he(a.times(v),h,1),f=s.plus(st(a,new w(i),h,1)),Xt(f.d).slice(0,h)===Xt(s.d).slice(0,h))if(s=s.times(2),o!==0&&(s=s.plus(Gf(w,h+2,b).times(o+""))),s=st(s,new w(g),h,1),r==null)if(Cs(s.d,h-y,S,l))w.precision=h+=y,f=a=C=st(d.minus(1),d.plus(1),h,1),v=he(C.times(C),h,1),i=l=1;else return he(s,w.precision=b,S,Se=!0);else return w.precision=b,s;s=f,i+=2}}function PS(e){return String(e.s*e.s/0)}function fp(e,r){var t,n,i;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(t<0&&(t=n),t+=+r.slice(n+1),r=r.substring(0,n)):t<0&&(t=r.length),n=0;r.charCodeAt(n)===48;n++);for(i=r.length;r.charCodeAt(i-1)===48;--i);if(r=r.slice(n,i),r){if(i-=n,e.e=t=t-n-1,e.d=[],n=(t+1)%pe,t<0&&(n+=pe),n<i){for(n&&e.d.push(+r.slice(0,n)),i-=pe;n<i;)e.d.push(+r.slice(n,n+=pe));r=r.slice(n),n=pe-r.length}else n-=i;for(;n--;)r+="0";e.d.push(+r),Se&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function xY(e,r){var t,n,i,o,a,l,s,f,h;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),MS.test(r))return fp(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(yY.test(r))t=16,r=r.toLowerCase();else if(gY.test(r))t=2;else if(CY.test(r))t=8;else throw Error(fo+r);for(o=r.search(/p/i),o>0?(s=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),o=r.indexOf("."),a=o>=0,n=e.constructor,a&&(r=r.replace(".",""),l=r.length,o=l-o,i=DS(n,new n(t),o,o*2)),f=kf(r,t,Bn),h=f.length-1,o=h;f[o]===0;--o)f.pop();return o<0?new n(e.s*0):(e.e=Wf(f,h),e.d=f,Se=!1,a&&(e=st(e,i,l*4)),s&&(e=e.times(Math.abs(s)<54?Dt(2,s):$n.pow(2,s))),Se=!0,e)}function SY(e,r){var t,n=r.d.length;if(n<3)return r.isZero()?r:el(e,2,r,r);t=1.4*Math.sqrt(n),t=t>16?16:t|0,r=r.times(1/Uf(5,t)),r=el(e,2,r,r);for(var i,o=new e(5),a=new e(16),l=new e(20);t--;)i=r.times(r),r=r.times(o.plus(i.times(a.times(i).minus(l))));return r}function el(e,r,t,n,i){var o,a,l,s,f=e.precision,h=Math.ceil(f/pe);for(Se=!1,s=t.times(t),l=new e(n);;){if(a=st(l.times(s),new e(r++*r++),f,1),l=i?n.plus(a):n.minus(a),n=st(a.times(s),new e(r++*r++),f,1),a=l.plus(n),a.d[h]!==void 0){for(o=h;a.d[o]===l.d[o]&&o--;);if(o==-1)break}o=l,l=n,n=a,a=o}return Se=!0,a.d.length=h+1,a}function Uf(e,r){for(var t=e;--r;)t*=e;return t}function NS(e,r){var t,n=r.s<0,i=Dn(e,e.precision,1),o=i.times(.5);if(r=r.abs(),r.lte(o))return Ri=n?4:1,r;if(t=r.divToInt(i),t.isZero())Ri=n?3:2;else{if(r=r.minus(t.times(i)),r.lte(o))return Ri=$S(t)?n?2:3:n?4:1,r;Ri=$S(t)?n?1:4:n?3:2}return r.minus(i).abs()}function cp(e,r,t,n){var i,o,a,l,s,f,h,d,v,g=e.constructor,y=t!==void 0;if(y?(Or(t,1,uo),n===void 0?n=g.rounding:Or(n,0,8)):(t=g.precision,n=g.rounding),!e.isFinite())h=PS(e);else{for(h=oi(e),a=h.indexOf("."),y?(i=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):i=r,a>=0&&(h=h.replace(".",""),v=new g(1),v.e=h.length-a,v.d=kf(oi(v),10,i),v.e=v.d.length),d=kf(h,10,i),o=s=d.length;d[--s]==0;)d.pop();if(!d[0])h=y?"0p+0":"0";else{if(a<0?o--:(e=new g(e),e.d=d,e.e=o,e=st(e,v,t,n,0,i),d=e.d,o=e.e,f=AS),a=d[t],l=i/2,f=f||d[t+1]!==void 0,f=n<4?(a!==void 0||f)&&(n===0||n===(e.s<0?3:2)):a>l||a===l&&(n===4||f||n===6&&d[t-1]&1||n===(e.s<0?8:7)),d.length=t,f)for(;++d[--t]>i-1;)d[t]=0,t||(++o,d.unshift(1));for(s=d.length;!d[s-1];--s);for(a=0,h="";a<s;a++)h+=ap.charAt(d[a]);if(y){if(s>1)if(r==16||r==8){for(a=r==16?4:3,--s;s%a;s++)h+="0";for(d=kf(h,i,r),s=d.length;!d[s-1];--s);for(a=1,h="1.";a<s;a++)h+=ap.charAt(d[a])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>s)for(o-=s;o--;)h+="0";else o<s&&(h=h.slice(0,o)+"."+h.slice(o))}h=(r==16?"0x":r==2?"0b":r==8?"0o":"")+h}return e.s<0?"-"+h:h}function HS(e,r){if(e.length>r)return e.length=r,!0}function bY(e){return new this(e).abs()}function TY(e){return new this(e).acos()}function EY(e){return new this(e).acosh()}function LY(e,r){return new this(e).plus(r)}function AY(e){return new this(e).asin()}function RY(e){return new this(e).asinh()}function OY(e){return new this(e).atan()}function IY(e){return new this(e).atanh()}function MY(e,r){e=new this(e),r=new this(r);var t,n=this.precision,i=this.rounding,o=n+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=Dn(this,o,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?Dn(this,n,i):new this(0),t.s=e.s):!e.d||r.isZero()?(t=Dn(this,o,1).times(.5),t.s=e.s):r.s<0?(this.precision=o,this.rounding=1,t=this.atan(st(e,r,o,1)),r=Dn(this,o,1),this.precision=n,this.rounding=i,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(st(e,r,o,1)),t}function BY(e){return new this(e).cbrt()}function DY(e){return he(e=new this(e),e.e+1,2)}function $Y(e,r,t){return new this(e).clamp(r,t)}function FY(e){if(!e||typeof e!="object")throw Error(zf+"Object expected");var r,t,n,i=e.defaults===!0,o=["precision",1,uo,"rounding",0,8,"toExpNeg",-Ja,0,"toExpPos",0,Ja,"maxE",0,Ja,"minE",-Ja,0,"modulo",0,9];for(r=0;r<o.length;r+=3)if(t=o[r],i&&(this[t]=lp[t]),(n=e[t])!==void 0)if(ir(n)===n&&n>=o[r+1]&&n<=o[r+2])this[t]=n;else throw Error(fo+t+": "+n);if(t="crypto",i&&(this[t]=lp[t]),(n=e[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(OS);else this[t]=!1;else throw Error(fo+t+": "+n);return this}function PY(e){return new this(e).cos()}function NY(e){return new this(e).cosh()}function zS(e){var r,t,n;function i(o){var a,l,s,f=this;if(!(f instanceof i))return new i(o);if(f.constructor=i,kS(o)){f.s=o.s,Se?!o.d||o.e>i.maxE?(f.e=NaN,f.d=null):o.e<i.minE?(f.e=0,f.d=[0]):(f.e=o.e,f.d=o.d.slice()):(f.e=o.e,f.d=o.d?o.d.slice():o.d);return}if(s=typeof o,s==="number"){if(o===0){f.s=1/o<0?-1:1,f.e=0,f.d=[0];return}if(o<0?(o=-o,f.s=-1):f.s=1,o===~~o&&o<1e7){for(a=0,l=o;l>=10;l/=10)a++;Se?a>i.maxE?(f.e=NaN,f.d=null):a<i.minE?(f.e=0,f.d=[0]):(f.e=a,f.d=[o]):(f.e=a,f.d=[o]);return}else if(o*0!==0){o||(f.s=NaN),f.e=NaN,f.d=null;return}return fp(f,o.toString())}else if(s!=="string")throw Error(fo+o);return(l=o.charCodeAt(0))===45?(o=o.slice(1),f.s=-1):(l===43&&(o=o.slice(1)),f.s=1),MS.test(o)?fp(f,o):xY(f,o)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=FY,i.clone=zS,i.isDecimal=kS,i.abs=bY,i.acos=TY,i.acosh=EY,i.add=LY,i.asin=AY,i.asinh=RY,i.atan=OY,i.atanh=IY,i.atan2=MY,i.cbrt=BY,i.ceil=DY,i.clamp=$Y,i.cos=PY,i.cosh=NY,i.div=HY,i.exp=zY,i.floor=kY,i.hypot=WY,i.ln=GY,i.log=UY,i.log10=XY,i.log2=YY,i.max=VY,i.min=qY,i.mod=KY,i.mul=jY,i.pow=ZY,i.random=QY,i.round=JY,i.sign=eX,i.sin=tX,i.sinh=rX,i.sqrt=nX,i.sub=iX,i.sum=oX,i.tan=aX,i.tanh=lX,i.trunc=sX,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)e.hasOwnProperty(t=n[r++])||(e[t]=this[t]);return i.config(e),i}function HY(e,r){return new this(e).div(r)}function zY(e){return new this(e).exp()}function kY(e){return he(e=new this(e),e.e+1,3)}function WY(){var e,r,t=new this(0);for(Se=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return Se=!0,new this(1/0);t=r}return Se=!0,t.sqrt()}function kS(e){return e instanceof $n||e&&e.toStringTag===IS||!1}function GY(e){return new this(e).ln()}function UY(e,r){return new this(e).log(r)}function YY(e){return new this(e).log(2)}function XY(e){return new this(e).log(10)}function VY(){return FS(this,arguments,"lt")}function qY(){return FS(this,arguments,"gt")}function KY(e,r){return new this(e).mod(r)}function jY(e,r){return new this(e).mul(r)}function ZY(e,r){return new this(e).pow(r)}function QY(e){var r,t,n,i,o=0,a=new this(1),l=[];if(e===void 0?e=this.precision:Or(e,1,uo),n=Math.ceil(e/pe),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(n));o<n;)i=r[o],i>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:l[o++]=i%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(n*=4);o<n;)i=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((r[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(r,o):(l.push(i%1e7),o+=4);o=n/4}else throw Error(OS);else for(;o<n;)l[o++]=Math.random()*1e7|0;for(n=l[--o],e%=pe,n&&e&&(i=Dt(10,pe-e),l[o]=(n/i|0)*i);l[o]===0;o--)l.pop();if(o<0)t=0,l=[0];else{for(t=-1;l[0]===0;t-=pe)l.shift();for(n=1,i=l[0];i>=10;i/=10)n++;n<pe&&(t-=pe-n)}return a.e=t,a.d=l,a}function JY(e){return he(e=new this(e),e.e+1,this.rounding)}function eX(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function tX(e){return new this(e).sin()}function rX(e){return new this(e).sinh()}function nX(e){return new this(e).sqrt()}function iX(e,r){return new this(e).sub(r)}function oX(){var e=0,r=arguments,t=new this(r[e]);for(Se=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return Se=!0,he(t,this.precision,this.rounding)}function aX(e){return new this(e).tan()}function lX(e){return new this(e).tanh()}function sX(e){return he(e=new this(e),e.e+1,1)}X[Symbol.for("nodejs.util.inspect.custom")]=X.toString,X[Symbol.toStringTag]="Decimal";var $n=X.constructor=zS(lp);Nf=new $n(Nf),Hf=new $n(Hf);var tl,WS=function(e){return typeof e=="number"?Number.isNaN(e):e&&typeof e=="string"?Number.isNaN(Number(e)):!0},hp=function(e,r,t){return t===void 0&&(t=!1),e!=null&&e.length?e.reduce(function(n,i){var o=ve(i,r),a=WS(o);if(t&&a)return n;var l=a?0:o;return n.push(new $n(l)),n},[]):[]},GS=function(e,r){var t=hp(e,r);return t.length?$n.sum.apply($n,j([],W(t),!1)).toNumber():0},US=function(e,r,t){var n=hp(r,t,!0);if(n!=null&&n.length)return $n[e].apply($n,j([],W(n),!1)).toNumber()},uX=function(e,r){var t=hp(e,r);return t!=null&&t.length?$n.sum.apply($n,j([],W(t),!1)).dividedBy(t.length).toNumber():0},fX=(tl={},tl[jo.SUM]=GS,tl[jo.MIN]=function(e,r){return US("min",e,r)},tl[jo.MAX]=function(e,r){return US("max",e,r)},tl[jo.AVG]=uX,tl),cX=function(e){return Ke(e)&&"values"in e},hX=function(e){var r=e.spreadsheet,t=e.position,n=e.tooltipContainer,i=e.autoAdjustBoundary,o=r.getCanvasElement(),a=t.x+vx.x,l=t.y+vx.y;if(!i||!o)return{x:a,y:l};var s=i==="body",f=r.facet.panelBBox,h=f.maxX,d=f.maxY,v=r.options,g=v.width,y=v.height,C=o.getBoundingClientRect(),_=C.top,w=C.left,S=n.getBoundingClientRect(),b=S.width,E=S.height,O=document.body.getBoundingClientRect(),D=O.width,F=O.height,H=s?D:Math.min(g,h)+w,k=s?F:Math.min(y,d)+_;return a+b>=H&&(a=H-b),l+E>=k&&(l=k-E),{x:a,y:l}},YS=function(e){return B({operator:{onClick:Gu,menus:[]},enterable:!0,enableFormat:!0},e)},dp=function(e){return B(B({},e==null?void 0:e.colQuery),e==null?void 0:e.rowQuery)},Yf=function(e,r){var t;if(e){var n=r.style,i=r.className,o=i===void 0?[]:i,a=r.visible;if(n&&Object.assign(e.style,n),o.length){var l=o.filter(Boolean);(t=e.classList).add.apply(t,j([],W(l),!1))}e.classList.toggle(Qk,a),e.classList.toggle(Jk,!a)}},dX=function(e){var r=pr(e)&&Number.isNaN(e),t=e==="";return It(e)||r||t?"-":e},vp=function(e,r){var t,n=(t=e==null?void 0:e.dataSet)===null||t===void 0?void 0:t.getFieldFormatter(r);return function(i,o){return dX(n(i,o))}},Xf=function(e,r){var t,n=r.data,i=r.field,o=r.valueField,a=r.useCompleteDataForFormatter,l=a===void 0?!0:a,s=(t=e==null?void 0:e.dataSet)===null||t===void 0?void 0:t.getFieldName(i),f=vp(e,i),h=Ke(n[i])?JSON.stringify(n[i]):n[i],d=f(o||h,l?n:void 0);return{name:s,value:d}},XS=function(e,r,t){var n=xi(Ga([],r),function(o){return o!==Te&&t[o]}),i=Ne(n,function(o){return Xf(e,{data:t,field:o,useCompleteDataForFormatter:!1})});return i},vX=function(e,r,t){var n,i,o,a,l=(t||{}).isTotals,s=[],f=[];if(r){var h=(i=(n=e==null?void 0:e.dataSet)===null||n===void 0?void 0:n.fields)===null||i===void 0?void 0:i.columns,d=(a=(o=e==null?void 0:e.dataSet)===null||o===void 0?void 0:o.fields)===null||a===void 0?void 0:a.rows;s=XS(e,Jo(h||[]),r),f=XS(e,d,r)}return J(s)&&J(f)&&l&&(s=[{value:mt("总计")}]),{cols:s,rows:f}},pX=function(e,r,t){if(r){var n=t.isTotals,i=r[Te],o=r[i],a=[];if(n)a.push(Xf(e,{data:r,field:i,valueField:ve(r,Tr)}));else if(cX(o)&&e.getTooltipDataItemMappingCallback()){var l=nS(r,e.getTooltipDataItemMappingCallback());_e(l,function(s,f){a.push(Xf(e,{data:l,field:f}))})}else a.push(Xf(e,{data:r,field:i}));return a}},gX=function(e,r,t){var n;if(t)return mt("总计");var i=(n=e==null?void 0:e.dataSet)===null||n===void 0?void 0:n.getFieldName(r);return i&&i!=="undefined"?i:""},VS=function(e,r,t){t===void 0&&(t=!0);var n=[];return _e(r,function(i,o){_e(e,function(a){!t&&a.colIndex!==-1?n.push([o,a.colIndex]):t&&a.rowIndex!==-1&&n.push([a.rowIndex,o])})}),n},yX=function(e,r){var t,n=r.rowLeafNodes,i=r.colLeafNodes,o=e.interaction.getState(),a=o.nodes,l=a===void 0?[]:a,s=o.cells,f=s===void 0?[]:s,h=(t=f==null?void 0:f[0])===null||t===void 0?void 0:t.type,d=l.filter(function(v){return v==null?void 0:v.isLeaf});return h===ee.COL_CELL?VS(d,n,!1):h===ee.ROW_CELL?VS(d,i):[]},CX=function(e,r,t){var n,i=(n=e.facet)===null||n===void 0?void 0:n.layoutResult,o=function(s){var f=r==null?void 0:r.getMeta(),h=f==null?void 0:f.isTotals,d=(r==null?void 0:r.cellType)===ee.COL_CELL,v=(r==null?void 0:r.cellType)===ee.ROW_CELL;if(!d&&!v)return!1;var g=i.colNodes.find(function(_){return _.colIndex===s.colIndex}),y=i.rowNodes.find(function(_){return _.rowIndex===s.rowIndex}),C=d?y==null?void 0:y.isTotals:g==null?void 0:g.isTotals;return!h&&(s==null?void 0:s.isTotals)||h&&C};if(t){var a=yX(e,i);return An(Ne(a,function(s){var f=W(s,2),h=f[0],d=f[1],v=i.getCellMeta(h,d);if(!o(v))return(v==null?void 0:v.data)||dp(v)}))}var l=e.interaction.getCells();return l.filter(function(s){var f=i.getCellMeta(s.rowIndex,s.colIndex);return!o(f)}).map(function(s){var f=i.getCellMeta(s.rowIndex,s.colIndex);return(f==null?void 0:f.data)||dp(f)})},mX=function(e){var r=e.spreadsheet,t=e.targetCell,n=e.options,i=n===void 0?{}:n,o=[],a={},l=r.isTableMode();if(l&&(i!=null&&i.showSingleTips)){var s=t.getMeta(),f=s!=null&&s.field?r.dataSet.getMultiData({field:s.field}):[r.dataSet.getRowData(s)];return[{selectedData:f,name:"",value:""}]}var h=CX(r,t,i.showSingleTips);return _e(h,function(d){var v;a[d==null?void 0:d[Te]]?(v=a[d==null?void 0:d[Te]])===null||v===void 0||v.push(d):a[d==null?void 0:d[Te]]=[d]}),hw(a,function(d,v){var g,y=gX(r,v,i==null?void 0:i.isTotals),C="",_="";if(uf(d,function(O){return WS(ve(O,Tr))})){var w=r.options.placeholder,S=ra(a,w);C=S,_=S}else{var b=vp(r,v),E=GS(d,Tr);_=E,C=(g=b==null?void 0:b(E,d))!==null&&g!==void 0?g:parseFloat(E.toPrecision(fC))}o.push({selectedData:d,name:y,value:C,originValue:_})}),o},_X=function(e){if(e){var r=e.getMeta();if(!r.isTotals){var t=nr(r.spreadsheet.dataCfg.meta,{field:r.field||r.value||r.valueField}),n=t==null?void 0:t.field;return r.spreadsheet.dataSet.getFieldDescription(n)}}},wX=function(e){var r=e.spreadsheet,t=e.cellInfos,n=t===void 0?[]:t,i=e.options,o=i===void 0?{}:i,a=e.targetCell,l=null,s=null,f=null,h=_X(a),d=n[0]||{};if(!(o!=null&&o.hideSummary))l=mX({spreadsheet:r,options:o,targetCell:a});else if(o.showSingleTips){var v=vp(r,d.valueField),g=v(d.value),y=o.enableFormat?r.dataSet.getFieldName(d.value)||g:r.dataSet.getFieldName(d.valueField);d.name=y||""}else s=vX(r,d,o),f=pX(r,d,o);var C=d||{},_=C.interpretation,w=C.infos,S=C.tips,b=C.name;return{summaries:l,interpretation:_,infos:w,tips:S,name:b,headInfo:s,details:f,description:h}},xX=function(e){return Ne(e,function(r){var t=r.getMeta();return sm({},t.query||{},Aw(t,["colIndex","rowIndex"]))})},pp=function(e){if(!e.interaction.isSelectedState())return[];var r=e.dataCfg.fields.valueInCols;return e.interaction.getCells().reduce(function(t,n){var i=e.facet.layoutResult.getCellMeta(n==null?void 0:n.rowIndex,n==null?void 0:n.colIndex),o=dp(i);if(J(i)||J(o))return[];var a=B(B({},o),{colIndex:r?i.colIndex:null,rowIndex:r?null:i.rowIndex}),l=t.find(function(s){return Gt(a,s)});return l||t.push(a),t},[])},SX=function(e,r){e===void 0&&(e={});var t=function(l){return Mn(e,l)},n=e.col,i=e.row,o=e.data,a=e.corner;return r===ee.COL_CELL?t(n):r===ee.ROW_CELL?t(i):r===ee.DATA_CELL?t(o):r===ee.CORNER_CELL?t(a):B({},e)},gp=function(e,r){var t;if(!(!r||!e)){var n=(t=e.getCellType)===null||t===void 0?void 0:t.call(e,r==null?void 0:r.target);return SX(e.options.tooltip,n)}},qS=function(e,r){var t=r.defaultMenus,n=t===void 0?[]:t,i=r.cell,o=function(l){return l===void 0&&(l=[]),l.filter(function(s){var f;return Ht(s.visible)?s.visible(i):(f=s.visible)!==null&&f!==void 0?f:!0}).map(function(s){return s.children&&(s.children=o(s.children)),s})},a=o(e.menus);return{onClick:e.onClick,menus:An(j(j([],W(n),!1),W(a),!1))}},bX=function(e,r){for(var t=!1,n=r;n&&n!==document.body;){if(e===n){t=!0;break}n=n.parentElement}return t},TX=function(e){e.store.set($u,Qh)},EX=function(e,r){var t=e.store.get($u,Qh);e.store.set($u,B(B({},t),r))},LX=function(e,r){var t=e.store.get($u,Qh);return t[r]},KS=function(){function e(r){var t=this;this.displayFormattedValueMap=new Map,this.getFieldMeta=Wo(function(n,i){return nr(t.meta||i,function(o){return o.field===n})}),this.spreadsheet=r}return e.prototype.getFieldName=function(r){var t=ve(this.getFieldMeta(r,this.meta),"name",r);return Ix(t)},e.prototype.getFieldFormatter=function(r){return ve(this.getFieldMeta(r,this.meta),"formatter",rr)},e.prototype.getFieldDescription=function(r){return ve(this.getFieldMeta(r,this.meta),"description")},e.prototype.setDataCfg=function(r){this.getFieldMeta.cache.clear();var t=this.processDataCfg(r),n=t.fields,i=t.meta,o=t.data,a=t.totalData,l=t.sortParams,s=t.filterParams;this.fields=n,this.meta=i,this.originData=o,this.totalData=a,this.sortParams=l,this.filterParams=s,this.displayData=this.originData,this.indexesData={}},e.prototype.processMeta=function(r,t){var n,i;return r===void 0&&(r=[]),j(j([],W(r),!1),[mG(r,(i=(n=this.spreadsheet)===null||n===void 0?void 0:n.options)===null||i===void 0?void 0:i.cornerExtraFieldText,t)],!1)},e.prototype.getDisplayDataSet=function(){return this.displayData||[]},e.prototype.isEmpty=function(){return J(this.getDisplayDataSet())},e.prototype.getEmptyViewIndexes=function(){return[]},e.prototype.getValueRangeByField=function(r){var t,n=LX(this.spreadsheet,r);if(n)return n;var i=An(Ne(this.originData,function(a){var l=a[r];return It(l)?null:Number.parseFloat(l)})),o={maxValue:bi(i),minValue:av(i)};return EX(this.spreadsheet,(t={},t[r]=o,t)),o},e.prototype.moreThanOneValue=function(){var r,t;return((t=(r=this.fields)===null||r===void 0?void 0:r.values)===null||t===void 0?void 0:t.length)>1},e}(),yp=function(){function e(r){this.extraField=r}return e.createProxyData=function(r,t){return new Proxy(r,new e(t))},e.createProxyDataList=function(r,t){return t.map(function(n){return e.createProxyData(r,n)})},e.prototype.get=function(r,t){return t===Yh?r:t===Te?this.extraField:t===Tr?r[this.extraField]:r[t]},e.prototype.has=function(r,t){return t===Te||t===Tr?!0:t in r},e.prototype.ownKeys=function(r){return Object.keys(r).concat(Te,Tr)},e.prototype.getOwnPropertyDescriptor=function(r,t){return t===Te||t===Tr?{configurable:!0,enumerable:!0}:Object.getOwnPropertyDescriptor(r,t)},e}(),Cp=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.handleDimensionValuesSort=function(){_e(t.sortParams,function(n){var i=n.sortFieldId,o=n.sortByMeasure;if(i){var a=j([],W(t.sortedDimensionValues[i]||[]),!1),l=UU({dataSet:t,sortParam:n,originValues:a,isSortByMeasure:!J(o)});t.sortedDimensionValues[i]=l,t.handlePivotMetaSort(i,l)}})},t.getTotalStatus=function(n){var i=t.fields,o=i.columns,a=i.rows,l=function(f,h){if(h){var d=nr(f,function(v){return!Kd(n,v)});return d&&d!==qo(f)}return uf(f,function(v){return!Kd(n,v)})},s=function(f,h){return h?f.filter(function(d){return d!==Te}):f};return{isRowTotal:l(s(a,!t.spreadsheet.isValueInCols())),isRowSubTotal:l(a,!0),isColTotal:l(s(o,t.spreadsheet.isValueInCols())),isColSubTotal:l(o,!0)}},t}return r.prototype.getExistValuesByDataItem=function(t,n){return kx(t,n)},r.prototype.setDataCfg=function(t){e.prototype.setDataCfg.call(this,t);var n=this.fields.rows;this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.dimensionValuesCache=new Map,this.transformIndexesData(this.originData.concat(this.totalData),n),this.handleDimensionValuesSort()},r.prototype.transformIndexesData=function(t,n){var i=this,o=this.fields,a=o.columns,l=o.values,s=o.valueInCols,f;return ri.getInstance().debugCallback(sW,function(){f=CG({rows:n,columns:a,values:l,valueInCols:s,data:t,indexesData:i.indexesData,sortedDimensionValues:i.sortedDimensionValues,rowPivotMeta:i.rowPivotMeta,colPivotMeta:i.colPivotMeta,getExistValuesByDataItem:i.getExistValuesByDataItem}),i.indexesData=f.indexesData,i.rowPivotMeta=f.rowPivotMeta,i.colPivotMeta=f.colPivotMeta,i.sortedDimensionValues=f.sortedDimensionValues}),f},r.prototype.transformDrillDownData=function(t,n,i){var o=this,a,l=Ut.getFieldPath(i,!0),s=j(j([],W(l),!1),[t],!1),f=this.spreadsheet.store,h=i==null?void 0:i.id,d=(a=f.get("drillDownIdPathMap"))!==null&&a!==void 0?a:new Map;d.has(h)&&(_e(d.get(h),function(g){Ev(o.indexesData,g)}),Gx(this.rowPivotMeta,h));var v=this.transformIndexesData(n,s).paths;d.set(h,v),f.set("drillDownIdPathMap",d)},r.prototype.clearDrillDownData=function(t){var n=this,i=this.spreadsheet.store,o=i.get("drillDownIdPathMap");if(!o)return!1;var a=i.get("drillDownDataCache",[]);if(t){var l=o.get(t);l&&_e(l,function(g){Ev(n.indexesData,g)}),Gx(this.rowPivotMeta,t),o.delete(t);var s=xi(a,function(g){return o.has(g==null?void 0:g.rowId)});i.set("drillDownDataCache",s);var f=s.map(function(g){return g==null?void 0:g.drillLevel}),h=i.get("drillDownFieldInLevel",[]),d=h.filter(function(g){return vr(f,g==null?void 0:g.drillLevel)});i.set("drillDownFieldInLevel",d)}else{o.clear();var v=this.spreadsheet.store.get("originalDataCfg");J(v)||this.spreadsheet.setDataCfg(v),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}return i.set("drillDownIdPathMap",o),!0},r.prototype.handlePivotMetaSort=function(t,n){var i=this.fields,o=i.rows,a=i.columns;vr(o,t)?this.rowPivotMeta=gS({pivotMeta:this.rowPivotMeta,dimensions:o,sortFieldId:t,sortedDimensionValues:n}):vr(a,t)&&(this.colPivotMeta=gS({pivotMeta:this.colPivotMeta,dimensions:a,sortFieldId:t,sortedDimensionValues:n}))},r.prototype.processDataCfg=function(t){var n=t.data,i=t.meta,o=i===void 0?[]:i,a=t.fields,l=t.sortParams,s=l===void 0?[]:l,f=t.totalData,h=a.columns,d=a.rows,v=a.values,g=a.valueInCols,y=a.customValueOrder,C=h,_=d;g?C=this.isCustomMeasuresPosition(y)?this.handleCustomMeasuresOrder(y,C):Ti(j(j([],W(h),!1),[Te],!1)):_=this.isCustomMeasuresPosition(y)?this.handleCustomMeasuresOrder(y,_):Ti(j(j([],W(d),!1),[Te],!1));var w=this.processMeta(o,mt("数值"));return{data:n,totalData:f,meta:w,fields:B(B({},a),{rows:_,columns:C,values:v}),sortParams:s}},r.prototype.getFieldsAndPivotMetaByField=function(t){var n=this.fields||{},i=n.rows,o=i===void 0?[]:i,a=n.columns,l=a===void 0?[]:a;return o.includes(t)?{dimensions:o,pivotMeta:this.rowPivotMeta}:l.includes(t)?{dimensions:l,pivotMeta:this.colPivotMeta}:{}},r.prototype.getDimensionValues=function(t,n){n===void 0&&(n={});var i=this.getFieldsAndPivotMetaByField(t),o=i.pivotMeta,a=i.dimensions;if(!o||!a)return[];var l=J(n);if(this.dimensionValuesCache.has(t)&&l)return this.dimensionValuesCache.get(t);var s=na(n,a,Mu),f=Ux({pivotMeta:o,dimensionValues:s,fields:a,fieldIdx:df(a,t),queryType:un.DetailOnly,sortedDimensionValues:this.sortedDimensionValues}),h=Ti(f.map(function(d){return d.value}));return l&&this.dimensionValuesCache.set(t,h),h},r.prototype.getTotalValue=function(t,n){var i,o=this.spreadsheet.options,a=$w(n),l=a?n:this.getTotalStatus(t),s=gG(l,o==null?void 0:o.totals)||{},f=s.aggregation,h=s.calcFunc,d=J(o==null?void 0:o.totals)&&!this.spreadsheet.isHierarchyTreeType()?jo.SUM:"",v=fX[f||d];if(v||h){var g=this.getMultiData(t,{queryType:un.DetailOnly}),y=void 0;return h?y=h(t,g,this.spreadsheet):v&&(y=v(g,Tr)),B(B({},t),(i={},i[Tr]=y,i[t[Te]]=y,i))}},r.prototype.getCellData=function(t){var n,i,o,a=t||{},l=a.query,s=l===void 0?{}:l,f=a.rowNode,h=a.isTotals,d=h===void 0?!1:h,v=a.totalStatus,g=this.fields,y=g.rows,C=g.columns,_=y,w=(n=this.spreadsheet)===null||n===void 0?void 0:n.store.get("drillDownIdPathMap"),S=Array.from((i=w==null?void 0:w.keys())!==null&&i!==void 0?i:[]).some(function(F){return f==null?void 0:f.id.startsWith(F)});f&&S&&(_=(o=Ut.getFieldPath(f,S))!==null&&o!==void 0?o:y);var b=na(s,_),E=na(s,C),O=Of({rowDimensionValues:b,colDimensionValues:E,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,rowFields:_,colFields:C,prefix:Rf(_,C)}),D=ve(this.indexesData,O);if(D)return yp.createProxyData(D,s[Te]);if(d)return this.getTotalValue(s,v)},r.prototype.getQueryExtraFields=function(t){var n=this.fields.values,i=t[Te];return i?vr(n,i)?[i]:[]:n},r.prototype.getMultiData=function(t,n,i,o,a){var l,s,f,h;t===void 0&&(t={}),o===void 0&&(o=[]),a===void 0&&(a=!0),J(t)&&console.warn("query: ".concat(t,` shouldn't be empty, you can get all data from dataCfg if you're intended.
 you should use { EXTRA_FIELD: xxx} as least if you want query all specific value data`));var d=Ke(n)?n:{queryType:a?un.All:un.DetailOnly,drillDownFields:o},v=d.drillDownFields,g=v===void 0?[]:v,y=d.queryType,C=y===void 0?un.All:y,_=this.fields,w=_.rows,S=_.columns,b=J(g)?w:w.concat(g),E=na(t,b,Mu),O=na(t,S,Mu),D=wG({rowDimensionValues:E,colDimensionValues:O,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,rowFields:b,colFields:S,sortedDimensionValues:this.sortedDimensionValues,queryType:C}),F=D.rowQueries,H=D.colQueries,k=Rf(b,S),q=[];try{for(var V=sr(F),Q=V.next();!Q.done;Q=V.next()){var ie=Q.value;try{for(var ue=(f=void 0,sr(H)),K=ue.next();!K.done;K=ue.next()){for(var te=K.value,Re=Of({rowDimensionValues:ie,colDimensionValues:te,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,rowFields:b,colFields:S,prefix:k}),me=!1,we=this.indexesData,ke=function(Fe){var We=Re[Fe];me?us(We)?we=xG(we,C):we=An(Ne(we,function(tt){return tt==null?void 0:tt[We]})):us(We)?(me=!0,we=An([we]),Fe--):we=we==null?void 0:we[We],Ae=Fe},Ae,qe=0;qe<Re.length;qe++)ke(qe),qe=Ae;se(we)?q.push.apply(q,j([],W(we),!1)):we&&q.push(we)}}catch(Fe){f={error:Fe}}finally{try{K&&!K.done&&(h=ue.return)&&h.call(ue)}finally{if(f)throw f.error}}}}catch(Fe){l={error:Fe}}finally{try{Q&&!Q.done&&(s=V.return)&&s.call(V)}finally{if(l)throw l.error}}var at=this.getQueryExtraFields(t);return jl(Ti(q),function(Fe){return Fe?yp.createProxyDataList(Fe,at):[]})},r.prototype.getFieldFormatter=function(t,n){return t===qn?this.getFieldFormatterForTotalValue(n):e.prototype.getFieldFormatter.call(this,t)},r.prototype.getFieldFormatterForTotalValue=function(t){var n;return!this.spreadsheet.isValueInCols()&&t&&(n=ve(t.rowQuery,Te)),n=n??ve(this.fields.values,0),e.prototype.getFieldFormatter.call(this,n)},r.prototype.handleCustomMeasuresOrder=function(t,n){var i=Ti(j([],W(n),!1));return n.length>=t?(i.splice(t,0,Te),i):j(j([],W(i),!1),[Te],!1)},r.prototype.isCustomMeasuresPosition=function(t){return pr(t)},r.prototype.getRowData=function(t){return this.getMultiData(t.rowQuery)},r}(KS),AX=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getCellData=function(t){var n=t.query,i=this.fields,o=i.rows,a=i.columns,l=na(n,o),s=na(n,a),f=Of({rowDimensionValues:l,colDimensionValues:s,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,rowFields:o,colFields:a,prefix:Rf(o,a)}),h=ve(this.indexesData,f);return h&&yp.createProxyData(h,n[Te])},r.prototype.processDataCfg=function(t){var n=t.meta,i=this.processMeta(n,mt("指标"));return B(B({},t),{meta:i,fields:B(B({},t.fields),{rows:[Te],valueInCols:!1})})},r}(Cp),RX=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.handleDimensionValueFilter=function(){_e(t.filterParams,function(n){var i=n.filterKey,o=n.filteredValues,a=n.customFilter,l=new Set(o),s=function(h){return!l.has(h[i])},f=xi(t.displayData,function(h){return a?a(h)&&s(h):s(h)});t.displayData=t.getDisplayData(f)})},t.handleDimensionValuesSort=function(){_e(t.sortParams,function(n){var i,o=n.sortFieldId,a=n.sortBy,l=n.sortFunc,s=n.sortMethod,f=n.query;if(o){var h=t.displayData,d=[];if(f){var v=[];h.forEach(function(S){for(var b=Object.keys(f),E=!0,O=0;O<b.length;O++){var D=b[O];if(S[D]!==f[D]){E=!1,d.push(S);break}}E&&v.push(S)}),h=v}var g=h;if(l)g=l(B(B({},n),{data:h}));else if(a&&!Ht(a)){var y=j([],W(a),!1).reverse();g=h.sort(function(S,b){var E=y.indexOf(S[o]),O=y.indexOf(b[o]);return O-E})}else if(Qa(s)||rp(s)){var C=ra(t.spreadsheet,(i=t.spreadsheet.options)===null||i===void 0?void 0:i.placeholder),_=Ht(a)?a:null,w=function(S){return S[o]===C?Number.MIN_VALUE:S[o]};g=cv(h,[_||w],[s.toLocaleLowerCase()])}d.length&&(g=j(j([],W(g),!1),W(d),!1)),t.displayData=t.getDisplayData(g)}})},t}return r.prototype.processDataCfg=function(t){return t},r.prototype.setDataCfg=function(t){e.prototype.setDataCfg.call(this,t),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},r.prototype.getStartFrozenRows=function(t){var n=(this.spreadsheet.options||{}).frozenRowCount;return n?t.slice(0,n):[]},r.prototype.getEndFrozenRows=function(t){var n=(this.spreadsheet.options||{}).frozenTrailingRowCount;return n?t.slice(-n):[]},r.prototype.getDisplayData=function(t){var n=this.getStartFrozenRows(t),i=this.getEndFrozenRows(t),o=t.slice(n.length||0,-i.length||void 0);return j(j(j([],W(n),!1),W(o),!1),W(i),!1)},r.prototype.getDimensionValues=function(){return[]},r.prototype.getCellData=function(t){var n=t.query;if(!(this.displayData.length===0&&n.rowIndex===0)){var i=this.displayData[n.rowIndex];return!Vo(n,"field")||!Ke(i)?i:i[n.field]}},r.prototype.getMultiData=function(t){if(!t)return this.displayData;var n=this.displayData[t.rowIndex]?[this.displayData[t.rowIndex]]:this.displayData;return Vo(t,"field")?n.map(function(i){return i[t.field]}):n},r.prototype.getRowData=function(t){return this.getCellData({query:{rowIndex:t.rowIndex}})},r}(KS);function mp(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function jS(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function ms(){}var _s=.7,Vf=1/_s,rl="\\s*([+-]?\\d+)\\s*",ws="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ai="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OX=/^#([0-9a-f]{3,8})$/,IX=new RegExp("^rgb\\("+[rl,rl,rl]+"\\)$"),MX=new RegExp("^rgb\\("+[ai,ai,ai]+"\\)$"),BX=new RegExp("^rgba\\("+[rl,rl,rl,ws]+"\\)$"),DX=new RegExp("^rgba\\("+[ai,ai,ai,ws]+"\\)$"),$X=new RegExp("^hsl\\("+[ws,ai,ai]+"\\)$"),FX=new RegExp("^hsla\\("+[ws,ai,ai,ws]+"\\)$"),ZS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mp(ms,xs,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:QS,formatHex:QS,formatHsl:PX,formatRgb:JS,toString:JS});function QS(){return this.rgb().formatHex()}function PX(){return i2(this).formatHsl()}function JS(){return this.rgb().formatRgb()}function xs(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=OX.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?e2(r):t===3?new Ur(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?qf(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?qf(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=IX.exec(e))?new Ur(r[1],r[2],r[3],1):(r=MX.exec(e))?new Ur(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=BX.exec(e))?qf(r[1],r[2],r[3],r[4]):(r=DX.exec(e))?qf(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=$X.exec(e))?n2(r[1],r[2]/100,r[3]/100,1):(r=FX.exec(e))?n2(r[1],r[2]/100,r[3]/100,r[4]):ZS.hasOwnProperty(e)?e2(ZS[e]):e==="transparent"?new Ur(NaN,NaN,NaN,0):null}function e2(e){return new Ur(e>>16&255,e>>8&255,e&255,1)}function qf(e,r,t,n){return n<=0&&(e=r=t=NaN),new Ur(e,r,t,n)}function NX(e){return e instanceof ms||(e=xs(e)),e?(e=e.rgb(),new Ur(e.r,e.g,e.b,e.opacity)):new Ur}function _p(e,r,t,n){return arguments.length===1?NX(e):new Ur(e,r,t,n??1)}function Ur(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}mp(Ur,_p,jS(ms,{brighter:function(e){return e=e==null?Vf:Math.pow(Vf,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?_s:Math.pow(_s,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t2,formatHex:t2,formatRgb:r2,toString:r2}));function t2(){return"#"+wp(this.r)+wp(this.g)+wp(this.b)}function r2(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function wp(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function n2(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new li(e,r,t,n)}function i2(e){if(e instanceof li)return new li(e.h,e.s,e.l,e.opacity);if(e instanceof ms||(e=xs(e)),!e)return new li;if(e instanceof li)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,i=Math.min(r,t,n),o=Math.max(r,t,n),a=NaN,l=o-i,s=(o+i)/2;return l?(r===o?a=(t-n)/l+(t<n)*6:t===o?a=(n-r)/l+2:a=(r-t)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new li(a,l,s,e.opacity)}function HX(e,r,t,n){return arguments.length===1?i2(e):new li(e,r,t,n??1)}function li(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}mp(li,HX,jS(ms,{brighter:function(e){return e=e==null?Vf:Math.pow(Vf,e),new li(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?_s:Math.pow(_s,e),new li(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,i=2*t-n;return new Ur(xp(e>=240?e-240:e+120,i,n),xp(e,i,n),xp(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function xp(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}function Sp(e){return function(){return e}}function zX(e,r){return function(t){return e+t*r}}function kX(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function WX(e){return(e=+e)==1?o2:function(r,t){return t-r?kX(r,t,e):Sp(isNaN(r)?t:r)}}function o2(e,r){var t=r-e;return t?zX(e,t):Sp(isNaN(e)?r:e)}var a2=function e(r){var t=WX(r);function n(i,o){var a=t((i=_p(i)).r,(o=_p(o)).r),l=t(i.g,o.g),s=t(i.b,o.b),f=o2(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=s(h),i.opacity=f(h),i+""}}return n.gamma=e,n}(1);function l2(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),i;return function(o){for(i=0;i<t;++i)n[i]=e[i]*(1-o)+r[i]*o;return n}}function s2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GX(e,r){return(s2(r)?l2:u2)(e,r)}function u2(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,i=new Array(n),o=new Array(t),a;for(a=0;a<n;++a)i[a]=f2(e[a],r[a]);for(;a<t;++a)o[a]=r[a];return function(l){for(a=0;a<n;++a)o[a]=i[a](l);return o}}function UX(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function bp(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function YX(e,r){var t={},n={},i;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in e?t[i]=f2(e[i],r[i]):n[i]=r[i];return function(o){for(i in t)n[i]=t[i](o);return n}}var Tp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ep=new RegExp(Tp.source,"g");function XX(e){return function(){return e}}function VX(e){return function(r){return e(r)+""}}function qX(e,r){var t=Tp.lastIndex=Ep.lastIndex=0,n,i,o,a=-1,l=[],s=[];for(e=e+"",r=r+"";(n=Tp.exec(e))&&(i=Ep.exec(r));)(o=i.index)>t&&(o=r.slice(t,o),l[a]?l[a]+=o:l[++a]=o),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:bp(n,i)})),t=Ep.lastIndex;return t<r.length&&(o=r.slice(t),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?VX(s[0].x):XX(r):(r=s.length,function(f){for(var h=0,d;h<r;++h)l[(d=s[h]).i]=d.x(f);return l.join("")})}function f2(e,r){var t=typeof r,n;return r==null||t==="boolean"?Sp(r):(t==="number"?bp:t==="string"?(n=xs(r))?(r=n,a2):qX:r instanceof xs?a2:r instanceof Date?UX:s2(r)?l2:Array.isArray(r)?u2:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?YX:bp)(e,r)}var oa;(function(e){e.ScrollChange="scroll-change",e.ScrollEnd="scroll-end"})(oa||(oa={}));var Lp=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;n.isMobile=!1,n.eventHandlers=[],n.scrollFrameId=null,n.getCoordinatesName=function(){var g=n.isHorizontal?"x1":"y1",y=n.isHorizontal?"x2":"y2";return{from:g,to:y}},n.getCoordinatesWithBBoxExtraPadding=function(){var g=n.theme.size,y=n.isHorizontal?0:g/2,C=n.isHorizontal?g:g/2;return{start:n.thumbOffset+y,end:n.thumbOffset+n.thumbLen-C}},n.current=function(){var g=n.thumbLen/n.trackLen,y=n.thumbOffset/n.trackLen;return y/(1-g)},n.updateThumbLen=function(g){if(n.thumbLen!==g){n.thumbLen=g;var y=n.getCoordinatesName();n.thumbShape.attr(y.to,n.thumbOffset+g),n.emitScrollChange(n.thumbOffset/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.updateThumbOffset=function(g,y){var C;y===void 0&&(y=!0);var _=n.validateRange(g),w=n.thumbOffset===_&&_!==0;if(!w){n.thumbOffset=_;var S=n.getCoordinatesName(),b=S.from,E=S.to,O=n.getCoordinatesWithBBoxExtraPadding(),D=O.start,F=O.end;n.thumbShape.attr((C={},C[b]=D,C[E]=F,C)),y&&n.emitScrollChange(_/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.onlyUpdateThumbOffset=function(g){var y;n.updateThumbOffset(g,!1),(y=n.get("canvas"))===null||y===void 0||y.draw()},n.emitScrollChange=function(g,y){y===void 0&&(y=!0),cancelAnimationFrame(n.scrollFrameId),n.scrollFrameId=requestAnimationFrame(function(){n.emit(oa.ScrollChange,{offset:g,updateThumbOffset:y})})},n.addEventListener=function(g,y,C){return g==null||g.addEventListener(y,C,!1),{remove:function(){g==null||g.removeEventListener(y,C,!1)}}},n.addEvent=function(g,y,C){g.on(y,C),n.eventHandlers.push({target:g,type:y,handler:C})},n.initScrollBar=function(){n.scrollBarGroup=n.createScrollBarGroup(),n.scrollBarGroup.move(n.position.x,n.position.y),n.bindEvents()},n.createScrollBarGroup=function(){var g=n.addGroup({className:n.isHorizontal?"horizontalBar":"verticalBar"});return n.trackShape=n.createTrackShape(g),n.thumbShape=n.createThumbShape(g),g},n.createTrackShape=function(g){var y=n.theme,C=y.lineCap,_=C===void 0?"round":C,w=y.trackColor,S=y.size,b={lineWidth:S,stroke:w,lineCap:_};return n.isHorizontal?g.addShape("line",{attrs:B(B({},b),{x1:0,y1:S/2,x2:n.trackLen,y2:S/2})}):g.addShape("line",{attrs:B(B({},b),{x1:S/2,y1:0,x2:S/2,y2:n.trackLen})})},n.createThumbShape=function(g){var y=n.theme,C=y.size,_=y.lineCap,w=_===void 0?"round":_,S=y.thumbColor,b={lineWidth:C,stroke:S,lineCap:w,cursor:"default"},E=n.getCoordinatesWithBBoxExtraPadding(),O=E.start,D=E.end;return n.isHorizontal?g.addShape("line",{attrs:B(B({},b),{x1:O,y1:C/2,x2:D,y2:C/2})}):g.addShape("line",{attrs:B(B({},b),{x1:C/2,y1:O,x2:C/2,y2:D})})},n.bindEvents=function(){n.on("mousedown",n.onStartEvent(!1)),n.on("mouseup",n.onMouseUp),n.on("touchstart",n.onStartEvent(!0)),n.on("touchend",n.onMouseUp),n.trackShape.on("click",n.onTrackClick),n.thumbShape.on("mouseover",n.onTrackMouseOver),n.thumbShape.on("mouseout",n.onTrackMouseOut)},n.onStartEvent=function(g){return function(y){y.preventDefault(),n.isMobile=g;var C=n.isMobile?ve(y,"touches.0",y):y,_=C.clientX,w=C.clientY;n.startPos=n.isHorizontal?_:w,n.bindLaterEvent()}},n.bindLaterEvent=function(){var g=n.get("canvas"),y=document.body,C=[];n.isMobile?(C=[n.addEventListener(y,"touchmove",n.onMouseMove),n.addEventListener(y,"touchend",n.onMouseUp),n.addEventListener(y,"touchcancel",n.onMouseUp)],n.addEvent(g,"touchend",n.onMouseUp),n.addEvent(g,"touchcancel",n.onMouseUp)):(C=[n.addEventListener(y,"mousemove",n.onMouseMove),n.addEventListener(y,"mouseup",n.onMouseUp),n.addEventListener(y,"mouseleave",n.onMouseUp)],n.addEvent(g,"mouseup",n.onMouseUp)),n.clearEvents=function(){C.forEach(function(_){_==null||_.remove()}),_e(n.eventHandlers,function(_){var w;(w=_.target)===null||w===void 0||w.off(_.type,_.handler)}),n.eventHandlers.length=0}},n.onTrackClick=function(g){var y=n.isHorizontal?g.x-n.position.x-n.thumbLen/2:g.y-n.position.y-n.thumbLen/2,C=n.validateRange(y);n.updateThumbOffset(C)},n.onMouseMove=function(g){g.preventDefault();var y=n.isMobile?ve(g,"touches.0",g):g,C=y.clientX,_=y.clientY,w=n.isHorizontal?C:_,S=w-n.startPos;n.startPos=w,n.updateThumbOffset(n.thumbOffset+S)},n.onMouseUp=function(g){var y;n.emit(oa.ScrollEnd,{}),g.preventDefault(),(y=n.clearEvents)===null||y===void 0||y.call(n)},n.onTrackMouseOver=function(){var g=n.theme,y=g.thumbHoverColor,C=g.hoverSize;n.thumbShape.attr("stroke",y),n.thumbShape.attr("lineWidth",C)},n.onTrackMouseOut=function(){var g=n.theme,y=g.thumbColor,C=g.size;n.thumbShape.attr("stroke",y),n.thumbShape.attr("lineWidth",C)},n.validateRange=function(g){var y=g;return g+n.thumbLen>n.trackLen?y=n.trackLen-n.thumbLen:g+n.thumbLen<n.thumbLen&&(y=0),y};var i=t.isHorizontal,o=i===void 0?!1:i,a=t.trackLen,l=t.thumbLen,s=t.position,f=t.thumbOffset,h=f===void 0?0:f,d=t.theme,v=t.scrollTargetMaxOffset;return n.isHorizontal=o,n.thumbOffset=h,n.trackLen=a,n.thumbLen=l,n.position=s,n.theme=d,n.scrollTargetMaxOffset=v,n.initScrollBar(),n}return r}(Vn),c2=function(e,r,t){if(t<=0)return{start:0,end:0};var n=Ua(e,function(o,a){var l=r;return l>=o&&l<e[a+1]},0);n=Math.max(n,0);var i=t===r?n:Ua(e,function(o,a){var l=t;return l>o&&l<=e[a+1]},n);return i=Math.min(i===-1?1/0:i,e.length-2),{start:n,end:i}},KX=function(e,r){var t=r.width,n=r.originalWidth,i=Math.min(n-t,e);return i<0?0:i},Ap=function(e,r,t){var n=Math.min(r-t,e);return n<0?0:n},Ss=function(e,r){if(e===void 0&&(e=[]),J(e))return[];var t=[];return e.forEach(function(n){if(n instanceof r&&t.push(n),n instanceof Vn){var i=n.getChildren();i.forEach(function(o){o instanceof r&&t.push(o)})}}),t},h2=function(e,r,t){return t.slice(e,r+1).map(function(n){return n.x+n.width})},Kf=function(e,r,t){for(var n=[],i=e;i<r+1;i++)n.push(t.getCellOffsetY(i+1));return n},jX=function(e,r,t,n){var i=Kf(e,r,n),o=n.getCellOffsetY(e);return i.map(function(a){return a-o+t})},d2=function(e,r,t){var n=W(t,4),i=n[0],o=n[1],a=n[2],l=n[3];return e>=i&&e<=o&&r>=a&&r<=l},v2=function(e){for(var r=W(e,4),t=r[0],n=r[1],i=r[2],o=r[3],a=[],l=t;l<=n;l+=1)for(var s=i;s<=o;s+=1)a.push([l,s]);return a},ZX=function(e,r){var t=[],n=[];if(J(e))return J(r)?{add:t,remove:n}:{add:v2(r),remove:n};if(J(r))return{add:t,remove:v2(e)};for(var i=W(e,4),o=i[0],a=i[1],l=i[2],s=i[3],f=W(r,4),h=f[0],d=f[1],v=f[2],g=f[3],y=o;y<=a;y++)for(var C=l;C<=s;C++)d2(y,C,r)||n.push([y,C]);for(var y=h;y<=d;y+=1)for(var C=v;C<=g;C+=1)d2(y,C,e)||t.push([y,C]);return{add:t,remove:n}},QX=function(e,r){var t=[],n=[];return Object.keys(r).forEach(function(i){var o=ZX((e==null?void 0:e[i])||[],r[i]),a=o.add,l=o.remove;t.push.apply(t,j([],W(a),!1)),n.push.apply(n,j([],W(l),!1))}),{add:t,remove:n}},p2=function(){function e(r,t){t===void 0&&(t=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=r,this.spreadsheet=r.spreadsheet,this.layoutResult=r.layoutResult,t&&this.calculateBBox()}return e}(),g2=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.calculateBBox=function(){var t=this.getCornerBBoxWidth(),n=this.getCornerBBoxHeight();this.width=t,this.height=n,this.maxX=t,this.maxY=n},r.prototype.getCornerBBoxOriginalHeight=function(){var t=this.layoutResult.colsHierarchy,n=this.spreadsheet.options.style.colCfg;return t.sampleNodeForLastLevel?Math.floor(t.height):n==null?void 0:n.height},r.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},r.prototype.getCornerBBoxWidth=function(){var t=this.layoutResult.rowsHierarchy;return this.originalWidth=Math.floor(t.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},r.prototype.adjustCornerBBoxWidth=function(){var t=this.layoutResult.colsHierarchy,n=this.spreadsheet.options.width,i=n*sM,o=t==null?void 0:t.width,a=n-this.originalWidth;if(this.originalWidth<=i||o<=a)return this.originalWidth;var l=0,s=n-i;return o<=s?l=this.originalWidth-(o-a):l=i,Math.floor(l)},r}(p2),JX=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var t=this.facet.cornerBBox,n={x:Math.floor(t.maxX),y:Math.floor(t.maxY)},i=this.spreadsheet.theme.scrollBar.size,o=this.spreadsheet.options,a=o.width,l=o.height,s=Math.max(0,a-n.x),f=Math.max(0,l-n.y-i);this.x=n.x,this.y=n.y,this.width=s,this.height=f,this.viewportHeight=Math.abs(Math.floor(Math.min(f,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(s,this.originalWidth))),this.maxX=n.x+this.viewportWidth,this.maxY=n.y+this.viewportHeight,this.minX=n.x,this.minY=n.y;var h=this.spreadsheet.options,d=h.frozenTrailingColCount,v=h.frozenTrailingRowCount;d>0&&(this.viewportWidth=this.width,this.maxX=n.x+this.width),v>0&&(this.viewportHeight=this.height,this.maxY=n.y+this.height)},r}(p2),Rp=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;return n.isHeaderCellInViewport=function(i,o,a,l){return i+o>=a&&a+l>=i},n.headerConfig=t,n}return r.prototype.getConfig=function(){return this.headerConfig},r.prototype.clearResizeAreaGroup=function(t){var n=this.get("parent"),i=n==null?void 0:n.findById(t);i==null||i.clear()},r.prototype.render=function(t){this.clearResizeAreaGroup(t),this.clear(),this.layout(),this.offset(),this.clip()},r.prototype.onScrollXY=function(t,n,i){this.headerConfig.scrollX=t,this.headerConfig.scrollY=n,this.render(i)},r.prototype.onRowScrollX=function(t,n){this.headerConfig.scrollX=t,this.render(n)},r.prototype.clear=function(){e.prototype.clear.call(this)},r}(Vn),Op=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;return n.scrollGroup=n.addGroup({name:tM,zIndex:Zy}),n}return r.prototype.onColScroll=function(t,n){this.headerConfig.scrollX!==t&&(this.headerConfig.scrollX=t,this.render(n))},r.prototype.clip=function(){var t=this.headerConfig,n=t.width,i=t.height,o=t.scrollX,a=t.spreadsheet,l=a.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:l?o:0,y:0,width:l?n:n+o,height:i}})},r.prototype.clear=function(){var t,n;(t=this.scrollGroup)===null||t===void 0||t.clear(),(n=this.background)===null||n===void 0||n.remove(!0)},r.prototype.getCellInstance=function(t,n,i){return new Df(t,n,i)},r.prototype.getCellGroup=function(t){return this.scrollGroup},r.prototype.isColCellInRect=function(t){var n=this.headerConfig,i=n.spreadsheet,o=n.cornerWidth,a=n.width,l=n.scrollX;return a+l>t.x&&l-(i.isFrozenRowHeader()?0:o)<t.x+t.width},r.prototype.layout=function(){var t=this,n=this.headerConfig,i=n.data,o=n.spreadsheet,a=o.options.colCell;_e(i,function(l){var s=l;if(t.isColCellInRect(s)){var f=(a==null?void 0:a(s,o,t.headerConfig))||t.getCellInstance(s,o,t.headerConfig);s.belongsCell=f;var h=t.getCellGroup(s);h.add(f)}})},r.prototype.offset=function(){var t=this.headerConfig,n=t.position,i=t.scrollX;Ef(this.scrollGroup,n.x-i)},r}(Rp),eV=function(e){re(r,e);function r(t){return e.call(this,t)||this}return r.getCornerHeader=function(t,n,i,o,a,l){var s=t.width,f=t.height,h=n.originalWidth,d=n.originalHeight,v=n.width,g=n.height,y=this.getCornerNodes({x:n.x,y:n.y},h,d,o.rows,o.columns,a.rowsHierarchy,a.colsHierarchy,o.dataSet,i,l);return new r({data:y,position:{x:n.x,y:n.y},width:v,height:g,originalHeight:d,originalWidth:h,viewportWidth:s,viewportHeight:f,hierarchyType:o.hierarchyType,hierarchyCollapse:o.hierarchyCollapse,rows:o.rows,columns:o.columns,seriesNumberWidth:i,spreadsheet:l})},r.getCornerNodes=function(t,n,i,o,a,l,s,f,h,d){var v,g,y,C=[],_=d.options.style.colCfg,w=s==null?void 0:s.sampleNodeForLastLevel,S=(v=w==null?void 0:w.y)!==null&&v!==void 0?v:0,b=(y=(g=w==null?void 0:w.height)!==null&&g!==void 0?g:_==null?void 0:_.height)!==null&&y!==void 0?y:0;if(h){var E=new Ut({id:"",key:aM,value:mt("序号")});E.x=t==null?void 0:t.x,E.y=S,E.width=h,E.height=b,E.isPivotMode=!0,E.spreadsheet=d,E.cornerType=fn.Series,C.push(E)}if(d.isHierarchyTreeType()){var O=this.getTreeCornerText(d),D=new Ut({key:"",id:O,value:O});D.x=t.x+h,D.y=S,D.width=n-h,D.height=b,D.seriesNumberWidth=h,D.isPivotMode=!0,D.spreadsheet=d,D.cornerType=fn.Row,C.push(D)}else l.sampleNodesForAllLevels.forEach(function(F){var H=o[F.level],k=new Ut({key:H,id:H,value:f.getFieldName(H)});k.x=F.x+h,k.y=S,k.width=F.width,k.height=b,k.field=H,k.isPivotMode=!0,k.cornerType=fn.Row,k.spreadsheet=d,C.push(k)});return s.sampleNodesForAllLevels.forEach(function(F){if(F.level<s.maxLevel){var H=a[F.level],k=new Ut({key:H,id:H,value:f.getFieldName(H)});k.x=t.x,k.y=F.y,k.width=n,k.height=F.height,k.field=H,k.isPivotMode=!0,k.cornerType=fn.Col,k.spreadsheet=d,C.push(k)}}),C},r.getTreeCornerText=function(t){var n=t.dataSet.fields.rows,i=n===void 0?[]:n,o=t.options.cornerText;if(o)return o;var a=t.store.get("drillDownFieldInLevel",[]),l=a.map(function(f){return f.drillField}),s=i.filter(function(f){return!vr(l,f)}).map(function(f){return t.dataSet.getFieldName(f)}).join("/");return s},r.prototype.onCorScroll=function(t,n){this.headerConfig.scrollX=t,this.render(n)},r.prototype.destroy=function(){e.prototype.destroy.call(this)},r.prototype.layout=function(){this.renderCells()},r.prototype.renderCells=function(){var t=this,n,i,o,a,l=this.headerConfig,s=l.data,f=l.spreadsheet,h=(i=(n=f==null?void 0:f.facet)===null||n===void 0?void 0:n.cfg)===null||i===void 0?void 0:i.cornerHeader,d=(a=(o=f==null?void 0:f.facet)===null||o===void 0?void 0:o.cfg)===null||a===void 0?void 0:a.cornerCell;if(h){h(this,f,this.headerConfig);return}s.forEach(function(v){var g;d&&(g=d(v,t.headerConfig.spreadsheet,t.headerConfig)),J(g)&&(g=new YU(v,t.headerConfig.spreadsheet,t.headerConfig)),t.add(g)})},r.prototype.offset=function(){var t=this.headerConfig.scrollX;Ef(this,-t)},r.prototype.clip=function(){var t=this.headerConfig,n=t.width,i=t.height,o=t.scrollX;this.setClip({type:"rect",attrs:{x:o,y:0,width:n,height:i}})},r.prototype.getNodes=function(){return this.headerConfig.data||[]},r}(Rp),tV=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;return n.render(),n}return r.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},r.prototype.render=function(){this.clear(),this.layout()},r.prototype.onBorderScroll=function(t){this.cfg.scrollX=t;var n=this.cfg.position;Ai(this,n.x-t,0),this.render()},r.prototype.onChangeShadowVisibility=function(t,n){this.cfg.showViewportLeftShadow=t>0,this.cfg.showViewportRightShadow=Math.floor(t)<Math.floor(n),this.render()},r.prototype.addCornerRightBorder=function(){var t,n=this.cfg,i=n.isPivotMode;if(i){var o=n.width,a=n.height,l=n.viewportHeight,s=n.position,f=n.spreadsheet,h=(t=f.theme)===null||t===void 0?void 0:t.splitLine,d=s.x+o,v=s.y,g=s.y+a+l;this.addShape("line",{attrs:{x1:d,y1:v,x2:d,y2:g,stroke:h.verticalBorderColor,lineWidth:h.verticalBorderWidth,opacity:h.verticalBorderColorOpacity,lineDash:h.borderDash}})}},r.prototype.addCornerBottomBorder=function(){var t,n=this.cfg,i=n.width,o=n.height,a=n.viewportWidth,l=n.position,s=n.scrollX,f=n.scrollContainsRowHeader,h=n.spreadsheet,d=(t=h.theme)===null||t===void 0?void 0:t.splitLine,v=l.x,g=v+i+a+(f?s:0),y=l.y+o-1;this.addShape("line",{attrs:{x1:v,y1:y,x2:g,y2:y,stroke:d.horizontalBorderColor,lineWidth:d.horizontalBorderWidth,opacity:d.horizontalBorderColorOpacity,lineDash:d.borderDash}})},r.prototype.addSplitLineShadow=function(){var t,n=this.cfg,i=n.isPivotMode,o=n.spreadsheet,a=(t=o.theme)===null||t===void 0?void 0:t.splitLine;!i||!a.showShadow||!o.isFrozenRowHeader()||(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},r.prototype.addSplitLineLeftShadow=function(){var t,n,i;if(this.cfg.showViewportLeftShadow){var o=this.cfg,a=o.width,l=o.height,s=o.viewportHeight,f=o.position,h=o.spreadsheet,d=(t=h.theme)===null||t===void 0?void 0:t.splitLine,v=f.x+a,g=f.y;this.addShape("rect",{attrs:{x:v,y:g,width:d.shadowWidth,height:s+l,fill:"l (0) 0:".concat((n=d.shadowColors)===null||n===void 0?void 0:n.left," 1:").concat((i=d.shadowColors)===null||i===void 0?void 0:i.right)}})}},r.prototype.addSplitLineRightShadow=function(){var t,n,i;if(this.cfg.showViewportRightShadow){var o=this.cfg,a=o.width,l=o.height,s=o.viewportHeight,f=o.viewportWidth,h=o.position,d=o.spreadsheet,v=(t=d.theme)===null||t===void 0?void 0:t.splitLine,g=h.x+a+f-v.shadowWidth,y=h.y;this.addShape("rect",{attrs:{x:g,y,width:v.shadowWidth,height:s+l,fill:"l (0) 0:".concat((n=v.shadowColors)===null||n===void 0?void 0:n.right," 1:").concat((i=v.shadowColors)===null||i===void 0?void 0:i.left)}})}},r}(Vn),Ip=function(e){re(r,e);function r(t){return e.call(this,t)||this}return r.prototype.destroy=function(){e.prototype.destroy.call(this),this.gm&&this.gm.destroy()},r.prototype.rowCellInRect=function(t){var n=this.headerConfig,i=n.width,o=n.viewportHeight,a=n.seriesNumberWidth,l=n.scrollY,s=n.scrollX;return o+l>t.y&&l<t.y+t.height&&i-a+s>t.x&&s-a<t.x+t.width},r.prototype.createCellInstance=function(t){return new ys(t,this.headerConfig.spreadsheet,this.headerConfig)},r.prototype.getCellGroup=function(t){return this},r.prototype.getCustomRowCell=function(){var t,n,i=this.headerConfig.spreadsheet;return(n=(t=i==null?void 0:i.facet)===null||t===void 0?void 0:t.cfg)===null||n===void 0?void 0:n.rowCell},r.prototype.layout=function(){var t=this,n=this.headerConfig,i=n.data,o=n.spreadsheet,a=this.getCustomRowCell();_e(i,function(l){if(t.rowCellInRect(l)&&l.height!==0){var s=void 0;a&&(s=a(l,o,t.headerConfig)),J(s)&&o.isPivotMode()&&(s=t.createCellInstance(l)),l.belongsCell=s;var f=t.getCellGroup(l);f.add(s)}})},r.prototype.offset=function(){var t=this.headerConfig,n=t.scrollX,i=t.scrollY,o=t.position,a=t.seriesNumberWidth;Ai(this,o.x-n+a,o.y-i)},r.prototype.clip=function(){var t=this.headerConfig,n=t.width,i=t.viewportHeight,o=t.scrollX,a=t.scrollY,l=t.seriesNumberWidth;this.setClip({type:"rect",attrs:{x:o-l,y:a,width:n,height:i}})},r}(Rp),y2=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;n.scrollGroup=n.addGroup({name:iM,zIndex:Zy}),n.frozenHeadGroup=n.addGroup({name:oM,zIndex:$l});var i=n.headerConfig,o=i.position,a=i.seriesNumberWidth;return Ai(n.frozenHeadGroup,o.x+a,o.y),n}return r.prototype.rowCellInRectXDir=function(t){var n=this.headerConfig,i=n.width,o=n.scrollX,a=n.seriesNumberWidth,l=t.x+a;return i+o>l&&o<l+t.width},r.prototype.rowCellInRectYDir=function(t){var n=this.headerConfig,i=n.viewportHeight,o=n.scrollY,a=t.y-this.getFrozenFirstRowHeight();return i+o>a&&o<a+t.height},r.prototype.rowCellInRect=function(t){var n=this.rowCellInRectXDir(t);return this.isFrozenRow(t)?n:n&&this.rowCellInRectYDir(t)},r.prototype.getCellGroup=function(t){return this.isFrozenRow(t)?this.frozenHeadGroup:this.scrollGroup},r.prototype.offset=function(){var t=this.headerConfig,n=t.scrollX,i=t.scrollY,o=t.position,a=t.seriesNumberWidth,l=o.x-n+a;Ai(this.scrollGroup,l,o.y-i),Ef(this.frozenHeadGroup,l)},r.prototype.clip=function(){var t=this.headerConfig,n=t.width,i=t.viewportHeight,o=t.scrollX,a=t.scrollY,l=t.seriesNumberWidth,s=o-l;this.scrollGroup.setClip({type:"rect",attrs:{x:s,y:a+this.getFrozenFirstRowHeight(),width:n,height:i}}),this.frozenHeadGroup.setClip({type:"rect",attrs:{x:s,y:0,width:this.headerConfig.width,height:this.getFrozenFirstRowHeight()}})},r.prototype.isFrozenRow=function(t){var n,i=this.headerConfig.spreadsheet,o=i.facet,a=Ka(i.options,(n=o.layoutResult)===null||n===void 0?void 0:n.rowNodes).frozenRowCount;return a>0&&t.rowIndex>=0&&t.rowIndex<a},r.prototype.getFrozenFirstRowHeight=function(){var t,n=this.headerConfig.spreadsheet,i=n.facet,o=Ka(n.options,(t=i.layoutResult)===null||t===void 0?void 0:t.rowNodes).frozenRowHeight;return o},r.prototype.clear=function(){this.frozenHeadGroup.clear(),this.scrollGroup.clear()},r}(Ip),C2=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.getSeriesNumberHeader=function(t){var n,i=t.viewportBBox,o=t.seriesNumberWidth,a=t.leafNodes,l=t.spreadsheet,s=t.cornerWidth,f=i.height,h=i.viewportHeight,d=[],v=l.isHierarchyTreeType();a.forEach(function(S){var b=new Ut({id:"",key:"",value:"".concat(d.length+1)});b.x=S.x,b.y=S.y,b.height=v?S.getTotalHeightForTreeHierarchy():S.height,b.width=o,b.rowIndex=S.rowIndex,b.spreadsheet=l,b.isLeaf=!0,d.push(b)});var g=l.facet,y=Ka(l.options,(n=g.layoutResult)===null||n===void 0?void 0:n.rowNodes),C=y.frozenRowCount,_=y.frozenRowHeight,w=!!C;return new r({width:s,height:f,viewportWidth:s,viewportHeight:w?h-_:h,position:{x:0,y:i.y},data:d,spreadsheet:l,seriesNumberWidth:0,hierarchyType:l.options.hierarchyType,linkFields:[]})},r.prototype.createCellInstance=function(t){var n=this.isFrozenRow(t);return new TS(t,this.headerConfig.spreadsheet,B(B({},this.headerConfig),{scrollY:n?0:this.headerConfig.scrollY}),n)},r.prototype.getCustomRowCell=function(){return null},r}(y2),rV=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createCellInstance=function(t){var n=this.headerConfig,i=n.spreadsheet,o=n.scrollY,a=this.isFrozenRow(t);return new ys(t,i,B(B({},this.headerConfig),{scrollY:a?0:o}),a)},r}(y2),nV=function(){function e(r){var t=this;this.scrollFrameId=null,this.hideScrollBar=function(){var n,i,o;(n=t.hRowScrollBar)===null||n===void 0||n.hide(),(i=t.hScrollBar)===null||i===void 0||i.hide(),(o=t.vScrollBar)===null||o===void 0||o.hide()},this.delayHideScrollBar=ql(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){zt()&&t.delayHideScrollBar()},this.showVerticalScrollBar=function(){var n;(n=t.vScrollBar)===null||n===void 0||n.show()},this.showHorizontalScrollBar=function(){var n,i;(n=t.hRowScrollBar)===null||n===void 0||n.show(),(i=t.hScrollBar)===null||i===void 0||i.show()},this.onContainerWheelForMobileCompatibility=function(){var n=t.spreadsheet.getCanvasElement(),i,o;n.addEventListener("touchstart",function(a){i=a.touches[0].clientY}),n.addEventListener("touchend",function(a){o=a.changedTouches[0].clientY,o<i?t.scrollDirection=Pt.SCROLL_UP:o>i&&(t.scrollDirection=Pt.SCROLL_DOWN)})},this.onContainerWheel=function(){t.onContainerWheelForPc(),t.onContainerWheelForMobile()},this.getMobileWheelDeltaY=function(n){return t.scrollDirection===Pt.SCROLL_UP?Math.max(0,n):t.scrollDirection===Pt.SCROLL_DOWN?Math.min(0,n):n},this.onContainerWheelForPc=function(){var n=t.spreadsheet.getCanvasElement();n==null||n.addEventListener("wheel",t.onWheel)},this.onContainerWheelForMobile=function(){t.mobileWheel=new sY(t.spreadsheet.container),t.mobileWheel.on("wheel",function(n){t.spreadsheet.hideTooltip();var i=n.event,o=n.deltaX,a=n.deltaY,l=n.x,s=n.y,f=t.getMobileWheelDeltaY(a);t.onWheel(B(B({},i),{deltaX:o,deltaY:f,offsetX:l,offsetY:s}))}),t.onContainerWheelForMobileCompatibility()},this.bindEvents=function(){t.onContainerWheel(),t.emitPaginationEvent()},this.setScrollOffset=function(n){Object.keys(n).forEach(function(i){var o=n[i];vf(o)||t.spreadsheet.store.set(i,Math.floor(o))})},this.getScrollOffset=function(){var n=t.spreadsheet.store;return{scrollX:n.get("scrollX",0),scrollY:n.get("scrollY",0),rowHeaderScrollX:n.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var n=t.cfg.pagination;if(n){var i=n.current,o=i===void 0?$v:i,a=n.pageSize,l=t.viewCellHeights.getTotalLength(),s=Math.floor((l-1)/a)+1;t.cfg.spreadsheet.emit(I.LAYOUT_PAGINATION,{pageSize:a,pageCount:s,total:l,current:o})}},this.unbindEvents=function(){var n=t.spreadsheet.getCanvasElement();n==null||n.removeEventListener("wheel",t.onWheel),t.mobileWheel.destroy()},this.clipPanelGroup=function(){var n;t.foregroundGroup=t.spreadsheet.foregroundGroup,t.backgroundGroup=t.spreadsheet.backgroundGroup,t.panelGroup=t.spreadsheet.panelGroup;var i=t.panelBBox,o=i.width,a=i.height;(n=t.spreadsheet.panelScrollGroup)===null||n===void 0||n.setClip({type:"rect",attrs:{x:0,y:t.cornerBBox.height,width:o,height:a}})},this.calculateCellWidthHeight=function(){var n=t.layoutResult.colLeafNodes,i=yf(n,function(o,a){return o.push(nt(o)+a.width),o},[0]);t.viewCellWidths=i,t.viewCellHeights=t.getViewCellHeights(t.layoutResult)},this.getRealScrollX=function(n,i){return i===void 0&&(i=0),t.cfg.spreadsheet.isScrollContainsRowHeader()?n:i},this.calculatePanelBBox=function(){t.panelBBox=new JX(t,!0)},this.getRealWidth=function(){return nt(t.viewCellWidths)},this.getRealHeight=function(){var n=t.cfg.pagination,i=t.viewCellHeights;if(n){var o=t.getCellRange(),a=o.start,l=o.end;return i.getCellOffsetY(l+1)-i.getCellOffsetY(a)}return i.getTotalHeight()},this.clearAllGroup=function(){for(var n=t.panelGroup.getChildren()||[],i=n.length-1;i>=0;i--){var o=n[i];o instanceof Vn?o.set("children",[]):n[i].remove()}t.foregroundGroup.set("children",[]),t.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(n,i,o){var a,l,s,f;n===void 0&&(n={}),i===void 0&&(i=200);var h=t.getAdjustedScrollOffset({scrollX:((a=n.offsetX)===null||a===void 0?void 0:a.value)||0,scrollY:((l=n.offsetY)===null||l===void 0?void 0:l.value)||0,rowHeaderScrollX:((s=n.rowHeaderOffsetX)===null||s===void 0?void 0:s.value)||0}),d=h.scrollX,v=h.scrollY,g=h.rowHeaderScrollX;(f=t.timer)===null||f===void 0||f.stop();var y=t.getScrollOffset(),C=[d??y.scrollX,v??y.scrollY,g??y.rowHeaderScrollX],_=GX(Object.values(y),C);t.timer=vh(function(w){try{var S=Math.min(w/i,1),b=W(_(S),3),E=b[0],O=b[1],D=b[2];t.setScrollOffset({rowHeaderScrollX:D,scrollX:E,scrollY:O}),t.startScroll(),w>i&&(t.timer.stop(),o==null||o())}catch(F){console.error(F),t.timer.stop()}})},this.scrollImmediately=function(n){var i,o,a;n===void 0&&(n={});var l=t.getAdjustedScrollOffset({scrollX:((i=n.offsetX)===null||i===void 0?void 0:i.value)||0,scrollY:((o=n.offsetY)===null||o===void 0?void 0:o.value)||0,rowHeaderScrollX:((a=n.rowHeaderOffsetX)===null||a===void 0?void 0:a.value)||0}),s=l.scrollX,f=l.scrollY,h=l.rowHeaderScrollX;t.setScrollOffset({scrollX:s,scrollY:f,rowHeaderScrollX:h}),t.startScroll()},this.startScroll=function(n){var i,o,a;n===void 0&&(n=!1);var l=t.getScrollOffset(),s=l.rowHeaderScrollX,f=l.scrollX,h=l.scrollY;(i=t.hRowScrollBar)===null||i===void 0||i.onlyUpdateThumbOffset(t.getScrollBarOffset(s,t.hRowScrollBar)),(o=t.hScrollBar)===null||o===void 0||o.onlyUpdateThumbOffset(t.getScrollBarOffset(f,t.hScrollBar)),(a=t.vScrollBar)===null||a===void 0||a.onlyUpdateThumbOffset(t.getScrollBarOffset(h,t.vScrollBar)),t.dynamicRenderCell(n)},this.getRendererHeight=function(){var n=t.getCellRange(),i=n.start,o=n.end;return t.viewCellHeights.getCellOffsetY(o+1)-t.viewCellHeights.getCellOffsetY(i)},this.getAdjustedScrollOffset=function(n){var i=n.scrollX,o=n.scrollY,a=n.rowHeaderScrollX;return{scrollX:Ap(i,t.layoutResult.colsHierarchy.width,t.panelBBox.width),scrollY:Ap(o,t.getRendererHeight(),t.panelBBox.height),rowHeaderScrollX:KX(a,t.cornerBBox)}},this.renderRowScrollBar=function(n){if(!t.cfg.spreadsheet.isScrollContainsRowHeader()&&t.cornerBBox.width<t.cornerBBox.originalWidth){var i=t.cornerBBox.originalWidth-t.cornerBBox.width,o=t.getScrollbarPosition().maxY,a=t.spreadsheet.theme,l=a.splitLine,s=a.scrollBar,f=Math.max(t.cornerBBox.width*t.cornerBBox.width/t.cornerBBox.originalWidth,s==null?void 0:s.thumbHorizontalMinSize),h=f-(l==null?void 0:l.verticalBorderWidth);t.hRowScrollBar=new Lp({isHorizontal:!0,trackLen:t.cornerBBox.width,thumbLen:h,position:{x:t.cornerBBox.minX+t.scrollBarSize/2,y:o},thumbOffset:n*(t.cornerBBox.width-f)/i,theme:t.scrollBarTheme,scrollTargetMaxOffset:i}),t.hRowScrollBar.on(oa.ScrollChange,function(d){var v,g,y=d.offset,C=t.getValidScrollBarOffset(y,i),_=Math.floor(C);t.setScrollOffset({rowHeaderScrollX:_}),(v=t.rowHeader)===null||v===void 0||v.onRowScrollX(_,Aa),(g=t.rowIndexHeader)===null||g===void 0||g.onRowScrollX(_,nC),t.cornerHeader.onRowScrollX(_,Vh);var w=t.getScrollBarOffset(_,t.hRowScrollBar),S=t.getScrollOffset(),b=S.scrollX,E=S.scrollY,O={scrollX:b,scrollY:E,rowHeaderScrollX:w};t.hRowScrollBar.updateThumbOffset(w,!1),t.spreadsheet.emit(I.ROW_CELL_SCROLL,O),t.spreadsheet.emit(I.GLOBAL_SCROLL,O)}),t.foregroundGroup.add(t.hRowScrollBar)}},this.getValidScrollBarOffset=function(n,i){return ef(n,0,i)},this.renderHScrollBar=function(n,i,o){if(Math.floor(n)<Math.floor(i)){var a=t.scrollBarSize/2,l=t.getScrollbarPosition().maxY,s=n+(t.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(t.cornerBBox.width,t.getCanvasHW().width):0),f={x:t.panelBBox.minX+(t.cfg.spreadsheet.isScrollContainsRowHeader()?-t.cornerBBox.width+a:a),y:l},h=i+(t.cfg.spreadsheet.isScrollContainsRowHeader()?t.cornerBBox.width:0),d=t.spreadsheet.theme.scrollBar,v=h-s,g=Math.max(s/h*s,d==null?void 0:d.thumbHorizontalMinSize);t.hScrollBar=new Lp({isHorizontal:!0,trackLen:s,thumbLen:g,position:f,thumbOffset:o*(s-g)/v,theme:t.scrollBarTheme,scrollTargetMaxOffset:v}),t.hScrollBar.on(oa.ScrollChange,function(y){var C=y.offset,_=y.updateThumbOffset,w=t.getValidScrollBarOffset(C,v);_&&t.hScrollBar.updateThumbOffset(t.getScrollBarOffset(w,t.hScrollBar),!1),t.setScrollOffset({scrollX:w}),t.dynamicRenderCell()}),t.foregroundGroup.add(t.hScrollBar)}},this.getScrollbarPosition=function(){var n=t.panelBBox,i=n.maxX,o=n.maxY,a=t.getCanvasHW(),l=a.width,s=a.height,f=t.spreadsheet.options.interaction.scrollbarPosition===Fu.CONTENT;return{maxX:(f?i:l)-t.scrollBarSize,maxY:f?o:s-t.scrollBarSize}},this.renderVScrollBar=function(n,i,o){if(n<i){var a=t.spreadsheet.theme.scrollBar,l=Math.max(n/i*n,a==null?void 0:a.thumbVerticalMinSize),s=i-n,f=t.getScrollbarPosition().maxX;t.vScrollBar=new Lp({isHorizontal:!1,trackLen:n,thumbLen:l,thumbOffset:o*(n-l)/s,position:{x:f,y:t.panelBBox.minY},theme:t.scrollBarTheme,scrollTargetMaxOffset:s}),t.vScrollBar.on(oa.ScrollChange,function(h){var d=h.offset,v=h.updateThumbOffset,g=t.getValidScrollBarOffset(d,s);v&&t.vScrollBar.updateThumbOffset(t.getScrollBarOffset(g,t.vScrollBar),!1),t.setScrollOffset({scrollY:g}),t.dynamicRenderCell()}),t.foregroundGroup.add(t.vScrollBar)}},this.getScrollBarOffset=function(n,i){var o=i.trackLen,a=i.thumbLen,l=i.scrollTargetMaxOffset;return n*(o-a)/l},this.isScrollOverThePanelArea=function(n){var i=n.offsetX,o=n.offsetY;return i>t.panelBBox.minX&&i<t.panelBBox.maxX&&o>t.panelBBox.minY&&o<t.panelBBox.maxY},this.isScrollOverTheCornerArea=function(n){var i=n.offsetX,o=n.offsetY;return i>t.cornerBBox.minX&&i<t.cornerBBox.maxX&&o>t.cornerBBox.minY&&o<t.cornerBBox.maxY+t.panelBBox.height},this.updateHorizontalRowScrollOffset=function(n){var i,o=n.offset,a=n.offsetX,l=n.offsetY;t.isScrollOverTheCornerArea({offsetX:a,offsetY:l})&&((i=t.hRowScrollBar)===null||i===void 0||i.emitScrollChange(o))},this.updateHorizontalScrollOffset=function(n){var i,o=n.offset,a=n.offsetX,l=n.offsetY;(!t.hRowScrollBar||t.isScrollOverThePanelArea({offsetX:a,offsetY:l}))&&((i=t.hScrollBar)===null||i===void 0||i.emitScrollChange(o))},this.isScrollToLeft=function(n){var i=n.deltaX,o=n.offsetX,a=n.offsetY;if(!t.hScrollBar&&!t.hRowScrollBar)return!0;var l=!t.hRowScrollBar||t.isScrollOverThePanelArea({offsetY:a,offsetX:o})||t.hRowScrollBar.thumbOffset<=0,s=!t.hScrollBar||t.hScrollBar.thumbOffset<=0;return i<=0&&s&&l},this.isScrollToRight=function(n){var i,o,a,l,s,f,h=n.deltaX,d=n.offsetX,v=n.offsetY;if(!t.hScrollBar&&!t.hRowScrollBar)return!0;var g=t.spreadsheet.isFrozenRowHeader()?(i=t.panelBBox)===null||i===void 0?void 0:i.width:(o=t.panelBBox)===null||o===void 0?void 0:o.maxX,y=!t.hRowScrollBar||t.isScrollOverThePanelArea({offsetY:v,offsetX:d})||((a=t.hRowScrollBar)===null||a===void 0?void 0:a.thumbOffset)+((l=t.hRowScrollBar)===null||l===void 0?void 0:l.thumbLen)>=t.cornerBBox.width,C=t.hRowScrollBar&&t.isScrollOverTheCornerArea({offsetX:d,offsetY:v})||((s=t.hScrollBar)===null||s===void 0?void 0:s.thumbOffset)+((f=t.hScrollBar)===null||f===void 0?void 0:f.thumbLen)>=g;return h>=0&&C&&y},this.isScrollToTop=function(n){var i;return t.vScrollBar?n<=0&&((i=t.vScrollBar)===null||i===void 0?void 0:i.thumbOffset)<=0:!0},this.isScrollToBottom=function(n){var i,o,a;return t.vScrollBar?n>=0&&((i=t.vScrollBar)===null||i===void 0?void 0:i.thumbOffset)+((o=t.vScrollBar)===null||o===void 0?void 0:o.thumbLen)>=((a=t.panelBBox)===null||a===void 0?void 0:a.height):!0},this.isVerticalScrollOverTheViewport=function(n){return!t.isScrollToTop(n)&&!t.isScrollToBottom(n)},this.isHorizontalScrollOverTheViewport=function(n){return!t.isScrollToLeft(n)&&!t.isScrollToRight(n)},this.isScrollOverTheViewport=function(n){var i=n.deltaY,o=n.deltaX,a=n.offsetY,l=a<=t.cornerBBox.maxY;return l?!1:i!==0?t.isVerticalScrollOverTheViewport(i):o!==0?t.isHorizontalScrollOverTheViewport(n):!1},this.cancelScrollFrame=function(){return zt()&&t.scrollFrameId?!1:(cancelAnimationFrame(t.scrollFrameId),!0)},this.clearScrollFrameIdOnMobile=function(){zt()&&(t.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(n){var i=t.spreadsheet.options.interaction;i.overscrollBehavior!=="auto"&&(t.cancelScrollFrame(),t.stopScrollChaining(n))},this.stopScrollChaining=function(n){var i,o;n!=null&&n.cancelable&&((i=n==null?void 0:n.preventDefault)===null||i===void 0||i.call(n));var a=n==null?void 0:n.originalEvent;a!=null&&a.cancelable&&((o=a==null?void 0:a.preventDefault)===null||o===void 0||o.call(a))},this.onWheel=function(n){var i=t.spreadsheet.options.interaction,o=n.deltaX,a=n.deltaY,l=n.offsetX,s=n.offsetY,f=n.shiftKey;f&&gx()&&(l=l-o+a,o=a,s-=a,a=0);var h=W(DW(o,a,i.scrollSpeedRatio),2),d=h[0],v=h[1];if(t.spreadsheet.hideTooltip(),t.spreadsheet.interaction.clearHoverTimer(),!t.isScrollOverTheViewport({deltaX:d,deltaY:v,offsetX:l,offsetY:s})){t.stopScrollChainingIfNeeded(n);return}t.stopScrollChaining(n),t.spreadsheet.interaction.addIntercepts([Ee.HOVER]),t.cancelScrollFrame()&&(t.scrollFrameId=requestAnimationFrame(function(){var g,y=t.getScrollOffset(),C=y.scrollX,_=y.scrollY,w=y.rowHeaderScrollX;d!==0&&(t.showHorizontalScrollBar(),t.updateHorizontalRowScrollOffset({offsetX:l,offsetY:s,offset:d+w}),t.updateHorizontalScrollOffset({offsetX:l,offsetY:s,offset:d+C})),v!==0&&(t.showVerticalScrollBar(),(g=t.vScrollBar)===null||g===void 0||g.emitScrollChange(v+_)),t.delayHideScrollbarOnMobile(),t.clearScrollFrameIdOnMobile()}))},this.addCell=function(n){var i=t.spreadsheet.panelScrollGroup;i==null||i.add(n)},this.realCellRender=function(n,i){var o=t.calculateXYIndexes(n,i);ri.getInstance().logger("renderIndex:",t.preCellIndexes,o);var a=QX(t.preCellIndexes,o),l=a.add,s=a.remove;ri.getInstance().debugCallback(fW,function(){_e(l,function(h){var d=W(h,2),v=d[0],g=d[1],y=t.layoutResult.getCellMeta(g,v);if(y){var C=t.cfg.dataCell(y);C.set("name","".concat(v,"-").concat(g)),t.addCell(C)}});var f=Ss(t.panelGroup.getChildren(),lo);_e(s,function(h){var d=W(h,2),v=d[0],g=d[1],y=nr(f,function(C){return C.get("name")==="".concat(v,"-").concat(g)});y==null||y.remove(!0)}),ri.getInstance().logger("Render Cell Panel: ".concat(f==null?void 0:f.length,", Add: ").concat(l==null?void 0:l.length,", Remove: ").concat(s==null?void 0:s.length))}),t.preCellIndexes=o,t.spreadsheet.emit(I.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:l,remove:s,spreadsheet:t.spreadsheet})},this.getGridInfo=function(){var n=W(t.preCellIndexes.center,4),i=n[0],o=n[1],a=n[2],l=n[3],s=h2(i,o,t.layoutResult.colLeafNodes),f=Kf(a,l,t.viewCellHeights);return{cols:s,rows:f}},this.onAfterScroll=ql(function(){var n=t.spreadsheet,i=n.interaction,o=n.container;if(!i.isSelectedState()&&(i.removeIntercepts([Ee.HOVER]),i.getHoverAfterScroll())){var a=i.eventController.canvasMousemoveEvent;if(a){var l=a.x,s=a.y,f=o.getShape(l,s);f&&o.emit(ur.MOUSE_MOVE,B(B({},a),{shape:f,target:f,timestamp:performance.now()}))}}},300),this.cfg=r,this.spreadsheet=r.spreadsheet,this.init()}return Object.defineProperty(e.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),e.prototype.getCellCustomWidth=function(r,t){return Ht(t)?t==null?void 0:t(r):t},e.prototype.getCellDraggedWidth=function(r){var t=this.cfg.colCfg;return ve(t==null?void 0:t.widthByFieldValue,"".concat(r.value))},e.prototype.render=function(){WW(this.spreadsheet.dataCfg.fields)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell(!0))},e.prototype.adjustScrollOffset=function(){var r=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(r)},e.prototype.getSeriesNumberWidth=function(){var r=this.cfg.showSeriesNumber;return r?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},e.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},e.prototype.updateScrollOffset=function(r){var t,n,i,o,a,l;if(((t=r.rowHeaderOffsetX)===null||t===void 0?void 0:t.value)!==void 0){!((n=r.rowHeaderOffsetX)===null||n===void 0)&&n.animate?this.scrollWithAnimation(r):this.scrollImmediately(r);return}if(((i=r.offsetX)===null||i===void 0?void 0:i.value)!==void 0){!((o=r.offsetX)===null||o===void 0)&&o.animate?this.scrollWithAnimation(r):this.scrollImmediately(r);return}((a=r.offsetY)===null||a===void 0?void 0:a.value)!==void 0&&(!((l=r.offsetY)===null||l===void 0)&&l.animate?this.scrollWithAnimation(r):this.scrollImmediately(r))},e.prototype.getPaginationScrollY=function(){var r=this.cfg.pagination;if(r){var t=r.current,n=t===void 0?$v:t,i=r.pageSize,o=this.viewCellHeights,a=Math.max((n-1)*i,0);return o.getCellOffsetY(a)}return 0},e.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},e.prototype.calculateXYIndexes=function(r,t){var n=this.panelBBox,i=n.viewportHeight,o=n.viewportWidth,a=zv(r,t,this.viewCellWidths,this.viewCellHeights,{width:o,height:i,x:0,y:0},this.getRealScrollX(this.cornerBBox.width));return{center:a}},e.prototype.calculateCornerBBox=function(){this.cornerBBox=new g2(this,!0)},e.prototype.getCellRange=function(){var r=this.cfg.pagination;return HW(this.viewCellHeights,r)},e.prototype.panelScrollGroupClip=function(r,t){var n,i=this.spreadsheet.isFrozenRowHeader();(n=this.spreadsheet.panelScrollGroup)===null||n===void 0||n.setClip({type:"rect",attrs:{x:i?r:0,y:t,width:this.panelBBox.width+(i?0:r),height:this.panelBBox.height}})},e.prototype.clip=function(r,t){this.panelScrollGroupClip(r,t)},e.prototype.translateRelatedGroups=function(r,t,n){var i,o,a,l,s,f;Ai(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-r,this.cornerBBox.height-t),(i=this.rowHeader)===null||i===void 0||i.onScrollXY(this.getRealScrollX(r,n),t,Aa),(o=this.rowIndexHeader)===null||o===void 0||o.onScrollXY(this.getRealScrollX(r,n),t,nC),(a=this.cornerHeader)===null||a===void 0||a.onCorScroll(this.getRealScrollX(r,n),Vh),(l=this.centerFrame)===null||l===void 0||l.onChangeShadowVisibility(r,this.getRealWidth()-this.panelBBox.width),(s=this.centerFrame)===null||s===void 0||s.onBorderScroll(this.getRealScrollX(r)),(f=this.columnHeader)===null||f===void 0||f.onColScroll(r,iC)},e.prototype.init=function(){var r=this;ri.getInstance().debugCallback(uW,function(){r.layoutResult=r.doLayout(),r.saveInitColumnLeafNodes(r.layoutResult.colLeafNodes),r.spreadsheet.emit(I.LAYOUT_AFTER_HEADER_LAYOUT,r.layoutResult)}),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},e.prototype.renderBackground=function(){var r=this.getCanvasHW(),t=r.width,n=r.height,i=this.spreadsheet.theme.background,o=i.color,a=i.opacity;this.backgroundGroup.addShape("rect",{attrs:{fill:o,opacity:a,x:0,y:0,width:t,height:n}})},e.prototype.renderScrollBars=function(){var r=this.getScrollOffset(),t=r.scrollX,n=r.scrollY,i=r.rowHeaderScrollX,o=this.panelBBox,a=o.width,l=o.height,s=this.layoutResult.colsHierarchy.width,f=this.getRealHeight();this.renderRowScrollBar(i),this.renderHScrollBar(a,s,t),this.renderVScrollBar(l,f,n)},e.prototype.renderHeaders=function(){var r=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),r>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},e.prototype.getRowHeaderCfg=function(){var r,t,n,i=this.panelBBox,o=i.y,a=i.viewportHeight,l=i.viewportWidth,s=i.height,f=this.getSeriesNumberWidth();return{width:this.cornerBBox.width,height:s,viewportWidth:l,viewportHeight:a,position:{x:0,y:o},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:(n=(t=(r=this.cfg.spreadsheet.options)===null||r===void 0?void 0:r.interaction)===null||t===void 0?void 0:t.linkFields)!==null&&n!==void 0?n:[],seriesNumberWidth:f,spreadsheet:this.spreadsheet}},e.prototype.getRowHeader=function(){return this.rowHeader?this.rowHeader:new Ip(this.getRowHeaderCfg())},e.prototype.getColHeader=function(){if(!this.columnHeader){var r=this.panelBBox,t=r.x,n=r.width,i=r.viewportHeight,o=r.viewportWidth;return new Op({width:n,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:o,viewportHeight:i,position:{x:t,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},e.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:eV.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},e.prototype.getSeriesNumberHeader=function(){return C2.getSeriesNumberHeader({viewportBBox:this.panelBBox,seriesNumberWidth:this.getSeriesNumberWidth(),leafNodes:this.layoutResult.rowsHierarchy.getNodes(0),spreadsheet:this.spreadsheet,cornerWidth:this.cornerBBox.width})},e.prototype.getCenterFrame=function(){var r;if(!this.centerFrame){var t=this.panelBBox,n=t.viewportWidth,i=t.viewportHeight,o=this.cornerBBox.width,a=this.cornerBBox.height,l=(r=this.cfg)===null||r===void 0?void 0:r.frame,s={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:o,height:a,viewportWidth:n,viewportHeight:i,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return l?l(s):new tV(s)}return this.centerFrame},e.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},e.prototype.dynamicRenderCell=function(r){var t=this.getScrollOffset(),n=t.scrollX,i=t.scrollY,o=t.rowHeaderScrollX,a=i+this.getPaginationScrollY(),l=Ap(a,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(n,l),this.updatePanelScrollGroup(),this.translateRelatedGroups(n,l,o),this.clip(n,l),r||this.emitScrollEvent({scrollX:n,scrollY:l,rowHeaderScrollX:o}),this.onAfterScroll()},e.prototype.emitScrollEvent=function(r){this.spreadsheet.emit(I.LAYOUT_CELL_SCROLL,r),this.spreadsheet.emit(I.GLOBAL_SCROLL,r)},e.prototype.saveInitColumnLeafNodes=function(r){r===void 0&&(r=[]);var t=this.spreadsheet,n=t.store,i=t.options,o=i.interaction.hiddenColumnFields,a=r.length+o.length,l=n.get("initColumnLeafNodes",[]);a!==l.length&&n.set("initColumnLeafNodes",r)},e.prototype.getHiddenColumnsInfo=function(r){var t=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return J(t)?null:t.find(function(n){var i;return(i=n==null?void 0:n.hideColumnNodes)===null||i===void 0?void 0:i.some(function(o){return o.id===r.id})})},e.prototype.getCornerNodes=function(){var r;return((r=this.cornerHeader)===null||r===void 0?void 0:r.getNodes())||[]},e}(),m2=function(e){re(r,e);function r(t){var n,i=e.call(this,t)||this;return i.frozenGroupInfo=(n={},n[tn.FROZEN_COL]={width:0},n[tn.FROZEN_ROW]={height:0},n[tn.FROZEN_TRAILING_ROW]={height:0},n[tn.FROZEN_TRAILING_COL]={width:0},n),i.panelScrollGroupIndexes=[],i.initFrozenGroupPosition=function(){var o=i.getScrollOffset(),a=o.scrollY,l=o.scrollX,s=i.getPaginationScrollY();Ai(i.spreadsheet.frozenRowGroup,i.cornerBBox.width-l,i.cornerBBox.height-s),Ai(i.spreadsheet.frozenColGroup,i.cornerBBox.width,i.cornerBBox.height-a-s),Ai(i.spreadsheet.frozenTrailingColGroup,i.cornerBBox.width,i.cornerBBox.height-a-s),Ai(i.spreadsheet.frozenTopGroup,i.cornerBBox.width,i.cornerBBox.height-s)},i.addCell=function(o){var a=i.getBizRevisedFrozenOptions(),l=a.frozenRowCount,s=a.frozenColCount,f=a.frozenTrailingRowCount,h=a.frozenTrailingColCount,d=i.layoutResult.colsHierarchy.getLeaves().length,v=i.getCellRange(),g=i.getRealFrozenColumns(s,h),y=g.colCount,C=g.trailingColCount,_=FW(o.getMeta(),{frozenRowCount:l,frozenColCount:y,frozenTrailingRowCount:f,frozenTrailingColCount:C},d,v),w=dC[_];w&&i.spreadsheet[w]&&i.spreadsheet[w].add(o)},i.renderFrozenGroupSplitLine=function(o,a){var l,s,f,h=i.panelBBox,d=h.width,v=h.height,g=h.viewportWidth,y=h.viewportHeight,C=i.cornerBBox.height,_=i.layoutResult.colNodes.filter(function(at){return ni(at)}),w=i.getCellRange(),S=w.end-w.start,b=ao(i.getBizRevisedFrozenOptions(),_.length,S),E=b.frozenRowCount,O=E===void 0?0:E,D=b.frozenColCount,F=D===void 0?0:D,H=b.frozenTrailingColCount,k=H===void 0?0:H,q=b.frozenTrailingRowCount,V=q===void 0?0:q,Q=Math.floor(a-i.getPaginationScrollY()),ie=Math.max(0,((l=nt(i.viewCellWidths))!==null&&l!==void 0?l:0)-g),ue=Math.max(0,i.viewCellHeights.getCellOffsetY(w.end+1)-i.viewCellHeights.getCellOffsetY(w.start)-y);(s=i.foregroundGroup.findById(Bu))===null||s===void 0||s.remove();var K=ve(i.cfg,"spreadsheet.theme.splitLine"),te=i.foregroundGroup.addGroup({id:Bu,zIndex:$l}),Re={lineWidth:K==null?void 0:K.verticalBorderWidth,stroke:K==null?void 0:K.verticalBorderColor,opacity:K==null?void 0:K.verticalBorderColorOpacity,lineDash:K==null?void 0:K.borderDash},me={lineWidth:K==null?void 0:K.horizontalBorderWidth,stroke:K==null?void 0:K.horizontalBorderColor,opacity:K==null?void 0:K.horizontalBorderColorOpacity,lineDash:K==null?void 0:K.borderDash};if(F>0){var we=_.reduce(function(at,Fe,We){return We<F?at+Fe.width:at},0),ke=V>0?v:y;Yt(te,{x1:we,x2:we,y1:C,y2:C+ke},B({},Re)),K.showShadow&&o>0&&te.addShape("rect",{attrs:{x:we,y:C,width:K.shadowWidth,height:ke,fill:i.getShadowFill(0)}})}if(O>0){var Ae=C+i.getTotalHeightForRange(w.start,w.start+O-1),qe=k>0?d:g;Yt(te,{x1:0,x2:qe,y1:Ae,y2:Ae},B({},me)),K.showShadow&&Q>0&&te.addShape("rect",{attrs:{x:0,y:Ae,width:qe,height:K.shadowWidth,fill:i.getShadowFill(90)}})}if(k>0){var we=_[_.length-k].x,ke=V?v:y;Yt(te,{x1:we,x2:we,y1:C,y2:C+ke},B({},Re)),K.showShadow&&Math.floor(o)<Math.floor(ie)&&te.addShape("rect",{attrs:{x:we-((f=K.shadowWidth)!==null&&f!==void 0?f:0),y:C,width:K.shadowWidth,height:ke,fill:i.getShadowFill(180)}})}if(V>0){var Ae=i.panelBBox.maxY-i.getTotalHeightForRange(w.end-V+1,w.end),qe=k>0?d:g;Yt(te,{x1:0,x2:qe,y1:Ae,y2:Ae},B({},me)),K.showShadow&&Q<Math.floor(ue)&&te.addShape("rect",{attrs:{x:0,y:Ae-K.shadowWidth,width:qe,height:K.shadowWidth,fill:i.getShadowFill(270)}})}i.foregroundGroup.sort()},i.getRealFrozenColumns=function(o,a){var l,s=o,f=a;if(o||a){var h=i.layoutResult.colsHierarchy.getNodes();h=h.filter(function(d){return ni(d)}),l=Lf(h,o,a),s=l.colCount,f=l.trailingColCount}return{colCount:s,trailingColCount:f}},i.getTotalHeightForRange=function(o,a){if(o<0||a<0)return 0;if(i.rowOffsets)return i.rowOffsets[a+1]-i.rowOffsets[o];for(var l=0,s=o;s<a+1;s++){var f=i.getDefaultCellHeight();l+=f}return l},i.getShadowFill=function(o){var a,l,s=ve(i.cfg,"spreadsheet.theme.splitLine");return"l (".concat(o,") 0:").concat((a=s.shadowColors)===null||a===void 0?void 0:a.left," 1:").concat((l=s.shadowColors)===null||l===void 0?void 0:l.right)},i}return r.prototype.calculateFrozenGroupInfo=function(){var t=this.getFrozenOptionsDirectly(),n=t.frozenColCount,i=t.frozenRowCount,o=t.frozenTrailingColCount,a=t.frozenTrailingRowCount,l=this.layoutResult.colNodes.filter(function(C){return ni(C)}),s=this.viewCellHeights,f=this.getCellRange(),h=this.frozenGroupInfo,d=h.frozenCol,v=h.frozenTrailingCol,g=h.frozenRow,y=h.frozenTrailingRow;n>0&&(d.width=l[n-1].x+l[n-1].width-0,d.range=[0,n-1]),i>0&&(g.height=s.getCellOffsetY(f.start+i)-s.getCellOffsetY(f.start),g.range=[f.start,f.start+i-1]),o>0&&(v.width=l[l.length-1].x-l[l.length-o].x+l[l.length-1].width,v.range=[l.length-o,l.length-1]),a>0&&(y.height=s.getCellOffsetY(f.end+1)-s.getCellOffsetY(f.end+1-a),y.range=[f.end-a+1,f.end])},r.prototype.calculateXYIndexes=function(t,n){var i,o,a,l=this.layoutResult.colLeafNodes.length,s=this.getCellRange(),f=this.panelBBox,h=f.viewportHeight,d=f.viewportWidth,v=this.getFrozenOptionsDirectly(),g=v.frozenColCount,y=g===void 0?0:g,C=v.frozenRowCount,_=C===void 0?0:C,w=v.frozenTrailingColCount,S=w===void 0?0:w,b=v.frozenTrailingRowCount,E=b===void 0?0:b,O={width:d,height:h,x:0,y:0};if(S>0||y>0){var D=this.frozenGroupInfo,F=D.frozenTrailingCol,H=D.frozenCol;O.width-=F.width+H.width,O.x+=(i=H.width)!==null&&i!==void 0?i:0}if(E>0||_>0){var k=this.frozenGroupInfo,q=k.frozenRow,V=k.frozenTrailingRow;O.height<q.height+V.height?(O.height=0,O.y=0):(O.height-=q.height+V.height,O.y+=q.height)}var Q=this.spreadsheet.isTableMode()&&(!((a=(o=this.spreadsheet.dataSet)===null||o===void 0?void 0:o.isEmpty)===null||a===void 0)&&a.call(o))?this.spreadsheet.dataSet.getEmptyViewIndexes():zv(t,n,this.viewCellWidths,this.viewCellHeights,O,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=Q;var ie=this.getRealFrozenColumns(y,S),ue=ie.colCount,K=ie.trailingColCount;return NW(Q,{frozenColCount:ue,frozenRowCount:_,frozenTrailingColCount:K,frozenTrailingRowCount:E},l,s)},r.prototype.updateFrozenGroupGrid=function(){var t=this;[tn.FROZEN_COL,tn.FROZEN_ROW,tn.FROZEN_TRAILING_COL,tn.FROZEN_TRAILING_ROW].forEach(function(n){if(t.frozenGroupInfo[n].range){var i=[],o=[];if(n.toLowerCase().includes("row")){var a=W(t.frozenGroupInfo[n].range,2),l=a[0],s=a[1];if(i=t.gridInfo.cols,o=Kf(l,s,t.viewCellHeights),n===tn.FROZEN_TRAILING_ROW){var f=t.spreadsheet.frozenTrailingRowGroup.getBBox().minY;o=jX(l,s,Math.ceil(f),t.viewCellHeights)}}else{var h=W(t.frozenGroupInfo[n].range,2),d=h[0],v=h[1],g=t.layoutResult.colNodes.filter(function(y){return ni(y)});i=h2(d,v,g),o=t.gridInfo.rows}t.spreadsheet["".concat(n,"Group")].updateGrid({cols:i,rows:o},"".concat(n,"Group"))}})},r.prototype.updatePanelScrollGroup=function(){e.prototype.updatePanelScrollGroup.call(this),this.updateFrozenGroupGrid()},r.prototype.translateRelatedGroups=function(t,n,i){var o=this,a=this.spreadsheet,l=a.frozenColGroup,s=a.frozenTrailingColGroup,f=a.frozenRowGroup,h=a.frozenTrailingRowGroup;[f,h].forEach(function(d){Ef(d,o.cornerBBox.width-t)}),[l,s].forEach(function(d){$W(d,o.cornerBBox.height-n)}),e.prototype.translateRelatedGroups.call(this,t,n,i),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(t,n)},r.prototype.updateRowResizeArea=function(){},r.prototype.clip=function(t,n){var i,o,a,l=this.getPaginationScrollY(),s=this.spreadsheet,f=s.frozenRowGroup,h=s.frozenColGroup,d=s.frozenTrailingColGroup,v=s.frozenTrailingRowGroup,g=s.panelScrollGroup,y=0,C=0,_=0;h&&(y=h.getBBox().width),f&&(C=f.getBBox().height);var w;d&&(w=d.getBBox()),v&&(_=v.getBBox().height);var S=this.panelBBox.width-y-((i=w==null?void 0:w.width)!==null&&i!==void 0?i:0),b=this.panelBBox.height-C-_;g.setClip({type:"rect",attrs:{x:t+y,y:n+C,width:S,height:b}}),f.setClip({type:"rect",attrs:{x:t+y,y:l,width:S,height:C}}),v==null||v.setClip({type:"rect",attrs:{x:t+y,y:v.getBBox().minY,width:S,height:_}});var E={y:n+C,height:b};h==null||h.setClip({type:"rect",attrs:B(B({},E),{x:0,width:y})}),d==null||d.setClip({type:"rect",attrs:B(B({},E),{x:(o=w==null?void 0:w.minX)!==null&&o!==void 0?o:0,width:(a=w==null?void 0:w.width)!==null&&a!==void 0?a:0})})},r.prototype.init=function(){e.prototype.init.call(this)},r.prototype.render=function(){this.calculateFrozenGroupInfo(),e.prototype.render.call(this),this.initFrozenGroupPosition()},r.prototype.getFrozenOptionsDirectly=function(){var t=this.layoutResult.colLeafNodes.length,n=this.getCellRange();return ao(this.getBizRevisedFrozenOptions(),t,n.end-n.start+1)},r.prototype.getBizRevisedFrozenOptions=function(){var t=this.cfg,n=t.frozenColCount,i=t.frozenRowCount,o=t.frozenTrailingColCount,a=t.frozenTrailingRowCount;return{frozenColCount:n,frozenRowCount:i,frozenTrailingColCount:o,frozenTrailingRowCount:a}},r.prototype.getDefaultCellHeight=function(){var t,n=this.cfg.cellCfg;return(t=n==null?void 0:n.height)!==null&&t!==void 0?t:0},r}(nV),_2=function(e){var r,t,n,i=e.facetCfg,o=e.customTreeItems,a=o===void 0?[]:o,l=e.level,s=e.parentNode,f=e.hierarchy,h=i.spreadsheet,d=i.collapsedRows,v=i.hierarchyCollapse;try{for(var g=sr(a),y=g.next();!y.done;y=g.next()){var C=y.value,_=C.key,w=C.title,S=C.collapsed,b=C.children,E=ru(C,["key","title","collapsed","children"]),O=(n={},n[Te]=_,n),D=as(s.id,w),F=S??!1,H=ve(d,D),k=H??(v||F),q=new Ut({id:D,key:_,label:w,value:w,level:l,parent:s,field:_,isTotals:!1,isCollapsed:k,hierarchy:f,query:O,spreadsheet:h,extra:E});l>f.maxLevel&&(f.maxLevel=l),J(b)&&(q.isLeaf=!0);var V=Pv(i,s,q,f);!J(b)&&!k&&V&&_2({facetCfg:i,parentNode:q,level:l+1,hierarchy:f,customTreeItems:b})}}catch(Q){r={error:Q}}finally{try{y&&!y.done&&(t=g.return)&&t.call(g)}finally{if(r)throw r.error}}},iV=function(e,r,t){var n=e.getTotalsConfig(r);if(n.showGrandTotals){var i=n.reverseLayout?"unshift":"push";t[i](new qa({label:n.label,isSubTotals:!1,isGrandTotals:!0}))}},w2=function(e){var r,t,n,i,o,a,l=e.parentNode,s=e.currentField,f=e.level,h=e.facetCfg,d=e.hierarchy,v=e.pivotMeta,g=h.spreadsheet,y=h.collapsedRows,C=h.hierarchyCollapse,_=h.rowExpandDepth,w=l.query,S=l.id,b=((i=g.dataCfg.fields.rows)===null||i===void 0?void 0:i.length)<=f,E=dG(Array.from(v.keys())),O=Tx(E,h,l,s),D=g.store.get("drillItemsNum");b&&D>0&&(O=O.slice(0,D)),f===0&&iV(g,s,O);try{for(var F=sr(O),H=F.next();!H.done;H=F.next()){var k=H.value,q=k instanceof qa,V=q?null:v.get(k),Q=void 0,ie=w,ue=!1,K=!1;if(q){var te=k;ue=te.isGrandTotals,K=te.isSubTotals,Q=mt(k.label),ie=w}else Q=k,ie=B(B({},w),(n={},n[s]=Q,n));var Re=as(S,Q),me=y==null?void 0:y[Re],we=pr(_)?f>_:null,ke=(o=me??we)!==null&&o!==void 0?o:C,Ae=new Ut({id:Re,key:s,label:Q,value:Q,level:f,parent:l,field:s,isTotals:q,isGrandTotals:ue,isSubTotals:K,isCollapsed:ke,hierarchy:d,query:ie,spreadsheet:g});f>d.maxLevel&&(d.maxLevel=f);var qe=j([],W(((a=V==null?void 0:V.children)===null||a===void 0?void 0:a.keys())||[]),!1).filter(function(We){return We!==qn}),at=J(qe);(at||q)&&(Ae.isLeaf=!0),at||(Ae.isTotals=!0);var Fe=Pv(h,l,Ae,d);!at&&!ke&&!q&&Fe&&w2({level:f+1,currentField:V.childField,pivotMeta:V.children,facetCfg:h,parentNode:Ae,hierarchy:d})}}catch(We){r={error:We}}finally{try{H&&!H.done&&(t=F.return)&&t.call(F)}finally{if(r)throw r.error}}},x2=function(e){var r=e.isValueInCols,t=e.moreThanOneValue,n=e.rootNode,i=e.facetCfg,o=e.hierarchy,a=e.fields,l=e.isRowHeader,s,f;l?(s=!r&&t,f=!r&&!t):(s=r&&t,f=r&&!t),Ax({addTotalMeasureInTotal:s,addMeasureInTotalQuery:f,parentNode:n,currentField:a[0],fields:a,facetCfg:i,hierarchy:o})},oV=function(e){var r=e.facetCfg,t=e.rootNode,n=e.hierarchy,i=r.dataSet.fields.customTreeItems;_2({customTreeItems:i,facetCfg:r,level:0,parentNode:t,hierarchy:n})},aV=function(e){var r=e.facetCfg,t=e.rootNode,n=e.hierarchy,i=r.hierarchyType,o=r.rows,a=r.dataSet;i==="tree"?w2({level:0,currentField:o[0],pivotMeta:a.rowPivotMeta,facetCfg:r,parentNode:t,hierarchy:n}):oV(e)},lV=function(e){var r=e.spreadsheet;r.isHierarchyTreeType()?aV(e):x2(e)},sV=function(e){var r=e.isPivotMode,t=e.hierarchy,n=e.rootNode,i=e.facetCfg;r?x2(e):GW({parentNode:n,hierarchy:t,facetCfg:i})},Mp=function(e){var r=e.isRowHeader,t=e.facetCfg,n=t.spreadsheet,i=t.rows,o=i===void 0?[]:i,a=t.columns,l=a===void 0?[]:a,s=n.dataCfg.fields.valueInCols,f=n.isPivotMode(),h=t.dataSet.moreThanOneValue(),d=Ut.rootNode(),v=new yx,g={isValueInCols:s,isPivotMode:f,moreThanOneValue:h,rootNode:d,hierarchy:v,spreadsheet:n,facetCfg:t,fields:r?o:l,isRowHeader:r};r?lV(g):sV(g);var y=function(){return r&&n.isHierarchyTreeType()?v.getNodes():v.getLeaves()};return{hierarchy:v,leafNodes:y()}},uV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.renderFrozenGroupSplitLine=function(n,i){var o;if((o=t.foregroundGroup.findById(Bu))===null||o===void 0||o.remove(),t.enableFrozenFirstRow()){var a=Math.floor(i-t.getPaginationScrollY()),l=t.foregroundGroup.addGroup({id:Bu,zIndex:$l}),s=ve(t.cfg,"spreadsheet.theme.splitLine"),f={lineWidth:s==null?void 0:s.horizontalBorderWidth,stroke:s==null?void 0:s.horizontalBorderColor,opacity:s==null?void 0:s.horizontalBorderColorOpacity},h=t.cornerBBox.height,d=t.getCellRange(),v=h+t.getTotalHeightForRange(d.start,d.start),g=t.panelBBox.viewportWidth+t.layoutResult.rowsHierarchy.width+t.getSeriesNumberWidth();Yt(l,{x1:0,x2:g,y1:v,y2:v},B({},f)),s.showShadow&&a>0&&l.addShape("rect",{attrs:{x:0,y:v,width:g,height:s.shadowWidth,fill:t.getShadowFill(90)}})}},t}return r.prototype.updateFrozenGroupGrid=function(){var t=this;[tn.FROZEN_ROW].forEach(function(n){if(t.frozenGroupInfo[n].range){var i=[],o=[];if(n.toLowerCase().includes("row")){var a=W(t.frozenGroupInfo[n].range,2),l=a[0],s=a[1];i=t.gridInfo.cols,o=Kf(l,s,t.viewCellHeights)}t.spreadsheet["".concat(n,"Group")].updateGrid({cols:i,rows:o},"".concat(n,"Group"))}})},r.prototype.getBizRevisedFrozenOptions=function(){return Ka(this.cfg,this.layoutResult.rowNodes)},r.prototype.clip=function(t,n){var i=this.spreadsheet,o=i.isFrozenRowHeader,a=i.frozenRowGroup;if(!o.call(this.spreadsheet)){if(this.panelScrollGroupClip(t,n),this.enableFrozenFirstRow()){var l=this.getPaginationScrollY();a.setClip({type:"rect",attrs:{x:0,y:l,width:this.panelBBox.width+t,height:a.getBBox().height}})}return}e.prototype.clip.call(this,t,n)},Object.defineProperty(r.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),r.prototype.getContentHeight=function(){var t=this.layoutResult,n=t.rowsHierarchy,i=t.colsHierarchy;return n.height+i.height},r.prototype.doLayout=function(){var t=this,n=Mp({isRowHeader:!0,facetCfg:this.cfg}),i=n.leafNodes,o=n.hierarchy,a=Mp({isRowHeader:!1,facetCfg:this.cfg}),l=a.leafNodes,s=a.hierarchy;this.calculateNodesCoordinate(i,o,l,s);var f=this.cfg,h=f.dataSet,d=f.spreadsheet,v=function(y,C){var _=y||0,w=C||0,S=i[_],b=l[w];if(!S||!b)return null;var E=S.query,O=b.query,D=S.isTotals||S.isTotalMeasure||b.isTotals||b.isTotalMeasure,F=t.getMeasureInfo(),H=Ql({},E,O,F),k=fs(S,b),q=h.getCellData({query:H,rowNode:S,isTotals:D,totalStatus:k}),V=H[Te],Q=ve(q,Tr,null);return{spreadsheet:d,x:b.x,y:S.y,width:b.width,height:S.height,data:q,rowIndex:_,colIndex:w,isTotals:D,valueField:V,fieldValue:Q,rowQuery:E,colQuery:O,rowId:S.id,colId:b.id,id:vs(S.id,b.id)}},g={colNodes:s.getNodes(),colsHierarchy:s,rowNodes:o.getNodes(),rowsHierarchy:o,rowLeafNodes:i,colLeafNodes:l,getCellMeta:v,spreadsheet:d};return MW(this.cfg,g)},r.prototype.getMeasureInfo=function(){var t,n,i,o=this.cfg,a=o.dataSet,l=o.spreadsheet,s=l.options.hierarchyType,f=(n=ve(l,"facet.cfg.colCfg.hideMeasureColumn"))!==null&&n!==void 0?n:!1;return f&&s!=="customTree"?(t={},t[Te]=(i=a.fields.values)===null||i===void 0?void 0:i[0],t):{}},r.prototype.calculateNodesCoordinate=function(t,n,i,o){this.calculateRowNodesCoordinate(t,n,i),this.calculateColNodesCoordinate(i,o,t,n.width)},r.prototype.calculateColNodesCoordinate=function(t,n,i,o){for(var a,l,s,f=Ut.blankNode(),h=n.getNodes(),d=n.sampleNodesForAllLevels,v=0;v<d.length;v++){var g=d[v];if(g.height=this.getColNodeHeight(g),n.height+=g.height,g.level===0)g.y=0;else{var y=d[v-1];g.y=(a=(y==null?void 0:y.y)+(y==null?void 0:y.height))!==null&&a!==void 0?a:0}}for(var C=0,_=function(b){var E=h[b];if(E.isLeaf&&(E.colIndex=C,C+=1,E.x=f.x+f.width,E.width=w.calculateColLeafNodesWidth(E,t,i,o),n.width+=E.width,f=E),E.level===0)E.y=0;else{var O=n.sampleNodesForAllLevels.find(function(D){return D.level===E.level-1});E.y=(l=(O==null?void 0:O.y)+(O==null?void 0:O.height))!==null&&l!==void 0?l:0}E.height=w.getColNodeHeight(E),Nv(w.cfg,null,E)},w=this,S=0;S<h.length;S++)_(S);this.autoCalculateColNodeWidthAndX(t),J((s=this.spreadsheet.options.totals)===null||s===void 0?void 0:s.col)||(this.adjustTotalNodesCoordinate({hierarchy:n,isRowHeader:!1,isSubTotal:!0}),this.adjustTotalNodesCoordinate({hierarchy:n,isRowHeader:!1,isSubTotal:!1}))},r.prototype.autoCalculateColNodeWidthAndX=function(t){for(var n,i=null,o=0,a=t.slice(0);o<a.length;){var l=a[o++],s=l.parent;if(i!==s&&s){a.push(s);var f=(n=s.children)===null||n===void 0?void 0:n.find(function(v){return v.width}),h=f==null?void 0:f.x,d=zw(s.children,"width");s.x=h,s.width=d,i=s}}},r.prototype.calculateColLeafNodesWidth=function(t,n,i,o){var a,l,s,f,h,d=this.cfg,v=d.colCfg,g=d.dataSet,y=d.filterDisplayDataItem,C=this.getCellDraggedWidth(t);if(pr(C))return C;var _=this.getCellCustomWidth(t,v==null?void 0:v.width);if(pr(_))return _;if(this.spreadsheet.getLayoutWidthType()===Po.Compact){for(var w=this.spreadsheet.theme.colCell,S=w.bolderText,b=w.cell,E=w.icon,O=this.spreadsheet.theme.dataCell.text,D=this.spreadsheet.dataSet.getFieldFormatter(t.field),F=(a=D==null?void 0:D(t.value))!==null&&a!==void 0?a:t.label,H=this.getExpectedCellIconWidth(ee.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,E),k=this.spreadsheet.measureTextWidth(F,S)+H,q=this.getMeasureInfo(),V=void 0,Q=0,ie=0,ue=0;ue<jh;ue++){var K=i[ue];if(K){var te=g.getCellData({query:B(B({},t.query),K.query),rowNode:K,isTotals:t.isTotals||t.isTotalMeasure||K.isTotals||K.isTotalMeasure,totalStatus:fs(K,t)});if(te){var Re=nS(te,y),me=(s=(l=this.spreadsheet.dataSet.getFieldFormatter(te[Te]))===null||l===void 0?void 0:l(Re))!==null&&s!==void 0?s:Re,we="".concat(me),ke=Ql({},K.query,t.query,q),Ae=ke[Te],qe=Bx(this.spreadsheet.options.conditions,this.spreadsheet.theme.dataCell.icon,Ae),at=qe.size,Fe=qe.margin,We=Fe.left,tt=Fe.right,or=at+We+tt,mr=this.spreadsheet.measureTextWidth(we,O)+or;mr>Q&&(V=we,Q=mr,ie=or)}}}var Vt=k>Q,yo=Vt?F:V,ui=Vt?H:ie;ri.getInstance().logger("Max Label In Col:",t.field,yo,Q);var Co=this.spreadsheet.measureTextWidth(yo,B(B({},S),{fontSize:Math.max(O.fontSize,S.fontSize)}));return Co+((f=b.padding)===null||f===void 0?void 0:f.left)+((h=b.padding)===null||h===void 0?void 0:h.right)+ui}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(t,n,i):this.getAdaptGridColWidth(n,o)},r.prototype.getColNodeHeight=function(t){var n=this.cfg.colCfg,i=ve(n,["heightByField",t.key]);return i??(n==null?void 0:n.height)},r.prototype.getExpectedCellIconWidth=function(t,n,i){var o,a=0;if(n)a=1;else{var l=tp(Ne(this.spreadsheet.options.headerActionIcons,function(s){return B(B({},s),{displayCondition:function(){return!0}})}),null,t);a=(o=l==null?void 0:l.iconNames.length)!==null&&o!==void 0?o:0}return a?a*(i.size+i.margin.left)+i.margin.right:0},r.prototype.calculateRowNodesCoordinate=function(t,n,i){var o,a,l,s,f,h,d,v,g,y,C=this.cfg,_=C.cellCfg,w=C.spreadsheet,S=w.isHierarchyTreeType(),b=ve(w,"options.style.rowCfg.heightByField",{}),E=(l=n.sampleNodesForAllLevels)!==null&&l!==void 0?l:[];if(S)n.width=this.getTreeRowHeaderWidth();else try{for(var O=sr(n.sampleNodesForAllLevels),D=O.next();!D.done;D=O.next()){var F=D.value;F.width=this.calculateGridRowNodesWidth(F,i),n.width+=F.width;var H=(s=E[F.level-1])!==null&&s!==void 0?s:{x:0,width:0};F.x=(H==null?void 0:H.x)+(H==null?void 0:H.width)}}catch(K){o={error:K}}finally{try{D&&!D.done&&(a=O.return)&&a.call(O)}finally{if(o)throw o.error}}for(var k=Ut.blankNode(),q=n.getNodes(),V=0;V<q.length;V++){var Q=q[V],ie=S||!S&&Q.isLeaf;if(ie&&((f=Q.rowIndex)!==null&&f!==void 0||(Q.rowIndex=V),(h=Q.colIndex)!==null&&h!==void 0||(Q.colIndex=V),Q.y=k.y+k.height,Q.height=((d=b==null?void 0:b[Q.id])!==null&&d!==void 0?d:_==null?void 0:_.height)+((v=this.rowCellTheme.padding)===null||v===void 0?void 0:v.top)+((g=this.rowCellTheme.padding)===null||g===void 0?void 0:g.bottom),k=Q,n.height+=Q.height),S||Q.level===0)Q.x=0;else{var H=E[Q.level-1];Q.x=(H==null?void 0:H.x)+(H==null?void 0:H.width)}if(S)Q.width=this.getTreeRowHeaderWidth();else{var ue=E[Q.level];Q.width=ue==null?void 0:ue.width}Nv(this.cfg,Q,null)}S||(this.autoCalculateRowNodeHeightAndY(t),J((y=w.options.totals)===null||y===void 0?void 0:y.row)||(this.adjustTotalNodesCoordinate({hierarchy:n,isRowHeader:!0,isSubTotal:!1}),this.adjustTotalNodesCoordinate({hierarchy:n,isRowHeader:!0,isSubTotal:!0})))},r.prototype.autoCalculateRowNodeHeightAndY=function(t){for(var n=null,i=0,o=t.slice(0);i<o.length;){var a=o[i++],l=a.parent;n!==l&&l&&(o.push(l),l.y=l.children[0].y,l.height=l.children.reduce(function(s,f){return s+f.height},0),n=l)}},r.prototype.getMultipleMap=function(t,n,i){for(var o=t.maxLevel,a=this.cfg,l=a.totals,s=a.dataSet,f=s.moreThanOneValue(),h=s.fields,d=h.rows,v=h.columns,g=n?d:v,y=n?l.row:l.col,C=i?y.subTotalsGroupDimensions||[]:y.totalsGroupDimensions||[],_=s.isEmpty()?[]:C,w=Array.from({length:o+1},function(){return 1}),S=o;S>0;S--){var b=g[S],E=b===Te&&f;_.includes(b)||E||(w[S-1]+=w[S],w[S]=0)}return w},r.prototype.adjustTotalNodesCoordinate=function(t){var n=t.hierarchy,i=t.isRowHeader,o=t.isSubTotal,a=this.getMultipleMap(n,i,o),l=xi(n.getNodes(),function(f){return o?f.isSubTotals:f.isGrandTotals}),s=i?"width":"height";_e(l,function(f){var h,d=a[f.level];if(!d&&o)for(var v=1;d<1;)d=a[f.level-v]-v,v++;for(var g=0,y=function(_){g+=((h=n.sampleNodesForAllLevels.find(function(w){return w.level===f.level+_}))===null||h===void 0?void 0:h[s])||0},C=0;C<d;C++)y(C);f[s]=g})},r.prototype.calculateGridRowNodesWidth=function(t,n){var i=this.cfg,o=i.rowCfg,a=i.spreadsheet,l=ve(o,["widthByField",t.key]);if(pr(l))return l;var s=this.getCellCustomWidth(t,o==null?void 0:o.width);return pr(s)?s:a.getLayoutWidthType()!==Po.Adaptive?this.getCompactGridRowWidth(t):this.getAdaptGridColWidth(n)},r.prototype.getAdaptTreeColWidth=function(t,n,i){var o=this.getCanvasHW().width,a=o-this.getSeriesNumberWidth(),l=Math.min(a/2,this.getTreeRowHeaderWidth()),s=Math.max(1,n.length),f=this.cfg.cellCfg;return Math.max(Yv(f,this.getColLabelLength(t,i)),(a-l)/s)},r.prototype.getColLabelLength=function(t,n){var i,o=zx(t==null?void 0:t.value);if(se(o))return o.length;for(var a=1,l=0;l<jh;l++){var s=n[l];if(!s)return a;for(var f=this.cfg.dataSet.getCellData({query:B(B({},t.query),s.query),rowNode:s,isTotals:t.isTotals||t.isTotalMeasure||s.isTotals||s.isTotalMeasure,totalStatus:fs(s,t)}),h=xt(f==null?void 0:f[Yh]),d=0;d<h.length;d++){var v=f[h[d]],g=Ko((i=v==null?void 0:v.values)===null||i===void 0?void 0:i[0]);g>a&&(a=g)}}return a},r.prototype.getAdaptGridColWidth=function(t,n){var i=this.cfg,o=i.rows,a=i.cellCfg,l=o.length,s=t.length,f=this.getCanvasHW().width,h=f-this.getSeriesNumberWidth(),d=Math.max(1,l+s);return n?Math.max(Yv(a),(h-n)/s):Math.max(Yv(a),h/d)},r.prototype.getTreeRowHeaderWidth=function(){var t,n,i,o,a=this.cfg,l=a.rows,s=a.dataSet,f=a.rowCfg,h=a.treeRowsWidth,d=h??(f==null?void 0:f.treeRowsWidth);if(pr(d))return d;var v=this.getCellCustomWidth(null,f==null?void 0:f.width);if(pr(v))return v;var g=l.map(function(b){return s.getFieldName(b)}).join("/"),y=this.spreadsheet.theme.cornerCell,C=y.bolderText,_=y.icon,w=1+this.spreadsheet.measureTextWidth(g,C)+_.size*2+((t=_.margin)===null||t===void 0?void 0:t.left)+((n=_.margin)===null||n===void 0?void 0:n.right)+((i=this.rowCellTheme.padding)===null||i===void 0?void 0:i.left)+((o=this.rowCellTheme.padding)===null||o===void 0?void 0:o.right),S=Math.max(d??yC,w);return Number.isNaN(S)?yC:S},r.prototype.getCompactGridRowWidth=function(t){var n=this,i,o=this.cfg,a=o.dataSet,l=o.spreadsheet,s=l.theme.rowCell,f=s.bolderText,h=s.icon,d=s.cell,v=l.theme.cornerCell,g=v.bolderText,y=v.icon,C=v.cell,_=t.field,w=t.isLeaf,S=this.getExpectedCellIconWidth(ee.ROW_CELL,!l.isValueInCols()&&w&&l.options.showDefaultHeaderActionIcon,h),b=(i=a.getDimensionValues(_))===null||i===void 0?void 0:i.slice(0,jh).map(function(k){var q,V;return(V=(q=n.spreadsheet.dataSet.getFieldFormatter(_))===null||q===void 0?void 0:q(k))!==null&&V!==void 0?V:k}),E=iv(b,function(k){return"".concat(k).length}),O=l.measureTextWidth(E,f)+S+d.padding.left+d.padding.right,D=a.getFieldName(_),F=this.getExpectedCellIconWidth(ee.CORNER_CELL,!1,y),H=l.measureTextWidth(D,g)+F+C.padding.left+C.padding.right;return ri.getInstance().logger("Max Label In Row:",_,O>H?E:D),Math.max(O,H)},r.prototype.getViewCellHeights=function(t){var n=t.rowLeafNodes,i=yf(n,function(o,a){return o.push(nt(o)+a.height),o},[0]);return{getTotalHeight:function(){return nt(i)||0},getCellOffsetY:function(o){return i[o]||0},getTotalLength:function(){return i.length-1},getIndexRange:function(o,a){return c2(i,o,a)}}},r.prototype.getRowHeader=function(){if(!this.rowHeader){var t=this.getRowHeaderCfg(),n=t.viewportHeight,i=ru(t,["viewportHeight"]),o=Ka(this.cfg,this.layoutResult.rowNodes).frozenRowHeight;return new rV(B(B({},i),{viewportHeight:n-o}))}},r.prototype.enableFrozenFirstRow=function(){return!!this.getBizRevisedFrozenOptions().frozenRowCount},r}(m2),fV=function(e){re(r,e);function r(t){var n=this,i,o,a;n=e.call(this,t)||this,n.getScrollGroupClipBBox=function(){var y,C=n.headerConfig,_=C.width,w=C.height,S=C.scrollX,b=C.spreadsheet,E=b.options;if(!E.frozenColCount&&!E.frozenTrailingColCount)return{x:S,y:0,width:_,height:w};for(var O=(y=b.facet)===null||y===void 0?void 0:y.layoutResult.colLeafNodes,D=ao(b.options,O.length),F=D.frozenColCount,H=D.frozenTrailingColCount,k=0,q=0,V=0;V<F;V++)k+=O[V].width;for(var V=0;V<H;V++)q+=O[O.length-1-V].width;var Q=_-k-q;return{x:S+k,y:0,width:Q,height:w}};var l=(i=n.headerConfig.spreadsheet)===null||i===void 0?void 0:i.options,s=l.frozenColCount,f=l.frozenTrailingColCount,h=(a=(o=n.headerConfig.spreadsheet)===null||o===void 0?void 0:o.facet)===null||a===void 0?void 0:a.layoutResult.colNodes.filter(function(y){return ni(y)}),d=Lf(h,s,f),v=d.colCount,g=d.trailingColCount;return n.finalColCount=v,n.finalTrailingColCount=g,v&&(n.frozenColGroup=n.addGroup({name:rM,zIndex:$l})),g&&(n.frozenTrailingColGroup=n.addGroup({name:nM,zIndex:$l})),n}return r.prototype.isFrozenCell=function(t){var n=this.headerConfig.spreadsheet,i=n==null?void 0:n.options,o=i.frozenColCount,a=i.frozenTrailingColCount,l=t.colIndex,s=n==null?void 0:n.facet.layoutResult.colLeafNodes;return Zo(l,o)||Qo(l,a,s.length)},r.prototype.clear=function(){var t,n,i=this.headerConfig.spreadsheet;e.prototype.clear.call(this),(t=this.frozenTrailingColGroup)===null||t===void 0||t.clear(),(n=this.frozenColGroup)===null||n===void 0||n.clear();var o=i==null?void 0:i.foregroundGroup.findById(oC);o==null||o.clear()},r.prototype.getCellInstance=function(t,n,i){return t.field===$o?new qU(t,n,i):new CS(t,n,i)},r.prototype.getCellGroup=function(t){var n,i=this.headerConfig.spreadsheet,o=kv(t).colIndex;return Zo(o,this.finalColCount)?this.frozenColGroup:Qo(o,this.finalTrailingColCount,(n=i==null?void 0:i.facet)===null||n===void 0?void 0:n.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},r.prototype.isColCellInRect=function(t){var n,i=this.headerConfig.spreadsheet,o=(n=i==null?void 0:i.facet)===null||n===void 0?void 0:n.layoutResult.colLeafNodes.length,a=kv(t).colIndex;return Zo(a,this.finalColCount)||Qo(a,this.finalTrailingColCount,o)?!0:e.prototype.isColCellInRect.call(this,t)},r.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},r}(Op),cV=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;n.onSortHandler=function(o){var a=n.spreadsheet,l=o;Array.isArray(o)||(l=[o]);var s=a.dataCfg.sortParams||[];l=l.map(function(h){var d,v,g=B(B({},h),{sortFieldId:(d=h.sortKey)!==null&&d!==void 0?d:h.sortFieldId}),y=(v=s.find(function(C){return C.sortFieldId===g.sortFieldId}))!==null&&v!==void 0?v:{};return B(B({},y),g)});var f=s.filter(function(h){var d=l.find(function(v){return v.sortFieldId===h.sortFieldId});return!d});ts(a.dataCfg,"sortParams",j(j([],W(f),!1),W(l),!1)),a.setDataCfg(a.dataCfg),a.render(!0),a.emit(I.RANGE_SORTED,a.dataSet.getDisplayDataSet())},n.onFilterHandler=function(o){var a=n.spreadsheet,l=!o.filteredValues||o.filteredValues.length===0,s=a.dataCfg.filterParams||[],f=s.findIndex(function(h){return h.filterKey===o.filterKey});f!==-1?l?s.splice(f,1):s[f]=o:s.push(o),ts(a.dataCfg,"filterParams",s),a.render(!0),a.emit(I.RANGE_FILTERED,a.dataSet.getDisplayDataSet())},n.renderFrozenPanelCornerGroup=function(){var o=n.layoutResult.colNodes.filter(function(_){return ni(_)}),a=n.getCellRange(),l=ao(n.spreadsheet.options,o.length,a.end-a.start+1),s=l.frozenRowCount,f=l.frozenColCount,h=l.frozenTrailingRowCount,d=l.frozenTrailingColCount,v=Lf(o,f,d),g=v.colCount,y=v.trailingColCount,C=PW({frozenRowCount:s,frozenColCount:g,frozenTrailingRowCount:h,frozenTrailingColCount:y},n.layoutResult.colLeafNodes.length,a);Object.keys(C).forEach(function(_){var w=C[_],S=n.spreadsheet[dC[_]];S&&w.forEach(function(b){n.addFrozenCell(b.x,b.y,S)})})},n.addFrozenCell=function(o,a,l){var s=n.layoutResult.getCellMeta(a,o);if(s.isFrozenCorner=!0,s){var f=n.cfg.dataCell(s);l.add(f)}};var i=n.spreadsheet;return i.on(I.RANGE_SORT,n.onSortHandler),i.on(I.RANGE_FILTER,n.onFilterHandler),n}return r.prototype.updateRowResizeArea=function(){var t=this.spreadsheet,n=t.foregroundGroup,i=t.options,o=ve(i,"interaction.resize"),a=ei(o)?o:o==null?void 0:o.rowCellVertical;if(a){var l=n.findById(Aa),s=n.findById(rC);l&&l.set("children",[]),s&&s.set("children",[]);var f=Ss(this.panelGroup.getChildren(),$f).filter(function(h){return h.shouldDrawResizeArea()});f==null||f.forEach(function(h){h.drawResizeArea()})}},r.prototype.clip=function(t,n){e.prototype.clip.call(this,t,n),this.clipResizeAreaGroup()},r.prototype.clipResizeAreaGroup=function(){var t,n,i=this.spreadsheet.foregroundGroup.findById(Aa);if(i){var o=this.layoutResult.colLeafNodes,a=this.spreadsheet,l=a.frozenRowGroup,s=a.frozenTrailingRowGroup,f=0,h=0;l&&(f=l.getBBox().height),s&&(h=s.getBBox().height);var d=this.panelBBox.height-f-h;i.setClip({type:"rect",attrs:{x:0,y:f+this.cornerBBox.height,width:(n=(t=o==null?void 0:o[0])===null||t===void 0?void 0:t.width)!==null&&n!==void 0?n:0,height:d}})}},r.prototype.getContentHeight=function(){var t=this.getViewCellHeights().getTotalHeight,n=this.layoutResult.colsHierarchy;return t()+n.height},Object.defineProperty(r.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){var t=this.spreadsheet;t.off(I.RANGE_SORT,this.onSortHandler),t.off(I.RANGE_FILTER,this.onFilterHandler),e.prototype.destroy.call(this)},r.prototype.calculateCornerBBox=function(){var t=this.layoutResult.colsHierarchy,n=Math.floor(t.height);this.cornerBBox=new g2(this),this.cornerBBox.height=n,this.cornerBBox.maxY=n},r.prototype.doLayout=function(){var t=this,n=this.cfg,i=n.dataSet,o=n.spreadsheet,a=new yx,l=Mp({isRowHeader:!1,facetCfg:this.cfg}),s=l.leafNodes,f=l.hierarchy;this.calculateColNodesCoordinate(s,f);var h=function(v,g){var y,C=t.cfg.showSeriesNumber,_=s[g],w=t.getCellHeight(v),S=t.getCellRange(),b=ao(t.cfg,s.length,S.end-S.start+1).frozenTrailingRowCount,E,O=_.x,D=t.viewCellHeights.getCellOffsetY(v);return ls(v,S.end,b)&&(D=t.panelBBox.maxY-t.getTotalHeightForRange(v,S.end)),C&&_.field===$o?E="".concat(v+1):E=i.getCellData({query:{field:_.field,rowIndex:v}}),{spreadsheet:o,x:O,y:D,width:_.width,height:w,data:(y={},y[_.field]=E,y),rowIndex:v,colIndex:g,isTotals:!1,colId:_.id,rowId:String(v),valueField:_.field,fieldValue:E,id:vs(String(v),_.id)}},d={colNodes:f.getNodes(),colsHierarchy:f,rowNodes:a.getNodes(),rowsHierarchy:a,rowLeafNodes:a.getLeaves(),colLeafNodes:s,getCellMeta:h,spreadsheet:o};return d},r.prototype.getAdaptiveColWidth=function(t){var n=this.cfg.cellCfg,i=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==Po.Compact){var o=this.getSeriesNumberWidth(),a=t.length-(i?1:0),l=this.getCanvasHW().width-o;return Math.max(n==null?void 0:n.width,l/Math.max(1,a))}return n==null?void 0:n.width},r.prototype.getColNodeHeight=function(t,n){var i=this.cfg.colCfg,o=Si(i==null?void 0:i.heightByField)[0],a=o||(i==null?void 0:i.height);if(!n||t.children&&t.children.length)return a;for(;t.parent;)n-=ni(t)?0:a,t=t.parent;return n},r.prototype.calculateColNodesCoordinate=function(t,n){var i,o,a,l,s,f,h=Ut.blankNode(),d=n.getNodes();try{for(var v=sr(n.sampleNodesForAllLevels),g=v.next();!g.done;g=v.next()){var y=g.value;y.height=this.getColNodeHeight(y),n.height+=y.height}}catch(H){i={error:H}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}for(var C=this.getAdaptiveColWidth(t),_=0,w=0;w<d.length;w++){var S=d[w];S.isLeaf&&(S.colIndex=_,_+=1,S.x=h.x+h.width,S.width=this.calculateColLeafNodesWidth(S,C),Nv(this.cfg,null,S),n.width+=S.width,h=S),S.level===0?S.y=0:S.y=(s=((a=S.parent)===null||a===void 0?void 0:a.y)+((l=S.parent)===null||l===void 0?void 0:l.height))!==null&&s!==void 0?s:0,S.height=this.getColNodeHeight(S,n.height)}var b=d.filter(function(H){return ni(H)}),E=ao((f=this.spreadsheet)===null||f===void 0?void 0:f.options,b.length).frozenTrailingColCount;h=Ut.blankNode();var O=this.getCanvasHW().width;if(E>0)for(var D=Lf(b,0,E).trailingColCount,F=d.filter(function(H){return H.isLeaf}),w=1;w<=D;w++){var S=F[F.length-w];w===1?S.x=O-S.width:S.x=h.x-S.width,h=S}this.autoCalculateColNodeWidthAndX(t)},r.prototype.autoCalculateColNodeWidthAndX=function(t){for(var n=null,i=t.slice(0);i.length;){var o=i.shift(),a=o.parent;n!==a&&a&&(i.push(a),a.x=a.children[0].x,a.width=a.children.map(function(l){return l.width}).reduce(function(l,s){return l+s},0),n=a)}},r.prototype.calculateColLeafNodesWidth=function(t,n){var i=this.cfg,o=i.colCfg,a=i.dataSet,l=i.spreadsheet,s=this.spreadsheet.getLayoutWidthType(),f=this.getCellDraggedWidth(t);if(pr(f))return f;var h=this.getCellCustomWidth(t,o==null?void 0:o.width);if(pr(h))return h;var d;if(s===Po.Compact){var v=a.getDisplayDataSet(),g=a.getFieldFormatter(t.field),y=iv(v==null?void 0:v.slice(0,50).map(function(D){var F;return"".concat((F=g==null?void 0:g(D[t.field]))!==null&&F!==void 0?F:D[t.field])}),function(D){return l.measureTextWidthRoughly(D)});ri.getInstance().logger("Max Label In Col:",t.field,y);var C=l.theme.colCell.bolderText,_=l.theme.dataCell,w=_.text,S=_.cell,b=1,E=l.measureTextWidth(y,w)+S.padding.left+S.padding.right+b,O=l.measureTextWidth(t.label,C)+VU(this.spreadsheet,t,l.theme.colCell);d=Math.max(O,E)}else d=n;return t.field===$o&&(d=this.getSeriesNumberWidth()),d},r.prototype.initRowOffsets=function(){var t=this,n,i=this.cfg.dataSet,o=(((n=this.spreadsheet.options.style)===null||n===void 0?void 0:n.rowCfg)||{}).heightByField,a=o===void 0?{}:o;if(Object.keys(a).length){var l=i.getDisplayDataSet();this.rowOffsets=[0];var s=0;l.forEach(function(f,h){var d,v=(d=a==null?void 0:a[String(h)])!==null&&d!==void 0?d:t.getDefaultCellHeight(),g=s+v;t.rowOffsets.push(g),s=g})}},r.prototype.getCellHeight=function(t){var n;if(this.rowOffsets){var i=(((n=this.spreadsheet.options.style)===null||n===void 0?void 0:n.rowCfg)||{}).heightByField,o=i===void 0?{}:i,a=o==null?void 0:o[String(t)];if(pr(a))return a}return this.getDefaultCellHeight()},r.prototype.getViewCellHeights=function(){var t=this,n=this.cfg.dataSet,i=this.getDefaultCellHeight();return{getTotalHeight:function(){return t.rowOffsets?nt(t.rowOffsets):i*n.getDisplayDataSet().length},getCellOffsetY:function(o){if(o<=0)return 0;if(t.rowOffsets)return t.rowOffsets[o];for(var a=0,l=0;l<o;l++)a+=i;return a},getTotalLength:function(){return n.getDisplayDataSet().length},getIndexRange:function(o,a){if(t.rowOffsets)return c2(t.rowOffsets,o,a);var l=Math.floor(o/i),s=a%i===0?a/i-1:Math.floor(a/i);return{start:Math.max(0,l),end:Math.max(0,s)}}}},r.prototype.init=function(){this.initRowOffsets(),e.prototype.init.call(this);var t=this.panelBBox,n=t.width,i=t.height;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:n,height:i}})},r.prototype.getColHeader=function(){if(!this.columnHeader){var t=this.panelBBox,n=t.x,i=t.width,o=t.viewportHeight,a=t.viewportWidth;return new fV({width:i,height:this.cornerBBox.height,viewportWidth:a,viewportHeight:o,cornerWidth:this.cornerBBox.width,position:{x:n,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},r.prototype.render=function(){this.renderFrozenPanelCornerGroup(),e.prototype.render.call(this)},r.prototype.getRowHeader=function(){return null},r.prototype.getSeriesNumberHeader=function(){return null},r}(m2),S2=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;return n.gridInfo={cols:[],rows:[]},n.updateGrid=function(i,o){o===void 0&&(o=aC);var a=n.getBBox(),l=n.s2,s=l.theme,f=l.isTableMode,h=s.dataCell.cell,d=f()&&(o===aC||o===tC);(!n.gridGroup||!n.findById(o))&&(n.gridGroup=n.addGroup({id:o})),n.gridGroup.clear(),n.gridInfo=i,d&&n.gridInfo.cols.unshift(0);var v=h.verticalBorderWidth,g=h.verticalBorderWidth/2;n.gridInfo.cols.forEach(function(_){Yt(n.gridGroup,{x1:_,x2:_,y1:Math.ceil(a.minY+g),y2:Math.floor(a.maxY-g)},{stroke:h.verticalBorderColor,strokeOpacity:h.verticalBorderColorOpacity,lineWidth:v,lineCap:cC,lineDash:h.borderDash})});var y=h.horizontalBorderWidth,C=h.horizontalBorderWidth/2;n.gridInfo.rows.forEach(function(_){Yt(n.gridGroup,{x1:Math.ceil(a.minX+C),x2:Math.floor(a.maxX-C),y1:_,y2:_},{stroke:h.horizontalBorderColor,strokeOpacity:h.horizontalBorderColorOpacity,lineWidth:y,lineCap:cC,lineDash:h.borderDash})}),n.gridGroup.toFront()},n.s2=t.s2,n}return r}(Vn),b2=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r}(S2),hV=function(e){re(r,e);function r(t){var n=e.call(this,t)||this;return n.initMergedCellsGroup(),n}return r.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(Jy)||(this.mergedCellsGroup=this.addGroup({id:Jy}))},r.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),IU(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},r.prototype.addMergeCell=function(t){var n;(n=this.mergedCellsGroup)===null||n===void 0||n.add(t)},r.prototype.update=function(t){this.updateGrid(t),this.updateMergedCells()},r}(S2),Fn=function(){function e(r){var t=this;this.isLinkFieldText=function(n){var i=t.getCellAppendInfo(n);return i==null?void 0:i.isLinkFieldText},this.spreadsheet=r,this.bindEvents()}return e.prototype.getCellAppendInfo=function(r){var t,n;return((t=r==null?void 0:r.attr)===null||t===void 0?void 0:t.call(r,"appendInfo"))||((n=r==null?void 0:r.attrs)===null||n===void 0?void 0:n.appendInfo)||{}},e.prototype.reset=function(){},e}(),dV=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.bindEvents=function(){this.bindDataCellClick()},r.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(I.DATA_CELL_CLICK,function(n){var i;n.stopPropagation();var o=t.spreadsheet.interaction;if(o.clearHoverTimer(),!o.hasIntercepts([Ee.CLICK])){if(t.isLinkFieldText(n.target)){t.emitLinkFieldClickEvent(n);return}var a=t.spreadsheet.getCell(n.target),l=a.getMeta();if(l){if(o.addIntercepts([Ee.HOVER]),o.isSelectedCell(a)){((i=n.originalEvent)===null||i===void 0?void 0:i.detail)===1&&(o.reset(),t.spreadsheet.emit(I.GLOBAL_SELECTED,o.getActiveCells()));return}o.changeState({cells:[ii(a)],stateName:le.SELECTED,onUpdateCells:op}),t.spreadsheet.emit(I.GLOBAL_SELECTED,[a]),t.showTooltip(n,l);var s=l.rowId,f=l.colId,h=l.spreadsheet,d=o.getSelectedCellHighlight(),v=d.colHeader,g=d.rowHeader;if(v&&tS(f,o.getAllColHeaderCells(),le.SELECTED),g&&s){var y=hY(l,h);_e(y,function(C){C.updateByState(le.SELECTED)})}}}})},r.prototype.getTooltipOperator=function(t,n){var i=this,o=tW(),a=this.spreadsheet.getCell(t.target),l=gp(this.spreadsheet,t).operation,s=l.trend&&B(B({},o),{onClick:function(){i.spreadsheet.emit(I.DATA_CELL_TREND_ICON_CLICK,B(B({},n),{record:i.spreadsheet.isTableMode()?i.spreadsheet.dataSet.getCellData({query:{rowIndex:n.rowIndex}}):void 0})),i.spreadsheet.hideTooltip()}});return qS(l,{defaultMenus:[s],cell:a})},r.prototype.showTooltip=function(t,n){var i=n.data,o=n.isTotals,a=o===void 0?!1:o,l=n.value,s=n.fieldValue,f=n.field,h=n.valueField,d=i,v=this.spreadsheet.isTableMode(),g=v?B(B({},d),{value:l||s,valueField:f||h}):d,y=[g||B(B({},n.rowQuery),n.colQuery)],C=this.getTooltipOperator(t,n);this.spreadsheet.showTooltipWithInfo(t,y,{isTotals:a,operator:C,enterable:!0,hideSummary:!0,showSingleTips:v})},r.prototype.emitLinkFieldClickEvent=function(t){var n=this.getCellAppendInfo(t.target).cellData,i=n.valueField,o=n.data;this.spreadsheet.emit(I.GLOBAL_LINK_FIELD_JUMP,{key:i,cellData:n,record:Object.assign({rowIndex:n.rowIndex},o)})},r}(Fn),vV=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.bindEvents=function(){this.bindDataCellClick()},r.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(I.MERGED_CELLS_CLICK,function(n){n.stopPropagation();var i=t.spreadsheet.interaction;i.hasIntercepts([Ee.CLICK])||i.addIntercepts([Ee.HOVER])})},r}(Fn),pV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isMultiSelection=!1,t.handleRowColClick=function(n){if(n.stopPropagation(),!t.isLinkFieldText(n.target)){var i=t.spreadsheet,o=i.interaction,a=i.options,l=t.spreadsheet.getCell(n.target),s=a.interaction.multiSelection,f=!!(s&&t.isMultiSelection),h=o.selectHeaderCell({cell:l,isMultiSelection:f});h&&t.showTooltip(n)}},t.getHideColumnField=function(n){return t.spreadsheet.isTableMode()?n.field:n.id},t}return r.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},r.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([Ee.CLICK])},r.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(I.GLOBAL_KEYBOARD_DOWN,function(n){Pf(n)&&(t.isMultiSelection=!0)})},r.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(I.GLOBAL_KEYBOARD_UP,function(n){Pf(n)&&t.reset()})},r.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(I.GLOBAL_MOUSE_MOVE,function(n){t.isMultiSelection&&!ES(n)&&t.reset()})},r.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(I.ROW_CELL_CLICK,function(n){t.handleRowColClick(n)})},r.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.on(I.COL_CELL_CLICK,function(n){t.handleRowColClick(n)})},r.prototype.showTooltip=function(t){var n=gp(this.spreadsheet,t),i=n.operation,o=n.showTooltip;if(o){var a=this.spreadsheet.interaction,l=a.isSelectedState()?xX(a.getActiveCells()):[],s=this.getTooltipOperator(t,i);this.spreadsheet.showTooltipWithInfo(t,l,{showSingleTips:!0,operator:s})}},r.prototype.getTooltipOperator=function(t,n){var i=this,o=this.spreadsheet.getCell(t.target),a=o.getMeta(),l=o.cellType===ee.COL_CELL,s=this.spreadsheet.getColumnLeafNodes().length===1,f=eW(),h=l&&!s&&a.isLeaf&&n.hiddenColumns,d=h&&B(B({},f),{onClick:function(){i.hideSelectedColumns()}});return qS(n,{defaultMenus:[d],cell:o})},r.prototype.bindTableColExpand=function(){var t=this;this.spreadsheet.on(I.LAYOUT_COLS_EXPANDED,function(n){t.handleExpandIconClick(n)})},r.prototype.hideSelectedColumns=function(){var t=this.spreadsheet.interaction,n=t.getActiveCells().map(function(o){return o.getMeta()}),i=n.map(this.getHideColumnField);Qv(this.spreadsheet,i,!0)},r.prototype.handleExpandIconClick=function(t){var n=this.spreadsheet.store.get("hiddenColumnsDetail",[]),i=(ff(n,function(h){var d=h.displaySiblingNode;return Jv(d,t.id)})||{}).hideColumnNodes,o=i===void 0?[]:i,a=this.spreadsheet.options.interaction.hiddenColumnFields,l=o.map(this.getHideColumnField),s=D_(a,l),f=n.filter(function(h){var d=h.displaySiblingNode;return!Jv(d,t.id)});this.spreadsheet.setOptions({interaction:{hiddenColumnFields:s}}),this.spreadsheet.store.set("hiddenColumnsDetail",f),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},r}(Fn),gV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.getRowData=function(n){var i,o=n.getHeadLeafChild(),a=t.spreadsheet.dataSet.getMultiData(o==null?void 0:o.query)[0];return B(B({},a),{rowIndex:(i=n.rowIndex)!==null&&i!==void 0?i:o.rowIndex})},t}return r.prototype.bindEvents=function(){this.bindRowCellClick()},r.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(I.ROW_CELL_CLICK,function(n){if(!t.spreadsheet.interaction.hasIntercepts([Ee.CLICK])&&t.isLinkFieldText(n.target)){var i=t.getCellAppendInfo(n.target).cellData,o=i.key,a=t.getRowData(i);t.spreadsheet.emit(I.GLOBAL_LINK_FIELD_JUMP,{key:o,cellData:i,record:a})}})},r}(Fn),yV=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.bindEvents=function(){this.bindCornerCellClick()},r.prototype.bindCornerCellClick=function(){var t=this;this.spreadsheet.on(I.CORNER_CELL_CLICK,function(n){var i,o=t.spreadsheet.interaction,a=t.spreadsheet.getCell(n.target);if(a){var l=a.getMeta(),s=t.getRowNodesByField(l==null?void 0:l.field),f=(i=s[0])===null||i===void 0?void 0:i.belongsCell,h=t.getRowCells(s);if(f&&o.isSelectedCell(f)){o.reset(),t.spreadsheet.emit(I.GLOBAL_SELECTED,o.getActiveCells());return}J(s)||J(h)||(o.addIntercepts([Ee.HOVER]),o.changeState({cells:h,stateName:le.SELECTED}),o.highlightNodes(s),t.showTooltip(n),t.spreadsheet.emit(I.GLOBAL_SELECTED,o.getActiveCells()))}})},r.prototype.getRowNodesByField=function(t){return this.spreadsheet.getRowNodes().filter(function(n){return n.field===t})},r.prototype.getRowCells=function(t){return t.map(function(n){return{id:n.id,colIndex:-1,rowIndex:-1,type:ee.ROW_CELL}})},r.prototype.showTooltip=function(t){var n=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(t,[],{data:{summaries:[{selectedData:n,name:"",value:null}]}})},r}(Fn),CV=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},r.prototype.updateRowColCells=function(t){var n=t.rowId,i=t.colId,o=this.spreadsheet.interaction,a=o.getHoverHighlight(),l=a.rowHeader,s=a.colHeader;if(s&&tS(i,o.getAllColHeaderCells(),le.HOVER),l&&n){var f=qv(n,o.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType());_e(f,function(h){h.updateByState(le.HOVER)})}},r.prototype.changeStateToHoverFocus=function(t,n,i){var o=this,a,l=this.spreadsheet.interaction,s=this.spreadsheet.options.interaction,f=s.hoverFocus;l.clearHoverTimer();var h=function(){if(!l.hasIntercepts([Ee.HOVER])){l.changeState({cells:[ii(t)],stateName:le.HOVER_FOCUS});var g=o.spreadsheet.isTableMode(),y={isTotals:i.isTotals,enterable:!0,hideSummary:!0,showSingleTips:g},C=l.getHoverHighlight(),_=C.rowHeader,w=C.colHeader;(_||w)&&o.updateRowColCells(i);var S=o.getCellData(i,g);o.spreadsheet.showTooltipWithInfo(n,S,y)}},d=ed;if(ei(f)||(d=(a=f==null?void 0:f.duration)!==null&&a!==void 0?a:ed),d===0)h();else{var v=window.setTimeout(function(){return h()},d);l.setHoverTimer(v)}},r.prototype.handleHeaderHover=function(t){var n=this.spreadsheet.getCell(t.target);if(!J(n)){var i=this.spreadsheet.interaction;i.clearHoverTimer(),!i.isActiveCell(n)&&(i.changeState({cells:[ii(n)],stateName:le.HOVER}),n.update(),this.showEllipsisTooltip(t,n))}},r.prototype.showEllipsisTooltip=function(t,n){if(!n||!n.isTextOverflowing()){this.spreadsheet.hideTooltip();return}var i=n.getMeta(),o=!0,a={isTotals:i.isTotals,enterable:!0,hideSummary:!0,showSingleTips:o,enableFormat:!0},l=this.getCellData(i,o);this.spreadsheet.showTooltipWithInfo(t,l,a)},r.prototype.getCellData=function(t,n){t===void 0&&(t={});var i=t.data,o=t.query,a=t.value,l=t.field,s=t.fieldValue,f=t.valueField,h=t.rowQuery,d=t.colQuery,v=i,g=n?[B(B({},o),{value:a||s,valueField:l||f})]:[v||B(B({},h),d)];return g},r.prototype.bindDataCellHover=function(){var t=this;this.spreadsheet.on(I.DATA_CELL_HOVER,function(n){var i=t.spreadsheet.getCell(n.target);if(!J(i)){var o=t.spreadsheet,a=o.interaction,l=o.options,s=l.interaction,f=i==null?void 0:i.getMeta();if(!a.isActiveCell(i)){a.changeState({cells:[ii(i)],stateName:le.HOVER});var h=a.getHoverHighlight(),d=h.rowHeader,v=h.colHeader;(d||v)&&t.updateRowColCells(f),s.hoverFocus&&t.changeStateToHoverFocus(i,n,f)}}})},r.prototype.bindRowCellHover=function(){var t=this;this.spreadsheet.on(I.ROW_CELL_HOVER,function(n){t.handleHeaderHover(n)})},r.prototype.bindColCellHover=function(){var t=this;this.spreadsheet.on(I.COL_CELL_HOVER,function(n){t.handleHeaderHover(n)})},r.prototype.bindCornerCellHover=function(){var t=this;this.spreadsheet.on(I.CORNER_CELL_HOVER,function(n){t.handleHeaderHover(n)})},r}(Fn),Bp=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.brushSelectionStage=Jt.UN_DRAGGED,t.brushSelectionMinimumMoveDistance=5,t.scrollAnimationComplete=!0,t.mouseMoveDistanceFromCanvas=0,t.setMoveDistanceFromCanvas=function(n,i,o){var a=0;if(i&&(a=n.x),o){var l=n.y;i?a=Math.max(l,a):a=l}t.mouseMoveDistanceFromCanvas=Math.abs(a)},t.formatBrushPointForScroll=function(n,i){var o,a,l,s;i===void 0&&(i=!1);var f=n.x,h=n.y,d=t.spreadsheet.facet,v=i?d.cornerBBox:d.panelBBox,g=v.minX,y=v.maxX,C=d.panelBBox,_=C.minY,w=C.maxY,S=((o=t.endBrushPoint)===null||o===void 0?void 0:o.x)+f,b=((a=t.endBrushPoint)===null||a===void 0?void 0:a.y)+h,E=!0,O=!0,D=(s=(l=d.vScrollBar)===null||l===void 0?void 0:l.getBBox())===null||s===void 0?void 0:s.width,F=2;return S>y?S=y-D-F:S<g?S=g+F:E=!1,b>w?b=w-F:b<=_?b=_+F:O=!1,{x:{value:S,needScroll:E},y:{value:b,needScroll:O}}},t.rectanglesIntersect=function(n,i){return n.maxX>i.minX&&n.minX<i.maxX&&n.minY<i.maxY&&n.maxY>i.minY},t.autoScrollIntervalId=null,t.autoScrollConfig=Md(pC),t.validateYIndex=function(n){var i,o,a=t.spreadsheet.facet,l=a.frozenGroupInfo,s=0,f=(i=l==null?void 0:l.frozenRow)===null||i===void 0?void 0:i.range;if(f&&(s=f[1]+1),n<s)return null;var h=a.getCellRange().end,d=(o=l==null?void 0:l.frozenTrailingRow)===null||o===void 0?void 0:o.range;return d&&(h=d[0]-1),n>h?null:n},t.validateXIndex=function(n){var i,o,a=t.spreadsheet.facet,l=a.frozenGroupInfo,s=0,f=(i=l==null?void 0:l.frozenCol)===null||i===void 0?void 0:i.range;if(f&&(s=f[1]+1),n<s)return null;var h=a.layoutResult.colLeafNodes.length-1,d=(o=l==null?void 0:l.frozenTrailingCol)===null||o===void 0?void 0:o.range;return d&&(h=d[0]-1),n>h?null:n},t.adjustNextColIndexWithFrozen=function(n,i){var o=t.spreadsheet,a=o.facet,l=o.dataSet,s=o.options,f=l.getDisplayDataSet().length,h=a.layoutResult.colLeafNodes.length,d=ao(s,h,f),v=d.frozenTrailingColCount,g=d.frozenColCount,y=a.panelScrollGroupIndexes;return v>0&&i===Pt.SCROLL_DOWN&&Qo(n,v,h)?y[1]:g>0&&i===Pt.SCROLL_UP&&Zo(n,g)?y[0]:n},t.adjustNextRowIndexWithFrozen=function(n,i){var o=t.spreadsheet,a=o.facet,l=o.dataSet,s=o.options,f=l.getDisplayDataSet().length,h=a.layoutResult.colLeafNodes.length,d=a.getCellRange(),v=ao(s,h,f),g=v.frozenTrailingRowCount,y=v.frozenRowCount,C=a.panelScrollGroupIndexes;return g>0&&i===Pt.SCROLL_DOWN&&ls(n,d.end,g)?C[3]:y>0&&i===Pt.SCROLL_UP&&Tf(n,d.start,y)?C[2]:n},t.getWillScrollRowIndexDiff=function(n){return n===Pt.SCROLL_DOWN?Pu.SCROLL_DOWN:Pu.SCROLL_UP},t.getDefaultWillScrollToRowIndex=function(n){var i=t.adjustNextRowIndexWithFrozen(t.endBrushPoint.rowIndex,n),o=i+t.getWillScrollRowIndexDiff(n);return t.validateYIndex(o)},t.getWillScrollToRowIndex=function(n){return t.getDefaultWillScrollToRowIndex(n)},t.getNextScrollDelta=function(n){var i=t.spreadsheet.facet.getScrollOffset(),o=i.scrollX,a=i.scrollY,l=0,s=0;if(n.y.scroll){var f=n.y.value>0?Pt.SCROLL_DOWN:Pt.SCROLL_UP,h=t.getWillScrollToRowIndex(f),d=pY(h,f,t.spreadsheet)-a,v=It(h)||It(d)||Number.isNaN(d);s=v?0:d}if(n.x.scroll){var f=n.x.value>0?Pt.SCROLL_DOWN:Pt.SCROLL_UP,g=t.adjustNextColIndexWithFrozen(t.endBrushPoint.colIndex,f),y=t.validateXIndex(g+(n.x.value>0?1:-1));l=It(y)?0:vY(y,f,t.spreadsheet)-o}return{x:l,y:s}},t.onScrollAnimationComplete=function(){t.scrollAnimationComplete=!0,t.brushSelectionStage!==Jt.UN_DRAGGED&&t.renderPrepareSelected(t.endBrushPoint)},t.autoScroll=function(n){if(n===void 0&&(n=!1),!(t.brushSelectionStage===Jt.UN_DRAGGED||!t.scrollAnimationComplete)){var i=t.autoScrollConfig,o=t.spreadsheet.facet.getScrollOffset(),a=n?"rowHeaderOffsetX":"offsetX",l={rowHeaderOffsetX:{value:o.rowHeaderScrollX,animate:!0},offsetX:{value:o.scrollX,animate:!0},offsetY:{value:o.scrollY,animate:!0}},s=t.getNextScrollDelta(i),f=s.x,h=s.y;if(h===0&&f===0){t.clearAutoScroll();return}if(i.y.scroll&&(l.offsetY.value+=h),i.x.scroll){var d=l[a];d.value+=f,d.value<0&&(d.value=0)}t.scrollAnimationComplete=!1;var v=i.x.scroll?1:3,g=Math.max(16,300-t.mouseMoveDistanceFromCanvas*v);t.spreadsheet.facet.scrollWithAnimation(l,g,t.onScrollAnimationComplete)}},t.handleScroll=Sv(function(n,i,o){if(o===void 0&&(o=!1),t.brushSelectionStage!==Jt.UN_DRAGGED){var a=t.formatBrushPointForScroll({x:n,y:i},o),l=a.x,s=l.value,f=l.needScroll,h=a.y,d=h.value,v=h.needScroll,g=t.autoScrollConfig;v&&(g.y.value=i,g.y.scroll=!0),f&&(g.x.value=n,g.x.scroll=!0),t.setMoveDistanceFromCanvas({x:n,y:i},f,v),t.renderPrepareSelected({x:s,y:d}),(v||f)&&(t.clearAutoScroll(),t.autoScroll(o),t.autoScrollIntervalId=setInterval(function(){t.autoScroll(o)},16))}},30),t.clearAutoScroll=function(){t.autoScrollIntervalId&&(clearInterval(t.autoScrollIntervalId),t.autoScrollIntervalId=null,t.resetScrollDelta())},t.onUpdateCells=function(n,i){return i()},t.showPrepareSelectedCells=function(){t.brushRangeCells=t.getBrushRangeCells(),t.spreadsheet.interaction.changeState({cells:Ne(t.brushRangeCells,function(n){return ii(n)}),stateName:le.PREPARE_SELECT,force:!0,onUpdateCells:t.onUpdateCells})},t.renderPrepareSelected=function(n){var i=n.x,o=n.y,a=t.spreadsheet.container.getShape(i,o),l=t.spreadsheet.getCell(a),s=l instanceof lo||l instanceof ys||l instanceof Df;if(!(!l||!s)){var f=l.getMeta(),h=f.rowIndex,d=f.colIndex;t.endBrushPoint={x:i,y:o,rowIndex:h,colIndex:d};var v=t.spreadsheet.interaction;v.addIntercepts([Ee.HOVER]),v.clearStyleIndependent(),t.isValidBrushSelection()&&(t.showPrepareSelectedCells(),t.updatePrepareSelectMask())}},t}return r.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},r.prototype.getPrepareSelectMaskTheme=function(){var t;return(t=this.spreadsheet.theme)===null||t===void 0?void 0:t.prepareSelectMask},r.prototype.initPrepareSelectMaskShape=function(){var t=this.spreadsheet.foregroundGroup;if(t){t.removeChild(this.prepareSelectMaskShape);var n=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=t.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:n==null?void 0:n.backgroundColor,fillOpacity:n==null?void 0:n.backgroundOpacity,zIndex:UI},capture:!1})}},r.prototype.setBrushSelectionStage=function(t){this.brushSelectionStage=t},r.prototype.isPointInCanvas=function(t){var n=this.spreadsheet.facet.getCanvasHW(),i=n.height,o=n.width,a=this.spreadsheet.facet.panelBBox,l=a.minX,s=a.minY;return t.x>l&&t.x<o&&t.y>s&&t.y<i},r.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(Jt.UN_DRAGGED)},r.prototype.isValidBrushSelection=function(){var t=this.getBrushRange(),n=t.start,i=t.end,o=i.x-n.x>this.brushSelectionMinimumMoveDistance||i.y-n.y>this.brushSelectionMinimumMoveDistance;return o},r.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},r.prototype.updatePrepareSelectMask=function(){var t=this.getBrushRange(),n=this.getPrepareSelectMaskPosition(t),i=n.x,o=n.y;this.prepareSelectMaskShape.attr({x:i,y:o,width:t.width,height:t.height}),this.prepareSelectMaskShape.show()},r.prototype.hidePrepareSelectMaskShape=function(){var t;(t=this.prepareSelectMaskShape)===null||t===void 0||t.hide()},r.prototype.resetScrollDelta=function(){this.autoScrollConfig=Md(pC)},r.prototype.getBrushPoint=function(t){var n=this.spreadsheet.facet.getScrollOffset(),i=n.scrollY,o=n.scrollX,a={x:t==null?void 0:t.x,y:t==null?void 0:t.y},l=this.spreadsheet.getCell(t.target),s=l.getMeta(),f=s.colIndex,h=s.rowIndex;return B(B({},a),{rowIndex:h,colIndex:f,scrollY:i,scrollX:o})},r.prototype.getBrushRange=function(){var t,n,i,o,a,l,s,f,h=this.spreadsheet.facet.getScrollOffset(),d=h.scrollX,v=h.scrollY,g=Math.min(this.startBrushPoint.rowIndex,(t=this.endBrushPoint)===null||t===void 0?void 0:t.rowIndex),y=Math.max(this.startBrushPoint.rowIndex,(n=this.endBrushPoint)===null||n===void 0?void 0:n.rowIndex),C=Math.min(this.startBrushPoint.colIndex,(i=this.endBrushPoint)===null||i===void 0?void 0:i.colIndex),_=Math.max(this.startBrushPoint.colIndex,(o=this.endBrushPoint)===null||o===void 0?void 0:o.colIndex),w=this.startBrushPoint.x+this.startBrushPoint.scrollX-d,S=this.startBrushPoint.y+this.startBrushPoint.scrollY-v,b=Math.min(w,(a=this.endBrushPoint)===null||a===void 0?void 0:a.x),E=Math.max(w,(l=this.endBrushPoint)===null||l===void 0?void 0:l.x),O=Math.min(S,(s=this.endBrushPoint)===null||s===void 0?void 0:s.y),D=Math.max(S,(f=this.endBrushPoint)===null||f===void 0?void 0:f.y);return{start:{rowIndex:g,colIndex:C,x:b,y:O},end:{rowIndex:y,colIndex:_,x:E,y:D},width:E-b,height:D-O}},r.prototype.getBrushRangeCells=function(){var t=this;return this.setDisplayedCells(),this.displayedCells.filter(function(n){var i=n.getMeta();return t.isInBrushRange(i)})},r.prototype.mouseDown=function(t){var n;(n=t==null?void 0:t.preventDefault)===null||n===void 0||n.call(t),!this.spreadsheet.interaction.hasIntercepts([Ee.CLICK])&&(this.setBrushSelectionStage(Jt.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(t))},r.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Ee.BRUSH_SELECTION])},r.prototype.bindMouseUp=function(t){var n=this;t===void 0&&(t=!1),this.spreadsheet.on(I.GLOBAL_MOUSE_UP,function(i){if(n.brushSelectionStage!==Jt.DRAGGED){n.resetDrag();return}if(t&&n.clearAutoScroll(),n.isValidBrushSelection()){n.addBrushIntercepts(),n.updateSelectedCells();var o=pp(n.spreadsheet);n.spreadsheet.showTooltipWithInfo(i,o)}n.spreadsheet.interaction.getCurrentStateName()===le.PREPARE_SELECT&&n.spreadsheet.interaction.reset(),n.resetDrag()}),this.spreadsheet.on(I.GLOBAL_CONTEXT_MENU,function(){n.brushSelectionStage!==Jt.UN_DRAGGED&&(n.spreadsheet.interaction.removeIntercepts([Ee.HOVER]),n.resetDrag())})},r.prototype.autoBrushScroll=function(t,n){var i,o;if(n===void 0&&(n=!1),this.clearAutoScroll(),!this.isPointInCanvas(t)){var a=(t==null?void 0:t.x)-((i=this.endBrushPoint)===null||i===void 0?void 0:i.x),l=(t==null?void 0:t.y)-((o=this.endBrushPoint)===null||o===void 0?void 0:o.y);return this.handleScroll(a,l,n),!0}return!1},r.prototype.emitBrushSelectionEvent=function(t,n){this.spreadsheet.emit(t,n),this.spreadsheet.emit(I.GLOBAL_SELECTED,n),J(n)&&this.spreadsheet.interaction.removeIntercepts([Ee.HOVER])},r.prototype.getVisibleBrushRangeCells=function(t){return this.brushRangeCells.find(function(n){var i=n.getMeta();return(i==null?void 0:i.id)===t})},r.prototype.isInBrushRange=function(t){return!1},r.prototype.bindMouseDown=function(){},r.prototype.bindMouseMove=function(){},r.prototype.updateSelectedCells=function(){},r.prototype.getPrepareSelectMaskPosition=function(t){return{x:t.start.x,y:t.start.y}},r}(Fn),mV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.onUpdateCells=function(n){return n.updateCells(n.getAllColHeaderCells())},t}return r.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},r.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(I.COL_CELL_MOUSE_DOWN,function(n){t.spreadsheet.interaction.getBrushSelection().col&&e.prototype.mouseDown.call(t,n)})},r.prototype.isPointInCanvas=function(t){var n=this.spreadsheet.facet.getCanvasHW().width,i=this.spreadsheet.facet.cornerBBox,o=i.width,a=i.minY,l=i.maxY;return t.x>=o&&t.x<=n&&t.y>=a&&t.y<=l},r.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(I.COL_CELL_MOUSE_MOVE,function(n){if(t.brushSelectionStage!==Jt.UN_DRAGGED){t.setBrushSelectionStage(Jt.DRAGGED);var i=t.spreadsheet.container.getPointByEvent(n.originalEvent);t.isPointInCanvas(i)&&t.renderPrepareSelected(i)}})},r.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},r.prototype.isInBrushRange=function(t){var n=this.getBrushRange(),i=n.start,o=n.end,a=this.spreadsheet.facet.getScrollOffset().scrollX,l=this.spreadsheet.facet.cornerBBox,s=t.x,f=s===void 0?0:s,h=t.y,d=h===void 0?0:h,v=t.width,g=v===void 0?0:v,y=t.height,C=y===void 0?0:y;return this.rectanglesIntersect({minX:i.x-l.width+a,minY:i.y,maxX:o.x-l.width+a,maxY:o.y},{minX:f,maxX:f+g,minY:d,maxY:d+C})},r.prototype.updateSelectedCells=function(){var t=this.spreadsheet.interaction;t.changeState({cells:Ne(this.brushRangeCells,ii),stateName:le.BRUSH_SELECTED,onUpdateCells:this.onUpdateCells}),this.spreadsheet.emit(I.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(I.GLOBAL_SELECTED,this.brushRangeCells),J(this.brushRangeCells)&&t.removeIntercepts([Ee.HOVER])},r.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Ee.COL_BRUSH_SELECTION])},r}(Bp),_V=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.displayedCells=[],t.brushRangeCells=[],t.getSelectedCellMetas=function(n){var i=[],o=t.spreadsheet.facet.layoutResult,a=o.rowLeafNodes,l=a===void 0?[]:a,s=o.colLeafNodes,f=s===void 0?[]:s,h=Va(n.start.rowIndex,n.end.rowIndex+1),d=Va(n.start.colIndex,n.end.colIndex+1);return h.forEach(function(v){d.forEach(function(g){var y=String(f[g].id),C=J(l)?String(v):String(l[v].id);i.push({colIndex:g,rowIndex:v,id:vs(C,y),type:ee.DATA_CELL,rowId:C,colId:y,spreadsheet:t.spreadsheet})})}),i},t}return r.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(I.DATA_CELL_MOUSE_DOWN,function(n){t.spreadsheet.interaction.getBrushSelection().data&&(e.prototype.mouseDown.call(t,n),t.resetScrollDelta())})},r.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(I.GLOBAL_MOUSE_MOVE,function(n){if(t.brushSelectionStage!==Jt.UN_DRAGGED){t.setBrushSelectionStage(Jt.DRAGGED);var i=t.spreadsheet.container.getPointByEvent(n);t.autoBrushScroll(i)||t.renderPrepareSelected(i)}})},r.prototype.isInBrushRange=function(t){var n=this.getBrushRange(),i=n.start,o=n.end,a=t.rowIndex,l=t.colIndex;return a>=i.rowIndex&&a<=o.rowIndex&&l>=i.colIndex&&l<=o.colIndex},r.prototype.updateSelectedCells=function(){var t=this.getBrushRange(),n=this.getSelectedCellMetas(t);this.spreadsheet.interaction.changeState({cells:n,stateName:le.SELECTED,onUpdateCells:op});var i=this.getScrollBrushRangeCells(n);this.emitBrushSelectionEvent(I.DATA_CELL_BRUSH_SELECTION,i)},r.prototype.getScrollBrushRangeCells=function(t){var n=this;return t.map(function(i){var o=n.getVisibleBrushRangeCells(i.id);if(o)return o;var a=n.spreadsheet.facet.layoutResult.getCellMeta(i.rowIndex,i.colIndex),l=n.spreadsheet.isTableMode()?$f:lo;return new l(a,n.spreadsheet)})},r.prototype.bindMouseUp=function(){e.prototype.bindMouseUp.call(this,!0)},r.prototype.getPrepareSelectMaskPosition=function(t){var n=this.spreadsheet.facet.panelBBox,i=n.minX,o=n.minY,a=Math.max(t.start.x,i),l=Math.max(t.start.y,o);return{x:a,y:l}},r}(Bp),wV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isInBrushRange=function(n){var i=t.getBrushRange(),o=i.start,a=i.end,l=t.spreadsheet.facet.getScrollOffset(),s=l.scrollY,f=l.rowHeaderScrollX,h=t.spreadsheet.facet.cornerBBox,d=n.x,v=d===void 0?0:d,g=n.y,y=g===void 0?0:g,C=n.width,_=C===void 0?0:C,w=n.height,S=w===void 0?0:w;return t.rectanglesIntersect({minX:o.x+f,minY:o.y-h.height+s,maxX:a.x+f,maxY:a.y-h.height+s},{minX:v,maxX:v+_,minY:y,maxY:y+S})},t.onUpdateCells=function(n){return n.updateCells(n.getAllRowHeaderCells())},t.getSelectedRowNodes=function(){return t.spreadsheet.getRowNodes().filter(t.isInBrushRange)},t.getVisibleRowLeafCellByScrollDirection=function(n){var i=t.spreadsheet.interaction.getAllRowHeaderCells();return n===Pt.SCROLL_DOWN?nt(i):i.find(function(o){var a=o.getMeta();return a.isLeaf})},t.getWillScrollToRowIndex=function(n){var i,o;if(!It(t.endBrushPoint.rowIndex))return t.getDefaultWillScrollToRowIndex(n);var a=t.getVisibleRowLeafCellByScrollDirection(n),l=(o=(i=a==null?void 0:a.getMeta())===null||i===void 0?void 0:i.rowIndex)!==null&&o!==void 0?o:0,s=l+t.getWillScrollRowIndexDiff(n);return t.validateYIndex(s)},t}return r.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(I.ROW_CELL_MOUSE_DOWN,function(n){t.spreadsheet.interaction.getBrushSelection().row&&e.prototype.mouseDown.call(t,n)})},r.prototype.isPointInCanvas=function(t){var n=this.spreadsheet.facet.getCanvasHW().height,i=this.spreadsheet.facet.cornerBBox,o=i.minX,a=i.height,l=i.maxX;return t.x>=o&&t.x<=l&&t.y>=a&&t.y<=n},r.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(I.GLOBAL_MOUSE_MOVE,function(n){if(t.brushSelectionStage!==Jt.UN_DRAGGED){t.setBrushSelectionStage(Jt.DRAGGED);var i=t.spreadsheet.container.getPointByEvent(n);t.autoBrushScroll(i,!0)||t.renderPrepareSelected(i)}})},r.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},r.prototype.updateSelectedCells=function(){var t=this.getSelectedRowNodes(),n=this.getScrollBrushRangeCells(t),i=Ne(n,ii);this.spreadsheet.interaction.changeState({cells:i,stateName:le.BRUSH_SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(I.ROW_CELL_BRUSH_SELECTION,n)},r.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Ee.ROW_BRUSH_SELECTION])},r.prototype.getScrollBrushRangeCells=function(t){var n=this;return t.map(function(i){var o=n.getVisibleBrushRangeCells(i.id);return o||n.spreadsheet.facet.rowHeader.createCellInstance(i)})},r.prototype.getPrepareSelectMaskPosition=function(t){var n=this.spreadsheet.facet.panelBBox.minY,i=t.start.x,o=Math.max(t.start.y,n);return{x:i,y:o}},r}(Bp),xV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isMultiSelection=!1,t}return r.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},r.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([Ee.CLICK])},r.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(I.GLOBAL_KEYBOARD_DOWN,function(n){Pf(n)&&(t.isMultiSelection=!0,t.spreadsheet.interaction.addIntercepts([Ee.CLICK]))})},r.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(I.GLOBAL_KEYBOARD_UP,function(n){Pf(n)&&t.reset()})},r.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(I.GLOBAL_MOUSE_MOVE,function(n){t.isMultiSelection&&!ES(n)&&t.reset()})},r.prototype.getSelectedCells=function(t){var n=t.getMeta().id,i=this.spreadsheet.interaction,o=i.getCells([ee.DATA_CELL]),a=[];return i.getCurrentStateName()!==le.SELECTED&&(o=[]),o.find(function(l){return l.id===n})?a=o.filter(function(l){return l.id!==n}):a=j(j([],W(o),!1),[ii(t)],!1),a},r.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(I.DATA_CELL_CLICK,function(n){n.stopPropagation();var i=t.spreadsheet.getCell(n.target),o=i.getMeta(),a=t.spreadsheet.interaction;if(t.isMultiSelection&&o){var l=t.getSelectedCells(i);if(J(l)){a.clearState(),t.spreadsheet.hideTooltip(),t.spreadsheet.emit(I.GLOBAL_SELECTED,a.getActiveCells());return}a.addIntercepts([Ee.CLICK,Ee.HOVER]),t.spreadsheet.hideTooltip(),a.changeState({cells:l,stateName:le.SELECTED,onUpdateCells:op}),t.spreadsheet.emit(I.GLOBAL_SELECTED,a.getActiveCells()),t.spreadsheet.showTooltipWithInfo(n,pp(t.spreadsheet))}})},r}(Fn),SV=function(){function e(r){var t=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(n){return n instanceof Wh&&n.attrs.type===os.type},this.onCanvasMousedown=function(n){if(t.target=n.target,t.spreadsheet.interaction.clearHoverTimer(),t.isResizeArea(n)){t.spreadsheet.emit(I.LAYOUT_RESIZE_MOUSE_DOWN,n);var i=function(a){if(!t.spreadsheet.getCanvasElement())return!1;t.spreadsheet.getCanvasElement()!==a.target&&(n.clientX=a.clientX,n.clientY=a.clientY,n.originalEvent=a,t.spreadsheet.emit(I.LAYOUT_RESIZE_MOUSE_MOVE,n))};window.addEventListener("mousemove",i),window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",i)},{once:!0});return}var o=t.spreadsheet.getCellType(n.target);switch(o){case ee.DATA_CELL:t.spreadsheet.emit(I.DATA_CELL_MOUSE_DOWN,n);break;case ee.ROW_CELL:t.spreadsheet.emit(I.ROW_CELL_MOUSE_DOWN,n);break;case ee.COL_CELL:t.spreadsheet.emit(I.COL_CELL_MOUSE_DOWN,n);break;case ee.CORNER_CELL:t.spreadsheet.emit(I.CORNER_CELL_MOUSE_DOWN,n);break;case ee.MERGED_CELL:t.spreadsheet.emit(I.MERGED_CELLS_MOUSE_DOWN,n);break}},this.onCanvasMousemove=function(n){if(t.canvasMousemoveEvent=n,t.isResizeArea(n)){t.activeResizeArea(n),t.spreadsheet.emit(I.LAYOUT_RESIZE_MOUSE_MOVE,n);return}t.resetResizeArea();var i=t.spreadsheet.getCell(n.target);if(i){var o=i.cellType;switch(o){case ee.DATA_CELL:t.spreadsheet.emit(I.DATA_CELL_MOUSE_MOVE,n);break;case ee.ROW_CELL:t.spreadsheet.emit(I.ROW_CELL_MOUSE_MOVE,n);break;case ee.COL_CELL:t.spreadsheet.emit(I.COL_CELL_MOUSE_MOVE,n);break;case ee.CORNER_CELL:t.spreadsheet.emit(I.CORNER_CELL_MOUSE_MOVE,n);break;case ee.MERGED_CELL:t.spreadsheet.emit(I.MERGED_CELLS_MOUSE_MOVE,n);break}if(!t.hasBrushSelectionIntercepts())switch(t.spreadsheet.emit(I.GLOBAL_HOVER,n),o){case ee.DATA_CELL:t.spreadsheet.emit(I.DATA_CELL_HOVER,n);break;case ee.ROW_CELL:t.spreadsheet.emit(I.ROW_CELL_HOVER,n);break;case ee.COL_CELL:t.spreadsheet.emit(I.COL_CELL_HOVER,n);break;case ee.CORNER_CELL:t.spreadsheet.emit(I.CORNER_CELL_HOVER,n);break;case ee.MERGED_CELL:t.spreadsheet.emit(I.MERGED_CELLS_HOVER,n);break}}},this.onCanvasMouseup=function(n){if(t.isResizeArea(n)){t.spreadsheet.emit(I.LAYOUT_RESIZE_MOUSE_UP,n);return}var i=t.spreadsheet.getCell(n.target);if(i){var o=i.cellType;if(t.target===n.target){var a=t.isGuiIconShape(n.target);switch(o){case ee.DATA_CELL:t.spreadsheet.emit(I.DATA_CELL_CLICK,n);break;case ee.ROW_CELL:if(a)break;t.spreadsheet.emit(I.ROW_CELL_CLICK,n);break;case ee.COL_CELL:if(a)break;t.spreadsheet.emit(I.COL_CELL_CLICK,n);break;case ee.CORNER_CELL:if(a)break;t.spreadsheet.emit(I.CORNER_CELL_CLICK,n);break;case ee.MERGED_CELL:t.spreadsheet.emit(I.MERGED_CELLS_CLICK,n);break}}switch(o){case ee.DATA_CELL:t.spreadsheet.emit(I.DATA_CELL_MOUSE_UP,n);break;case ee.ROW_CELL:t.spreadsheet.emit(I.ROW_CELL_MOUSE_UP,n);break;case ee.COL_CELL:t.spreadsheet.emit(I.COL_CELL_MOUSE_UP,n);break;case ee.CORNER_CELL:t.spreadsheet.emit(I.CORNER_CELL_MOUSE_UP,n);break;case ee.MERGED_CELL:t.spreadsheet.emit(I.MERGED_CELLS_MOUSE_UP,n);break}}},this.onCanvasClick=function(n){t.spreadsheet.emit(I.GLOBAL_CLICK,n)},this.onCanvasDoubleClick=function(n){var i=t.spreadsheet;if(t.isResizeArea(n)){i.emit(I.LAYOUT_RESIZE_MOUSE_UP,n);return}i.emit(I.GLOBAL_DOUBLE_CLICK,n);var o=i.getCell(n.target);if(o){var a=o.cellType;if(t.target===n.target)switch(a){case ee.DATA_CELL:i.emit(I.DATA_CELL_DOUBLE_CLICK,n);break;case ee.ROW_CELL:i.emit(I.ROW_CELL_DOUBLE_CLICK,n);break;case ee.COL_CELL:i.emit(I.COL_CELL_DOUBLE_CLICK,n);break;case ee.CORNER_CELL:i.emit(I.CORNER_CELL_DOUBLE_CLICK,n);break;case ee.MERGED_CELL:i.emit(I.MERGED_CELLS_DOUBLE_CLICK,n);break}}},this.onCanvasMouseout=function(n){if(!(!t.isAutoResetSheetStyle||n!=null&&n.shape)){var i=t.spreadsheet.interaction;!i.isSelectedState()&&!(i.intercepts.size>0)&&i.reset()}},this.onCanvasContextMenu=function(n){var i=t.spreadsheet;if(t.isResizeArea(n)){i.emit(I.LAYOUT_RESIZE_MOUSE_UP,n);return}i.emit(I.GLOBAL_CONTEXT_MENU,n);var o=t.spreadsheet.getCellType(n.target);switch(o){case ee.DATA_CELL:t.spreadsheet.emit(I.DATA_CELL_CONTEXT_MENU,n);break;case ee.ROW_CELL:t.spreadsheet.emit(I.ROW_CELL_CONTEXT_MENU,n);break;case ee.COL_CELL:t.spreadsheet.emit(I.COL_CELL_CONTEXT_MENU,n);break;case ee.CORNER_CELL:t.spreadsheet.emit(I.CORNER_CELL_CONTEXT_MENU,n);break;case ee.MERGED_CELL:t.spreadsheet.emit(I.MERGED_CELLS_CONTEXT_MENU,n);break}},this.spreadsheet=r,this.bindEvents()}return Object.defineProperty(e.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),e.prototype.bindEvents=function(){var r=this;this.clearAllEvents(),this.addCanvasEvent(ur.CLICK,this.onCanvasClick),this.addCanvasEvent(ur.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(ur.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(ur.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(ur.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(ur.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(ur.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(I.GLOBAL_ACTION_ICON_CLICK,function(){r.spreadsheet.interaction.addIntercepts([Ee.HOVER]),r.spreadsheet.interaction.clearState()}),this.addDomEventListener(window,ur.CLICK,function(t){r.resetSheetStyle(t),r.isCanvasEffect=r.isMouseOnTheCanvasContainer(t)}),this.addDomEventListener(window,ur.KEY_DOWN,function(t){r.onKeyboardCopy(t),r.onKeyboardEsc(t),r.spreadsheet.emit(I.GLOBAL_KEYBOARD_DOWN,t)}),this.addDomEventListener(window,ur.KEY_UP,function(t){r.spreadsheet.emit(I.GLOBAL_KEYBOARD_UP,t)}),this.addDomEventListener(window,ur.MOUSE_UP,function(t){r.spreadsheet.emit(I.GLOBAL_MOUSE_UP,t)}),this.addDomEventListener(window,ur.MOUSE_MOVE,function(t){r.spreadsheet.emit(I.GLOBAL_MOUSE_MOVE,t)})},e.prototype.onKeyboardCopy=function(r){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&Xx(r.key,er.COPY)&&(r.metaKey||r.ctrlKey)){var t=ZG(this.spreadsheet);It(t)||this.spreadsheet.emit(I.GLOBAL_COPIED,t)}},e.prototype.onKeyboardEsc=function(r){this.isCanvasEffect&&Xx(r.key,er.ESC)&&this.resetSheetStyle(r)},e.prototype.resetSheetStyle=function(r){if(!(!this.isAutoResetSheetStyle||!this.spreadsheet)){var t=this.spreadsheet.interaction;if(t.hasIntercepts([Ee.BRUSH_SELECTION,Ee.COL_BRUSH_SELECTION,Ee.ROW_BRUSH_SELECTION])){t.removeIntercepts([Ee.BRUSH_SELECTION,Ee.ROW_BRUSH_SELECTION,Ee.COL_BRUSH_SELECTION]);return}this.isMouseOnTheTooltip(r)||this.isMouseOnTheCanvasContainer(r)||(t.reset(),this.spreadsheet.emit(I.GLOBAL_RESET,r),this.spreadsheet.emit(I.GLOBAL_SELECTED,t.getActiveCells()))}},e.prototype.isMouseEvent=function(r){return Vo(r,"clientX")&&Vo(r,"clientY")},e.prototype.isMouseOnTheCanvasContainer=function(r){if(this.isMouseEvent(r)){var t=this.spreadsheet.getCanvasElement();if(!t)return!1;var n=t.getBoundingClientRect()||{},i=n.x,o=n.y,a=this.getContainerRect(),l=a.width,s=a.height;return t.contains(r.target)&&r.clientX<=i+l&&r.clientY<=o+s}return!1},e.prototype.getContainerRect=function(){var r,t=this.spreadsheet,n=t.facet,i=t.options,o=(n==null?void 0:n.hRowScrollBar)||(n==null?void 0:n.hScrollBar),a=(n==null?void 0:n.panelBBox)||{},l=a.maxX,s=a.maxY,f=i.width,h=i.height,d=((r=o==null?void 0:o.theme)===null||r===void 0?void 0:r.size)||0;return{width:Math.min(f,l),height:Math.min(h,s+d)}},e.prototype.isMouseOnTheTooltip=function(r){var t,n,i,o,a=this.spreadsheet.tooltip;if(!(a!=null&&a.visible))return!1;var l=((i=(n=(t=this.spreadsheet.tooltip)===null||t===void 0?void 0:t.container)===null||n===void 0?void 0:n.getBoundingClientRect)===null||i===void 0?void 0:i.call(n))||{},s=l.x,f=l.y,h=l.width,d=l.height;return r.target instanceof Node?bX((o=this.spreadsheet.tooltip)===null||o===void 0?void 0:o.container,r.target):this.isMouseEvent(r)?r.clientX>=s&&r.clientX<=s+h&&r.clientY>=f&&r.clientY<=f+d:!1},e.prototype.isResizeArea=function(r){var t=ve(r.target,"attrs.appendInfo");return t==null?void 0:t.isResizeArea},e.prototype.activeResizeArea=function(r){this.resetResizeArea();var t=r.target;this.spreadsheet.store.set("activeResizeArea",t),t.attr(Fr.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},e.prototype.resetResizeArea=function(){var r=this.spreadsheet.store.get("activeResizeArea");J(r)||r.attr(Fr.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",r)},e.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([Ee.HOVER,Ee.BRUSH_SELECTION,Ee.ROW_BRUSH_SELECTION,Ee.COL_BRUSH_SELECTION])},e.prototype.clear=function(){this.unbindEvents()},e.prototype.unbindEvents=function(){this.clearAllEvents()},e.prototype.addCanvasEvent=function(r,t){var n;(n=this.canvasContainer)===null||n===void 0||n.on(r,t),this.canvasEventHandlers.push({type:r,handler:t})},e.prototype.addS2Event=function(r,t){this.spreadsheet.on(r,t),this.s2EventHandlers.push({type:r,handler:t})},e.prototype.addDomEventListener=function(r,t,n){if(r.addEventListener){var i=this.spreadsheet.options.interaction.eventListenerOptions;r.addEventListener(t,n,i),this.domEventListeners.push({target:r,type:t,handler:n,options:i})}else console.error("Please make sure ".concat(r," has addEventListener function"))},e.prototype.clearAllEvents=function(){var r=this;_e(this.canvasEventHandlers,function(t){var n,i=t.type,o=t.handler;(n=r.canvasContainer)===null||n===void 0||n.off(i,o)}),_e(this.s2EventHandlers,function(t){var n=t.type,i=t.handler;r.spreadsheet.off(n,i)}),_e(this.domEventListeners,function(t){t.target.removeEventListener(t.type,t.handler,t.options)}),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},e}(),bV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isRangeSelection=!1,t.handleColClick=function(n){n.stopPropagation();var i=t.spreadsheet.interaction,o=t.spreadsheet.getCell(n.target),a=o==null?void 0:o.getMeta();if(!It(a==null?void 0:a.x)){i.addIntercepts([Ee.HOVER]);var l=[ii(o)],s=t.spreadsheet.store.get("lastClickedCell");if(t.isRangeSelection&&s&&s.cellType===o.cellType&&s.getMeta().level===o.getMeta().level){var f=W([t.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,t.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),h=f[0],d=f[1],v=ip(s.getMeta(),o.getMeta()),g=v.start,y=v.end;o instanceof lo?l=t.handleSeriesNumberRowSelected(g.rowIndex,y.rowIndex,o):o.cellType===ee.ROW_CELL&&o.getMeta().level===h?l=t.handleRowSelected(g.rowIndex,y.rowIndex,o):o.cellType===ee.COL_CELL&&o.getMeta().level===d&&(l=t.handleColSelected(g.colIndex,y.colIndex,o)),i.changeState({cells:l,stateName:le.SELECTED})}else J(i.getCells())&&i.removeIntercepts([Ee.HOVER]),t.spreadsheet.store.set("lastClickedCell",o);var C=l.map(function(_){var w=_.id;return w});i.updateCells(i.getRowColActiveCells(C)),t.spreadsheet.emit(I.GLOBAL_SELECTED,i.getActiveCells())}},t}return r.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},r.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([Ee.CLICK])},r.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(I.GLOBAL_KEYBOARD_DOWN,function(n){n.key===er.SHIFT&&(t.isRangeSelection=!0,t.spreadsheet.interaction.addIntercepts([Ee.CLICK]))})},r.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(I.GLOBAL_KEYBOARD_UP,function(n){n.key===er.SHIFT&&t.reset()})},r.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(I.GLOBAL_MOUSE_MOVE,function(n){t.isRangeSelection&&!n.shiftKey&&t.reset()})},r.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(I.ROW_CELL_CLICK,function(n){t.handleColClick(n)}),this.spreadsheet.on(I.COL_CELL_CLICK,function(n){t.handleColClick(n)})},r.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(I.DATA_CELL_CLICK,function(n){n.stopPropagation();var i=t.spreadsheet.getCell(n.target),o=i.getMeta(),a=t.spreadsheet.interaction;if(o){var l=t.spreadsheet.store.get("lastClickedCell"),s=t.isRangeSelection&&(l==null?void 0:l.cellType)===i.cellType;if(!s){t.spreadsheet.store.set("lastClickedCell",i);return}var f=ip(l.getMeta(),i.getMeta()),h=f.start,d=f.end,v=Va(h.colIndex,d.colIndex+1).flatMap(function(g){var y=t.spreadsheet.facet.layoutResult.colLeafNodes[g].id;return Va(h.rowIndex,d.rowIndex+1).map(function(C){var _=t.spreadsheet.facet.getSeriesNumberWidth()||t.spreadsheet.isTableMode()?String(C):t.spreadsheet.facet.layoutResult.rowLeafNodes[C].id;return{id:_+"-"+y,colIndex:g,rowIndex:C,type:i.cellType}})});a.addIntercepts([Ee.CLICK,Ee.HOVER]),a.changeState({cells:v,stateName:le.SELECTED}),t.spreadsheet.showTooltipWithInfo(n,pp(t.spreadsheet)),t.spreadsheet.emit(I.GLOBAL_SELECTED,a.getActiveCells())}})},r.prototype.handleSeriesNumberRowSelected=function(t,n,i){var o=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return Va(t,n+1).map(function(a){var l=String(a);return{id:l+"-"+o,colIndex:0,rowIndex:a,type:i.cellType}})},r.prototype.handleRowSelected=function(t,n,i){return this.spreadsheet.facet.layoutResult.rowNodes.filter(function(o){var a=o.rowIndex;return jd(a,t,n+1)}).map(function(o){return{id:o.id,colIndex:o.colIndex,rowIndex:o.rowIndex,type:i.cellType}})},r.prototype.handleColSelected=function(t,n,i){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter(function(o){var a=o.colIndex;return jd(a,t,n+1)}).map(function(o){return{id:o.id,colIndex:o.colIndex,rowIndex:o.rowIndex,type:i.cellType}})},r}(Fn),TV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.resizeStartPosition={},t.resizeMouseMove=function(n){var i,o;if(!((i=t.resizeReferenceGroup)===null||i===void 0)&&i.get("visible")){(o=n==null?void 0:n.preventDefault)===null||o===void 0||o.call(n);var a=n.originalEvent,l=t.getResizeInfo(),s=t.resizeReferenceGroup.getChildren()||[];if(!J(s)){var f=W(s,2),h=f[1],d=W(Wa(h.attr("path")),2),v=d[0],g=d[1];l.type===rn.Horizontal?t.updateHorizontalResizingEndGuideLinePosition(a,l,v,g):t.updateVerticalResizingEndGuideLinePosition(a,l,v,g),t.updateResizeGuideLineTheme(h),h.attr("path",[v,g])}}},t}return r.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},r.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var t=this.spreadsheet.options,n=t.width,i=t.height,o=this.getResizeAreaTheme(),a=o.guideLineColor,l=o.guideLineDash,s=o.size,f={path:"",lineDash:l,stroke:a,lineWidth:s};this.resizeReferenceGroup.addShape("path",{id:cM,attrs:f}),this.resizeReferenceGroup.addShape("path",{id:hM,attrs:f}),this.resizeReferenceGroup.addShape("rect",{id:dM,attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:n,height:i,fill:"transparent"}})}},r.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},r.prototype.setResizeTarget=function(t){this.resizeTarget=t},r.prototype.getGuideLineWidthAndHeight=function(){var t=this.spreadsheet.options,n=t.width,i=t.height,o=this.spreadsheet.facet.panelBBox,a=o.maxY,l=o.maxX,s=Math.min(l,n),f=Math.min(a,i);return{width:s,height:f}},r.prototype.getResizeShapes=function(){var t;return((t=this.resizeReferenceGroup)===null||t===void 0?void 0:t.get("children"))||[]},r.prototype.setResizeMaskCursor=function(t){var n=W(this.getResizeShapes(),3),i=n[2];i==null||i.attr("cursor",t)},r.prototype.updateResizeGuideLinePosition=function(t,n){var i=this.getResizeShapes();if(!J(i)){var o=W(i,2),a=o[0],l=o[1],s=n.type,f=n.offsetX,h=n.offsetY,d=n.width,v=n.height,g=this.getGuideLineWidthAndHeight(),y=g.width,C=g.height;if(this.setResizeMaskCursor("".concat(s,"-resize")),s===rn.Horizontal){a.attr("path",[["M",f,h],["L",f,C]]),l.attr("path",[["M",f+d,h],["L",f+d,C]]),this.resizeStartPosition.offsetX=t.offsetX,this.resizeStartPosition.clientX=t.clientX;return}a.attr("path",[["M",f,h],["L",y,h]]),l.attr("path",[["M",f,h+v],["L",y,h+v]]),this.resizeStartPosition.offsetY=t.offsetY,this.resizeStartPosition.clientY=t.clientY}},r.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(I.LAYOUT_RESIZE_MOUSE_DOWN,function(n){var i;(i=n==null?void 0:n.preventDefault)===null||i===void 0||i.call(n);var o=n.target,a=n.originalEvent,l=t.getCellAppendInfo(n.target);t.spreadsheet.store.set("resized",!1),l!=null&&l.isResizeArea&&(t.spreadsheet.interaction.reset(),t.spreadsheet.interaction.addIntercepts([Ee.RESIZE]),t.setResizeTarget(o),t.showResizeGroup(),t.updateResizeGuideLinePosition(a,l))})},r.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(I.LAYOUT_RESIZE_MOUSE_MOVE,function(n){Sv(t.resizeMouseMove,33)(n)})},r.prototype.getResizeGuideLinePosition=function(){var t=W(this.resizeReferenceGroup.getChildren()||[],2),n=t[0],i=t[1],o=(n==null?void 0:n.attr("path"))||[],a=(i==null?void 0:i.attr("path"))||[],l=W(o[0]||[],3),s=l[1],f=s===void 0?0:s,h=l[2],d=h===void 0?0:h,v=W(a[0]||[],3),g=v[1],y=g===void 0?0:g,C=v[2],_=C===void 0?0:C;return{start:{x:f,y:d},end:{x:y,y:_}}},r.prototype.getDisAllowResizeInfo=function(){var t,n=this.getResizeInfo(),i=this.spreadsheet.options.interaction.resize,o=n.width,a=n.height,l=n.resizedWidth,s=n.resizedHeight,f=(t=i==null?void 0:i.disable)===null||t===void 0?void 0:t.call(i,n),h=f?o:l,d=f?a:s;return{displayWidth:h,displayHeight:d,isDisabled:f}},r.prototype.getResizeWidthDetail=function(){var t,n,i=this.getResizeInfo(),o=this.getDisAllowResizeInfo().displayWidth;switch(i.effect){case cr.Field:return{eventType:I.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(t={},t[i.id]=o,t)}}};case cr.Tree:return{eventType:I.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:o,rowCfg:{treeRowsWidth:o}}};case cr.Cell:return{eventType:I.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(n={},n[i.id]=o,n)}}};case cr.Series:return{eventType:I.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:o};default:return null}},r.prototype.getResizeHeightDetail=function(){var t,n,i=this.spreadsheet.options,o=i.interaction.resize,a=i.style.rowCfg.heightByField,l=this.spreadsheet.theme.rowCell.cell.padding,s=this.getResizeInfo(),f=this.getDisAllowResizeInfo().displayHeight,h=f-l.top-l.bottom,d;switch(s.effect){case cr.Field:return{eventType:I.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(t={},t[s.id]=f,t)}}};case cr.Cell:return a!=null&&a[String(s.id)]||(o==null?void 0:o.rowResizeType)===Nu.CURRENT?d={rowCfg:{heightByField:(n={},n[s.id]=h,n)}}:d={cellCfg:{height:h}},{eventType:I.LAYOUT_RESIZE_ROW_HEIGHT,style:d};default:return null}},r.prototype.getResizeDetail=function(){var t=this.getResizeInfo();return t.type===rn.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},r.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},r.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},r.prototype.bindMouseUp=function(){var t=this;this.spreadsheet.on(I.GLOBAL_MOUSE_UP,function(){var n;t.setResizeMaskCursor("default"),!(!t.resizeReferenceGroup||J((n=t.resizeReferenceGroup)===null||n===void 0?void 0:n.getChildren()))&&(t.hideResizeGroup(),t.renderResizedResult())})},r.prototype.updateResizeGuideLineTheme=function(t){var n=this.getResizeAreaTheme(),i=n.guideLineColor,o=n.guideLineDisableColor,a=this.getDisAllowResizeInfo().isDisabled;t.attr("stroke",a?o:i),this.setResizeMaskCursor(a?"no-drop":"default")},r.prototype.updateHorizontalResizingEndGuideLinePosition=function(t,n,i,o){var a=t.clientX-this.resizeStartPosition.clientX;n.width+a<sC&&(a=-(n.width-sC));var l=n.offsetX+n.width+a;i[1]=l,o[1]=l,this.resizeTarget.attr({x:l-n.size/2})},r.prototype.updateVerticalResizingEndGuideLinePosition=function(t,n,i,o){var a=t.clientY-this.resizeStartPosition.clientY;n.height+a<uC&&(a=-(n.height-uC));var l=n.offsetY+n.height+a;i[2]=l,o[2]=l,this.resizeTarget.attr({y:l-n.size/2})},r.prototype.renderResizedResult=function(){var t=this.getResizeInfo(),n=this.getResizeDetail()||{},i=n.style,o=n.seriesNumberWidth,a=n.eventType,l={info:t,style:i};this.spreadsheet.emit(I.LAYOUT_RESIZE,l),this.spreadsheet.emit(a,l),i&&this.spreadsheet.setOptions({style:i}),o&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:o}}),this.spreadsheet.store.set("resized",!0),this.render()},r.prototype.getResizeInfo=function(){var t=this.getCellAppendInfo(this.resizeTarget),n=this.getResizeGuideLinePosition(),i=n.start,o=n.end,a=Math.floor(o.x-i.x),l=Math.floor(o.y-i.y);return B(B({},t),{resizedWidth:a,resizedHeight:l})},r.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},r}(Fn),EV=[er.ARROW_LEFT,er.ARROW_RIGHT,er.ARROW_UP,er.ARROW_DOWN],LV=function(e){re(r,e);function r(t){return e.call(this,t)||this}return r.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},r.prototype.bindEvents=function(){var t=this;this.spreadsheet.on(I.GLOBAL_KEYBOARD_DOWN,function(n){if(t.isCanvasEffect()){var i=n.shiftKey,o=n.metaKey,a=EV.includes(n.key),l=!1,s=!1,f=!1;a&&(o&&i?(l=!1,s=!0,f=!1):o?(l=!0,s=!0,f=!0):i?(l=!1,s=!1,f=!1):(l=!0,s=!1,f=!0),t.handleMove({event:n,changeStartCell:l,isJumpMode:s,isSingleSelection:f}))}}),this.spreadsheet.on(I.DATA_CELL_CLICK,function(n){var i=t.spreadsheet.getCell(n.target).getMeta();i&&(t.startCell=t.getCellMetaFromViewMeta(i),t.endCell=t.startCell)})},r.prototype.getCellMetaFromViewMeta=function(t){return{rowIndex:t.rowIndex,colIndex:t.colIndex,id:t.id,type:ee.DATA_CELL}},r.prototype.handleMove=function(t){var n=t.event,i=t.changeStartCell,o=t.isJumpMode,a=t.isSingleSelection,l=this,s=l.spreadsheet,f=l.startCell,h=l.endCell,d=i?f:h,v=this.getMoveInfo(n.key,d,o);if(v){var g=W([v.row,v.col],2),y=g[0],C=g[1];this.scrollToActiveCell(s,y,C);var _=this.generateCellMeta(s,y,C),w=a?[_]:this.getRangeCells(s,f,_);cY(s,w),i&&(this.startCell=_),this.endCell=_,this.spreadsheet.emit(I.DATA_CELL_SELECT_MOVE,w)}},r.prototype.generateCellMeta=function(t,n,i){var o=t.isTableMode,a=t.facet.layoutResult,l=a.colLeafNodes,s=a.rowLeafNodes,f=o()?String(n):s[n].id,h=l[i].id;return{rowIndex:n,colIndex:i,id:vs(f,h),type:ee.DATA_CELL}},r.prototype.getRangeCells=function(t,n,i){for(var o=ip(n,i),a=o.start,l=a.rowIndex,s=a.colIndex,f=o.end,h=f.rowIndex,d=f.colIndex,v=[],g=l;g<=h;g++)for(var y=s;y<=d;y++)v.push(this.generateCellMeta(t,g,y));return v},r.prototype.getMoveInfo=function(t,n,i){var o=this.spreadsheet,a=o.options,l=a.frozenColCount,s=l===void 0?0:l,f=a.frozenRowCount,h=f===void 0?0:f,d=a.frozenTrailingColCount,v=d===void 0?0:d,g=a.frozenTrailingRowCount,y=g===void 0?0:g,C=o.facet.layoutResult,_=C.rowLeafNodes,w=C.colLeafNodes,S=W([0+s,w.length-v-1],2),b=S[0],E=S[1],O=W([0+h,(o.isTableMode()?o.dataSet.getDisplayDataSet().length:_.length)-y-1],2),D=O[0],F=O[1];if(n)switch(t){case er.ARROW_RIGHT:return n.colIndex+1>E?void 0:{row:n.rowIndex,col:i?E:n.colIndex+1};case er.ARROW_LEFT:return n.colIndex-1<b?void 0:{row:n.rowIndex,col:i?b:n.colIndex-1};case er.ARROW_UP:return n.rowIndex-1<D?void 0:{row:i?D:n.rowIndex-1,col:n.colIndex};case er.ARROW_DOWN:return n.rowIndex+1>F?void 0:{row:i?F:n.rowIndex+1,col:n.colIndex}}},r.prototype.calculateOffset=function(t,n,i){var o=t.options,a=o.frozenRowCount,l=a===void 0?0:a,s=o.frozenTrailingRowCount,f=s===void 0?0:s,h=t.facet,d=t.frozenColGroup,v=t.frozenTrailingColGroup,g=t.frozenRowGroup,y=t.frozenTrailingRowGroup,C=h.layoutResult.colLeafNodes,_=h.getScrollOffset(),w=_.scrollX,S=_.scrollY,b=h.panelBBox,E=b.viewportHeight,O=b.viewportWidth,D=ve(t,"theme.splitLine"),F=d?Math.floor(d.getBBox().width-D.verticalBorderWidth/2):0,H=v?Math.floor(v.getBBox().width):0,k=g?Math.floor(g.getBBox().height-D.horizontalBorderWidth/2):0,q=y?Math.floor(y.getBBox().height):0,V=zv(w,S,h.viewCellWidths,h.viewCellHeights,{width:O-F-H,height:E-k-q,x:F,y:k},h.getRealScrollX(h.cornerBBox.width)),Q=-1,ie=-1,ue=C.find(function(te){return te.colIndex===i});if(i<=V[0]?Q=ue.x-F:i>=V[1]&&i<C.length-f&&(Q=ue.x+ue.width-O+H),n<=V[2])ie=h.viewCellHeights.getCellOffsetY(n-l);else if(n>=V[3]){var K=h.viewCellHeights.getCellOffsetY(n+1);ie=K+q-E}return{offsetX:Q,offsetY:ie}},r.prototype.scrollToActiveCell=function(t,n,i){var o=this.calculateOffset(t,n,i),a=o.offsetX,l=o.offsetY,s=t.facet,f=t.facet.getScrollOffset(),h=f.scrollX,d=f.scrollY;s.scrollWithAnimation({offsetX:{value:a>-1?a:h},offsetY:{value:l>-1?l:d}})},r}(Fn),AV=function(){function e(r){var t=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){t.interactions.forEach(function(n){n.reset()})},this.selectAll=function(){t.changeState({stateName:le.ALL_SELECTED})},this.getCellChildrenNodes=function(n){var i,o=(i=n==null?void 0:n.getMeta)===null||i===void 0?void 0:i.call(n),a=(n==null?void 0:n.cellType)===ee.ROW_CELL,l=t.spreadsheet.isHierarchyTreeType();return l&&a?Ut.getAllLeaveNodes(o).filter(function(s){return s.rowIndex===o.rowIndex}):Ut.getAllChildrenNodes(o)},this.selectHeaderCell=function(n){var i;n===void 0&&(n={});var o=n.cell;if(!J(o)){var a=(i=o==null?void 0:o.getMeta)===null||i===void 0?void 0:i.call(o);if(!(!a||It(a==null?void 0:a.x))){t.addIntercepts([Ee.HOVER]);var l=t.spreadsheet.isHierarchyTreeType(),s=(o==null?void 0:o.cellType)===ee.COL_CELL,f=t.getState(),h=t.isSelectedCell(o),d=(n==null?void 0:n.isMultiSelection)&&t.isSelectedState(),v=h?[]:t.getCellChildrenNodes(o),g=h?[]:[ii(o)];if(d&&(g=Ga(f==null?void 0:f.cells,g),v=Ga(f==null?void 0:f.nodes,v),h&&(g=g.filter(function(C){var _=C.id;return _!==a.id}),v=v.filter(function(C){return!(C!=null&&C.id.includes(a.id))}))),J(g)){t.reset(),t.spreadsheet.emit(I.GLOBAL_SELECTED,t.getActiveCells());return}t.changeState({cells:g,nodes:v,stateName:le.SELECTED});var y=g.map(function(C){var _=C.id;return _});return t.updateCells(t.getRowColActiveCells(y)),(!l||s)&&t.highlightNodes(v),t.spreadsheet.emit(I.GLOBAL_SELECTED,t.getActiveCells()),!0}}},this.highlightNodes=function(n){n===void 0&&(n=[]),n.forEach(function(i){var o;(o=i==null?void 0:i.belongsCell)===null||o===void 0||o.updateByState(le.SELECTED,i.belongsCell)})},this.mergeCells=function(n,i){LU(t.spreadsheet,n,i)},this.unmergeCell=function(n){RU(t.spreadsheet,n)},this.spreadsheet=r,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return e.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},e.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},e.prototype.setState=function(r){dY(this.spreadsheet,r)},e.prototype.getState=function(){return this.spreadsheet.store.get(td)||this.defaultState},e.prototype.setInteractedCells=function(r){var t=this.getInteractedCells().concat([r]),n=this.getState();n.interactedCells=t,this.setState(n)},e.prototype.getInteractedCells=function(){var r=this.getState();return(r==null?void 0:r.interactedCells)||[]},e.prototype.resetState=function(){this.spreadsheet.store.set(td,this.defaultState)},e.prototype.getCurrentStateName=function(){return this.getState().stateName},e.prototype.isEqualStateName=function(r){return this.getCurrentStateName()===r},e.prototype.isStateOf=function(r){var t=this.getState();return(t==null?void 0:t.stateName)===r},e.prototype.isSelectedState=function(){return this.isStateOf(le.SELECTED)||this.isStateOf(le.BRUSH_SELECTED)},e.prototype.isAllSelectedState=function(){return this.isStateOf(le.ALL_SELECTED)},e.prototype.isHoverFocusState=function(){return this.isStateOf(le.HOVER_FOCUS)},e.prototype.isHoverState=function(){return this.isStateOf(le.HOVER)},e.prototype.isActiveCell=function(r){return!!this.getCells().find(function(t){return r.getMeta().id===t.id})},e.prototype.isSelectedCell=function(r){return this.isSelectedState()&&this.isActiveCell(r)},e.prototype.getCells=function(r){var t=this.getState(),n=(t==null?void 0:t.cells)||[];return It(r)?n:n.filter(function(i){return r.includes(i.type)})},e.prototype.getActiveCells=function(){var r=this.getCells().map(function(n){return n.id}),t=this.getAllCells();return Ne(r,function(n){return nr(t,function(i){var o;return((o=i==null?void 0:i.getMeta())===null||o===void 0?void 0:o.id)===n})}).filter(function(n){return n})},e.prototype.clearStyleIndependent=function(){!this.isSelectedState()&&!this.isHoverState()&&!this.isAllSelectedState()||this.getPanelGroupAllDataCells().forEach(function(r){r.hideInteractionShape()})},e.prototype.getPanelGroupAllUnSelectedDataCells=function(){var r=this;return this.getPanelGroupAllDataCells().filter(function(t){return!r.isActiveCell(t)})},e.prototype.getPanelGroupAllDataCells=function(){var r;return Ss((r=this.spreadsheet.panelGroup)===null||r===void 0?void 0:r.getChildren(),lo)},e.prototype.getAllRowHeaderCells=function(){var r,t,n=((r=this.spreadsheet.foregroundGroup)===null||r===void 0?void 0:r.getChildren())||[],i=n.find(function(a){return a instanceof Ip&&!(a instanceof C2)}),o=((t=i==null?void 0:i.cfg)===null||t===void 0?void 0:t.children)||[];return Ss(o,ys).filter(function(a){return a.cellType===ee.ROW_CELL})},e.prototype.getAllColHeaderCells=function(){var r,t,n=((r=this.spreadsheet.foregroundGroup)===null||r===void 0?void 0:r.getChildren())||[],i=n.find(function(a){return a instanceof Op}),o=((t=i==null?void 0:i.cfg)===null||t===void 0?void 0:t.children)||[];return Ss(o,Df).filter(function(a){return a.cellType===ee.COL_CELL})},e.prototype.getRowColActiveCells=function(r){return Ga(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter(function(t){return r.includes(t.getMeta().id)})},e.prototype.getAllCells=function(){return Ga(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},e.prototype.hideColumns=function(r,t){r===void 0&&(r=[]),t===void 0&&(t=!0),Qv(this.spreadsheet,r,t)},e.prototype.getBrushSelectionInfo=function(r){var t,n,i;return ei(r)?{dataBrushSelection:r,rowBrushSelection:r,colBrushSelection:r}:{dataBrushSelection:(t=r==null?void 0:r.data)!==null&&t!==void 0?t:!1,rowBrushSelection:(n=r==null?void 0:r.row)!==null&&n!==void 0?n:!1,colBrushSelection:(i=r==null?void 0:r.col)!==null&&i!==void 0?i:!1}},e.prototype.getDefaultInteractions=function(){var r=this.spreadsheet.options.interaction,t=r.resize,n=r.brushSelection,i=r.multiSelection,o=r.rangeSelection,a=r.selectedCellMove,l=this.getBrushSelectionInfo(n),s=l.dataBrushSelection,f=l.rowBrushSelection,h=l.colBrushSelection;return[{key:fr.CORNER_CELL_CLICK,interaction:yV},{key:fr.DATA_CELL_CLICK,interaction:dV},{key:fr.ROW_COLUMN_CLICK,interaction:pV},{key:fr.ROW_TEXT_CLICK,interaction:gV},{key:fr.MERGED_CELLS_CLICK,interaction:vV},{key:fr.HOVER,interaction:CV,enable:!zt()},{key:fr.BRUSH_SELECTION,interaction:_V,enable:!zt()&&s},{key:fr.ROW_BRUSH_SELECTION,interaction:wV,enable:!zt()&&f},{key:fr.COL_BRUSH_SELECTION,interaction:mV,enable:!zt()&&h},{key:fr.COL_ROW_RESIZE,interaction:TV,enable:!zt()&&t},{key:fr.DATA_CELL_MULTI_SELECTION,interaction:xV,enable:!zt()&&i},{key:fr.RANGE_SELECTION,interaction:bV,enable:!zt()&&o},{key:fr.SELECTED_CELL_MOVE,interaction:LV,enable:!zt()&&a}]},e.prototype.registerInteractions=function(){var r=this,t=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear();var n=this.getDefaultInteractions();n.forEach(function(i){var o=i.key,a=i.interaction,l=i.enable;l!==!1&&r.interactions.set(o,new a(r.spreadsheet))}),J(t)||_e(t,function(i){var o=i.interaction;r.interactions.set(i.key,new o(r.spreadsheet))})},e.prototype.registerEventController=function(){this.eventController=new SV(this.spreadsheet)},e.prototype.draw=function(){this.spreadsheet.container.draw()},e.prototype.clearState=function(){LS(this.spreadsheet)&&this.draw()},e.prototype.changeState=function(r){var t=this,n=this.spreadsheet.interaction,i=r.cells,o=i===void 0?[]:i,a=r.force,l=r.stateName,s=r.onUpdateCells;if(J(o)&&l===le.SELECTED){a&&n.changeState({cells:[],stateName:le.UNSELECTED});return}this.getCurrentStateName()===le.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(r);var f=function(){t.updatePanelGroupAllDataCells()};s?s(this,f):f(),this.draw()},e.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},e.prototype.updateCells=function(r){r===void 0&&(r=[]),r.forEach(function(t){t.update()})},e.prototype.addIntercepts=function(r){var t=this;r===void 0&&(r=[]),r.forEach(function(n){t.intercepts.add(n)})},e.prototype.hasIntercepts=function(r){var t=this;return r===void 0&&(r=[]),r.some(function(n){return t.intercepts.has(n)})},e.prototype.removeIntercepts=function(r){var t=this;r===void 0&&(r=[]),r.forEach(function(n){t.intercepts.delete(n)})},e.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},e.prototype.setHoverTimer=function(r){this.hoverTimer=r},e.prototype.getHoverTimer=function(){return this.hoverTimer},e.prototype.getSelectedCellHighlight=function(){var r=this.spreadsheet.options.interaction.selectedCellHighlight;if(ei(r))return{rowHeader:r,colHeader:r,currentRow:!1,currentCol:!1};var t=r??{},n=t.rowHeader,i=n===void 0?!1:n,o=t.colHeader,a=o===void 0?!1:o,l=t.currentRow,s=l===void 0?!1:l,f=t.currentCol,h=f===void 0?!1:f;return{rowHeader:i,colHeader:a,currentRow:s,currentCol:h}},e.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},e.prototype.getHoverHighlight=function(){var r=this.spreadsheet.options.interaction.hoverHighlight;if(ei(r))return{rowHeader:r,colHeader:r,currentRow:r,currentCol:r};var t=r??{},n=t.rowHeader,i=n===void 0?!1:n,o=t.colHeader,a=o===void 0?!1:o,l=t.currentRow,s=l===void 0?!1:l,f=t.currentCol,h=f===void 0?!1:f;return{rowHeader:i,colHeader:a,currentRow:s,currentCol:h}},e.prototype.getBrushSelection=function(){var r=this.spreadsheet.options.interaction.brushSelection;if(ei(r))return{data:r,row:r,col:r};var t=r??{},n=t.data,i=n===void 0?!1:n,o=t.row,a=o===void 0?!1:o,l=t.col,s=l===void 0?!1:l;return{data:i,row:a,col:s}},e}(),RV=function(){function e(r){var t=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){t.initDevicePixelRatioListener(),t.initDeviceZoomListener()},this.destroy=function(){t.removeDevicePixelRatioListener(),t.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var n;!((n=t.devicePixelRatioMedia)===null||n===void 0)&&n.removeEventListener?t.devicePixelRatioMedia.removeEventListener("change",t.renderByDevicePixelRatioChanged):t.devicePixelRatioMedia.removeListener(t.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var n,i;zt()||(i=(n=t.viewport)===null||n===void 0?void 0:n.visualViewport)===null||i===void 0||i.addEventListener("resize",t.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var n,i;zt()||(i=(n=t.viewport)===null||n===void 0?void 0:n.visualViewport)===null||i===void 0||i.removeEventListener("resize",t.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(n){t.isDevicePixelRatioChange=!1,t.renderByZoomScale(n)},this.renderByDevicePixelRatioChanged=function(){t.isDevicePixelRatioChange=!0,t.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(n){n===void 0&&(n=window.devicePixelRatio);var i=t.spreadsheet,o=i.container,a=i.options,l=a.width,s=a.height,f=a.devicePixelRatio,h=t.spreadsheet.getCanvasElement(),d=o.get("pixelRatio");if(!(d===n||!h)){var v=Math.max(n,f,gC);o.set("pixelRatio",v),o.changeSize(l,s),t.spreadsheet.render(!1)}},this.renderByZoomScale=ql(function(n){var i=Math.ceil(n.target.scale);i>=1&&!t.isDevicePixelRatioChange&&t.renderByDevicePixelRatio(i)},350),this.spreadsheet=r}return e.prototype.initDevicePixelRatioListener=function(){var r;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),!((r=this.devicePixelRatioMedia)===null||r===void 0)&&r.addEventListener?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},e}(),Dp=function(){function e(r){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=r}return e.prototype.show=function(r){var t,n,i,o=r.position,a=r.options,l=r.content,s=r.event,f=YS(a).enterable,h=this.spreadsheet.options.tooltip||{},d=h.autoAdjustBoundary,v=h.adjustPosition;this.visible=!0,this.options=r;var g=this.getContainer();this.renderContent(l);var y=hX({spreadsheet:this.spreadsheet,position:o,tooltipContainer:g,autoAdjustBoundary:d}),C=y.x,_=y.y;this.position=(t=v==null?void 0:v({position:{x:C,y:_},event:s}))!==null&&t!==void 0?t:{x:C,y:_},Yf(g,{style:{left:"".concat((n=this.position)===null||n===void 0?void 0:n.x,"px"),top:"".concat((i=this.position)===null||i===void 0?void 0:i.y,"px"),pointerEvents:f?"all":"none"},visible:!0})},e.prototype.hide=function(){this.visible=!1,this.container&&(Yf(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},e.prototype.destroy=function(){var r,t;this.visible=!1,this.container&&(this.resetPosition(),(t=(r=this.container).remove)===null||t===void 0||t.call(r),this.container=null)},e.prototype.renderContent=function(r){if(this.container){this.clearContent();var t=(this.spreadsheet.options.tooltip||{}).content,n=r??t;if(!It(n)){if(typeof n=="string"){this.container.innerHTML=n;return}n instanceof Element&&this.container.appendChild(n)}}},e.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},e.prototype.disablePointerEvent=function(){this.container&&this.container.style.pointerEvents!=="none"&&Yf(this.container,{style:{pointerEvents:"none"}})},e.prototype.resetPosition=function(){this.position={x:0,y:0}},e.prototype.getContainer=function(){var r;if(!this.container){var t=this.spreadsheet.options.tooltip,n=((r=t.getContainer)===null||r===void 0?void 0:r.call(t))||document.body,i=document.createElement("div");return Yf(i,{style:t.style,className:[Dv].concat(t.className)}),n.appendChild(i),this.container=i,this.container}return this.container},e}(),T2=function(e){re(r,e);function r(t,n,i){var o=e.call(this)||this;return o.store=new IW,o.untypedOn=o.on,o.untypedEmit=o.emit,o.on=function(a,l){return o.untypedOn(a,l)},o.emit=function(a){for(var l=[],s=1;s<arguments.length;s++)l[s-1]=arguments[s];return o.untypedEmit.apply(o,j([a],W(l),!1))},o.initHiddenColumnsDetail=function(){var a=o.options.interaction.hiddenColumnFields,l=o.store.get("hiddenColumnsDetail");J(a)&&J(l)||Qv(o,a,!0)},o.measureText=Wo(function(a,l){var s;if(a===void 0&&(a=""),!l)return null;var f=(s=o.getCanvasElement())===null||s===void 0?void 0:s.getContext("2d"),h=l,d=h.fontSize,v=h.fontFamily,g=h.fontWeight,y=h.fontStyle,C=h.fontVariant;return f.font=[y,C,g,"".concat(d,"px"),v].join(" ").trim(),f.measureText(String(a))},function(a,l){return j([a],W(Si(l)),!1).join("")}),o.measureTextWidth=function(a,l){a===void 0&&(a="");var s=o.measureText(a,l);return(s==null?void 0:s.width)||0},o.measureTextHeight=function(a,l){a===void 0&&(a="");var s=o.measureText(a,l);return s?s.actualBoundingBoxAscent+s.actualBoundingBoxDescent:0},o.measureTextWidthRoughly=function(a,l){var s,f;l===void 0&&(l={});var h=o.measureTextWidth("a",l),d=o.measureTextWidth("蚂",l),v=0;if(!a)return v;try{for(var g=sr(a),y=g.next();!y.done;y=g.next()){var C=y.value,_=C.charCodeAt(0);v+=_>=0&&_<=255?h:d}}catch(w){s={error:w}}finally{try{y&&!y.done&&(f=g.return)&&f.call(g)}finally{if(s)throw s.error}}return v},o.dataCfg=Kv(n),o.options=rS(i),o.dataSet=o.getDataSet(o.options),o.setDebug(),o.initTooltip(),o.initGroups(t),o.bindEvents(),o.initInteraction(),o.initTheme(),o.initHdAdapter(),o.registerIcons(),o.setOverscrollBehavior(),o.mountSheetInstance(),o}return r.prototype.setOverscrollBehavior=function(){var t=this.options.interaction.overscrollBehavior,n=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior"),i=n&&n!=="auto";i?this.store.set("initOverscrollBehavior",n):t&&(document.body.style.overscrollBehavior=t)},r.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},r.prototype.setDebug=function(){ri.getInstance().setDebug(this.options.debug)},r.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},r.prototype.getMountContainer=function(t){var n=Ya(t)?document.querySelector(t):t;if(!n)throw new Error("Target mount container is not a DOM element");return n},r.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new RV(this),this.hdAdapter.init())},r.prototype.initInteraction=function(){var t,n;(n=(t=this.interaction)===null||t===void 0?void 0:t.destroy)===null||n===void 0||n.call(t),this.interaction=new AV(this)},r.prototype.initTooltip=function(){var t,n,i,o;(n=(t=this.tooltip)===null||t===void 0?void 0:t.destroy)===null||n===void 0||n.call(t),this.tooltip=this.renderTooltip(),this.tooltip instanceof Dp||console.warn("[Custom Tooltip]: ".concat((o=(i=this.tooltip)===null||i===void 0?void 0:i.constructor)===null||o===void 0?void 0:o.toString()," should be extends from BaseTooltip"))},r.prototype.renderTooltip=function(){var t,n;return((n=(t=this.options.tooltip)===null||t===void 0?void 0:t.renderTooltip)===null||n===void 0?void 0:n.call(t,this))||new Dp(this)},r.prototype.showTooltip=function(t){var n,i,o=t.content,a=t.event,l=this.getCell(a==null?void 0:a.target),s=Ht(o)?o(l,t):o;(i=(n=this.tooltip).show)===null||i===void 0||i.call(n,B(B({},t),{content:s}))},r.prototype.showTooltipWithInfo=function(t,n,i){var o,a=gp(this,t),l=a.showTooltip,s=a.content;if(l){var f=this.getCell(t==null?void 0:t.target),h=(o=i==null?void 0:i.data)!==null&&o!==void 0?o:wX({spreadsheet:this,cellInfos:n,targetCell:f,options:B({enableFormat:!0},i)});this.showTooltip({data:h,position:{x:t.clientX,y:t.clientY},options:B({enterable:!0},i),event:t,content:s})}},r.prototype.hideTooltip=function(){var t,n;(n=(t=this.tooltip).hide)===null||n===void 0||n.call(t)},r.prototype.destroyTooltip=function(){var t,n;(n=(t=this.tooltip).destroy)===null||n===void 0||n.call(t)},r.prototype.registerIcons=function(){var t=this.options.customSVGIcons;J(t)||_e(t,function(n){_x(n.name,n.svg)})},r.prototype.setDataCfg=function(t,n){this.store.set("originalDataCfg",t),n?this.dataCfg=Kv(t):this.dataCfg=Kv(this.dataCfg,t),TX(this)},r.prototype.setOptions=function(t,n){var i;this.hideTooltip(),n?this.options=rS(t):this.options=Mn(this.options,t),(n||!((i=t.tooltip)===null||i===void 0)&&i.renderTooltip)&&this.initTooltip(),this.resetHiddenColumnsDetailInfoIfNeeded(),this.registerIcons()},r.prototype.resetHiddenColumnsDetailInfoIfNeeded=function(){var t;J((t=this.options.interaction)===null||t===void 0?void 0:t.hiddenColumnFields)||this.store.set("hiddenColumnsDetail",[])},r.prototype.render=function(t,n){if(t===void 0&&(t=!0),n===void 0&&(n={}),!!this.getCanvasElement()){var i=n.reBuildDataSet,o=i===void 0?!1:i,a=n.reBuildHiddenColumnsDetail,l=a===void 0?!0:a;this.emit(I.LAYOUT_BEFORE_RENDER),o&&(this.dataSet=this.getDataSet(this.options)),t&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),l&&this.initHiddenColumnsDetail(),this.emit(I.LAYOUT_AFTER_RENDER)}},r.prototype.mountSheetInstance=function(){var t=this.getCanvasElement();t&&(t.__s2_instance__=this)},r.prototype.unmountSheetInstance=function(){var t=this.getCanvasElement();t&&delete t.__s2_instance__},r.prototype.destroy=function(){var t,n,i,o,a;this.restoreOverscrollBehavior(),this.emit(I.LAYOUT_DESTROY),(t=this.facet)===null||t===void 0||t.destroy(),(n=this.hdAdapter)===null||n===void 0||n.destroy(),(i=this.interaction)===null||i===void 0||i.destroy(),(o=this.store)===null||o===void 0||o.clear(),this.destroyTooltip(),this.clearCanvasEvent(),this.unmountSheetInstance(),(a=this.container)===null||a===void 0||a.destroy(),KW()},r.prototype.setThemeCfg=function(t){t===void 0&&(t={});var n=(t==null?void 0:t.theme)||{},i=aW(B(B({},t),{spreadsheet:this}));this.theme=Mn(i,n)},r.prototype.setTheme=function(t){this.theme=Mn(this.theme,t)},r.prototype.updatePagination=function(t){this.options=Mn(this.options,{pagination:t}),this.store.set("scrollX",0),this.store.set("scrollY",0)},r.prototype.getContentHeight=function(){return this.facet.getContentHeight()},r.prototype.changeSize=function(t,n){t===void 0&&(t=this.options.width),n===void 0&&(n=this.options.height),this.changeSheetSize(t,n)},r.prototype.changeSheetSize=function(t,n){t===void 0&&(t=this.options.width),n===void 0&&(n=this.options.height);var i=this.getCanvasElement(),o=this.container.get("width"),a=this.container.get("height"),l=t!==o||n!==a;!l||!i||(this.options=Mn(this.options,{width:t,height:n}),this.container.changeSize(t,n))},r.prototype.getCanvasElement=function(){return this.container.get("el")},r.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},r.prototype.getRowNodes=function(t){return t===void 0&&(t=-1),t===-1?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter(function(n){return n.level===t})},r.prototype.getRowLeafNodes=function(){var t;return((t=this.facet)===null||t===void 0?void 0:t.layoutResult.rowLeafNodes)||[]},r.prototype.getColumnNodes=function(t){var n;t===void 0&&(t=-1);var i=((n=this.facet)===null||n===void 0?void 0:n.layoutResult.colNodes)||[];return t===-1?i:i.filter(function(o){return o.level===t})},r.prototype.getColumnLeafNodes=function(){var t;return((t=this.facet)===null||t===void 0?void 0:t.layoutResult.colLeafNodes)||[]},r.prototype.updateScrollOffset=function(t){var n={offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}};this.facet.updateScrollOffset(Mn(n,t))},r.prototype.getTooltipDataItemMappingCallback=function(){var t;return(t=this.options)===null||t===void 0?void 0:t.mappingDisplayDataItem},r.prototype.isCellType=function(t){return t instanceof Bf},r.prototype.getCell=function(t){for(var n,i=t;i&&!(i instanceof Ky);){if(this.isCellType(i))return i;i=(n=i.get)===null||n===void 0?void 0:n.call(i,"parent")}return null},r.prototype.getCellType=function(t){var n=this.getCell(t);return n==null?void 0:n.cellType},r.prototype.getTotalsConfig=function(t){var n=this.options.totals,i=this.dataSet.fields.rows,o=ve(n,vr(i,t)?"row":"col",{}),a=o.showSubTotals&&vr(o.subTotalsDimensions,t)?o.showSubTotals:!1;return B(B({label:mt("总计"),subLabel:mt("小计"),totalsGroupDimensions:[],subTotalsGroupDimensions:[]},o),{showSubTotals:a})},r.prototype.initGroups=function(t){var n=this.options,i=n.width,o=n.height,a=n.supportCSSTransform,l=n.devicePixelRatio;this.container=new Ky({container:this.getMountContainer(t),width:i,height:o,localRefresh:!1,supportCSSTransform:a,pixelRatio:Math.max(l,gC)}),this.backgroundGroup=this.container.addGroup({name:VI,zIndex:kI}),this.panelGroup=this.container.addGroup({name:KI,zIndex:YI}),this.foregroundGroup=this.container.addGroup({name:qI,zIndex:WI}),this.initPanelGroupChildren(),this.updateContainerStyle()},r.prototype.updateContainerStyle=function(){var t=this.getCanvasElement();t&&(t.style.display="block")},r.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new hV({name:jI,zIndex:XI,s2:this}),this.panelGroup.add(this.panelScrollGroup)},r.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},r.prototype.clearColumnLeafNodes=function(){this.clearInitColumnLeafNodes()},r.prototype.clearInitColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},r.prototype.clearCanvasEvent=function(){var t=this,n=this.getEvents();ew(n,function(i,o){t.off(o)})},r.prototype.updateSortMethodMap=function(t,n,i){var o;i===void 0&&(i=!1);var a=i?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",B(B({},a),(o={},o[t]=n,o)))},r.prototype.getMenuDefaultSelectedKeys=function(t){var n=this.store.get("sortMethodMap"),i=ve(n,t);return i?[i]:[]},r}(fu),OV=function(e){re(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDataSet=function(t){var n=t.dataSet,i=t.hierarchyType;if(n)return n(this);var o=i==="customTree"?new AX(this):new Cp(this);return o},r.prototype.getContentHeight=function(){return this.facet.getContentHeight()},r.prototype.isPivotMode=function(){return!0},r.prototype.isTableMode=function(){return!1},r.prototype.isHierarchyTreeType=function(){var t=this.options.hierarchyType;return t==="tree"||t==="customTree"},r.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},r.prototype.isFrozenRowHeader=function(){var t;return(t=this.options)===null||t===void 0?void 0:t.frozenRowHeader},r.prototype.isValueInCols=function(){var t,n;return(n=(t=this.dataSet)===null||t===void 0?void 0:t.fields)===null||n===void 0?void 0:n.valueInCols},r.prototype.clearDrillDownData=function(t,n){if(this.dataSet instanceof Cp){var i=this.dataSet.clearDrillDownData(t);i&&!n&&(this.interaction.reset(),this.render(!1))}},r.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,n=this.dataSet,i=n.fields,o=n.meta,a=this.options,l=a.style,s=a.dataCell,f=function(h){return new lo(h,t)};return B(B(B(B({},this.options),i),l),{meta:o,spreadsheet:this,dataSet:this.dataSet,dataCell:s??f})},r.prototype.buildFacet=function(){var t,n=this.getFacetCfgFromDataSetAndOptions();(t=this.facet)===null||t===void 0||t.destroy(),this.facet=new uV(n),this.facet.render()},r.prototype.bindEvents=function(){this.off(I.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(I.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(I.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(I.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},r.prototype.handleRowCellCollapseTreeRows=function(t){var n,i=t.id,o=t.isCollapsed,a={style:{collapsedRows:(n={},n[i]=o,n)}};this.emit(I.LAYOUT_COLLAPSE_ROWS,{collapsedRows:a.style.collapsedRows,meta:t==null?void 0:t.node}),this.setOptions(a),this.render(!1),this.emit(I.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:a.style.collapsedRows,meta:t==null?void 0:t.node})},r.prototype.handleTreeRowsCollapseAll=function(t){var n={style:{hierarchyCollapse:!t,collapsedRows:null,rowExpandDepth:null}};this.setOptions(n),this.render(!1)},r.prototype.groupSortByMethod=function(t,n){var i=this.dataCfg.fields,o=i.rows,a=i.columns,l=this.options.style.colCfg.hideMeasureColumn,s=this.isValueInCols()?nt(o):nt(a),f=n.query,h=n.value,d=Wa(f),v=h;l&&this.isValueInCols()&&(v=this.dataSet.fields.values[0],d[Te]=v);var g={sortFieldId:s,sortMethod:t,sortByMeasure:v,query:d},y=this.dataCfg.sortParams.filter(function(_){return(_==null?void 0:_.sortFieldId)!==s});this.updateSortMethodMap(n.id,t,!0);var C=j(j([],W(y),!1),[g],!1);this.emit(I.RANGE_SORT,C),this.setDataCfg(B(B({},this.dataCfg),{sortParams:C})),this.render()},r.prototype.handleGroupSort=function(t,n){var i=this;t.stopPropagation(),this.interaction.addIntercepts([Ee.HOVER]);var o=this.getMenuDefaultSelectedKeys(n==null?void 0:n.id),a={onClick:function(l){var s=l.key,f=s;i.groupSortByMethod(f,n),i.emit(I.RANGE_SORTED,t)},menus:rW(),defaultSelectedKeys:o};this.showTooltipWithInfo(t,[],{operator:a,onlyMenu:!0,forceRender:!0})},r.prototype.initPanelGroupChildren=function(){e.prototype.initPanelGroupChildren.call(this);var t={zIndex:Qy,s2:this};this.frozenRowGroup=new b2(B({KEY_GROUP_PANEL_FROZEN_ROW:eC},t)),this.panelGroup.add(this.frozenRowGroup)},r.prototype.isCellType=function(t){return t instanceof Bf&&!(t instanceof TS)},r}(T2),IV=function(e){re(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.onSortTooltipClick=function(n,i){var o=n.key,a=i.field,l={sortFieldId:a,sortMethod:o};t.updateSortMethodMap(i.id,o),t.emit(I.RANGE_SORT,[l])},t}return r.prototype.getDataSet=function(t){var n=t.dataSet;return n?n(this):new RX(this)},r.prototype.isPivotMode=function(){return!1},r.prototype.isTableMode=function(){return!0},r.prototype.isHierarchyTreeType=function(){return!1},r.prototype.isScrollContainsRowHeader=function(){return!1},r.prototype.isFrozenRowHeader=function(){return!1},r.prototype.clearDrillDownData=function(){},r.prototype.isValueInCols=function(){return!1},r.prototype.bindEvents=function(){},r.prototype.initPanelGroupChildren=function(){var t,n=this;e.prototype.initPanelGroupChildren.call(this);var i={zIndex:Qy,s2:this};t=W([eC,tC,ZI,QI,JI,eM].map(function(o){var a=new b2(B({name:o},i));return n.panelGroup.add(a),a}),6),this.frozenRowGroup=t[0],this.frozenColGroup=t[1],this.frozenTrailingRowGroup=t[2],this.frozenTrailingColGroup=t[3],this.frozenTopGroup=t[4],this.frozenBottomGroup=t[5]},r.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,n=this.dataSet,i=n.fields,o=n.meta,a=this.options,l=a.style,s=a.dataCell,f=function(h){return t.options.showSeriesNumber&&h.colIndex===0?new mS(h,t):new $f(h,t)};return B(B(B(B({},this.options),i),l),{meta:o,spreadsheet:this,dataSet:this.dataSet,dataCell:s??f})},r.prototype.buildFacet=function(){var t,n=this.getFacetCfgFromDataSetAndOptions();(t=this.facet)===null||t===void 0||t.destroy(),this.facet=new cV(n),this.facet.render()},r.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(I.RANGE_SORT),this.off(I.RANGE_FILTER)},r.prototype.handleGroupSort=function(t,n){var i=this;t.stopPropagation(),this.interaction.addIntercepts([Ee.HOVER]);var o=this.getMenuDefaultSelectedKeys(n==null?void 0:n.id),a={onClick:function(l){var s=l.key,f=s;i.onSortTooltipClick({key:f},n)},menus:nW(),defaultSelectedKeys:o};this.showTooltipWithInfo(t,[],{operator:a,onlyMenu:!0,forceRender:!0})},r}(T2);const MV={zh_CN:{选择分析信息:"选择分析信息",切换指标:"切换指标",确定:"确定",取消:"取消",重置:"重置",请输入关键字搜索:"请输入关键字搜索",搜索:"搜索",恢复:"恢复","已选 {} 项":"已选 {} 项",所选项:"所选项",选择下钻维度:"选择下钻维度",恢复默认:"恢复默认",搜索字段:"搜索字段",行列切换:"行列切换",行头:"行头",列头:"列头",值:"值",展开子项:"展开子项",首字母:"首字母",手动排序:"手动排序",其他字段:"其他字段",高级排序:"高级排序",设置顺序:"设置顺序",可选字段:"可选字段","按以下规则进行排序（优先级由低到高）":"按以下规则进行排序（优先级由低到高）",按:"按",说明:"说明：",复制原始数据:"复制原始数据",复制格式化数据:"复制格式化数据",下载原始数据:"下载原始数据",下载格式化数据:"下载格式化数据",操作成功:"操作成功",操作失败:"操作失败",时间:"时间",指标:"指标",目标值:"目标值"},en_US:{选择分析信息:"Select Analysis Information",切换指标:"Switch indicator",确定:"Ok",取消:"Cancel",重置:"Reset",请输入关键字搜索:"Please enter a keyword search",搜索:"Search",恢复:"Recover","已选 {} 项":"selected {} item",所选项:"selected items",选择下钻维度:"Select drill down dimension",恢复默认:"Restore default",搜索字段:"Search field",行列切换:"Switch Dimensions",行头:"Rows",列头:"Cols",值:"Values",展开子项:"Expand Children",首字母:"Alphabetical order",手动排序:"Custom order",其他字段:"Other field",高级排序:"Advanced order",设置顺序:"SetManual",可选字段:"Fields","按以下规则进行排序（优先级由低到高）":"Order according to the following rules (from low to high priority)",按:"By",说明:"Description: ",复制原始数据:"Copy raw data",复制格式化数据:"Copy formatted data",下载原始数据:"Download raw data",下载格式化数据:"Download formatted data",操作成功:"Operation successful",操作失败:"Operation failed",时间:"Date",指标:"Measure",目标值:"Target Value"}},BV={tooltip:{showTooltip:!0,autoAdjustBoundary:"body",operation:{hiddenColumns:!0,trend:!1,sort:!0}},showDefaultHeaderActionIcon:!0},DV=200,$V="s2-drill-down",FV=(...e)=>Mn(CC,BV,...e);var PV=typeof global=="object"&&global&&global.Object===Object&&global,E2=PV,NV=typeof self=="object"&&self&&self.Object===Object&&self,HV=E2||NV||Function("return this")(),Pn=HV,zV=Pn.Symbol,hn=zV,L2=Object.prototype,kV=L2.hasOwnProperty,WV=L2.toString,bs=hn?hn.toStringTag:void 0;function GV(e){var r=kV.call(e,bs),t=e[bs];try{e[bs]=void 0;var n=!0}catch{}var i=WV.call(e);return n&&(r?e[bs]=t:delete e[bs]),i}var UV=Object.prototype,YV=UV.toString;function XV(e){return YV.call(e)}var VV="[object Null]",qV="[object Undefined]",A2=hn?hn.toStringTag:void 0;function Oi(e){return e==null?e===void 0?qV:VV:A2&&A2 in Object(e)?GV(e):XV(e)}function Nn(e){return e!=null&&typeof e=="object"}var KV="[object Symbol]";function jf(e){return typeof e=="symbol"||Nn(e)&&Oi(e)==KV}function R2(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var jV=Array.isArray,yr=jV,ZV=1/0,O2=hn?hn.prototype:void 0,I2=O2?O2.toString:void 0;function M2(e){if(typeof e=="string")return e;if(yr(e))return R2(e,M2)+"";if(jf(e))return I2?I2.call(e):"";var r=e+"";return r=="0"&&1/e==-ZV?"-0":r}var QV=/\s/;function JV(e){for(var r=e.length;r--&&QV.test(e.charAt(r)););return r}var eq=/^\s+/;function tq(e){return e&&e.slice(0,JV(e)+1).replace(eq,"")}function Ii(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var B2=NaN,rq=/^[-+]0x[0-9a-f]+$/i,nq=/^0b[01]+$/i,iq=/^0o[0-7]+$/i,oq=parseInt;function D2(e){if(typeof e=="number")return e;if(jf(e))return B2;if(Ii(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ii(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=tq(e);var t=nq.test(e);return t||iq.test(e)?oq(e.slice(2),t?2:8):rq.test(e)?B2:+e}function $2(e){return e}var aq="[object AsyncFunction]",lq="[object Function]",sq="[object GeneratorFunction]",uq="[object Proxy]";function F2(e){if(!Ii(e))return!1;var r=Oi(e);return r==lq||r==sq||r==aq||r==uq}var fq=Pn["__core-js_shared__"],$p=fq,P2=function(){var e=/[^.]+$/.exec($p&&$p.keys&&$p.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cq(e){return!!P2&&P2 in e}var hq=Function.prototype,dq=hq.toString;function aa(e){if(e!=null){try{return dq.call(e)}catch{}try{return e+""}catch{}}return""}var vq=/[\\^$.*+?()[\]{}|]/g,pq=/^\[object .+?Constructor\]$/,gq=Function.prototype,yq=Object.prototype,Cq=gq.toString,mq=yq.hasOwnProperty,_q=RegExp("^"+Cq.call(mq).replace(vq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wq(e){if(!Ii(e)||cq(e))return!1;var r=F2(e)?_q:pq;return r.test(aa(e))}function xq(e,r){return e==null?void 0:e[r]}function la(e,r){var t=xq(e,r);return wq(t)?t:void 0}var Sq=la(Pn,"WeakMap"),Fp=Sq,N2=Object.create,bq=function(){function e(){}return function(r){if(!Ii(r))return{};if(N2)return N2(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),Tq=bq;function Eq(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}function Lq(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Aq=800,Rq=16,Oq=Date.now;function Iq(e){var r=0,t=0;return function(){var n=Oq(),i=Rq-(n-t);if(t=n,i>0){if(++r>=Aq)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}function Mq(e){return function(){return e}}var Bq=function(){try{var e=la(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zf=Bq,Dq=Zf?function(e,r){return Zf(e,"toString",{configurable:!0,enumerable:!1,value:Mq(r),writable:!0})}:$2,$q=Dq,Fq=Iq($q),Pq=Fq;function Nq(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Hq=9007199254740991,zq=/^(?:0|[1-9]\d*)$/;function H2(e,r){var t=typeof e;return r=r??Hq,!!r&&(t=="number"||t!="symbol"&&zq.test(e))&&e>-1&&e%1==0&&e<r}function z2(e,r,t){r=="__proto__"&&Zf?Zf(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function Pp(e,r){return e===r||e!==e&&r!==r}var kq=Object.prototype,Wq=kq.hasOwnProperty;function k2(e,r,t){var n=e[r];(!(Wq.call(e,r)&&Pp(n,t))||t===void 0&&!(r in e))&&z2(e,r,t)}function Ts(e,r,t,n){var i=!t;t||(t={});for(var o=-1,a=r.length;++o<a;){var l=r[o],s=void 0;s===void 0&&(s=e[l]),i?z2(t,l,s):k2(t,l,s)}return t}var W2=Math.max;function Gq(e,r,t){return r=W2(r===void 0?e.length-1:r,0),function(){for(var n=arguments,i=-1,o=W2(n.length-r,0),a=Array(o);++i<o;)a[i]=n[r+i];i=-1;for(var l=Array(r+1);++i<r;)l[i]=n[i];return l[r]=t(a),Eq(e,this,l)}}var Uq=9007199254740991;function Np(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Uq}function Es(e){return e!=null&&Np(e.length)&&!F2(e)}var Yq=Object.prototype;function Qf(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Yq;return e===t}function Xq(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Vq="[object Arguments]";function G2(e){return Nn(e)&&Oi(e)==Vq}var U2=Object.prototype,qq=U2.hasOwnProperty,Kq=U2.propertyIsEnumerable,jq=G2(function(){return arguments}())?G2:function(e){return Nn(e)&&qq.call(e,"callee")&&!Kq.call(e,"callee")},Jf=jq;function Zq(){return!1}var Y2=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,X2=Y2&&typeof module=="object"&&module&&!module.nodeType&&module,Qq=X2&&X2.exports===Y2,V2=Qq?Pn.Buffer:void 0,Jq=V2?V2.isBuffer:void 0,eK=Jq||Zq,Ls=eK,tK="[object Arguments]",rK="[object Array]",nK="[object Boolean]",iK="[object Date]",oK="[object Error]",aK="[object Function]",lK="[object Map]",sK="[object Number]",uK="[object Object]",fK="[object RegExp]",cK="[object Set]",hK="[object String]",dK="[object WeakMap]",vK="[object ArrayBuffer]",pK="[object DataView]",gK="[object Float32Array]",yK="[object Float64Array]",CK="[object Int8Array]",mK="[object Int16Array]",_K="[object Int32Array]",wK="[object Uint8Array]",xK="[object Uint8ClampedArray]",SK="[object Uint16Array]",bK="[object Uint32Array]",pt={};pt[gK]=pt[yK]=pt[CK]=pt[mK]=pt[_K]=pt[wK]=pt[xK]=pt[SK]=pt[bK]=!0,pt[tK]=pt[rK]=pt[vK]=pt[nK]=pt[pK]=pt[iK]=pt[oK]=pt[aK]=pt[lK]=pt[sK]=pt[uK]=pt[fK]=pt[cK]=pt[hK]=pt[dK]=!1;function TK(e){return Nn(e)&&Np(e.length)&&!!pt[Oi(e)]}function Hp(e){return function(r){return e(r)}}var q2=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,As=q2&&typeof module=="object"&&module&&!module.nodeType&&module,EK=As&&As.exports===q2,zp=EK&&E2.process,LK=function(){try{var e=As&&As.require&&As.require("util").types;return e||zp&&zp.binding&&zp.binding("util")}catch{}}(),nl=LK,K2=nl&&nl.isTypedArray,AK=K2?Hp(K2):TK,kp=AK,RK=Object.prototype,OK=RK.hasOwnProperty;function j2(e,r){var t=yr(e),n=!t&&Jf(e),i=!t&&!n&&Ls(e),o=!t&&!n&&!i&&kp(e),a=t||n||i||o,l=a?Xq(e.length,String):[],s=l.length;for(var f in e)(r||OK.call(e,f))&&!(a&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||H2(f,s)))&&l.push(f);return l}function Z2(e,r){return function(t){return e(r(t))}}var IK=Z2(Object.keys,Object),MK=IK,BK=Object.prototype,DK=BK.hasOwnProperty;function Wp(e){if(!Qf(e))return MK(e);var r=[];for(var t in Object(e))DK.call(e,t)&&t!="constructor"&&r.push(t);return r}function Rs(e){return Es(e)?j2(e):Wp(e)}function $K(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var FK=Object.prototype,PK=FK.hasOwnProperty;function NK(e){if(!Ii(e))return $K(e);var r=Qf(e),t=[];for(var n in e)n=="constructor"&&(r||!PK.call(e,n))||t.push(n);return t}function Gp(e){return Es(e)?j2(e,!0):NK(e)}var HK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zK=/^\w*$/;function Up(e,r){if(yr(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||jf(e)?!0:zK.test(e)||!HK.test(e)||r!=null&&e in Object(r)}var kK=la(Object,"create"),Os=kK;function WK(){this.__data__=Os?Os(null):{},this.size=0}function GK(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var UK="__lodash_hash_undefined__",YK=Object.prototype,XK=YK.hasOwnProperty;function VK(e){var r=this.__data__;if(Os){var t=r[e];return t===UK?void 0:t}return XK.call(r,e)?r[e]:void 0}var qK=Object.prototype,KK=qK.hasOwnProperty;function jK(e){var r=this.__data__;return Os?r[e]!==void 0:KK.call(r,e)}var ZK="__lodash_hash_undefined__";function QK(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Os&&r===void 0?ZK:r,this}function sa(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}sa.prototype.clear=WK,sa.prototype.delete=GK,sa.prototype.get=VK,sa.prototype.has=jK,sa.prototype.set=QK;function JK(){this.__data__=[],this.size=0}function ec(e,r){for(var t=e.length;t--;)if(Pp(e[t][0],r))return t;return-1}var ej=Array.prototype,tj=ej.splice;function rj(e){var r=this.__data__,t=ec(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():tj.call(r,t,1),--this.size,!0}function nj(e){var r=this.__data__,t=ec(r,e);return t<0?void 0:r[t][1]}function ij(e){return ec(this.__data__,e)>-1}function oj(e,r){var t=this.__data__,n=ec(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}function Mi(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Mi.prototype.clear=JK,Mi.prototype.delete=rj,Mi.prototype.get=nj,Mi.prototype.has=ij,Mi.prototype.set=oj;var aj=la(Pn,"Map"),Is=aj;function lj(){this.size=0,this.__data__={hash:new sa,map:new(Is||Mi),string:new sa}}function sj(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function tc(e,r){var t=e.__data__;return sj(r)?t[typeof r=="string"?"string":"hash"]:t.map}function uj(e){var r=tc(this,e).delete(e);return this.size-=r?1:0,r}function fj(e){return tc(this,e).get(e)}function cj(e){return tc(this,e).has(e)}function hj(e,r){var t=tc(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}function Bi(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Bi.prototype.clear=lj,Bi.prototype.delete=uj,Bi.prototype.get=fj,Bi.prototype.has=cj,Bi.prototype.set=hj;var dj="Expected a function";function Yp(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(dj);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return t.cache=o.set(i,a)||o,a};return t.cache=new(Yp.Cache||Bi),t}Yp.Cache=Bi;var vj=500;function pj(e){var r=Yp(e,function(n){return t.size===vj&&t.clear(),n}),t=r.cache;return r}var gj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yj=/\\(\\)?/g,Cj=pj(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(gj,function(t,n,i,o){r.push(i?o.replace(yj,"$1"):n||t)}),r}),mj=Cj;function _j(e){return e==null?"":M2(e)}function rc(e,r){return yr(e)?e:Up(e,r)?[e]:mj(_j(e))}var wj=1/0;function Ms(e){if(typeof e=="string"||jf(e))return e;var r=e+"";return r=="0"&&1/e==-wj?"-0":r}function Xp(e,r){r=rc(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[Ms(r[t++])];return t&&t==n?e:void 0}function xj(e,r,t){var n=e==null?void 0:Xp(e,r);return n===void 0?t:n}function Vp(e,r){for(var t=-1,n=r.length,i=e.length;++t<n;)e[i+t]=r[t];return e}var Q2=hn?hn.isConcatSpreadable:void 0;function Sj(e){return yr(e)||Jf(e)||!!(Q2&&e&&e[Q2])}function bj(e,r,t,n,i){var o=-1,a=e.length;for(t||(t=Sj),i||(i=[]);++o<a;){var l=e[o];t(l)?Vp(i,l):i[i.length]=l}return i}function Tj(e){var r=e==null?0:e.length;return r?bj(e):[]}function Ej(e){return Pq(Gq(e,void 0,Tj),e+"")}var Lj=Z2(Object.getPrototypeOf,Object),qp=Lj,Aj="[object Object]",Rj=Function.prototype,Oj=Object.prototype,J2=Rj.toString,Ij=Oj.hasOwnProperty,Mj=J2.call(Object);function Bj(e){if(!Nn(e)||Oi(e)!=Aj)return!1;var r=qp(e);if(r===null)return!0;var t=Ij.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&J2.call(t)==Mj}function Dj(e,r,t){var n=-1,i=e.length;r<0&&(r=-r>i?0:i+r),t=t>i?i:t,t<0&&(t+=i),i=r>t?0:t-r>>>0,r>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+r];return o}var $j="\\ud800-\\udfff",Fj="\\u0300-\\u036f",Pj="\\ufe20-\\ufe2f",Nj="\\u20d0-\\u20ff",Hj=Fj+Pj+Nj,zj="\\ufe0e\\ufe0f",kj="\\u200d",Wj=RegExp("["+kj+$j+Hj+zj+"]");function Gj(e){return Wj.test(e)}function Uj(e,r,t,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(t=e[++i]);++i<o;)t=r(t,e[i],i,e);return t}function Yj(){this.__data__=new Mi,this.size=0}function Xj(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function Vj(e){return this.__data__.get(e)}function qj(e){return this.__data__.has(e)}var Kj=200;function jj(e,r){var t=this.__data__;if(t instanceof Mi){var n=t.__data__;if(!Is||n.length<Kj-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Bi(n)}return t.set(e,r),this.size=t.size,this}function si(e){var r=this.__data__=new Mi(e);this.size=r.size}si.prototype.clear=Yj,si.prototype.delete=Xj,si.prototype.get=Vj,si.prototype.has=qj,si.prototype.set=jj;function Zj(e,r){return e&&Ts(r,Rs(r),e)}function Qj(e,r){return e&&Ts(r,Gp(r),e)}var eb=typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,tb=eb&&typeof module=="object"&&module&&!module.nodeType&&module,Jj=tb&&tb.exports===eb,rb=Jj?Pn.Buffer:void 0,nb=rb?rb.allocUnsafe:void 0;function eZ(e,r){if(r)return e.slice();var t=e.length,n=nb?nb(t):new e.constructor(t);return e.copy(n),n}function ib(e,r){for(var t=-1,n=e==null?0:e.length,i=0,o=[];++t<n;){var a=e[t];r(a,t,e)&&(o[i++]=a)}return o}function ob(){return[]}var tZ=Object.prototype,rZ=tZ.propertyIsEnumerable,ab=Object.getOwnPropertySymbols,nZ=ab?function(e){return e==null?[]:(e=Object(e),ib(ab(e),function(r){return rZ.call(e,r)}))}:ob,Kp=nZ;function iZ(e,r){return Ts(e,Kp(e),r)}var oZ=Object.getOwnPropertySymbols,aZ=oZ?function(e){for(var r=[];e;)Vp(r,Kp(e)),e=qp(e);return r}:ob,lb=aZ;function lZ(e,r){return Ts(e,lb(e),r)}function sb(e,r,t){var n=r(e);return yr(e)?n:Vp(n,t(e))}function jp(e){return sb(e,Rs,Kp)}function ub(e){return sb(e,Gp,lb)}var sZ=la(Pn,"DataView"),Zp=sZ,uZ=la(Pn,"Promise"),Qp=uZ,fZ=la(Pn,"Set"),Jp=fZ,fb="[object Map]",cZ="[object Object]",cb="[object Promise]",hb="[object Set]",db="[object WeakMap]",vb="[object DataView]",hZ=aa(Zp),dZ=aa(Is),vZ=aa(Qp),pZ=aa(Jp),gZ=aa(Fp),ua=Oi;(Zp&&ua(new Zp(new ArrayBuffer(1)))!=vb||Is&&ua(new Is)!=fb||Qp&&ua(Qp.resolve())!=cb||Jp&&ua(new Jp)!=hb||Fp&&ua(new Fp)!=db)&&(ua=function(e){var r=Oi(e),t=r==cZ?e.constructor:void 0,n=t?aa(t):"";if(n)switch(n){case hZ:return vb;case dZ:return fb;case vZ:return cb;case pZ:return hb;case gZ:return db}return r});var fa=ua,yZ=Object.prototype,CZ=yZ.hasOwnProperty;function mZ(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&CZ.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var _Z=Pn.Uint8Array,nc=_Z;function e0(e){var r=new e.constructor(e.byteLength);return new nc(r).set(new nc(e)),r}function wZ(e,r){var t=r?e0(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var xZ=/\w*$/;function SZ(e){var r=new e.constructor(e.source,xZ.exec(e));return r.lastIndex=e.lastIndex,r}var pb=hn?hn.prototype:void 0,gb=pb?pb.valueOf:void 0;function bZ(e){return gb?Object(gb.call(e)):{}}function TZ(e,r){var t=r?e0(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var EZ="[object Boolean]",LZ="[object Date]",AZ="[object Map]",RZ="[object Number]",OZ="[object RegExp]",IZ="[object Set]",MZ="[object String]",BZ="[object Symbol]",DZ="[object ArrayBuffer]",$Z="[object DataView]",FZ="[object Float32Array]",PZ="[object Float64Array]",NZ="[object Int8Array]",HZ="[object Int16Array]",zZ="[object Int32Array]",kZ="[object Uint8Array]",WZ="[object Uint8ClampedArray]",GZ="[object Uint16Array]",UZ="[object Uint32Array]";function YZ(e,r,t){var n=e.constructor;switch(r){case DZ:return e0(e);case EZ:case LZ:return new n(+e);case $Z:return wZ(e,t);case FZ:case PZ:case NZ:case HZ:case zZ:case kZ:case WZ:case GZ:case UZ:return TZ(e,t);case AZ:return new n;case RZ:case MZ:return new n(e);case OZ:return SZ(e);case IZ:return new n;case BZ:return bZ(e)}}function XZ(e){return typeof e.constructor=="function"&&!Qf(e)?Tq(qp(e)):{}}var VZ="[object Map]";function qZ(e){return Nn(e)&&fa(e)==VZ}var yb=nl&&nl.isMap,KZ=yb?Hp(yb):qZ,jZ=KZ,ZZ="[object Set]";function QZ(e){return Nn(e)&&fa(e)==ZZ}var Cb=nl&&nl.isSet,JZ=Cb?Hp(Cb):QZ,eQ=JZ,tQ=1,rQ=2,nQ=4,mb="[object Arguments]",iQ="[object Array]",oQ="[object Boolean]",aQ="[object Date]",lQ="[object Error]",_b="[object Function]",sQ="[object GeneratorFunction]",uQ="[object Map]",fQ="[object Number]",wb="[object Object]",cQ="[object RegExp]",hQ="[object Set]",dQ="[object String]",vQ="[object Symbol]",pQ="[object WeakMap]",gQ="[object ArrayBuffer]",yQ="[object DataView]",CQ="[object Float32Array]",mQ="[object Float64Array]",_Q="[object Int8Array]",wQ="[object Int16Array]",xQ="[object Int32Array]",SQ="[object Uint8Array]",bQ="[object Uint8ClampedArray]",TQ="[object Uint16Array]",EQ="[object Uint32Array]",ct={};ct[mb]=ct[iQ]=ct[gQ]=ct[yQ]=ct[oQ]=ct[aQ]=ct[CQ]=ct[mQ]=ct[_Q]=ct[wQ]=ct[xQ]=ct[uQ]=ct[fQ]=ct[wb]=ct[cQ]=ct[hQ]=ct[dQ]=ct[vQ]=ct[SQ]=ct[bQ]=ct[TQ]=ct[EQ]=!0,ct[lQ]=ct[_b]=ct[pQ]=!1;function Bs(e,r,t,n,i,o){var a,l=r&tQ,s=r&rQ,f=r&nQ;if(t&&(a=i?t(e,n,i,o):t(e)),a!==void 0)return a;if(!Ii(e))return e;var h=yr(e);if(h){if(a=mZ(e),!l)return Lq(e,a)}else{var d=fa(e),v=d==_b||d==sQ;if(Ls(e))return eZ(e,l);if(d==wb||d==mb||v&&!i){if(a=s||v?{}:XZ(e),!l)return s?lZ(e,Qj(a,e)):iZ(e,Zj(a,e))}else{if(!ct[d])return i?e:{};a=YZ(e,d,l)}}o||(o=new si);var g=o.get(e);if(g)return g;o.set(e,a),eQ(e)?e.forEach(function(_){a.add(Bs(_,r,t,_,e,o))}):jZ(e)&&e.forEach(function(_,w){a.set(w,Bs(_,r,t,w,e,o))});var y=f?s?ub:jp:s?Gp:Rs,C=h?void 0:y(e);return Nq(C||e,function(_,w){C&&(w=_,_=e[w]),k2(a,w,Bs(_,r,t,w,e,o))}),a}var LQ=4;function AQ(e){return Bs(e,LQ)}var RQ="__lodash_hash_undefined__";function OQ(e){return this.__data__.set(e,RQ),this}function IQ(e){return this.__data__.has(e)}function ic(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Bi;++r<t;)this.add(e[r])}ic.prototype.add=ic.prototype.push=OQ,ic.prototype.has=IQ;function MQ(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}function BQ(e,r){return e.has(r)}var DQ=1,$Q=2;function xb(e,r,t,n,i,o){var a=t&DQ,l=e.length,s=r.length;if(l!=s&&!(a&&s>l))return!1;var f=o.get(e),h=o.get(r);if(f&&h)return f==r&&h==e;var d=-1,v=!0,g=t&$Q?new ic:void 0;for(o.set(e,r),o.set(r,e);++d<l;){var y=e[d],C=r[d];if(n)var _=a?n(C,y,d,r,e,o):n(y,C,d,e,r,o);if(_!==void 0){if(_)continue;v=!1;break}if(g){if(!MQ(r,function(w,S){if(!BQ(g,S)&&(y===w||i(y,w,t,n,o)))return g.push(S)})){v=!1;break}}else if(!(y===C||i(y,C,t,n,o))){v=!1;break}}return o.delete(e),o.delete(r),v}function FQ(e){var r=-1,t=Array(e.size);return e.forEach(function(n,i){t[++r]=[i,n]}),t}function PQ(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var NQ=1,HQ=2,zQ="[object Boolean]",kQ="[object Date]",WQ="[object Error]",GQ="[object Map]",UQ="[object Number]",YQ="[object RegExp]",XQ="[object Set]",VQ="[object String]",qQ="[object Symbol]",KQ="[object ArrayBuffer]",jQ="[object DataView]",Sb=hn?hn.prototype:void 0,t0=Sb?Sb.valueOf:void 0;function ZQ(e,r,t,n,i,o,a){switch(t){case jQ:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case KQ:return!(e.byteLength!=r.byteLength||!o(new nc(e),new nc(r)));case zQ:case kQ:case UQ:return Pp(+e,+r);case WQ:return e.name==r.name&&e.message==r.message;case YQ:case VQ:return e==r+"";case GQ:var l=FQ;case XQ:var s=n&NQ;if(l||(l=PQ),e.size!=r.size&&!s)return!1;var f=a.get(e);if(f)return f==r;n|=HQ,a.set(e,r);var h=xb(l(e),l(r),n,i,o,a);return a.delete(e),h;case qQ:if(t0)return t0.call(e)==t0.call(r)}return!1}var QQ=1,JQ=Object.prototype,eJ=JQ.hasOwnProperty;function tJ(e,r,t,n,i,o){var a=t&QQ,l=jp(e),s=l.length,f=jp(r),h=f.length;if(s!=h&&!a)return!1;for(var d=s;d--;){var v=l[d];if(!(a?v in r:eJ.call(r,v)))return!1}var g=o.get(e),y=o.get(r);if(g&&y)return g==r&&y==e;var C=!0;o.set(e,r),o.set(r,e);for(var _=a;++d<s;){v=l[d];var w=e[v],S=r[v];if(n)var b=a?n(S,w,v,r,e,o):n(w,S,v,e,r,o);if(!(b===void 0?w===S||i(w,S,t,n,o):b)){C=!1;break}_||(_=v=="constructor")}if(C&&!_){var E=e.constructor,O=r.constructor;E!=O&&"constructor"in e&&"constructor"in r&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(C=!1)}return o.delete(e),o.delete(r),C}var rJ=1,bb="[object Arguments]",Tb="[object Array]",oc="[object Object]",nJ=Object.prototype,Eb=nJ.hasOwnProperty;function iJ(e,r,t,n,i,o){var a=yr(e),l=yr(r),s=a?Tb:fa(e),f=l?Tb:fa(r);s=s==bb?oc:s,f=f==bb?oc:f;var h=s==oc,d=f==oc,v=s==f;if(v&&Ls(e)){if(!Ls(r))return!1;a=!0,h=!1}if(v&&!h)return o||(o=new si),a||kp(e)?xb(e,r,t,n,i,o):ZQ(e,r,s,t,n,i,o);if(!(t&rJ)){var g=h&&Eb.call(e,"__wrapped__"),y=d&&Eb.call(r,"__wrapped__");if(g||y){var C=g?e.value():e,_=y?r.value():r;return o||(o=new si),i(C,_,t,n,o)}}return v?(o||(o=new si),tJ(e,r,t,n,i,o)):!1}function r0(e,r,t,n,i){return e===r?!0:e==null||r==null||!Nn(e)&&!Nn(r)?e!==e&&r!==r:iJ(e,r,t,n,r0,i)}var oJ=1,aJ=2;function lJ(e,r,t,n){var i=t.length,o=i;if(e==null)return!o;for(e=Object(e);i--;){var a=t[i];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=t[i];var l=a[0],s=e[l],f=a[1];if(a[2]){if(s===void 0&&!(l in e))return!1}else{var h=new si,d;if(!(d===void 0?r0(f,s,oJ|aJ,n,h):d))return!1}}return!0}function Lb(e){return e===e&&!Ii(e)}function sJ(e){for(var r=Rs(e),t=r.length;t--;){var n=r[t],i=e[n];r[t]=[n,i,Lb(i)]}return r}function Ab(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}function uJ(e){var r=sJ(e);return r.length==1&&r[0][2]?Ab(r[0][0],r[0][1]):function(t){return t===e||lJ(t,e,r)}}function fJ(e,r){return e!=null&&r in Object(e)}function cJ(e,r,t){r=rc(r,e);for(var n=-1,i=r.length,o=!1;++n<i;){var a=Ms(r[n]);if(!(o=e!=null&&t(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Np(i)&&H2(a,i)&&(yr(e)||Jf(e)))}function hJ(e,r){return e!=null&&cJ(e,r,fJ)}var dJ=1,vJ=2;function pJ(e,r){return Up(e)&&Lb(r)?Ab(Ms(e),r):function(t){var n=xj(t,e);return n===void 0&&n===r?hJ(t,e):r0(r,n,dJ|vJ)}}function Rb(e){return function(r){return r==null?void 0:r[e]}}function gJ(e){return function(r){return Xp(r,e)}}function yJ(e){return Up(e)?Rb(Ms(e)):gJ(e)}function Ob(e){return typeof e=="function"?e:e==null?$2:typeof e=="object"?yr(e)?pJ(e[0],e[1]):uJ(e):yJ(e)}function CJ(e){return function(r,t,n){for(var i=-1,o=Object(r),a=n(r),l=a.length;l--;){var s=a[++i];if(t(o[s],s,o)===!1)break}return r}}var mJ=CJ(),_J=mJ;function wJ(e,r){return e&&_J(e,r,Rs)}function xJ(e,r){return function(t,n){if(t==null)return t;if(!Es(t))return e(t,n);for(var i=t.length,o=-1,a=Object(t);++o<i&&n(a[o],o,a)!==!1;);return t}}var SJ=xJ(wJ),Ib=SJ,bJ=function(){return Pn.Date.now()},n0=bJ,TJ="Expected a function",EJ=Math.max,LJ=Math.min;function AJ(e,r,t){var n,i,o,a,l,s,f=0,h=!1,d=!1,v=!0;if(typeof e!="function")throw new TypeError(TJ);r=D2(r)||0,Ii(t)&&(h=!!t.leading,d="maxWait"in t,o=d?EJ(D2(t.maxWait)||0,r):o,v="trailing"in t?!!t.trailing:v);function g(D){var F=n,H=i;return n=i=void 0,f=D,a=e.apply(H,F),a}function y(D){return f=D,l=setTimeout(w,r),h?g(D):a}function C(D){var F=D-s,H=D-f,k=r-F;return d?LJ(k,o-H):k}function _(D){var F=D-s,H=D-f;return s===void 0||F>=r||F<0||d&&H>=o}function w(){var D=n0();if(_(D))return S(D);l=setTimeout(w,C(D))}function S(D){return l=void 0,v&&n?g(D):(n=i=void 0,a)}function b(){l!==void 0&&clearTimeout(l),f=0,n=s=i=l=void 0}function E(){return l===void 0?a:S(n0())}function O(){var D=n0(),F=_(D);if(n=arguments,i=this,s=D,F){if(l===void 0)return y(s);if(d)return clearTimeout(l),l=setTimeout(w,r),g(s)}return l===void 0&&(l=setTimeout(w,r)),a}return O.cancel=b,O.flush=E,O}function RJ(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}function OJ(e,r){var t=[];return Ib(e,function(n,i,o){r(n,i,o)&&t.push(n)}),t}function IJ(e,r){var t=yr(e)?ib:OJ;return t(e,Ob(r))}var MJ="[object String]";function BJ(e){return typeof e=="string"||!yr(e)&&Nn(e)&&Oi(e)==MJ}function DJ(e,r){return r.length<2?e:Xp(e,Dj(r,0,-1))}var $J="[object Boolean]";function i0(e){return e===!0||e===!1||Nn(e)&&Oi(e)==$J}var FJ="[object Map]",PJ="[object Set]",NJ=Object.prototype,HJ=NJ.hasOwnProperty;function Di(e){if(e==null)return!0;if(Es(e)&&(yr(e)||typeof e=="string"||typeof e.splice=="function"||Ls(e)||kp(e)||Jf(e)))return!e.length;var r=fa(e);if(r==FJ||r==PJ)return!e.size;if(Qf(e))return!Wp(e).length;for(var t in e)if(HJ.call(e,t))return!1;return!0}function zJ(e,r){return r=rc(r,e),e=DJ(e,r),e==null||delete e[Ms(RJ(r))]}function kJ(e){return Bj(e)?void 0:e}var WJ=1,GJ=2,UJ=4,YJ=Ej(function(e,r){var t={};if(e==null)return t;var n=!1;r=R2(r,function(o){return o=rc(o,e),n||(n=o.length>1),o}),Ts(e,ub(e),t),n&&(t=Bs(t,WJ|GJ|UJ,kJ));for(var i=r.length;i--;)zJ(t,r[i]);return t}),XJ=YJ,VJ=Rb("length"),qJ=VJ,Mb="\\ud800-\\udfff",KJ="\\u0300-\\u036f",jJ="\\ufe20-\\ufe2f",ZJ="\\u20d0-\\u20ff",QJ=KJ+jJ+ZJ,JJ="\\ufe0e\\ufe0f",eee="["+Mb+"]",o0="["+QJ+"]",a0="\\ud83c[\\udffb-\\udfff]",tee="(?:"+o0+"|"+a0+")",Bb="[^"+Mb+"]",Db="(?:\\ud83c[\\udde6-\\uddff]){2}",$b="[\\ud800-\\udbff][\\udc00-\\udfff]",ree="\\u200d",Fb=tee+"?",Pb="["+JJ+"]?",nee="(?:"+ree+"(?:"+[Bb,Db,$b].join("|")+")"+Pb+Fb+")*",iee=Pb+Fb+nee,oee="(?:"+[Bb+o0+"?",o0,Db,$b,eee].join("|")+")",Nb=RegExp(a0+"(?="+a0+")|"+oee+iee,"g");function aee(e){for(var r=Nb.lastIndex=0;Nb.test(e);)++r;return r}function lee(e){return Gj(e)?aee(e):qJ(e)}function see(e,r,t,n,i){return i(e,function(o,a,l){t=n?(n=!1,o):r(t,o,a,l)}),t}function uee(e,r,t){var n=yr(e)?Uj:see,i=arguments.length<3;return n(e,Ob(r),t,i,Ib)}var fee="[object Map]",cee="[object Set]";function hee(e){if(e==null)return 0;if(Es(e))return BJ(e)?lee(e):e.length;var r=fa(e);return r==fee||r==cee?e.size:Wp(e).length}const dee=(e,r)=>{var t,n,i;return i0(r)?{container:e,adaptiveWidth:!0,adaptiveHeight:!1}:{container:((t=r==null?void 0:r.getContainer)==null?void 0:t.call(r))||e,adaptiveWidth:(n=r==null?void 0:r.width)!=null?n:!0,adaptiveHeight:(i=r==null?void 0:r.height)!=null?i:!0}},vee=e=>{let r=!0;const{s2:t,adaptive:n,container:i,wrapper:o}=e,{container:a,adaptiveWidth:l,adaptiveHeight:s}=dee(o,n);if(!a||!i||!n||!t)return;const f=(g,y)=>{t==null||t.changeSheetSize(g,y),t==null||t.render(!1)},h=AJ(f,DV),d=()=>{const{clientWidth:g,clientHeight:y}=i,C=l?Math.floor(g??t.options.width):t.options.width,_=s?Math.floor(y??t.options.height):t.options.height;if(!(!l&&!s)){if(r){f(C,_),r=!1;return}h(C,_)}},v=new ResizeObserver(([g]=[])=>{g&&d()});return v.observe(a,{box:"border-box"}),()=>{v.unobserve(a)}},Hb=(e,r)=>{const t=e.store.get("drillDownDataCache",[]),n=t==null?void 0:t.find(i=>i.rowId===r.id);return{drillDownDataCache:t,drillDownCurrentCache:n}},pee=e=>{const{meta:r,event:t,callback:n}=e,{spreadsheet:i}=r;i.store.set("drillDownNode",r);const{drillDownDataCache:o,drillDownCurrentCache:a}=Hb(i,r),l=a!=null&&a.drillField?[a==null?void 0:a.drillField]:[],s=[];o.forEach(f=>{r.id.includes(f.rowId)&&r.id!==f.rowId&&s.push(f.drillField)}),t&&i.emit(I.GLOBAL_ACTION_ICON_CLICK,t),n({sheetInstance:i,cacheDrillFields:l,disabledFields:s,event:t})},gee=e=>{var r;const t=e.spreadsheet,{fields:n}=t.dataCfg,i=((r=n.rows)==null?void 0:r.length)-1,o=Di(n.values)?!0:t.isValueInCols();return i<=e.level&&t.isHierarchyTreeType()&&o&&!e.isGrandTotals},yee=(e,r,t)=>{var n;const i=(n=e==null?void 0:e.headerActionIcons)!=null&&n.length?[...e.headerActionIcons]:[];if(!Di(r)){const o={belongsCell:"rowCell",iconNames:["DrillDownIcon"],defaultHide:!0,displayCondition:r.displayCondition||gee,action:a=>{const{iconName:l,meta:s,event:f}=a;l==="DrillDownIcon"&&(s.spreadsheet.store.set("drillDownNode",s),pee({meta:s,event:f,callback:t}))}};i.push(o)}return{...e,headerActionIcons:i}},Cee=e=>{const{fetchData:r,spreadsheet:t,drillFields:n,drillItemsNum:i=-1}=e;t.store.set("drillItemsNum",i);const o=t.store.get("drillDownNode"),{drillDownDataCache:a,drillDownCurrentCache:l}=Hb(t,o);let s=AQ(a);l&&(s=IJ(a,f=>f.rowId!==o.id)),r&&r(o,n).then(f=>{const{drillData:h,drillField:d}=f;if(t.dataSet.transformDrillDownData(d,h,o),!Di(h)){const v=o.level+1,g={rowId:o.id,drillLevel:v,drillData:h,drillField:d};s.push(g),t.store.set("drillDownDataCache",s)}t.interaction.reset(),t.render(!1)})};Zk(MV);const l0=e=>{const r=x.shallowRef();return e({get instance(){var t;return(t=r.value)==null?void 0:t.instance}}),r};var Cr=(e,r)=>{const t=e.__vccOpts||e;for(const[n,i]of r)t[n]=i;return t};const mee=x.defineComponent({name:"TooltipDetail",props:["list"],setup(){return{TOOLTIP_PREFIX_CLS:Li}}});function _ee(e,r,t,n,i,o){return x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.list,(a,l)=>(x.openBlock(),x.createElementBlock("div",{key:`${a.value}-${l}`,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-detail-list`)},[x.createElementVNode("div",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-detail-item`)},[x.createElementVNode("span",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-detail-item-key`)},x.toDisplayString(a.name),3),x.createElementVNode("span",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-detail-item-val ${e.TOOLTIP_PREFIX_CLS}-highlight`)},x.toDisplayString(a.value),3)],2)],2))),128)}var wee=Cr(mee,[["render",_ee]]);const xee=x.defineComponent({name:"TooltipHeadInfo",props:["rows","cols"],setup(){return{TOOLTIP_PREFIX_CLS:Li}},components:{}}),See={key:0};function bee(e,r,t,n,i,o){var a,l,s,f;return(a=e.cols)!=null&&a.length||(l=e.rows)!=null&&l.length?(x.openBlock(),x.createElementBlock("div",{key:0,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-head-info-list`)},[(x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.cols,h=>(x.openBlock(),x.createElementBlock("span",{key:h.value},x.toDisplayString(h.value)+"/",1))),128)),((s=e.cols)==null?void 0:s.length)>0&&((f=e.rows)==null?void 0:f.length)>0?(x.openBlock(),x.createElementBlock("span",See,"，")):x.createCommentVNode("",!0),(x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.rows,h=>(x.openBlock(),x.createElementBlock("span",{key:h.value},x.toDisplayString(h.value)+"/",1))),128))],2)):x.createCommentVNode("",!0)}var Tee=Cr(xee,[["render",bee]]);const Eee=x.defineComponent({name:"TooltipInfos",props:["infos"],setup(){return{TOOLTIP_PREFIX_CLS:Li}},components:{}});function Lee(e,r,t,n,i,o){return x.openBlock(),x.createElementBlock("div",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-infos`)},x.toDisplayString(e.infos),3)}var Aee=Cr(Eee,[["render",Lee]]);const Ree=x.defineComponent({name:"TooltipSimpleTips",props:["name","tips"],setup(){return{TOOLTIP_PREFIX_CLS:Li}},components:{}});function Oee(e,r,t,n,i,o){return x.openBlock(),x.createElementBlock(x.Fragment,null,[e.name?(x.openBlock(),x.createElementBlock("div",{key:0,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-name`)},x.toDisplayString(e.name),3)):x.createCommentVNode("",!0),e.tips?(x.openBlock(),x.createElementBlock("div",{key:1,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-tips`)},x.toDisplayString(e.tips),3)):x.createCommentVNode("",!0)],64)}var Iee=Cr(Ree,[["render",Oee]]);const Mee=x.defineComponent({name:"TooltipSummary",props:["summaries"],setup(e){return{summaryInfo:x.computed(()=>uee(e.summaries,(t,n)=>(t.count+=hee(n==null?void 0:n.selectedData),(n.value||n.name)&&t.summaries.push(n),t),{count:0,summaries:[]})),i18n:mt,TOOLTIP_PREFIX_CLS:Li}},components:{}});function Bee(e,r,t,n,i,o){return x.openBlock(),x.createElementBlock("div",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-summary`)},[x.createElementVNode("div",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-summary-item`)},[x.createElementVNode("span",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-selected`)},x.toDisplayString(e.summaryInfo.count)+" "+x.toDisplayString(e.i18n("项")),3),x.createTextVNode(" "+x.toDisplayString(e.i18n("已选择")),1)],2),(x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.summaryInfo.summaries,a=>(x.openBlock(),x.createElementBlock("div",{key:`${a.name}-${a.value}`,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-summary-item`)},[x.createElementVNode("span",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-summary-key`)},x.toDisplayString(a.name)+" "+x.toDisplayString(e.i18n("总和")),3),x.createElementVNode("span",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-summary-val ${e.TOOLTIP_PREFIX_CLS}-bold`)},x.toDisplayString(a.value),3)],2))),128))],2)}var Dee=Cr(Mee,[["render",Bee]]);const $ee=x.defineComponent({name:"TooltipOperatorTitle",props:["menu"],setup(e){const r=x.computed(()=>wx(e.menu.icon));return{TOOLTIP_PREFIX_CLS:Li,icon:r}}}),Fee=["innerHTML"];function Pee(e,r,t,n,i,o){return x.openBlock(),x.createElementBlock("span",null,[e.icon?(x.openBlock(),x.createElementBlock("span",{key:0,innerHTML:e.icon,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-operator-icon`)},null,10,Fee)):x.createCommentVNode("",!0),x.createElementVNode("span",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-operator-text`)},x.toDisplayString(e.menu.text),3)])}var zb=Cr($ee,[["render",Pee]]);const Nee=x.defineComponent({name:"TooltipOperatorMenu",props:["menu","cell"],setup(e){return{onMenuTitleClick:()=>{var t,n;(n=(t=e.menu).onClick)==null||n.call(t,e.cell)},isEmpty:Di,TOOLTIP_PREFIX_CLS:Li}},components:{MenuItem:jt.Menu.Item,SubMenu:jt.Menu.SubMenu,TooltipOperatorTitle:zb}});function Hee(e,r,t,n,i,o){const a=x.resolveComponent("TooltipOperatorTitle"),l=x.resolveComponent("TooltipOperatorMenu"),s=x.resolveComponent("MenuItem"),f=x.resolveComponent("SubMenu");return x.openBlock(),x.createElementBlock(x.Fragment,null,[e.isEmpty(e.menu.children)?x.createCommentVNode("",!0):(x.openBlock(),x.createBlock(f,{key:e.menu.key,popupClassName:`${e.TOOLTIP_PREFIX_CLS}-operator-submenu-popup`,onTitleClick:e.onMenuTitleClick},{title:x.withCtx(()=>[x.createVNode(a,{menu:e.menu,onClick:e.onMenuTitleClick},null,8,["menu","onClick"])]),default:x.withCtx(()=>[(x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.menu.children,h=>{var d;return x.openBlock(),x.createElementBlock(x.Fragment,{key:h.key},[(d=h==null?void 0:h.children)!=null&&d.length?(x.openBlock(),x.createBlock(l,{key:0,menu:h,cell:e.cell},null,8,["menu","cell"])):(x.openBlock(),x.createBlock(s,{title:h.text,key:h.key},{default:x.withCtx(()=>[x.createVNode(a,{menu:h,onClick:e.onMenuTitleClick},null,8,["menu","onClick"])]),_:2},1032,["title"]))],64)}),128))]),_:1},8,["popupClassName","onTitleClick"])),e.isEmpty(e.menu.children)?(x.openBlock(),x.createBlock(s,{title:e.menu.text,key:e.menu.key},{default:x.withCtx(()=>[x.createVNode(a,{menu:e.menu,onClick:e.onMenuTitleClick},null,8,["menu","onClick"])]),_:1},8,["title"])):x.createCommentVNode("",!0)],64)}var zee=Cr(Nee,[["render",Hee]]);const kee=x.defineComponent({name:"TooltipOperator",props:["menus","onlyMenu","onClick","cell"],setup(e,{emit:r}){return{TOOLTIP_PREFIX_CLS:Li,onMenuClick:(...n)=>{r("click",...n)}}},components:{Menu:jt.Menu,Dropdown:jt.Dropdown,TooltipOperatorTitle:zb,TooltipOperatorMenu:zee}});function Wee(e,r,t,n,i,o){const a=x.resolveComponent("TooltipOperatorMenu"),l=x.resolveComponent("Menu"),s=x.resolveComponent("TooltipOperatorTitle"),f=x.resolveComponent("Dropdown");return x.openBlock(),x.createElementBlock("div",{class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-operator`)},[e.onlyMenu?(x.openBlock(),x.createBlock(l,{key:0,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-operator-menus`),onClick:e.onMenuClick},{default:x.withCtx(()=>[(x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.menus,h=>(x.openBlock(),x.createBlock(a,{key:h.key,menu:h,cell:e.cell},null,8,["menu","cell"]))),128))]),_:1},8,["class","onClick"])):(x.openBlock(!0),x.createElementBlock(x.Fragment,{key:1},x.renderList(e.menus,h=>(x.openBlock(),x.createBlock(f,{key:h.key,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-operator-dropdown`)},{overlay:x.withCtx(()=>{var d;return[(d=h==null?void 0:h.children)!=null&&d.length?(x.openBlock(),x.createBlock(l,{key:0,class:x.normalizeClass(`${e.TOOLTIP_PREFIX_CLS}-operator-menus`),onClick:e.onMenuClick},{default:x.withCtx(()=>[(x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.menus,v=>(x.openBlock(),x.createBlock(a,{key:v.key,menu:v,cell:e.cell},null,8,["menu","cell"]))),128))]),_:2},1032,["class","onClick"])):x.createCommentVNode("",!0)]}),default:x.withCtx(()=>[x.createVNode(s,{menu:h,onClick:d=>{var v;return(v=h.onClick)==null?void 0:v.call(h,e.cell)}},null,8,["menu","onClick"])]),_:2},1032,["class"]))),128))],2)}var Gee=Cr(kee,[["render",Wee]]);const Uee=x.defineComponent({name:"TooltipComponent",props:["data","options","cell","position","event","content"],setup(e){const{operator:r,onlyMenu:t}=YS(e.options);return{operator:r,onlyMenu:t}},components:{TooltipDetail:wee,TooltipHeadInfo:Tee,TooltipInfos:Aee,TooltipSimpleTips:Iee,TooltipSummary:Dee,TooltipOperator:Gee}});function Yee(e,r,t,n,i,o){var a,l,s,f,h,d,v,g,y,C,_,w,S,b,E,O;const D=x.resolveComponent("TooltipOperator"),F=x.resolveComponent("TooltipSimpleTips"),H=x.resolveComponent("TooltipSummary"),k=x.resolveComponent("TooltipHeadInfo"),q=x.resolveComponent("TooltipDetail"),V=x.resolveComponent("TooltipInfos");return e.onlyMenu?(x.openBlock(),x.createBlock(D,{key:0,menus:((a=e.operator)==null?void 0:a.menus)||[],onlyMenu:!0,cell:e.cell,onClick:(l=e.operator)==null?void 0:l.onClick},null,8,["menus","cell","onClick"])):(x.openBlock(),x.createElementBlock(x.Fragment,{key:1},[x.createVNode(D,{menus:((s=e.operator)==null?void 0:s.menus)||[],onlyMenu:!1,cell:e.cell,onClick:(f=e.operator)==null?void 0:f.onClick},null,8,["menus","cell","onClick"]),e.content?x.renderSlot(e.$slots,"content",{key:0}):(x.openBlock(),x.createElementBlock(x.Fragment,{key:1},[x.createVNode(F,{name:(h=e.data)==null?void 0:h.name,tips:(d=e.data)==null?void 0:d.tips},null,8,["name","tips"]),(g=(v=e.data)==null?void 0:v.summaries)!=null&&g.length?(x.openBlock(),x.createBlock(H,{key:0,summaries:(y=e.data)==null?void 0:y.summaries},null,8,["summaries"])):x.createCommentVNode("",!0),x.createVNode(k,{rows:((_=(C=e.data)==null?void 0:C.headInfo)==null?void 0:_.rows)||[],cols:((S=(w=e.data)==null?void 0:w.headInfo)==null?void 0:S.cols)||[]},null,8,["rows","cols"]),x.createVNode(q,{list:((b=e.data)==null?void 0:b.details)||[]},null,8,["list"]),(E=e.data)!=null&&E.infos?(x.openBlock(),x.createBlock(V,{key:1,infos:(O=e.data)==null?void 0:O.infos},null,8,["infos"])):x.createCommentVNode("",!0)],64))],64))}var Xee=Cr(Uee,[["render",Yee]]);class Vee extends Dp{constructor(r){super(r)}renderContent(){var r,t;const{tooltip:n}=this.spreadsheet.options,i=this.options,o=this.spreadsheet.getCell((r=i.event)==null?void 0:r.target),a=(t=i.content)!=null?t:n==null?void 0:n.content,l={...i,cell:o,content:a},s=x.createVNode(Xee,l,{content:()=>a});x.render(null,this.container),x.render(s,this.container)}destroy(){super.destroy(),this.container&&x.render(null,this.container)}}const s0=1,u0=10,qee=(e,r)=>{var t,n;const{options:{pagination:i},showPagination:o}=r,a=x.ref((t=i==null?void 0:i.current)!=null?t:s0),l=x.ref((n=i==null?void 0:i.pageSize)!=null?n:u0),s=x.ref(0),f=v=>{a.value=v},h=v=>{l.value=v},d=x.computed(()=>o&&!Di(i));return x.watch([a,l],()=>{if(!e.value)return;const v=Di(i)?null:{current:a.value,pageSize:l.value};e.value.updatePagination(v),e.value.render(!1)}),x.watch([()=>i,e],()=>{var v,g,y,C,_;a.value=(v=i==null?void 0:i.current)!=null?v:s0,l.value=(g=i==null?void 0:i.pageSize)!=null?g:u0,s.value=(_=(C=(y=e.value)==null?void 0:y.facet)==null?void 0:C.viewCellHeights.getTotalLength())!=null?_:0},{immediate:!0}),x.watch(e,(v,g,y)=>{if(!e.value)return;const C=_=>{Di(i)||(s.value=_.total)};e.value.on(I.LAYOUT_PAGINATION,C),y(()=>{var _;(_=e.value)==null||_.off(I.LAYOUT_PAGINATION,C)})}),{customOptions:XJ(i,["current","pageSize","total"]),visible:d,current:a,pageSize:l,total:s,change:f,showSizeChange:h}},Kee=`${Zh}-pagination`,jee=x.defineComponent({name:"s2-pagination",props:{current:{type:Number,default:s0},total:{type:Number,default:0},pageSize:{type:Number,default:u0},customOptions:Object},emits:["change","showSizeChange"],setup:e=>({showQuickJumper:x.computed(()=>e.total/e.pageSize>5),PRE_CLASS:Kee,i18n:mt}),components:{AntDPagination:jt.Pagination}});function Zee(e,r,t,n,i,o){const a=x.resolveComponent("AntDPagination");return x.openBlock(),x.createElementBlock("div",{class:x.normalizeClass(e.PRE_CLASS)},[x.createVNode(a,x.mergeProps({size:"small","default-current":1,showSizeChanger:!0,showQuickJumper:e.showQuickJumper},e.customOptions,{current:e.current,total:e.total,pageSize:e.pageSize,onShowSizeChange:r[0]||(r[0]=(l,s)=>e.$emit("showSizeChange",s)),onChange:r[1]||(r[1]=l=>e.$emit("change",l))}),null,16,["showQuickJumper","current","total","pageSize"]),x.createElementVNode("span",{class:x.normalizeClass(`${e.PRE_CLASS}-count`)},x.toDisplayString(e.i18n("共计"))+" "+x.toDisplayString(e.total||" - ")+" "+x.toDisplayString(e.i18n("条")),3)],2)}var Qee=Cr(jee,[["render",Zee]]);const Jee={tooltip:{renderTooltip:e=>new Vee(e)}},ete=(...e)=>FV(Jee,...e),Ue=(e,r,t,n)=>{var i;const o=a=>{const l=cU(a);r(n,l)};(i=e.value)==null||i.on(t,o)},be=(e,r,t,n)=>{var i;const o=a=>{r(n,a)};(i=e.value)==null||i.on(t,o)},tte=(e,r)=>{x.onMounted(()=>{e.value&&(Ue(e,r,I.ROW_CELL_HOVER,"rowCellHover"),Ue(e,r,I.ROW_CELL_CLICK,"rowCellClick"),Ue(e,r,I.ROW_CELL_DOUBLE_CLICK,"rowCellDoubleClick"),Ue(e,r,I.ROW_CELL_CONTEXT_MENU,"rowCellContextMenu"),Ue(e,r,I.ROW_CELL_MOUSE_DOWN,"rowCellMouseDown"),Ue(e,r,I.ROW_CELL_MOUSE_UP,"rowCellMouseUp"),Ue(e,r,I.ROW_CELL_MOUSE_MOVE,"rowCellMouseMove"),be(e,r,I.ROW_CELL_COLLAPSE_TREE_ROWS,"rowCellCollapseTreeRows"),be(e,r,I.ROW_CELL_SCROLL,"rowCellScroll"),Ue(e,r,I.COL_CELL_HOVER,"colCellHover"),Ue(e,r,I.COL_CELL_CLICK,"colCellClick"),Ue(e,r,I.COL_CELL_DOUBLE_CLICK,"colCellDoubleClick"),Ue(e,r,I.COL_CELL_CONTEXT_MENU,"colCellContextMenu"),Ue(e,r,I.COL_CELL_MOUSE_DOWN,"colCellMouseDown"),Ue(e,r,I.COL_CELL_MOUSE_UP,"colCellMouseUp"),Ue(e,r,I.COL_CELL_MOUSE_MOVE,"colCellMouseMove"),Ue(e,r,I.DATA_CELL_HOVER,"dataCellHover"),Ue(e,r,I.DATA_CELL_CLICK,"dataCellClick"),Ue(e,r,I.DATA_CELL_DOUBLE_CLICK,"dataCellDoubleClick"),Ue(e,r,I.DATA_CELL_CONTEXT_MENU,"dataCellContextMenu"),Ue(e,r,I.DATA_CELL_MOUSE_DOWN,"dataCellMouseDown"),Ue(e,r,I.DATA_CELL_MOUSE_UP,"dataCellMouseUp"),Ue(e,r,I.DATA_CELL_MOUSE_MOVE,"dataCellMouseMove"),be(e,r,I.DATA_CELL_TREND_ICON_CLICK,"dataCellTrendIconClick"),be(e,r,I.DATA_CELL_BRUSH_SELECTION,"dataCellBrushSelection"),be(e,r,I.DATA_CELL_SELECT_MOVE,"dataCellSelectMove"),Ue(e,r,I.CORNER_CELL_HOVER,"cornerCellHover"),Ue(e,r,I.CORNER_CELL_CLICK,"cornerCellClick"),Ue(e,r,I.CORNER_CELL_DOUBLE_CLICK,"cornerCellDoubleClick"),Ue(e,r,I.CORNER_CELL_CONTEXT_MENU,"cornerCellContextMenu"),Ue(e,r,I.CORNER_CELL_MOUSE_DOWN,"cornerCellMouseDown"),Ue(e,r,I.CORNER_CELL_MOUSE_UP,"cornerCellMouseUp"),Ue(e,r,I.CORNER_CELL_MOUSE_MOVE,"cornerCellMouseMove"),Ue(e,r,I.MERGED_CELLS_HOVER,"mergedCellsHover"),Ue(e,r,I.MERGED_CELLS_CLICK,"mergedCellsClick"),Ue(e,r,I.MERGED_CELLS_DOUBLE_CLICK,"mergedCellsDoubleClick"),Ue(e,r,I.MERGED_CELLS_CONTEXT_MENU,"mergedCellsContextMenu"),Ue(e,r,I.MERGED_CELLS_MOUSE_DOWN,"mergedCellsMouseDown"),Ue(e,r,I.MERGED_CELLS_MOUSE_UP,"mergedCellsMouseUp"),Ue(e,r,I.MERGED_CELLS_MOUSE_MOVE,"mergedCellsMouseMove"),be(e,r,I.RANGE_SORT,"rangeSort"),be(e,r,I.RANGE_SORTED,"rangeSorted"),be(e,r,I.RANGE_FILTER,"rangeFilter"),be(e,r,I.RANGE_FILTERED,"rangeFiltered"),be(e,r,I.LAYOUT_AFTER_HEADER_LAYOUT,"layoutAfterHeaderLayout"),be(e,r,I.LAYOUT_PAGINATION,"layoutPagination"),be(e,r,I.LAYOUT_CELL_SCROLL,"layoutCellScroll"),be(e,r,I.LAYOUT_AFTER_COLLAPSE_ROWS,"layoutAfterCollapseRows"),be(e,r,I.LAYOUT_TREE_ROWS_COLLAPSE_ALL,"collapseRowsAll"),be(e,r,I.LAYOUT_COLS_EXPANDED,"layoutColsExpanded"),be(e,r,I.LAYOUT_COLS_HIDDEN,"layoutColsHidden"),be(e,r,I.LAYOUT_BEFORE_RENDER,"beforeRender"),be(e,r,I.LAYOUT_AFTER_RENDER,"afterRender"),be(e,r,I.LAYOUT_DESTROY,"destroy"),be(e,r,I.LAYOUT_RESIZE,"layoutResize"),be(e,r,I.LAYOUT_RESIZE_SERIES_WIDTH,"layoutResizeSeriesWidth"),be(e,r,I.LAYOUT_RESIZE_ROW_WIDTH,"layoutResizeRowWidth"),be(e,r,I.LAYOUT_RESIZE_ROW_HEIGHT,"layoutResizeRowHeight"),be(e,r,I.LAYOUT_RESIZE_COL_WIDTH,"layoutResizeColWidth"),be(e,r,I.LAYOUT_RESIZE_COL_HEIGHT,"layoutResizeColHeight"),be(e,r,I.LAYOUT_RESIZE_TREE_WIDTH,"layoutResizeTreeWidth"),be(e,r,I.LAYOUT_RESIZE_MOUSE_DOWN,"layoutResizeMouseDown"),be(e,r,I.LAYOUT_RESIZE_MOUSE_UP,"layoutResizeMouseUp"),be(e,r,I.LAYOUT_RESIZE_MOUSE_MOVE,"layoutResizeMouseMove"),be(e,r,I.GLOBAL_KEYBOARD_DOWN,"keyBoardDown"),be(e,r,I.GLOBAL_KEYBOARD_UP,"keyBoardUp"),be(e,r,I.GLOBAL_COPIED,"copied"),be(e,r,I.GLOBAL_ACTION_ICON_HOVER,"actionIconHover"),be(e,r,I.GLOBAL_ACTION_ICON_CLICK,"actionIconClick"),be(e,r,I.GLOBAL_CONTEXT_MENU,"contextMenu"),be(e,r,I.GLOBAL_HOVER,"mouseHover"),be(e,r,I.GLOBAL_CLICK,"click"),be(e,r,I.GLOBAL_DOUBLE_CLICK,"doubleClick"),be(e,r,I.GLOBAL_SELECTED,"selected"),be(e,r,I.GLOBAL_MOUSE_UP,"mouseUp"),be(e,r,I.GLOBAL_RESET,"reset"),be(e,r,I.GLOBAL_LINK_FIELD_JUMP,"linkFieldJump"),be(e,r,I.GLOBAL_SCROLL,"scroll"),be(e,r,I.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,"layoutAfterRealDataCellRender"),be(e,r,I.ROW_CELL_BRUSH_SELECTION,"rowCellBrushSelection"),be(e,r,I.COL_CELL_BRUSH_SELECTION,"colCellBrushSelection"))})},rte=(e,r=!1)=>{const t=x.ref(r),n=i=>{t.value=i};return x.watch(e,i=>{i==null||i.on(I.LAYOUT_BEFORE_RENDER,()=>{n(!0)}),i==null||i.on(I.LAYOUT_AFTER_RENDER,()=>{n(!1)})}),{loading:t,setLoading:n}},nte=(e,r)=>{const t=x.reactive({rerender:!1,reloadData:!1,rebuildDataset:!1});x.watch(()=>r.options,(n,i)=>{var o,a;t.rerender=!0,Object.is(i==null?void 0:i.hierarchyType,n==null?void 0:n.hierarchyType)||(t.reloadData=!0,t.rebuildDataset=!0),(o=e.value)==null||o.setOptions(n),(a=e.value)==null||a.changeSheetSize(n==null?void 0:n.width,n==null?void 0:n.height)},{deep:x.isProxy(r.options)}),x.watch(()=>r.dataCfg,(n,i)=>{var o,a,l,s,f,h;((a=(o=i==null?void 0:i.fields)==null?void 0:o.columns)==null?void 0:a.length)!==((s=(l=n==null?void 0:n.fields)==null?void 0:l.columns)==null?void 0:s.length)&&((f=e.value)==null||f.clearInitColumnLeafNodes()),t.rerender=!0,t.reloadData=!0,(h=e.value)==null||h.setDataCfg(n)},{deep:x.isProxy(r.dataCfg)}),x.watch(()=>r.themeCfg,n=>{var i;t.rerender=!0,(i=e.value)==null||i.setThemeCfg(n)},{deep:x.isProxy(r.themeCfg)}),x.watch(t,n=>{var i;n.rerender&&((i=e.value)==null||i.render(n.reloadData,{reBuildDataSet:n.rebuildDataset}),n.rerender=!1,n.reloadData=!1,n.rebuildDataset=!1)})},ite=(e,r,t)=>{const n=x.ref();x.watch([e,()=>r.adaptive],([i,o],a,l)=>{i&&(n.value=vee({s2:i,adaptive:o,wrapper:t.wrapperRef.value,container:t.containerRef.value}),l(()=>{var s;(s=n.value)==null||s.call(n)}))},{deep:!0})};function ote(e,r){const{dataCfg:t,options:n,themeCfg:i,loading:o,sheetType:a,onSpreadsheet:l,onMounted:s,onGetSpreadSheet:f}=e,h=x.ref(),d=x.ref(),v=x.shallowRef(),{loading:g,setLoading:y}=rte(v,o),C=qee(v,e),_=S=>{const b=x.toRaw(t),E=x.toRaw(n),O=ete(E);return l?l(S,b,O):a==="table"?new IV(S,b,O):new OV(S,b,O)},w=()=>{y(!0),v.value=_(d.value),v.value.setThemeCfg(x.toRaw(i)),v.value.render(),y(!1),f==null||f(v.value),s==null||s(v.value)};return x.onMounted(w),tte(v,r),nte(v,e),ite(v,e,{wrapperRef:h,containerRef:d}),x.onBeforeUnmount(()=>{var S;(S=v.value)==null||S.destroy()}),{wrapperRef:h,containerRef:d,s2Ref:v,loading:g,setLoading:y,pagination:C}}const kb=()=>({sheetType:String,dataCfg:Object,themeCfg:Object,showPagination:{type:[Object,Boolean],default:!1},loading:Boolean,partDrillDown:Object,header:Object,options:{type:Object,default:{}},adaptive:{type:[Object,Boolean],default:!1},onSpreadsheet:Function,onGetSpreadSheet:Function,onMounted:Function}),ate=()=>({className:String,titleText:{type:String,default:mt("选择下钻维度")},searchText:{type:String,default:mt("搜索字段")},clearButtonText:{type:String,default:mt("恢复默认")},extra:Node,dataSet:{type:Array,default:[]},drillFields:Array,disabledFields:Array,getDrillFields:Function,setDrillFields:Function}),lte=()=>["getDrillFields","setDrillFields"],ste=()=>["spreadsheet","getSpreadSheet","rowCellHover","rowCellClick","rowCellDoubleClick","rowCellContextMenu","rowCellMouseDown","rowCellMouseUp","rowCellMouseMove","rowCellCollapseTreeRows","rowCellScroll","colCellHover","colCellClick","colCellDoubleClick","colCellContextMenu","colCellMouseDown","colCellMouseUp","colCellMouseMove","dataCellHover","dataCellClick","dataCellDoubleClick","dataCellContextMenu","dataCellMouseDown","dataCellMouseUp","dataCellMouseMove","dataCellTrendIconClick","dataCellBrushSelection","dataCellSelectMove","cornerCellHover","cornerCellClick","cornerCellDoubleClick","cornerCellContextMenu","cornerCellMouseDown","cornerCellMouseUp","cornerCellMouseMove","mergedCellsHover","mergedCellsClick","mergedCellsDoubleClick","mergedCellsContextMenu","mergedCellsMouseDown","mergedCellsMouseUp","mergedCellsMouseMove","rangeSort","rangeSorted","rangeFilter","rangeFiltered","layoutAfterHeaderLayout","layoutPagination","layoutCellScroll","layoutCollapseRows","layoutAfterCollapseRows","collapseRowsAll","layoutColsExpanded","layoutColsHidden","beforeRender","afterRender","mounted","destroy","layoutResize","layoutResizeSeriesWidth","layoutResizeRowWidth","layoutResizeRowHeight","layoutResizeColWidth","layoutResizeColHeight","layoutResizeTreeWidth","layoutResizeMouseDown","layoutResizeMouseUp","layoutResizeMouseMove","keyBoardDown","keyBoardUp","copied","actionIconHover","actionIconClick","contextMenu","mouseHover","mouseUp","mouseMove","mouseDown","selected","reset","linkFieldJump","click","doubleClick","scroll","hover","layoutAfterRealDataCellRender","rowCellBrushSelection","colCellBrushSelection"],ute=x.defineComponent({name:"BaseSheet",props:kb(),emits:ste(),setup(e,r){const{wrapperRef:t,containerRef:n,s2Ref:i,loading:o,pagination:a}=ote(e,r.emit);return r.expose({get instance(){return i.value}}),{S2_PREFIX_CLS:Zh,wrapperRef:t,containerRef:n,s2Ref:i,loading:o,pagination:a,handlePageChange:f=>{var h,d;e.showPagination&&!i0(e.showPagination)&&((d=(h=e.showPagination).onChange)==null||d.call(h,f)),a.change(f)},handlePageSizeChange:f=>{var h,d;e.showPagination&&!i0(e.showPagination)&&((d=(h=e.showPagination).onShowSizeChange)==null||d.call(h,f)),a.showSizeChange(f)}}},components:{Spin:jt.Spin,S2Pagination:Qee}});function fte(e,r,t,n,i,o){const a=x.resolveComponent("S2Pagination"),l=x.resolveComponent("Spin");return x.openBlock(),x.createBlock(l,{wrapperClassName:e.S2_PREFIX_CLS+"-spin",spinning:e.loading},{default:x.withCtx(()=>[x.createElementVNode("div",{ref:"wrapperRef",class:x.normalizeClass(e.S2_PREFIX_CLS+"-wrapper")},[x.createElementVNode("div",{ref:"containerRef",class:x.normalizeClass(e.S2_PREFIX_CLS+"-container")},null,2),e.pagination.visible.value?(x.openBlock(),x.createBlock(a,{key:0,current:e.pagination.current.value,pageSize:e.pagination.pageSize.value,total:e.pagination.total.value,customOptions:e.pagination.customOptions,onChange:e.handlePageChange,onShowSizeChange:e.handlePageSizeChange},null,8,["current","pageSize","total","customOptions","onChange","onShowSizeChange"])):x.createCommentVNode("",!0)],2)]),_:1},8,["wrapperClassName","spinning"])}var Wb=Cr(ute,[["render",fte]]);const cte={class:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"12.6",height:"12.6"},hte=[x.createElementVNode("path",{d:"M511.804 222.338c-57.117 0-105.737 20.061-145.86 60.184-40.122 40.123-60.184 88.569-60.184 145.337 0 56.769 20.062 105.214 60.185 145.337 40.122 40.123 88.742 60.185 145.859 60.185 57.116 0 105.736-20.062 145.859-60.185 40.123-40.123 60.184-88.568 60.184-145.337 0-56.768-20.061-105.214-60.184-145.337-40.123-40.123-88.743-60.184-145.86-60.184zm0 338.619c-36.729 0-68.007-12.925-93.835-38.774-25.827-25.85-38.752-57.127-38.773-93.834-.022-36.707 12.902-68.16 38.773-94.357 25.872-26.197 57.15-39.285 93.835-39.263 36.685.022 67.963 13.11 93.834 39.263 25.871 26.154 38.796 57.606 38.774 94.357-.022 36.75-12.946 68.028-38.774 93.834-25.828 25.806-57.106 38.73-93.834 38.774zm366.165-295.766c-21.084-42.168-50.327-79.223-87.73-111.165-37.404-31.941-79.898-57.105-127.484-75.491C614.472 60.845 564.155 52 511.804 52c-52.352 0-103.006 8.845-151.963 26.535-46.911 18.364-89.069 43.528-126.472 75.491-37.403 31.964-66.647 69.019-87.731 111.165C123.879 308.71 113 353.923 113 400.835c0 65.95 15.982 132.924 47.945 200.92 26.524 56.441 63.58 112.198 111.165 167.27 62.556 73.435 134.632 138.71 216.227 195.827 6.81 4.765 14.459 7.148 22.945 7.148 8.485 0 16.47-2.383 23.956-7.148 81.595-57.79 153.67-123.067 216.227-195.828 47.608-55.767 84.663-111.524 111.165-167.27 31.963-67.995 47.945-134.969 47.945-200.919 0-46.912-10.88-92.126-32.638-135.644h.032zm-40.797 136.656c0 55.07-13.6 111.513-40.798 169.326-23.129 49.631-56.452 99.948-99.97 150.95-52.351 61.208-113.885 117.65-184.6 169.326-70.716-51.676-132.25-108.118-184.6-169.326-42.844-51.002-76.167-101.319-99.971-150.95-27.198-57.791-40.797-114.57-40.797-170.338 0-36.032 8.159-70.716 24.478-104.05 16.994-32.638 40.45-61.882 70.368-87.73 30.592-26.525 65.276-47.26 104.05-62.209 40.797-14.97 82.954-22.455 126.472-22.455 43.517 0 85.675 7.485 126.472 22.455 38.752 14.97 73.436 35.706 104.05 62.208 30.593 25.85 54.048 55.093 70.367 87.731 16.32 34.009 24.479 69.03 24.479 105.062z",fill:"currentColor"},null,-1)];function dte(e,r){return x.openBlock(),x.createElementBlock("svg",cte,[...hte])}var vte={render:dte};const pte={class:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"12.6",height:"12.6"},gte=[x.createElementVNode("path",{d:"M86.016 805.888H0l143.872-529.92h79.36l144.896 529.92h-91.136l-29.696-109.056H115.2S85.504 805.888 86.016 805.888zM225.28 613.376 181.248 455.68 138.24 613.376h87.04zM519.168 430.08c24.576-16.384 47.616-25.088 69.12-25.088 30.72 0 58.368 14.848 81.92 44.032 24.064 29.184 35.328 72.192 35.328 128.512 0 44.032-7.168 83.456-22.528 118.272-14.848 34.816-35.328 62.976-60.416 83.456-26.112 20.992-57.856 31.232-95.232 31.232-15.36-.512-31.232-1.536-46.592-3.584-4.096-.512-8.704-1.024-12.8-1.536h-66.56V256h81.92v206.336c11.264-12.8 23.04-23.552 35.84-32.256zM483.84 587.264v135.168c13.824 3.072 26.112 4.608 37.376 4.608 27.648 0 50.176-11.776 69.12-36.352 19.456-25.088 28.672-59.392 28.672-104.96 0-32.256-5.12-55.296-14.848-70.144-9.216-13.824-18.432-19.968-28.672-19.968-12.288 0-27.136 7.68-44.544 24.064-16.896 16.896-32.768 39.424-47.104 67.584zm529.92 207.36c-36.864 14.336-71.68 20.992-104.96 20.992-32.768.512-64.512-9.216-91.648-27.136-27.136-18.432-48.64-44.032-62.464-73.728-14.848-30.72-22.528-65.536-22.528-104.448 0-58.88 16.896-108.032 51.2-146.944 33.792-38.912 75.264-58.88 123.392-58.88 34.304 0 70.144 7.168 108.032 21.504l10.24 4.096v95.232l-20.992-10.752c-34.816-17.92-65.536-26.624-92.16-26.624-16.896 0-32.768 4.608-47.104 13.824-13.824 8.704-25.088 23.04-32.768 42.496-8.192 19.968-12.288 41.472-12.288 63.488 0 28.672 7.68 55.808 24.064 82.432 14.848 24.576 37.888 36.352 71.168 36.352 10.752 0 21.504-1.024 31.744-2.56 9.728-1.536 29.696-8.192 58.88-18.944l19.456-7.68v92.672l-11.264 4.608z",fill:"currentColor"},null,-1)];function yte(e,r){return x.openBlock(),x.createElementBlock("svg",pte,[...gte])}var Cte={render:yte};const mte={class:"antv-s2-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"12.6",height:"12.6"},_te=[x.createElementVNode("path",{d:"M950.016 898.016 744 693.024q88-107.008 88-244.992 0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032 176.512 719.52 448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760t-120.992-24q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488q56.992-24 120.992-24t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"},null,-1)];function wte(e,r){return x.openBlock(),x.createElementBlock("svg",mte,[..._te])}var xte={render:wte};const Ste=x.defineComponent({name:"DrillDown",props:ate(),emits:lte(),methods:{},components:{Button:jt.Button,Input:jt.Input,Empty:jt.Empty,Menu:jt.Menu,MenuItem:jt.MenuItem,LocationIcon:vte,TextIcon:Cte,CalendarIcon:xte},setup(e){const{dataSet:r,disabledFields:t,getDrillFields:n,setDrillFields:i,className:o}=e,a=()=>r.map(v=>(v.disabled=!!(t&&t.includes(v.value)),v)),l=x.ref(a()),s=x.ref([]);return{options:l,handleSearch:v=>{const{value:g}=v.target;if(!g)l.value=[...r];else{const y=new RegExp(g,"gi"),C=r.filter(_=>y.test(_.name));l.value=[...C]}},handleSelect:v=>{const g=v==null?void 0:v.selectedKeys;s.value=g,n&&n(g),i&&i(g)},handleClear:v=>{v.stopPropagation(),s.value=[],n&&n([]),i&&i([])},className:o,selected:s,isEmpty:Di,DRILL_DOWN_PRE_CLASS:$V}}});function bte(e,r,t,n,i,o){const a=x.resolveComponent("Button"),l=x.resolveComponent("Input"),s=x.resolveComponent("Empty"),f=x.resolveComponent("text-icon"),h=x.resolveComponent("calendar-icon"),d=x.resolveComponent("location-icon"),v=x.resolveComponent("MenuItem"),g=x.resolveComponent("Menu");return x.openBlock(),x.createElementBlock("div",{class:x.normalizeClass([e.DRILL_DOWN_PRE_CLASS,e.className])},[x.createElementVNode("header",{class:x.normalizeClass(`${e.DRILL_DOWN_PRE_CLASS}-header`)},[x.createElementVNode("div",null,x.toDisplayString(e.titleText),1),x.createVNode(a,{type:"link",onClick:e.handleClear},{default:x.withCtx(()=>[x.createTextVNode(x.toDisplayString(e.clearButtonText),1)]),_:1},8,["onClick"])],2),x.createVNode(l,{class:x.normalizeClass(`${e.DRILL_DOWN_PRE_CLASS}-search`),placeholder:e.searchText,onChange:e.handleSearch,onPressEnter:e.handleSearch,allowClear:!0},null,8,["class","placeholder","onChange","onPressEnter"]),e.isEmpty(e.options)?(x.openBlock(),x.createBlock(s,{key:0,imageStyle:{height:"64px"},class:x.normalizeClass(`${e.DRILL_DOWN_PRE_CLASS}-empty`)},null,8,["class"])):x.createCommentVNode("",!0),x.createVNode(g,{class:"`${DRILL_DOWN_PRE_CLASS}-menu`",selectedKeys:e.selected,"onUpdate:selectedKeys":r[0]||(r[0]=y=>e.selected=y),onSelect:e.handleSelect},{default:x.withCtx(()=>[(x.openBlock(!0),x.createElementBlock(x.Fragment,null,x.renderList(e.options,y=>(x.openBlock(),x.createBlock(v,{key:y.value,disabled:y.disabled,class:x.normalizeClass(`${e.DRILL_DOWN_PRE_CLASS}-menu-item`)},{icon:x.withCtx(()=>[y.type==="text"?(x.openBlock(),x.createBlock(f,{key:0})):x.createCommentVNode("",!0),y.type==="date"?(x.openBlock(),x.createBlock(h,{key:1})):x.createCommentVNode("",!0),y.type==="location"?(x.openBlock(),x.createBlock(d,{key:2})):x.createCommentVNode("",!0)]),default:x.withCtx(()=>[x.createTextVNode(" "+x.toDisplayString(y==null?void 0:y.name),1)]),_:2},1032,["disabled","class"]))),128))]),_:1},8,["selectedKeys","onSelect"])],2)}var Tte=Cr(Ste,[["render",bte],["__scopeId","data-v-3a294982"]]);const Ete=x.defineComponent({name:"PivotSheet",props:kb(),emits:[],setup(e,r){const t=l0(r.expose),{options:n}=x.toRefs(e),{dataCfg:i,partDrillDown:o}=x.toRefs(e),a=x.ref([]),l=h=>{var d,v,g,y,C,_;const w=(d=t==null?void 0:t.value)==null?void 0:d.instance;a.value=h,w==null||w.hideTooltip(),Di(h)?w==null||w.clearDrillDownData((v=w==null?void 0:w.store.get("drillDownNode"))==null?void 0:v.id):Cee({rows:(y=(g=i.value)==null?void 0:g.fields.rows)!=null?y:[],drillFields:h,fetchData:(C=o.value)==null?void 0:C.fetchData,drillItemsNum:(_=o.value)==null?void 0:_.drillItemsNum,spreadsheet:w})},s=h=>{var d,v;const{event:g,disabledFields:y}=h;if(g){const C=(d=t==null?void 0:t.value)==null?void 0:d.instance,_=x.createVNode(Tte,{...(v=o.value)==null?void 0:v.drillConfig,setDrillFields:l,drillFields:a.value,disabledFields:y});C==null||C.showTooltip({position:{x:g.clientX,y:g.clientY},event:g,content:_})}},f=x.computed(()=>yee(n.value,o.value,h=>s(h)));return{s2Ref:t,options:f}},components:{BaseSheet:Wb}});function Lte(e,r,t,n,i,o){const a=x.resolveComponent("BaseSheet");return x.openBlock(),x.createBlock(a,x.mergeProps(e.$props,{ref:"s2Ref",options:e.options}),null,16,["options"])}var Gb=Cr(Ete,[["render",Lte]]);const Ate=x.defineComponent({name:"TableSheet",props:[],emits:[],setup(e,r){return{s2Ref:l0(r.expose)}},components:{BaseSheet:Wb}});function Rte(e,r,t,n,i,o){const a=x.resolveComponent("BaseSheet");return x.openBlock(),x.createBlock(a,{ref:"s2Ref"},null,512)}var Ub=Cr(Ate,[["render",Rte]]);const Ote=x.defineComponent({name:"Sheet",props:[],emits:[],setup(e,r){const t=l0(r.expose),n=x.computed(()=>{switch(r.attrs.sheetType){case"table":return Ub;default:return Gb}});return{s2Ref:t,sheetType:n}},components:{PivotSheet:Gb,TableSheet:Ub}});function Ite(e,r,t,n,i,o){return x.openBlock(),x.createBlock(x.resolveDynamicComponent(e.sheetType),{ref:"s2Ref"},null,512)}var Mte=Cr(Ote,[["render",Ite]]),Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ac={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ac.exports,function(e,r){(function(){var t,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",d=1,v=2,g=4,y=1,C=2,_=1,w=2,S=4,b=8,E=16,O=32,D=64,F=128,H=256,k=512,q=30,V="...",Q=800,ie=16,ue=1,K=2,te=3,Re=1/0,me=9007199254740991,we=17976931348623157e292,ke=NaN,Ae=4294967295,qe=Ae-1,at=Ae>>>1,Fe=[["ary",F],["bind",_],["bindKey",w],["curry",b],["curryRight",E],["flip",k],["partial",O],["partialRight",D],["rearg",H]],We="[object Arguments]",tt="[object Array]",or="[object AsyncFunction]",mr="[object Boolean]",Vt="[object Date]",yo="[object DOMException]",ui="[object Error]",Co="[object Function]",Qe="[object GeneratorFunction]",lt="[object Map]",ht="[object Number]",Ir="[object Null]",Xr="[object Object]",hc="[object Promise]",b0="[object Proxy]",ha="[object RegExp]",Vr="[object Set]",zn="[object String]",fi="[object Symbol]",Ns="[object Undefined]",Hs="[object WeakMap]",tne="[object WeakSet]",zs="[object ArrayBuffer]",il="[object DataView]",T0="[object Float32Array]",E0="[object Float64Array]",L0="[object Int8Array]",A0="[object Int16Array]",R0="[object Int32Array]",O0="[object Uint8Array]",I0="[object Uint8ClampedArray]",M0="[object Uint16Array]",B0="[object Uint32Array]",rne=/\b__p \+= '';/g,nne=/\b(__p \+=) '' \+/g,ine=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pT=/&(?:amp|lt|gt|quot|#39);/g,gT=/[&<>"']/g,one=RegExp(pT.source),ane=RegExp(gT.source),lne=/<%-([\s\S]+?)%>/g,sne=/<%([\s\S]+?)%>/g,yT=/<%=([\s\S]+?)%>/g,une=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fne=/^\w*$/,cne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D0=/[\\^$.*+?()[\]{}|]/g,hne=RegExp(D0.source),$0=/^\s+/,dne=/\s/,vne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pne=/\{\n\/\* \[wrapped with (.+)\] \*/,gne=/,? & /,yne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cne=/[()=,{}\[\]\/\s]/,mne=/\\(\\)?/g,_ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,CT=/\w*$/,wne=/^[-+]0x[0-9a-f]+$/i,xne=/^0b[01]+$/i,Sne=/^\[object .+?Constructor\]$/,bne=/^0o[0-7]+$/i,Tne=/^(?:0|[1-9]\d*)$/,Ene=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dc=/($^)/,Lne=/['\n\r\u2028\u2029\\]/g,vc="\\ud800-\\udfff",Ane="\\u0300-\\u036f",Rne="\\ufe20-\\ufe2f",One="\\u20d0-\\u20ff",mT=Ane+Rne+One,_T="\\u2700-\\u27bf",wT="a-z\\xdf-\\xf6\\xf8-\\xff",Ine="\\xac\\xb1\\xd7\\xf7",Mne="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bne="\\u2000-\\u206f",Dne=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xT="A-Z\\xc0-\\xd6\\xd8-\\xde",ST="\\ufe0e\\ufe0f",bT=Ine+Mne+Bne+Dne,F0="['’]",$ne="["+vc+"]",TT="["+bT+"]",pc="["+mT+"]",ET="\\d+",Fne="["+_T+"]",LT="["+wT+"]",AT="[^"+vc+bT+ET+_T+wT+xT+"]",P0="\\ud83c[\\udffb-\\udfff]",Pne="(?:"+pc+"|"+P0+")",RT="[^"+vc+"]",N0="(?:\\ud83c[\\udde6-\\uddff]){2}",H0="[\\ud800-\\udbff][\\udc00-\\udfff]",ol="["+xT+"]",OT="\\u200d",IT="(?:"+LT+"|"+AT+")",Nne="(?:"+ol+"|"+AT+")",MT="(?:"+F0+"(?:d|ll|m|re|s|t|ve))?",BT="(?:"+F0+"(?:D|LL|M|RE|S|T|VE))?",DT=Pne+"?",$T="["+ST+"]?",Hne="(?:"+OT+"(?:"+[RT,N0,H0].join("|")+")"+$T+DT+")*",zne="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kne="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",FT=$T+DT+Hne,Wne="(?:"+[Fne,N0,H0].join("|")+")"+FT,Gne="(?:"+[RT+pc+"?",pc,N0,H0,$ne].join("|")+")",Une=RegExp(F0,"g"),Yne=RegExp(pc,"g"),z0=RegExp(P0+"(?="+P0+")|"+Gne+FT,"g"),Xne=RegExp([ol+"?"+LT+"+"+MT+"(?="+[TT,ol,"$"].join("|")+")",Nne+"+"+BT+"(?="+[TT,ol+IT,"$"].join("|")+")",ol+"?"+IT+"+"+MT,ol+"+"+BT,kne,zne,ET,Wne].join("|"),"g"),Vne=RegExp("["+OT+vc+mT+ST+"]"),qne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jne=-1,gt={};gt[T0]=gt[E0]=gt[L0]=gt[A0]=gt[R0]=gt[O0]=gt[I0]=gt[M0]=gt[B0]=!0,gt[We]=gt[tt]=gt[zs]=gt[mr]=gt[il]=gt[Vt]=gt[ui]=gt[Co]=gt[lt]=gt[ht]=gt[Xr]=gt[ha]=gt[Vr]=gt[zn]=gt[Hs]=!1;var dt={};dt[We]=dt[tt]=dt[zs]=dt[il]=dt[mr]=dt[Vt]=dt[T0]=dt[E0]=dt[L0]=dt[A0]=dt[R0]=dt[lt]=dt[ht]=dt[Xr]=dt[ha]=dt[Vr]=dt[zn]=dt[fi]=dt[O0]=dt[I0]=dt[M0]=dt[B0]=!0,dt[ui]=dt[Co]=dt[Hs]=!1;var Zne={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Qne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jne={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},eie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tie=parseFloat,rie=parseInt,PT=typeof Ds=="object"&&Ds&&Ds.Object===Object&&Ds,nie=typeof self=="object"&&self&&self.Object===Object&&self,qt=PT||nie||Function("return this")(),k0=r&&!r.nodeType&&r,da=k0&&!0&&e&&!e.nodeType&&e,NT=da&&da.exports===k0,W0=NT&&PT.process,vn=function(){try{var P=da&&da.require&&da.require("util").types;return P||W0&&W0.binding&&W0.binding("util")}catch{}}(),HT=vn&&vn.isArrayBuffer,zT=vn&&vn.isDate,kT=vn&&vn.isMap,WT=vn&&vn.isRegExp,GT=vn&&vn.isSet,UT=vn&&vn.isTypedArray;function qr(P,G,z){switch(z.length){case 0:return P.call(G);case 1:return P.call(G,z[0]);case 2:return P.call(G,z[0],z[1]);case 3:return P.call(G,z[0],z[1],z[2])}return P.apply(G,z)}function iie(P,G,z,oe){for(var Oe=-1,Je=P==null?0:P.length;++Oe<Je;){var $t=P[Oe];G(oe,$t,z($t),P)}return oe}function pn(P,G){for(var z=-1,oe=P==null?0:P.length;++z<oe&&G(P[z],z,P)!==!1;);return P}function oie(P,G){for(var z=P==null?0:P.length;z--&&G(P[z],z,P)!==!1;);return P}function YT(P,G){for(var z=-1,oe=P==null?0:P.length;++z<oe;)if(!G(P[z],z,P))return!1;return!0}function mo(P,G){for(var z=-1,oe=P==null?0:P.length,Oe=0,Je=[];++z<oe;){var $t=P[z];G($t,z,P)&&(Je[Oe++]=$t)}return Je}function gc(P,G){var z=P==null?0:P.length;return!!z&&al(P,G,0)>-1}function G0(P,G,z){for(var oe=-1,Oe=P==null?0:P.length;++oe<Oe;)if(z(G,P[oe]))return!0;return!1}function wt(P,G){for(var z=-1,oe=P==null?0:P.length,Oe=Array(oe);++z<oe;)Oe[z]=G(P[z],z,P);return Oe}function _o(P,G){for(var z=-1,oe=G.length,Oe=P.length;++z<oe;)P[Oe+z]=G[z];return P}function U0(P,G,z,oe){var Oe=-1,Je=P==null?0:P.length;for(oe&&Je&&(z=P[++Oe]);++Oe<Je;)z=G(z,P[Oe],Oe,P);return z}function aie(P,G,z,oe){var Oe=P==null?0:P.length;for(oe&&Oe&&(z=P[--Oe]);Oe--;)z=G(z,P[Oe],Oe,P);return z}function Y0(P,G){for(var z=-1,oe=P==null?0:P.length;++z<oe;)if(G(P[z],z,P))return!0;return!1}var lie=X0("length");function sie(P){return P.split("")}function uie(P){return P.match(yne)||[]}function XT(P,G,z){var oe;return z(P,function(Oe,Je,$t){if(G(Oe,Je,$t))return oe=Je,!1}),oe}function yc(P,G,z,oe){for(var Oe=P.length,Je=z+(oe?1:-1);oe?Je--:++Je<Oe;)if(G(P[Je],Je,P))return Je;return-1}function al(P,G,z){return G===G?wie(P,G,z):yc(P,VT,z)}function fie(P,G,z,oe){for(var Oe=z-1,Je=P.length;++Oe<Je;)if(oe(P[Oe],G))return Oe;return-1}function VT(P){return P!==P}function qT(P,G){var z=P==null?0:P.length;return z?q0(P,G)/z:ke}function X0(P){return function(G){return G==null?t:G[P]}}function V0(P){return function(G){return P==null?t:P[G]}}function KT(P,G,z,oe,Oe){return Oe(P,function(Je,$t,ut){z=oe?(oe=!1,Je):G(z,Je,$t,ut)}),z}function cie(P,G){var z=P.length;for(P.sort(G);z--;)P[z]=P[z].value;return P}function q0(P,G){for(var z,oe=-1,Oe=P.length;++oe<Oe;){var Je=G(P[oe]);Je!==t&&(z=z===t?Je:z+Je)}return z}function K0(P,G){for(var z=-1,oe=Array(P);++z<P;)oe[z]=G(z);return oe}function hie(P,G){return wt(G,function(z){return[z,P[z]]})}function jT(P){return P&&P.slice(0,eE(P)+1).replace($0,"")}function Kr(P){return function(G){return P(G)}}function j0(P,G){return wt(G,function(z){return P[z]})}function ks(P,G){return P.has(G)}function ZT(P,G){for(var z=-1,oe=P.length;++z<oe&&al(G,P[z],0)>-1;);return z}function QT(P,G){for(var z=P.length;z--&&al(G,P[z],0)>-1;);return z}function die(P,G){for(var z=P.length,oe=0;z--;)P[z]===G&&++oe;return oe}var vie=V0(Zne),pie=V0(Qne);function gie(P){return"\\"+eie[P]}function yie(P,G){return P==null?t:P[G]}function ll(P){return Vne.test(P)}function Cie(P){return qne.test(P)}function mie(P){for(var G,z=[];!(G=P.next()).done;)z.push(G.value);return z}function Z0(P){var G=-1,z=Array(P.size);return P.forEach(function(oe,Oe){z[++G]=[Oe,oe]}),z}function JT(P,G){return function(z){return P(G(z))}}function wo(P,G){for(var z=-1,oe=P.length,Oe=0,Je=[];++z<oe;){var $t=P[z];($t===G||$t===h)&&(P[z]=h,Je[Oe++]=z)}return Je}function Cc(P){var G=-1,z=Array(P.size);return P.forEach(function(oe){z[++G]=oe}),z}function _ie(P){var G=-1,z=Array(P.size);return P.forEach(function(oe){z[++G]=[oe,oe]}),z}function wie(P,G,z){for(var oe=z-1,Oe=P.length;++oe<Oe;)if(P[oe]===G)return oe;return-1}function xie(P,G,z){for(var oe=z+1;oe--;)if(P[oe]===G)return oe;return oe}function sl(P){return ll(P)?bie(P):lie(P)}function kn(P){return ll(P)?Tie(P):sie(P)}function eE(P){for(var G=P.length;G--&&dne.test(P.charAt(G)););return G}var Sie=V0(Jne);function bie(P){for(var G=z0.lastIndex=0;z0.test(P);)++G;return G}function Tie(P){return P.match(z0)||[]}function Eie(P){return P.match(Xne)||[]}var Lie=function P(G){G=G==null?qt:ul.defaults(qt.Object(),G,ul.pick(qt,Kne));var z=G.Array,oe=G.Date,Oe=G.Error,Je=G.Function,$t=G.Math,ut=G.Object,Q0=G.RegExp,Aie=G.String,gn=G.TypeError,mc=z.prototype,Rie=Je.prototype,fl=ut.prototype,_c=G["__core-js_shared__"],wc=Rie.toString,it=fl.hasOwnProperty,Oie=0,tE=function(){var u=/[^.]+$/.exec(_c&&_c.keys&&_c.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),xc=fl.toString,Iie=wc.call(ut),Mie=qt._,Bie=Q0("^"+wc.call(it).replace(D0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sc=NT?G.Buffer:t,xo=G.Symbol,bc=G.Uint8Array,rE=Sc?Sc.allocUnsafe:t,Tc=JT(ut.getPrototypeOf,ut),nE=ut.create,iE=fl.propertyIsEnumerable,Ec=mc.splice,oE=xo?xo.isConcatSpreadable:t,Ws=xo?xo.iterator:t,va=xo?xo.toStringTag:t,Lc=function(){try{var u=ma(ut,"defineProperty");return u({},"",{}),u}catch{}}(),Die=G.clearTimeout!==qt.clearTimeout&&G.clearTimeout,$ie=oe&&oe.now!==qt.Date.now&&oe.now,Fie=G.setTimeout!==qt.setTimeout&&G.setTimeout,Ac=$t.ceil,Rc=$t.floor,J0=ut.getOwnPropertySymbols,Pie=Sc?Sc.isBuffer:t,aE=G.isFinite,Nie=mc.join,Hie=JT(ut.keys,ut),Ft=$t.max,ar=$t.min,zie=oe.now,kie=G.parseInt,lE=$t.random,Wie=mc.reverse,eg=ma(G,"DataView"),Gs=ma(G,"Map"),tg=ma(G,"Promise"),cl=ma(G,"Set"),Us=ma(G,"WeakMap"),Ys=ma(ut,"create"),Oc=Us&&new Us,hl={},Gie=_a(eg),Uie=_a(Gs),Yie=_a(tg),Xie=_a(cl),Vie=_a(Us),Ic=xo?xo.prototype:t,Xs=Ic?Ic.valueOf:t,sE=Ic?Ic.toString:t;function L(u){if(Et(u)&&!Ie(u)&&!(u instanceof Ge)){if(u instanceof yn)return u;if(it.call(u,"__wrapped__"))return uL(u)}return new yn(u)}var dl=function(){function u(){}return function(c){if(!St(c))return{};if(nE)return nE(c);u.prototype=c;var p=new u;return u.prototype=t,p}}();function Mc(){}function yn(u,c){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}L.templateSettings={escape:lne,evaluate:sne,interpolate:yT,variable:"",imports:{_:L}},L.prototype=Mc.prototype,L.prototype.constructor=L,yn.prototype=dl(Mc.prototype),yn.prototype.constructor=yn;function Ge(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function qie(){var u=new Ge(this.__wrapped__);return u.__actions__=Mr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Mr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Mr(this.__views__),u}function Kie(){if(this.__filtered__){var u=new Ge(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function jie(){var u=this.__wrapped__.value(),c=this.__dir__,p=Ie(u),m=c<0,T=p?u.length:0,R=sae(0,T,this.__views__),M=R.start,$=R.end,N=$-M,U=m?$:M-1,Y=this.__iteratees__,Z=Y.length,ne=0,fe=ar(N,this.__takeCount__);if(!p||!m&&T==N&&fe==N)return ME(u,this.__actions__);var ye=[];e:for(;N--&&ne<fe;){U+=c;for(var De=-1,Ce=u[U];++De<Z;){var He=Y[De],Ye=He.iteratee,Qr=He.type,xr=Ye(Ce);if(Qr==K)Ce=xr;else if(!xr){if(Qr==ue)continue e;break e}}ye[ne++]=Ce}return ye}Ge.prototype=dl(Mc.prototype),Ge.prototype.constructor=Ge;function pa(u){var c=-1,p=u==null?0:u.length;for(this.clear();++c<p;){var m=u[c];this.set(m[0],m[1])}}function Zie(){this.__data__=Ys?Ys(null):{},this.size=0}function Qie(u){var c=this.has(u)&&delete this.__data__[u];return this.size-=c?1:0,c}function Jie(u){var c=this.__data__;if(Ys){var p=c[u];return p===s?t:p}return it.call(c,u)?c[u]:t}function eoe(u){var c=this.__data__;return Ys?c[u]!==t:it.call(c,u)}function toe(u,c){var p=this.__data__;return this.size+=this.has(u)?0:1,p[u]=Ys&&c===t?s:c,this}pa.prototype.clear=Zie,pa.prototype.delete=Qie,pa.prototype.get=Jie,pa.prototype.has=eoe,pa.prototype.set=toe;function Fi(u){var c=-1,p=u==null?0:u.length;for(this.clear();++c<p;){var m=u[c];this.set(m[0],m[1])}}function roe(){this.__data__=[],this.size=0}function noe(u){var c=this.__data__,p=Bc(c,u);if(p<0)return!1;var m=c.length-1;return p==m?c.pop():Ec.call(c,p,1),--this.size,!0}function ioe(u){var c=this.__data__,p=Bc(c,u);return p<0?t:c[p][1]}function ooe(u){return Bc(this.__data__,u)>-1}function aoe(u,c){var p=this.__data__,m=Bc(p,u);return m<0?(++this.size,p.push([u,c])):p[m][1]=c,this}Fi.prototype.clear=roe,Fi.prototype.delete=noe,Fi.prototype.get=ioe,Fi.prototype.has=ooe,Fi.prototype.set=aoe;function Pi(u){var c=-1,p=u==null?0:u.length;for(this.clear();++c<p;){var m=u[c];this.set(m[0],m[1])}}function loe(){this.size=0,this.__data__={hash:new pa,map:new(Gs||Fi),string:new pa}}function soe(u){var c=Yc(this,u).delete(u);return this.size-=c?1:0,c}function uoe(u){return Yc(this,u).get(u)}function foe(u){return Yc(this,u).has(u)}function coe(u,c){var p=Yc(this,u),m=p.size;return p.set(u,c),this.size+=p.size==m?0:1,this}Pi.prototype.clear=loe,Pi.prototype.delete=soe,Pi.prototype.get=uoe,Pi.prototype.has=foe,Pi.prototype.set=coe;function ga(u){var c=-1,p=u==null?0:u.length;for(this.__data__=new Pi;++c<p;)this.add(u[c])}function hoe(u){return this.__data__.set(u,s),this}function doe(u){return this.__data__.has(u)}ga.prototype.add=ga.prototype.push=hoe,ga.prototype.has=doe;function Wn(u){var c=this.__data__=new Fi(u);this.size=c.size}function voe(){this.__data__=new Fi,this.size=0}function poe(u){var c=this.__data__,p=c.delete(u);return this.size=c.size,p}function goe(u){return this.__data__.get(u)}function yoe(u){return this.__data__.has(u)}function Coe(u,c){var p=this.__data__;if(p instanceof Fi){var m=p.__data__;if(!Gs||m.length<i-1)return m.push([u,c]),this.size=++p.size,this;p=this.__data__=new Pi(m)}return p.set(u,c),this.size=p.size,this}Wn.prototype.clear=voe,Wn.prototype.delete=poe,Wn.prototype.get=goe,Wn.prototype.has=yoe,Wn.prototype.set=Coe;function uE(u,c){var p=Ie(u),m=!p&&wa(u),T=!p&&!m&&Lo(u),R=!p&&!m&&!T&&yl(u),M=p||m||T||R,$=M?K0(u.length,Aie):[],N=$.length;for(var U in u)(c||it.call(u,U))&&!(M&&(U=="length"||T&&(U=="offset"||U=="parent")||R&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||ki(U,N)))&&$.push(U);return $}function fE(u){var c=u.length;return c?u[hg(0,c-1)]:t}function moe(u,c){return Xc(Mr(u),ya(c,0,u.length))}function _oe(u){return Xc(Mr(u))}function rg(u,c,p){(p!==t&&!Gn(u[c],p)||p===t&&!(c in u))&&Ni(u,c,p)}function Vs(u,c,p){var m=u[c];(!(it.call(u,c)&&Gn(m,p))||p===t&&!(c in u))&&Ni(u,c,p)}function Bc(u,c){for(var p=u.length;p--;)if(Gn(u[p][0],c))return p;return-1}function woe(u,c,p,m){return So(u,function(T,R,M){c(m,T,p(T),M)}),m}function cE(u,c){return u&&hi(c,kt(c),u)}function xoe(u,c){return u&&hi(c,Dr(c),u)}function Ni(u,c,p){c=="__proto__"&&Lc?Lc(u,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):u[c]=p}function ng(u,c){for(var p=-1,m=c.length,T=z(m),R=u==null;++p<m;)T[p]=R?t:Pg(u,c[p]);return T}function ya(u,c,p){return u===u&&(p!==t&&(u=u<=p?u:p),c!==t&&(u=u>=c?u:c)),u}function Cn(u,c,p,m,T,R){var M,$=c&d,N=c&v,U=c&g;if(p&&(M=T?p(u,m,T,R):p(u)),M!==t)return M;if(!St(u))return u;var Y=Ie(u);if(Y){if(M=fae(u),!$)return Mr(u,M)}else{var Z=lr(u),ne=Z==Co||Z==Qe;if(Lo(u))return $E(u,$);if(Z==Xr||Z==We||ne&&!T){if(M=N||ne?{}:eL(u),!$)return N?Joe(u,xoe(M,u)):Qoe(u,cE(M,u))}else{if(!dt[Z])return T?u:{};M=cae(u,Z,$)}}R||(R=new Wn);var fe=R.get(u);if(fe)return fe;R.set(u,M),RL(u)?u.forEach(function(Ce){M.add(Cn(Ce,c,p,Ce,u,R))}):LL(u)&&u.forEach(function(Ce,He){M.set(He,Cn(Ce,c,p,He,u,R))});var ye=U?N?Sg:xg:N?Dr:kt,De=Y?t:ye(u);return pn(De||u,function(Ce,He){De&&(He=Ce,Ce=u[He]),Vs(M,He,Cn(Ce,c,p,He,u,R))}),M}function Soe(u){var c=kt(u);return function(p){return hE(p,u,c)}}function hE(u,c,p){var m=p.length;if(u==null)return!m;for(u=ut(u);m--;){var T=p[m],R=c[T],M=u[T];if(M===t&&!(T in u)||!R(M))return!1}return!0}function dE(u,c,p){if(typeof u!="function")throw new gn(a);return eu(function(){u.apply(t,p)},c)}function qs(u,c,p,m){var T=-1,R=gc,M=!0,$=u.length,N=[],U=c.length;if(!$)return N;p&&(c=wt(c,Kr(p))),m?(R=G0,M=!1):c.length>=i&&(R=ks,M=!1,c=new ga(c));e:for(;++T<$;){var Y=u[T],Z=p==null?Y:p(Y);if(Y=m||Y!==0?Y:0,M&&Z===Z){for(var ne=U;ne--;)if(c[ne]===Z)continue e;N.push(Y)}else R(c,Z,m)||N.push(Y)}return N}var So=zE(ci),vE=zE(og,!0);function boe(u,c){var p=!0;return So(u,function(m,T,R){return p=!!c(m,T,R),p}),p}function Dc(u,c,p){for(var m=-1,T=u.length;++m<T;){var R=u[m],M=c(R);if(M!=null&&($===t?M===M&&!Zr(M):p(M,$)))var $=M,N=R}return N}function Toe(u,c,p,m){var T=u.length;for(p=Be(p),p<0&&(p=-p>T?0:T+p),m=m===t||m>T?T:Be(m),m<0&&(m+=T),m=p>m?0:IL(m);p<m;)u[p++]=c;return u}function pE(u,c){var p=[];return So(u,function(m,T,R){c(m,T,R)&&p.push(m)}),p}function Kt(u,c,p,m,T){var R=-1,M=u.length;for(p||(p=dae),T||(T=[]);++R<M;){var $=u[R];c>0&&p($)?c>1?Kt($,c-1,p,m,T):_o(T,$):m||(T[T.length]=$)}return T}var ig=kE(),gE=kE(!0);function ci(u,c){return u&&ig(u,c,kt)}function og(u,c){return u&&gE(u,c,kt)}function $c(u,c){return mo(c,function(p){return Wi(u[p])})}function Ca(u,c){c=To(c,u);for(var p=0,m=c.length;u!=null&&p<m;)u=u[di(c[p++])];return p&&p==m?u:t}function yE(u,c,p){var m=c(u);return Ie(u)?m:_o(m,p(u))}function _r(u){return u==null?u===t?Ns:Ir:va&&va in ut(u)?lae(u):_ae(u)}function ag(u,c){return u>c}function Eoe(u,c){return u!=null&&it.call(u,c)}function Loe(u,c){return u!=null&&c in ut(u)}function Aoe(u,c,p){return u>=ar(c,p)&&u<Ft(c,p)}function lg(u,c,p){for(var m=p?G0:gc,T=u[0].length,R=u.length,M=R,$=z(R),N=1/0,U=[];M--;){var Y=u[M];M&&c&&(Y=wt(Y,Kr(c))),N=ar(Y.length,N),$[M]=!p&&(c||T>=120&&Y.length>=120)?new ga(M&&Y):t}Y=u[0];var Z=-1,ne=$[0];e:for(;++Z<T&&U.length<N;){var fe=Y[Z],ye=c?c(fe):fe;if(fe=p||fe!==0?fe:0,!(ne?ks(ne,ye):m(U,ye,p))){for(M=R;--M;){var De=$[M];if(!(De?ks(De,ye):m(u[M],ye,p)))continue e}ne&&ne.push(ye),U.push(fe)}}return U}function Roe(u,c,p,m){return ci(u,function(T,R,M){c(m,p(T),R,M)}),m}function Ks(u,c,p){c=To(c,u),u=iL(u,c);var m=u==null?u:u[di(_n(c))];return m==null?t:qr(m,u,p)}function CE(u){return Et(u)&&_r(u)==We}function Ooe(u){return Et(u)&&_r(u)==zs}function Ioe(u){return Et(u)&&_r(u)==Vt}function js(u,c,p,m,T){return u===c?!0:u==null||c==null||!Et(u)&&!Et(c)?u!==u&&c!==c:Moe(u,c,p,m,js,T)}function Moe(u,c,p,m,T,R){var M=Ie(u),$=Ie(c),N=M?tt:lr(u),U=$?tt:lr(c);N=N==We?Xr:N,U=U==We?Xr:U;var Y=N==Xr,Z=U==Xr,ne=N==U;if(ne&&Lo(u)){if(!Lo(c))return!1;M=!0,Y=!1}if(ne&&!Y)return R||(R=new Wn),M||yl(u)?ZE(u,c,p,m,T,R):oae(u,c,N,p,m,T,R);if(!(p&y)){var fe=Y&&it.call(u,"__wrapped__"),ye=Z&&it.call(c,"__wrapped__");if(fe||ye){var De=fe?u.value():u,Ce=ye?c.value():c;return R||(R=new Wn),T(De,Ce,p,m,R)}}return ne?(R||(R=new Wn),aae(u,c,p,m,T,R)):!1}function Boe(u){return Et(u)&&lr(u)==lt}function sg(u,c,p,m){var T=p.length,R=T,M=!m;if(u==null)return!R;for(u=ut(u);T--;){var $=p[T];if(M&&$[2]?$[1]!==u[$[0]]:!($[0]in u))return!1}for(;++T<R;){$=p[T];var N=$[0],U=u[N],Y=$[1];if(M&&$[2]){if(U===t&&!(N in u))return!1}else{var Z=new Wn;if(m)var ne=m(U,Y,N,u,c,Z);if(!(ne===t?js(Y,U,y|C,m,Z):ne))return!1}}return!0}function mE(u){if(!St(u)||pae(u))return!1;var c=Wi(u)?Bie:Sne;return c.test(_a(u))}function Doe(u){return Et(u)&&_r(u)==ha}function $oe(u){return Et(u)&&lr(u)==Vr}function Foe(u){return Et(u)&&Qc(u.length)&&!!gt[_r(u)]}function _E(u){return typeof u=="function"?u:u==null?$r:typeof u=="object"?Ie(u)?SE(u[0],u[1]):xE(u):WL(u)}function ug(u){if(!Js(u))return Hie(u);var c=[];for(var p in ut(u))it.call(u,p)&&p!="constructor"&&c.push(p);return c}function Poe(u){if(!St(u))return mae(u);var c=Js(u),p=[];for(var m in u)m=="constructor"&&(c||!it.call(u,m))||p.push(m);return p}function fg(u,c){return u<c}function wE(u,c){var p=-1,m=Br(u)?z(u.length):[];return So(u,function(T,R,M){m[++p]=c(T,R,M)}),m}function xE(u){var c=Tg(u);return c.length==1&&c[0][2]?rL(c[0][0],c[0][1]):function(p){return p===u||sg(p,u,c)}}function SE(u,c){return Lg(u)&&tL(c)?rL(di(u),c):function(p){var m=Pg(p,u);return m===t&&m===c?Ng(p,u):js(c,m,y|C)}}function Fc(u,c,p,m,T){u!==c&&ig(c,function(R,M){if(T||(T=new Wn),St(R))Noe(u,c,M,p,Fc,m,T);else{var $=m?m(Rg(u,M),R,M+"",u,c,T):t;$===t&&($=R),rg(u,M,$)}},Dr)}function Noe(u,c,p,m,T,R,M){var $=Rg(u,p),N=Rg(c,p),U=M.get(N);if(U){rg(u,p,U);return}var Y=R?R($,N,p+"",u,c,M):t,Z=Y===t;if(Z){var ne=Ie(N),fe=!ne&&Lo(N),ye=!ne&&!fe&&yl(N);Y=N,ne||fe||ye?Ie($)?Y=$:At($)?Y=Mr($):fe?(Z=!1,Y=$E(N,!0)):ye?(Z=!1,Y=FE(N,!0)):Y=[]:tu(N)||wa(N)?(Y=$,wa($)?Y=ML($):(!St($)||Wi($))&&(Y=eL(N))):Z=!1}Z&&(M.set(N,Y),T(Y,N,m,R,M),M.delete(N)),rg(u,p,Y)}function bE(u,c){var p=u.length;if(p)return c+=c<0?p:0,ki(c,p)?u[c]:t}function TE(u,c,p){c.length?c=wt(c,function(R){return Ie(R)?function(M){return Ca(M,R.length===1?R[0]:R)}:R}):c=[$r];var m=-1;c=wt(c,Kr(ge()));var T=wE(u,function(R,M,$){var N=wt(c,function(U){return U(R)});return{criteria:N,index:++m,value:R}});return cie(T,function(R,M){return Zoe(R,M,p)})}function Hoe(u,c){return EE(u,c,function(p,m){return Ng(u,m)})}function EE(u,c,p){for(var m=-1,T=c.length,R={};++m<T;){var M=c[m],$=Ca(u,M);p($,M)&&Zs(R,To(M,u),$)}return R}function zoe(u){return function(c){return Ca(c,u)}}function cg(u,c,p,m){var T=m?fie:al,R=-1,M=c.length,$=u;for(u===c&&(c=Mr(c)),p&&($=wt(u,Kr(p)));++R<M;)for(var N=0,U=c[R],Y=p?p(U):U;(N=T($,Y,N,m))>-1;)$!==u&&Ec.call($,N,1),Ec.call(u,N,1);return u}function LE(u,c){for(var p=u?c.length:0,m=p-1;p--;){var T=c[p];if(p==m||T!==R){var R=T;ki(T)?Ec.call(u,T,1):pg(u,T)}}return u}function hg(u,c){return u+Rc(lE()*(c-u+1))}function koe(u,c,p,m){for(var T=-1,R=Ft(Ac((c-u)/(p||1)),0),M=z(R);R--;)M[m?R:++T]=u,u+=p;return M}function dg(u,c){var p="";if(!u||c<1||c>me)return p;do c%2&&(p+=u),c=Rc(c/2),c&&(u+=u);while(c);return p}function Pe(u,c){return Og(nL(u,c,$r),u+"")}function Woe(u){return fE(Cl(u))}function Goe(u,c){var p=Cl(u);return Xc(p,ya(c,0,p.length))}function Zs(u,c,p,m){if(!St(u))return u;c=To(c,u);for(var T=-1,R=c.length,M=R-1,$=u;$!=null&&++T<R;){var N=di(c[T]),U=p;if(N==="__proto__"||N==="constructor"||N==="prototype")return u;if(T!=M){var Y=$[N];U=m?m(Y,N,$):t,U===t&&(U=St(Y)?Y:ki(c[T+1])?[]:{})}Vs($,N,U),$=$[N]}return u}var AE=Oc?function(u,c){return Oc.set(u,c),u}:$r,Uoe=Lc?function(u,c){return Lc(u,"toString",{configurable:!0,enumerable:!1,value:zg(c),writable:!0})}:$r;function Yoe(u){return Xc(Cl(u))}function mn(u,c,p){var m=-1,T=u.length;c<0&&(c=-c>T?0:T+c),p=p>T?T:p,p<0&&(p+=T),T=c>p?0:p-c>>>0,c>>>=0;for(var R=z(T);++m<T;)R[m]=u[m+c];return R}function Xoe(u,c){var p;return So(u,function(m,T,R){return p=c(m,T,R),!p}),!!p}function Pc(u,c,p){var m=0,T=u==null?m:u.length;if(typeof c=="number"&&c===c&&T<=at){for(;m<T;){var R=m+T>>>1,M=u[R];M!==null&&!Zr(M)&&(p?M<=c:M<c)?m=R+1:T=R}return T}return vg(u,c,$r,p)}function vg(u,c,p,m){var T=0,R=u==null?0:u.length;if(R===0)return 0;c=p(c);for(var M=c!==c,$=c===null,N=Zr(c),U=c===t;T<R;){var Y=Rc((T+R)/2),Z=p(u[Y]),ne=Z!==t,fe=Z===null,ye=Z===Z,De=Zr(Z);if(M)var Ce=m||ye;else U?Ce=ye&&(m||ne):$?Ce=ye&&ne&&(m||!fe):N?Ce=ye&&ne&&!fe&&(m||!De):fe||De?Ce=!1:Ce=m?Z<=c:Z<c;Ce?T=Y+1:R=Y}return ar(R,qe)}function RE(u,c){for(var p=-1,m=u.length,T=0,R=[];++p<m;){var M=u[p],$=c?c(M):M;if(!p||!Gn($,N)){var N=$;R[T++]=M===0?0:M}}return R}function OE(u){return typeof u=="number"?u:Zr(u)?ke:+u}function jr(u){if(typeof u=="string")return u;if(Ie(u))return wt(u,jr)+"";if(Zr(u))return sE?sE.call(u):"";var c=u+"";return c=="0"&&1/u==-Re?"-0":c}function bo(u,c,p){var m=-1,T=gc,R=u.length,M=!0,$=[],N=$;if(p)M=!1,T=G0;else if(R>=i){var U=c?null:nae(u);if(U)return Cc(U);M=!1,T=ks,N=new ga}else N=c?[]:$;e:for(;++m<R;){var Y=u[m],Z=c?c(Y):Y;if(Y=p||Y!==0?Y:0,M&&Z===Z){for(var ne=N.length;ne--;)if(N[ne]===Z)continue e;c&&N.push(Z),$.push(Y)}else T(N,Z,p)||(N!==$&&N.push(Z),$.push(Y))}return $}function pg(u,c){return c=To(c,u),u=iL(u,c),u==null||delete u[di(_n(c))]}function IE(u,c,p,m){return Zs(u,c,p(Ca(u,c)),m)}function Nc(u,c,p,m){for(var T=u.length,R=m?T:-1;(m?R--:++R<T)&&c(u[R],R,u););return p?mn(u,m?0:R,m?R+1:T):mn(u,m?R+1:0,m?T:R)}function ME(u,c){var p=u;return p instanceof Ge&&(p=p.value()),U0(c,function(m,T){return T.func.apply(T.thisArg,_o([m],T.args))},p)}function gg(u,c,p){var m=u.length;if(m<2)return m?bo(u[0]):[];for(var T=-1,R=z(m);++T<m;)for(var M=u[T],$=-1;++$<m;)$!=T&&(R[T]=qs(R[T]||M,u[$],c,p));return bo(Kt(R,1),c,p)}function BE(u,c,p){for(var m=-1,T=u.length,R=c.length,M={};++m<T;){var $=m<R?c[m]:t;p(M,u[m],$)}return M}function yg(u){return At(u)?u:[]}function Cg(u){return typeof u=="function"?u:$r}function To(u,c){return Ie(u)?u:Lg(u,c)?[u]:sL(rt(u))}var Voe=Pe;function Eo(u,c,p){var m=u.length;return p=p===t?m:p,!c&&p>=m?u:mn(u,c,p)}var DE=Die||function(u){return qt.clearTimeout(u)};function $E(u,c){if(c)return u.slice();var p=u.length,m=rE?rE(p):new u.constructor(p);return u.copy(m),m}function mg(u){var c=new u.constructor(u.byteLength);return new bc(c).set(new bc(u)),c}function qoe(u,c){var p=c?mg(u.buffer):u.buffer;return new u.constructor(p,u.byteOffset,u.byteLength)}function Koe(u){var c=new u.constructor(u.source,CT.exec(u));return c.lastIndex=u.lastIndex,c}function joe(u){return Xs?ut(Xs.call(u)):{}}function FE(u,c){var p=c?mg(u.buffer):u.buffer;return new u.constructor(p,u.byteOffset,u.length)}function PE(u,c){if(u!==c){var p=u!==t,m=u===null,T=u===u,R=Zr(u),M=c!==t,$=c===null,N=c===c,U=Zr(c);if(!$&&!U&&!R&&u>c||R&&M&&N&&!$&&!U||m&&M&&N||!p&&N||!T)return 1;if(!m&&!R&&!U&&u<c||U&&p&&T&&!m&&!R||$&&p&&T||!M&&T||!N)return-1}return 0}function Zoe(u,c,p){for(var m=-1,T=u.criteria,R=c.criteria,M=T.length,$=p.length;++m<M;){var N=PE(T[m],R[m]);if(N){if(m>=$)return N;var U=p[m];return N*(U=="desc"?-1:1)}}return u.index-c.index}function NE(u,c,p,m){for(var T=-1,R=u.length,M=p.length,$=-1,N=c.length,U=Ft(R-M,0),Y=z(N+U),Z=!m;++$<N;)Y[$]=c[$];for(;++T<M;)(Z||T<R)&&(Y[p[T]]=u[T]);for(;U--;)Y[$++]=u[T++];return Y}function HE(u,c,p,m){for(var T=-1,R=u.length,M=-1,$=p.length,N=-1,U=c.length,Y=Ft(R-$,0),Z=z(Y+U),ne=!m;++T<Y;)Z[T]=u[T];for(var fe=T;++N<U;)Z[fe+N]=c[N];for(;++M<$;)(ne||T<R)&&(Z[fe+p[M]]=u[T++]);return Z}function Mr(u,c){var p=-1,m=u.length;for(c||(c=z(m));++p<m;)c[p]=u[p];return c}function hi(u,c,p,m){var T=!p;p||(p={});for(var R=-1,M=c.length;++R<M;){var $=c[R],N=m?m(p[$],u[$],$,p,u):t;N===t&&(N=u[$]),T?Ni(p,$,N):Vs(p,$,N)}return p}function Qoe(u,c){return hi(u,Eg(u),c)}function Joe(u,c){return hi(u,QE(u),c)}function Hc(u,c){return function(p,m){var T=Ie(p)?iie:woe,R=c?c():{};return T(p,u,ge(m,2),R)}}function vl(u){return Pe(function(c,p){var m=-1,T=p.length,R=T>1?p[T-1]:t,M=T>2?p[2]:t;for(R=u.length>3&&typeof R=="function"?(T--,R):t,M&&wr(p[0],p[1],M)&&(R=T<3?t:R,T=1),c=ut(c);++m<T;){var $=p[m];$&&u(c,$,m,R)}return c})}function zE(u,c){return function(p,m){if(p==null)return p;if(!Br(p))return u(p,m);for(var T=p.length,R=c?T:-1,M=ut(p);(c?R--:++R<T)&&m(M[R],R,M)!==!1;);return p}}function kE(u){return function(c,p,m){for(var T=-1,R=ut(c),M=m(c),$=M.length;$--;){var N=M[u?$:++T];if(p(R[N],N,R)===!1)break}return c}}function eae(u,c,p){var m=c&_,T=Qs(u);function R(){var M=this&&this!==qt&&this instanceof R?T:u;return M.apply(m?p:this,arguments)}return R}function WE(u){return function(c){c=rt(c);var p=ll(c)?kn(c):t,m=p?p[0]:c.charAt(0),T=p?Eo(p,1).join(""):c.slice(1);return m[u]()+T}}function pl(u){return function(c){return U0(zL(HL(c).replace(Une,"")),u,"")}}function Qs(u){return function(){var c=arguments;switch(c.length){case 0:return new u;case 1:return new u(c[0]);case 2:return new u(c[0],c[1]);case 3:return new u(c[0],c[1],c[2]);case 4:return new u(c[0],c[1],c[2],c[3]);case 5:return new u(c[0],c[1],c[2],c[3],c[4]);case 6:return new u(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new u(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var p=dl(u.prototype),m=u.apply(p,c);return St(m)?m:p}}function tae(u,c,p){var m=Qs(u);function T(){for(var R=arguments.length,M=z(R),$=R,N=gl(T);$--;)M[$]=arguments[$];var U=R<3&&M[0]!==N&&M[R-1]!==N?[]:wo(M,N);if(R-=U.length,R<p)return VE(u,c,zc,T.placeholder,t,M,U,t,t,p-R);var Y=this&&this!==qt&&this instanceof T?m:u;return qr(Y,this,M)}return T}function GE(u){return function(c,p,m){var T=ut(c);if(!Br(c)){var R=ge(p,3);c=kt(c),p=function($){return R(T[$],$,T)}}var M=u(c,p,m);return M>-1?T[R?c[M]:M]:t}}function UE(u){return zi(function(c){var p=c.length,m=p,T=yn.prototype.thru;for(u&&c.reverse();m--;){var R=c[m];if(typeof R!="function")throw new gn(a);if(T&&!M&&Uc(R)=="wrapper")var M=new yn([],!0)}for(m=M?m:p;++m<p;){R=c[m];var $=Uc(R),N=$=="wrapper"?bg(R):t;N&&Ag(N[0])&&N[1]==(F|b|O|H)&&!N[4].length&&N[9]==1?M=M[Uc(N[0])].apply(M,N[3]):M=R.length==1&&Ag(R)?M[$]():M.thru(R)}return function(){var U=arguments,Y=U[0];if(M&&U.length==1&&Ie(Y))return M.plant(Y).value();for(var Z=0,ne=p?c[Z].apply(this,U):Y;++Z<p;)ne=c[Z].call(this,ne);return ne}})}function zc(u,c,p,m,T,R,M,$,N,U){var Y=c&F,Z=c&_,ne=c&w,fe=c&(b|E),ye=c&k,De=ne?t:Qs(u);function Ce(){for(var He=arguments.length,Ye=z(He),Qr=He;Qr--;)Ye[Qr]=arguments[Qr];if(fe)var xr=gl(Ce),Jr=die(Ye,xr);if(m&&(Ye=NE(Ye,m,T,fe)),R&&(Ye=HE(Ye,R,M,fe)),He-=Jr,fe&&He<U){var Rt=wo(Ye,xr);return VE(u,c,zc,Ce.placeholder,p,Ye,Rt,$,N,U-He)}var Un=Z?p:this,Ui=ne?Un[u]:u;return He=Ye.length,$?Ye=wae(Ye,$):ye&&He>1&&Ye.reverse(),Y&&N<He&&(Ye.length=N),this&&this!==qt&&this instanceof Ce&&(Ui=De||Qs(Ui)),Ui.apply(Un,Ye)}return Ce}function YE(u,c){return function(p,m){return Roe(p,u,c(m),{})}}function kc(u,c){return function(p,m){var T;if(p===t&&m===t)return c;if(p!==t&&(T=p),m!==t){if(T===t)return m;typeof p=="string"||typeof m=="string"?(p=jr(p),m=jr(m)):(p=OE(p),m=OE(m)),T=u(p,m)}return T}}function _g(u){return zi(function(c){return c=wt(c,Kr(ge())),Pe(function(p){var m=this;return u(c,function(T){return qr(T,m,p)})})})}function Wc(u,c){c=c===t?" ":jr(c);var p=c.length;if(p<2)return p?dg(c,u):c;var m=dg(c,Ac(u/sl(c)));return ll(c)?Eo(kn(m),0,u).join(""):m.slice(0,u)}function rae(u,c,p,m){var T=c&_,R=Qs(u);function M(){for(var $=-1,N=arguments.length,U=-1,Y=m.length,Z=z(Y+N),ne=this&&this!==qt&&this instanceof M?R:u;++U<Y;)Z[U]=m[U];for(;N--;)Z[U++]=arguments[++$];return qr(ne,T?p:this,Z)}return M}function XE(u){return function(c,p,m){return m&&typeof m!="number"&&wr(c,p,m)&&(p=m=t),c=Gi(c),p===t?(p=c,c=0):p=Gi(p),m=m===t?c<p?1:-1:Gi(m),koe(c,p,m,u)}}function Gc(u){return function(c,p){return typeof c=="string"&&typeof p=="string"||(c=wn(c),p=wn(p)),u(c,p)}}function VE(u,c,p,m,T,R,M,$,N,U){var Y=c&b,Z=Y?M:t,ne=Y?t:M,fe=Y?R:t,ye=Y?t:R;c|=Y?O:D,c&=~(Y?D:O),c&S||(c&=~(_|w));var De=[u,c,T,fe,Z,ye,ne,$,N,U],Ce=p.apply(t,De);return Ag(u)&&oL(Ce,De),Ce.placeholder=m,aL(Ce,u,c)}function wg(u){var c=$t[u];return function(p,m){if(p=wn(p),m=m==null?0:ar(Be(m),292),m&&aE(p)){var T=(rt(p)+"e").split("e"),R=c(T[0]+"e"+(+T[1]+m));return T=(rt(R)+"e").split("e"),+(T[0]+"e"+(+T[1]-m))}return c(p)}}var nae=cl&&1/Cc(new cl([,-0]))[1]==Re?function(u){return new cl(u)}:Gg;function qE(u){return function(c){var p=lr(c);return p==lt?Z0(c):p==Vr?_ie(c):hie(c,u(c))}}function Hi(u,c,p,m,T,R,M,$){var N=c&w;if(!N&&typeof u!="function")throw new gn(a);var U=m?m.length:0;if(U||(c&=~(O|D),m=T=t),M=M===t?M:Ft(Be(M),0),$=$===t?$:Be($),U-=T?T.length:0,c&D){var Y=m,Z=T;m=T=t}var ne=N?t:bg(u),fe=[u,c,p,m,T,Y,Z,R,M,$];if(ne&&Cae(fe,ne),u=fe[0],c=fe[1],p=fe[2],m=fe[3],T=fe[4],$=fe[9]=fe[9]===t?N?0:u.length:Ft(fe[9]-U,0),!$&&c&(b|E)&&(c&=~(b|E)),!c||c==_)var ye=eae(u,c,p);else c==b||c==E?ye=tae(u,c,$):(c==O||c==(_|O))&&!T.length?ye=rae(u,c,p,m):ye=zc.apply(t,fe);var De=ne?AE:oL;return aL(De(ye,fe),u,c)}function KE(u,c,p,m){return u===t||Gn(u,fl[p])&&!it.call(m,p)?c:u}function jE(u,c,p,m,T,R){return St(u)&&St(c)&&(R.set(c,u),Fc(u,c,t,jE,R),R.delete(c)),u}function iae(u){return tu(u)?t:u}function ZE(u,c,p,m,T,R){var M=p&y,$=u.length,N=c.length;if($!=N&&!(M&&N>$))return!1;var U=R.get(u),Y=R.get(c);if(U&&Y)return U==c&&Y==u;var Z=-1,ne=!0,fe=p&C?new ga:t;for(R.set(u,c),R.set(c,u);++Z<$;){var ye=u[Z],De=c[Z];if(m)var Ce=M?m(De,ye,Z,c,u,R):m(ye,De,Z,u,c,R);if(Ce!==t){if(Ce)continue;ne=!1;break}if(fe){if(!Y0(c,function(He,Ye){if(!ks(fe,Ye)&&(ye===He||T(ye,He,p,m,R)))return fe.push(Ye)})){ne=!1;break}}else if(!(ye===De||T(ye,De,p,m,R))){ne=!1;break}}return R.delete(u),R.delete(c),ne}function oae(u,c,p,m,T,R,M){switch(p){case il:if(u.byteLength!=c.byteLength||u.byteOffset!=c.byteOffset)return!1;u=u.buffer,c=c.buffer;case zs:return!(u.byteLength!=c.byteLength||!R(new bc(u),new bc(c)));case mr:case Vt:case ht:return Gn(+u,+c);case ui:return u.name==c.name&&u.message==c.message;case ha:case zn:return u==c+"";case lt:var $=Z0;case Vr:var N=m&y;if($||($=Cc),u.size!=c.size&&!N)return!1;var U=M.get(u);if(U)return U==c;m|=C,M.set(u,c);var Y=ZE($(u),$(c),m,T,R,M);return M.delete(u),Y;case fi:if(Xs)return Xs.call(u)==Xs.call(c)}return!1}function aae(u,c,p,m,T,R){var M=p&y,$=xg(u),N=$.length,U=xg(c),Y=U.length;if(N!=Y&&!M)return!1;for(var Z=N;Z--;){var ne=$[Z];if(!(M?ne in c:it.call(c,ne)))return!1}var fe=R.get(u),ye=R.get(c);if(fe&&ye)return fe==c&&ye==u;var De=!0;R.set(u,c),R.set(c,u);for(var Ce=M;++Z<N;){ne=$[Z];var He=u[ne],Ye=c[ne];if(m)var Qr=M?m(Ye,He,ne,c,u,R):m(He,Ye,ne,u,c,R);if(!(Qr===t?He===Ye||T(He,Ye,p,m,R):Qr)){De=!1;break}Ce||(Ce=ne=="constructor")}if(De&&!Ce){var xr=u.constructor,Jr=c.constructor;xr!=Jr&&"constructor"in u&&"constructor"in c&&!(typeof xr=="function"&&xr instanceof xr&&typeof Jr=="function"&&Jr instanceof Jr)&&(De=!1)}return R.delete(u),R.delete(c),De}function zi(u){return Og(nL(u,t,hL),u+"")}function xg(u){return yE(u,kt,Eg)}function Sg(u){return yE(u,Dr,QE)}var bg=Oc?function(u){return Oc.get(u)}:Gg;function Uc(u){for(var c=u.name+"",p=hl[c],m=it.call(hl,c)?p.length:0;m--;){var T=p[m],R=T.func;if(R==null||R==u)return T.name}return c}function gl(u){var c=it.call(L,"placeholder")?L:u;return c.placeholder}function ge(){var u=L.iteratee||kg;return u=u===kg?_E:u,arguments.length?u(arguments[0],arguments[1]):u}function Yc(u,c){var p=u.__data__;return vae(c)?p[typeof c=="string"?"string":"hash"]:p.map}function Tg(u){for(var c=kt(u),p=c.length;p--;){var m=c[p],T=u[m];c[p]=[m,T,tL(T)]}return c}function ma(u,c){var p=yie(u,c);return mE(p)?p:t}function lae(u){var c=it.call(u,va),p=u[va];try{u[va]=t;var m=!0}catch{}var T=xc.call(u);return m&&(c?u[va]=p:delete u[va]),T}var Eg=J0?function(u){return u==null?[]:(u=ut(u),mo(J0(u),function(c){return iE.call(u,c)}))}:Ug,QE=J0?function(u){for(var c=[];u;)_o(c,Eg(u)),u=Tc(u);return c}:Ug,lr=_r;(eg&&lr(new eg(new ArrayBuffer(1)))!=il||Gs&&lr(new Gs)!=lt||tg&&lr(tg.resolve())!=hc||cl&&lr(new cl)!=Vr||Us&&lr(new Us)!=Hs)&&(lr=function(u){var c=_r(u),p=c==Xr?u.constructor:t,m=p?_a(p):"";if(m)switch(m){case Gie:return il;case Uie:return lt;case Yie:return hc;case Xie:return Vr;case Vie:return Hs}return c});function sae(u,c,p){for(var m=-1,T=p.length;++m<T;){var R=p[m],M=R.size;switch(R.type){case"drop":u+=M;break;case"dropRight":c-=M;break;case"take":c=ar(c,u+M);break;case"takeRight":u=Ft(u,c-M);break}}return{start:u,end:c}}function uae(u){var c=u.match(pne);return c?c[1].split(gne):[]}function JE(u,c,p){c=To(c,u);for(var m=-1,T=c.length,R=!1;++m<T;){var M=di(c[m]);if(!(R=u!=null&&p(u,M)))break;u=u[M]}return R||++m!=T?R:(T=u==null?0:u.length,!!T&&Qc(T)&&ki(M,T)&&(Ie(u)||wa(u)))}function fae(u){var c=u.length,p=new u.constructor(c);return c&&typeof u[0]=="string"&&it.call(u,"index")&&(p.index=u.index,p.input=u.input),p}function eL(u){return typeof u.constructor=="function"&&!Js(u)?dl(Tc(u)):{}}function cae(u,c,p){var m=u.constructor;switch(c){case zs:return mg(u);case mr:case Vt:return new m(+u);case il:return qoe(u,p);case T0:case E0:case L0:case A0:case R0:case O0:case I0:case M0:case B0:return FE(u,p);case lt:return new m;case ht:case zn:return new m(u);case ha:return Koe(u);case Vr:return new m;case fi:return joe(u)}}function hae(u,c){var p=c.length;if(!p)return u;var m=p-1;return c[m]=(p>1?"& ":"")+c[m],c=c.join(p>2?", ":" "),u.replace(vne,`{
/* [wrapped with `+c+`] */
`)}function dae(u){return Ie(u)||wa(u)||!!(oE&&u&&u[oE])}function ki(u,c){var p=typeof u;return c=c??me,!!c&&(p=="number"||p!="symbol"&&Tne.test(u))&&u>-1&&u%1==0&&u<c}function wr(u,c,p){if(!St(p))return!1;var m=typeof c;return(m=="number"?Br(p)&&ki(c,p.length):m=="string"&&c in p)?Gn(p[c],u):!1}function Lg(u,c){if(Ie(u))return!1;var p=typeof u;return p=="number"||p=="symbol"||p=="boolean"||u==null||Zr(u)?!0:fne.test(u)||!une.test(u)||c!=null&&u in ut(c)}function vae(u){var c=typeof u;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?u!=="__proto__":u===null}function Ag(u){var c=Uc(u),p=L[c];if(typeof p!="function"||!(c in Ge.prototype))return!1;if(u===p)return!0;var m=bg(p);return!!m&&u===m[0]}function pae(u){return!!tE&&tE in u}var gae=_c?Wi:Yg;function Js(u){var c=u&&u.constructor,p=typeof c=="function"&&c.prototype||fl;return u===p}function tL(u){return u===u&&!St(u)}function rL(u,c){return function(p){return p==null?!1:p[u]===c&&(c!==t||u in ut(p))}}function yae(u){var c=jc(u,function(m){return p.size===f&&p.clear(),m}),p=c.cache;return c}function Cae(u,c){var p=u[1],m=c[1],T=p|m,R=T<(_|w|F),M=m==F&&p==b||m==F&&p==H&&u[7].length<=c[8]||m==(F|H)&&c[7].length<=c[8]&&p==b;if(!(R||M))return u;m&_&&(u[2]=c[2],T|=p&_?0:S);var $=c[3];if($){var N=u[3];u[3]=N?NE(N,$,c[4]):$,u[4]=N?wo(u[3],h):c[4]}return $=c[5],$&&(N=u[5],u[5]=N?HE(N,$,c[6]):$,u[6]=N?wo(u[5],h):c[6]),$=c[7],$&&(u[7]=$),m&F&&(u[8]=u[8]==null?c[8]:ar(u[8],c[8])),u[9]==null&&(u[9]=c[9]),u[0]=c[0],u[1]=T,u}function mae(u){var c=[];if(u!=null)for(var p in ut(u))c.push(p);return c}function _ae(u){return xc.call(u)}function nL(u,c,p){return c=Ft(c===t?u.length-1:c,0),function(){for(var m=arguments,T=-1,R=Ft(m.length-c,0),M=z(R);++T<R;)M[T]=m[c+T];T=-1;for(var $=z(c+1);++T<c;)$[T]=m[T];return $[c]=p(M),qr(u,this,$)}}function iL(u,c){return c.length<2?u:Ca(u,mn(c,0,-1))}function wae(u,c){for(var p=u.length,m=ar(c.length,p),T=Mr(u);m--;){var R=c[m];u[m]=ki(R,p)?T[R]:t}return u}function Rg(u,c){if(!(c==="constructor"&&typeof u[c]=="function")&&c!="__proto__")return u[c]}var oL=lL(AE),eu=Fie||function(u,c){return qt.setTimeout(u,c)},Og=lL(Uoe);function aL(u,c,p){var m=c+"";return Og(u,hae(m,xae(uae(m),p)))}function lL(u){var c=0,p=0;return function(){var m=zie(),T=ie-(m-p);if(p=m,T>0){if(++c>=Q)return arguments[0]}else c=0;return u.apply(t,arguments)}}function Xc(u,c){var p=-1,m=u.length,T=m-1;for(c=c===t?m:c;++p<c;){var R=hg(p,T),M=u[R];u[R]=u[p],u[p]=M}return u.length=c,u}var sL=yae(function(u){var c=[];return u.charCodeAt(0)===46&&c.push(""),u.replace(cne,function(p,m,T,R){c.push(T?R.replace(mne,"$1"):m||p)}),c});function di(u){if(typeof u=="string"||Zr(u))return u;var c=u+"";return c=="0"&&1/u==-Re?"-0":c}function _a(u){if(u!=null){try{return wc.call(u)}catch{}try{return u+""}catch{}}return""}function xae(u,c){return pn(Fe,function(p){var m="_."+p[0];c&p[1]&&!gc(u,m)&&u.push(m)}),u.sort()}function uL(u){if(u instanceof Ge)return u.clone();var c=new yn(u.__wrapped__,u.__chain__);return c.__actions__=Mr(u.__actions__),c.__index__=u.__index__,c.__values__=u.__values__,c}function Sae(u,c,p){(p?wr(u,c,p):c===t)?c=1:c=Ft(Be(c),0);var m=u==null?0:u.length;if(!m||c<1)return[];for(var T=0,R=0,M=z(Ac(m/c));T<m;)M[R++]=mn(u,T,T+=c);return M}function bae(u){for(var c=-1,p=u==null?0:u.length,m=0,T=[];++c<p;){var R=u[c];R&&(T[m++]=R)}return T}function Tae(){var u=arguments.length;if(!u)return[];for(var c=z(u-1),p=arguments[0],m=u;m--;)c[m-1]=arguments[m];return _o(Ie(p)?Mr(p):[p],Kt(c,1))}var Eae=Pe(function(u,c){return At(u)?qs(u,Kt(c,1,At,!0)):[]}),Lae=Pe(function(u,c){var p=_n(c);return At(p)&&(p=t),At(u)?qs(u,Kt(c,1,At,!0),ge(p,2)):[]}),Aae=Pe(function(u,c){var p=_n(c);return At(p)&&(p=t),At(u)?qs(u,Kt(c,1,At,!0),t,p):[]});function Rae(u,c,p){var m=u==null?0:u.length;return m?(c=p||c===t?1:Be(c),mn(u,c<0?0:c,m)):[]}function Oae(u,c,p){var m=u==null?0:u.length;return m?(c=p||c===t?1:Be(c),c=m-c,mn(u,0,c<0?0:c)):[]}function Iae(u,c){return u&&u.length?Nc(u,ge(c,3),!0,!0):[]}function Mae(u,c){return u&&u.length?Nc(u,ge(c,3),!0):[]}function Bae(u,c,p,m){var T=u==null?0:u.length;return T?(p&&typeof p!="number"&&wr(u,c,p)&&(p=0,m=T),Toe(u,c,p,m)):[]}function fL(u,c,p){var m=u==null?0:u.length;if(!m)return-1;var T=p==null?0:Be(p);return T<0&&(T=Ft(m+T,0)),yc(u,ge(c,3),T)}function cL(u,c,p){var m=u==null?0:u.length;if(!m)return-1;var T=m-1;return p!==t&&(T=Be(p),T=p<0?Ft(m+T,0):ar(T,m-1)),yc(u,ge(c,3),T,!0)}function hL(u){var c=u==null?0:u.length;return c?Kt(u,1):[]}function Dae(u){var c=u==null?0:u.length;return c?Kt(u,Re):[]}function $ae(u,c){var p=u==null?0:u.length;return p?(c=c===t?1:Be(c),Kt(u,c)):[]}function Fae(u){for(var c=-1,p=u==null?0:u.length,m={};++c<p;){var T=u[c];m[T[0]]=T[1]}return m}function dL(u){return u&&u.length?u[0]:t}function Pae(u,c,p){var m=u==null?0:u.length;if(!m)return-1;var T=p==null?0:Be(p);return T<0&&(T=Ft(m+T,0)),al(u,c,T)}function Nae(u){var c=u==null?0:u.length;return c?mn(u,0,-1):[]}var Hae=Pe(function(u){var c=wt(u,yg);return c.length&&c[0]===u[0]?lg(c):[]}),zae=Pe(function(u){var c=_n(u),p=wt(u,yg);return c===_n(p)?c=t:p.pop(),p.length&&p[0]===u[0]?lg(p,ge(c,2)):[]}),kae=Pe(function(u){var c=_n(u),p=wt(u,yg);return c=typeof c=="function"?c:t,c&&p.pop(),p.length&&p[0]===u[0]?lg(p,t,c):[]});function Wae(u,c){return u==null?"":Nie.call(u,c)}function _n(u){var c=u==null?0:u.length;return c?u[c-1]:t}function Gae(u,c,p){var m=u==null?0:u.length;if(!m)return-1;var T=m;return p!==t&&(T=Be(p),T=T<0?Ft(m+T,0):ar(T,m-1)),c===c?xie(u,c,T):yc(u,VT,T,!0)}function Uae(u,c){return u&&u.length?bE(u,Be(c)):t}var Yae=Pe(vL);function vL(u,c){return u&&u.length&&c&&c.length?cg(u,c):u}function Xae(u,c,p){return u&&u.length&&c&&c.length?cg(u,c,ge(p,2)):u}function Vae(u,c,p){return u&&u.length&&c&&c.length?cg(u,c,t,p):u}var qae=zi(function(u,c){var p=u==null?0:u.length,m=ng(u,c);return LE(u,wt(c,function(T){return ki(T,p)?+T:T}).sort(PE)),m});function Kae(u,c){var p=[];if(!(u&&u.length))return p;var m=-1,T=[],R=u.length;for(c=ge(c,3);++m<R;){var M=u[m];c(M,m,u)&&(p.push(M),T.push(m))}return LE(u,T),p}function Ig(u){return u==null?u:Wie.call(u)}function jae(u,c,p){var m=u==null?0:u.length;return m?(p&&typeof p!="number"&&wr(u,c,p)?(c=0,p=m):(c=c==null?0:Be(c),p=p===t?m:Be(p)),mn(u,c,p)):[]}function Zae(u,c){return Pc(u,c)}function Qae(u,c,p){return vg(u,c,ge(p,2))}function Jae(u,c){var p=u==null?0:u.length;if(p){var m=Pc(u,c);if(m<p&&Gn(u[m],c))return m}return-1}function ele(u,c){return Pc(u,c,!0)}function tle(u,c,p){return vg(u,c,ge(p,2),!0)}function rle(u,c){var p=u==null?0:u.length;if(p){var m=Pc(u,c,!0)-1;if(Gn(u[m],c))return m}return-1}function nle(u){return u&&u.length?RE(u):[]}function ile(u,c){return u&&u.length?RE(u,ge(c,2)):[]}function ole(u){var c=u==null?0:u.length;return c?mn(u,1,c):[]}function ale(u,c,p){return u&&u.length?(c=p||c===t?1:Be(c),mn(u,0,c<0?0:c)):[]}function lle(u,c,p){var m=u==null?0:u.length;return m?(c=p||c===t?1:Be(c),c=m-c,mn(u,c<0?0:c,m)):[]}function sle(u,c){return u&&u.length?Nc(u,ge(c,3),!1,!0):[]}function ule(u,c){return u&&u.length?Nc(u,ge(c,3)):[]}var fle=Pe(function(u){return bo(Kt(u,1,At,!0))}),cle=Pe(function(u){var c=_n(u);return At(c)&&(c=t),bo(Kt(u,1,At,!0),ge(c,2))}),hle=Pe(function(u){var c=_n(u);return c=typeof c=="function"?c:t,bo(Kt(u,1,At,!0),t,c)});function dle(u){return u&&u.length?bo(u):[]}function vle(u,c){return u&&u.length?bo(u,ge(c,2)):[]}function ple(u,c){return c=typeof c=="function"?c:t,u&&u.length?bo(u,t,c):[]}function Mg(u){if(!(u&&u.length))return[];var c=0;return u=mo(u,function(p){if(At(p))return c=Ft(p.length,c),!0}),K0(c,function(p){return wt(u,X0(p))})}function pL(u,c){if(!(u&&u.length))return[];var p=Mg(u);return c==null?p:wt(p,function(m){return qr(c,t,m)})}var gle=Pe(function(u,c){return At(u)?qs(u,c):[]}),yle=Pe(function(u){return gg(mo(u,At))}),Cle=Pe(function(u){var c=_n(u);return At(c)&&(c=t),gg(mo(u,At),ge(c,2))}),mle=Pe(function(u){var c=_n(u);return c=typeof c=="function"?c:t,gg(mo(u,At),t,c)}),_le=Pe(Mg);function wle(u,c){return BE(u||[],c||[],Vs)}function xle(u,c){return BE(u||[],c||[],Zs)}var Sle=Pe(function(u){var c=u.length,p=c>1?u[c-1]:t;return p=typeof p=="function"?(u.pop(),p):t,pL(u,p)});function gL(u){var c=L(u);return c.__chain__=!0,c}function ble(u,c){return c(u),u}function Vc(u,c){return c(u)}var Tle=zi(function(u){var c=u.length,p=c?u[0]:0,m=this.__wrapped__,T=function(R){return ng(R,u)};return c>1||this.__actions__.length||!(m instanceof Ge)||!ki(p)?this.thru(T):(m=m.slice(p,+p+(c?1:0)),m.__actions__.push({func:Vc,args:[T],thisArg:t}),new yn(m,this.__chain__).thru(function(R){return c&&!R.length&&R.push(t),R}))});function Ele(){return gL(this)}function Lle(){return new yn(this.value(),this.__chain__)}function Ale(){this.__values__===t&&(this.__values__=OL(this.value()));var u=this.__index__>=this.__values__.length,c=u?t:this.__values__[this.__index__++];return{done:u,value:c}}function Rle(){return this}function Ole(u){for(var c,p=this;p instanceof Mc;){var m=uL(p);m.__index__=0,m.__values__=t,c?T.__wrapped__=m:c=m;var T=m;p=p.__wrapped__}return T.__wrapped__=u,c}function Ile(){var u=this.__wrapped__;if(u instanceof Ge){var c=u;return this.__actions__.length&&(c=new Ge(this)),c=c.reverse(),c.__actions__.push({func:Vc,args:[Ig],thisArg:t}),new yn(c,this.__chain__)}return this.thru(Ig)}function Mle(){return ME(this.__wrapped__,this.__actions__)}var Ble=Hc(function(u,c,p){it.call(u,p)?++u[p]:Ni(u,p,1)});function Dle(u,c,p){var m=Ie(u)?YT:boe;return p&&wr(u,c,p)&&(c=t),m(u,ge(c,3))}function $le(u,c){var p=Ie(u)?mo:pE;return p(u,ge(c,3))}var Fle=GE(fL),Ple=GE(cL);function Nle(u,c){return Kt(qc(u,c),1)}function Hle(u,c){return Kt(qc(u,c),Re)}function zle(u,c,p){return p=p===t?1:Be(p),Kt(qc(u,c),p)}function yL(u,c){var p=Ie(u)?pn:So;return p(u,ge(c,3))}function CL(u,c){var p=Ie(u)?oie:vE;return p(u,ge(c,3))}var kle=Hc(function(u,c,p){it.call(u,p)?u[p].push(c):Ni(u,p,[c])});function Wle(u,c,p,m){u=Br(u)?u:Cl(u),p=p&&!m?Be(p):0;var T=u.length;return p<0&&(p=Ft(T+p,0)),Jc(u)?p<=T&&u.indexOf(c,p)>-1:!!T&&al(u,c,p)>-1}var Gle=Pe(function(u,c,p){var m=-1,T=typeof c=="function",R=Br(u)?z(u.length):[];return So(u,function(M){R[++m]=T?qr(c,M,p):Ks(M,c,p)}),R}),Ule=Hc(function(u,c,p){Ni(u,p,c)});function qc(u,c){var p=Ie(u)?wt:wE;return p(u,ge(c,3))}function Yle(u,c,p,m){return u==null?[]:(Ie(c)||(c=c==null?[]:[c]),p=m?t:p,Ie(p)||(p=p==null?[]:[p]),TE(u,c,p))}var Xle=Hc(function(u,c,p){u[p?0:1].push(c)},function(){return[[],[]]});function Vle(u,c,p){var m=Ie(u)?U0:KT,T=arguments.length<3;return m(u,ge(c,4),p,T,So)}function qle(u,c,p){var m=Ie(u)?aie:KT,T=arguments.length<3;return m(u,ge(c,4),p,T,vE)}function Kle(u,c){var p=Ie(u)?mo:pE;return p(u,Zc(ge(c,3)))}function jle(u){var c=Ie(u)?fE:Woe;return c(u)}function Zle(u,c,p){(p?wr(u,c,p):c===t)?c=1:c=Be(c);var m=Ie(u)?moe:Goe;return m(u,c)}function Qle(u){var c=Ie(u)?_oe:Yoe;return c(u)}function Jle(u){if(u==null)return 0;if(Br(u))return Jc(u)?sl(u):u.length;var c=lr(u);return c==lt||c==Vr?u.size:ug(u).length}function ese(u,c,p){var m=Ie(u)?Y0:Xoe;return p&&wr(u,c,p)&&(c=t),m(u,ge(c,3))}var tse=Pe(function(u,c){if(u==null)return[];var p=c.length;return p>1&&wr(u,c[0],c[1])?c=[]:p>2&&wr(c[0],c[1],c[2])&&(c=[c[0]]),TE(u,Kt(c,1),[])}),Kc=$ie||function(){return qt.Date.now()};function rse(u,c){if(typeof c!="function")throw new gn(a);return u=Be(u),function(){if(--u<1)return c.apply(this,arguments)}}function mL(u,c,p){return c=p?t:c,c=u&&c==null?u.length:c,Hi(u,F,t,t,t,t,c)}function _L(u,c){var p;if(typeof c!="function")throw new gn(a);return u=Be(u),function(){return--u>0&&(p=c.apply(this,arguments)),u<=1&&(c=t),p}}var Bg=Pe(function(u,c,p){var m=_;if(p.length){var T=wo(p,gl(Bg));m|=O}return Hi(u,m,c,p,T)}),wL=Pe(function(u,c,p){var m=_|w;if(p.length){var T=wo(p,gl(wL));m|=O}return Hi(c,m,u,p,T)});function xL(u,c,p){c=p?t:c;var m=Hi(u,b,t,t,t,t,t,c);return m.placeholder=xL.placeholder,m}function SL(u,c,p){c=p?t:c;var m=Hi(u,E,t,t,t,t,t,c);return m.placeholder=SL.placeholder,m}function bL(u,c,p){var m,T,R,M,$,N,U=0,Y=!1,Z=!1,ne=!0;if(typeof u!="function")throw new gn(a);c=wn(c)||0,St(p)&&(Y=!!p.leading,Z="maxWait"in p,R=Z?Ft(wn(p.maxWait)||0,c):R,ne="trailing"in p?!!p.trailing:ne);function fe(Rt){var Un=m,Ui=T;return m=T=t,U=Rt,M=u.apply(Ui,Un),M}function ye(Rt){return U=Rt,$=eu(He,c),Y?fe(Rt):M}function De(Rt){var Un=Rt-N,Ui=Rt-U,GL=c-Un;return Z?ar(GL,R-Ui):GL}function Ce(Rt){var Un=Rt-N,Ui=Rt-U;return N===t||Un>=c||Un<0||Z&&Ui>=R}function He(){var Rt=Kc();if(Ce(Rt))return Ye(Rt);$=eu(He,De(Rt))}function Ye(Rt){return $=t,ne&&m?fe(Rt):(m=T=t,M)}function Qr(){$!==t&&DE($),U=0,m=N=T=$=t}function xr(){return $===t?M:Ye(Kc())}function Jr(){var Rt=Kc(),Un=Ce(Rt);if(m=arguments,T=this,N=Rt,Un){if($===t)return ye(N);if(Z)return DE($),$=eu(He,c),fe(N)}return $===t&&($=eu(He,c)),M}return Jr.cancel=Qr,Jr.flush=xr,Jr}var nse=Pe(function(u,c){return dE(u,1,c)}),ise=Pe(function(u,c,p){return dE(u,wn(c)||0,p)});function ose(u){return Hi(u,k)}function jc(u,c){if(typeof u!="function"||c!=null&&typeof c!="function")throw new gn(a);var p=function(){var m=arguments,T=c?c.apply(this,m):m[0],R=p.cache;if(R.has(T))return R.get(T);var M=u.apply(this,m);return p.cache=R.set(T,M)||R,M};return p.cache=new(jc.Cache||Pi),p}jc.Cache=Pi;function Zc(u){if(typeof u!="function")throw new gn(a);return function(){var c=arguments;switch(c.length){case 0:return!u.call(this);case 1:return!u.call(this,c[0]);case 2:return!u.call(this,c[0],c[1]);case 3:return!u.call(this,c[0],c[1],c[2])}return!u.apply(this,c)}}function ase(u){return _L(2,u)}var lse=Voe(function(u,c){c=c.length==1&&Ie(c[0])?wt(c[0],Kr(ge())):wt(Kt(c,1),Kr(ge()));var p=c.length;return Pe(function(m){for(var T=-1,R=ar(m.length,p);++T<R;)m[T]=c[T].call(this,m[T]);return qr(u,this,m)})}),Dg=Pe(function(u,c){var p=wo(c,gl(Dg));return Hi(u,O,t,c,p)}),TL=Pe(function(u,c){var p=wo(c,gl(TL));return Hi(u,D,t,c,p)}),sse=zi(function(u,c){return Hi(u,H,t,t,t,c)});function use(u,c){if(typeof u!="function")throw new gn(a);return c=c===t?c:Be(c),Pe(u,c)}function fse(u,c){if(typeof u!="function")throw new gn(a);return c=c==null?0:Ft(Be(c),0),Pe(function(p){var m=p[c],T=Eo(p,0,c);return m&&_o(T,m),qr(u,this,T)})}function cse(u,c,p){var m=!0,T=!0;if(typeof u!="function")throw new gn(a);return St(p)&&(m="leading"in p?!!p.leading:m,T="trailing"in p?!!p.trailing:T),bL(u,c,{leading:m,maxWait:c,trailing:T})}function hse(u){return mL(u,1)}function dse(u,c){return Dg(Cg(c),u)}function vse(){if(!arguments.length)return[];var u=arguments[0];return Ie(u)?u:[u]}function pse(u){return Cn(u,g)}function gse(u,c){return c=typeof c=="function"?c:t,Cn(u,g,c)}function yse(u){return Cn(u,d|g)}function Cse(u,c){return c=typeof c=="function"?c:t,Cn(u,d|g,c)}function mse(u,c){return c==null||hE(u,c,kt(c))}function Gn(u,c){return u===c||u!==u&&c!==c}var _se=Gc(ag),wse=Gc(function(u,c){return u>=c}),wa=CE(function(){return arguments}())?CE:function(u){return Et(u)&&it.call(u,"callee")&&!iE.call(u,"callee")},Ie=z.isArray,xse=HT?Kr(HT):Ooe;function Br(u){return u!=null&&Qc(u.length)&&!Wi(u)}function At(u){return Et(u)&&Br(u)}function Sse(u){return u===!0||u===!1||Et(u)&&_r(u)==mr}var Lo=Pie||Yg,bse=zT?Kr(zT):Ioe;function Tse(u){return Et(u)&&u.nodeType===1&&!tu(u)}function Ese(u){if(u==null)return!0;if(Br(u)&&(Ie(u)||typeof u=="string"||typeof u.splice=="function"||Lo(u)||yl(u)||wa(u)))return!u.length;var c=lr(u);if(c==lt||c==Vr)return!u.size;if(Js(u))return!ug(u).length;for(var p in u)if(it.call(u,p))return!1;return!0}function Lse(u,c){return js(u,c)}function Ase(u,c,p){p=typeof p=="function"?p:t;var m=p?p(u,c):t;return m===t?js(u,c,t,p):!!m}function $g(u){if(!Et(u))return!1;var c=_r(u);return c==ui||c==yo||typeof u.message=="string"&&typeof u.name=="string"&&!tu(u)}function Rse(u){return typeof u=="number"&&aE(u)}function Wi(u){if(!St(u))return!1;var c=_r(u);return c==Co||c==Qe||c==or||c==b0}function EL(u){return typeof u=="number"&&u==Be(u)}function Qc(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=me}function St(u){var c=typeof u;return u!=null&&(c=="object"||c=="function")}function Et(u){return u!=null&&typeof u=="object"}var LL=kT?Kr(kT):Boe;function Ose(u,c){return u===c||sg(u,c,Tg(c))}function Ise(u,c,p){return p=typeof p=="function"?p:t,sg(u,c,Tg(c),p)}function Mse(u){return AL(u)&&u!=+u}function Bse(u){if(gae(u))throw new Oe(o);return mE(u)}function Dse(u){return u===null}function $se(u){return u==null}function AL(u){return typeof u=="number"||Et(u)&&_r(u)==ht}function tu(u){if(!Et(u)||_r(u)!=Xr)return!1;var c=Tc(u);if(c===null)return!0;var p=it.call(c,"constructor")&&c.constructor;return typeof p=="function"&&p instanceof p&&wc.call(p)==Iie}var Fg=WT?Kr(WT):Doe;function Fse(u){return EL(u)&&u>=-me&&u<=me}var RL=GT?Kr(GT):$oe;function Jc(u){return typeof u=="string"||!Ie(u)&&Et(u)&&_r(u)==zn}function Zr(u){return typeof u=="symbol"||Et(u)&&_r(u)==fi}var yl=UT?Kr(UT):Foe;function Pse(u){return u===t}function Nse(u){return Et(u)&&lr(u)==Hs}function Hse(u){return Et(u)&&_r(u)==tne}var zse=Gc(fg),kse=Gc(function(u,c){return u<=c});function OL(u){if(!u)return[];if(Br(u))return Jc(u)?kn(u):Mr(u);if(Ws&&u[Ws])return mie(u[Ws]());var c=lr(u),p=c==lt?Z0:c==Vr?Cc:Cl;return p(u)}function Gi(u){if(!u)return u===0?u:0;if(u=wn(u),u===Re||u===-Re){var c=u<0?-1:1;return c*we}return u===u?u:0}function Be(u){var c=Gi(u),p=c%1;return c===c?p?c-p:c:0}function IL(u){return u?ya(Be(u),0,Ae):0}function wn(u){if(typeof u=="number")return u;if(Zr(u))return ke;if(St(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=St(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=jT(u);var p=xne.test(u);return p||bne.test(u)?rie(u.slice(2),p?2:8):wne.test(u)?ke:+u}function ML(u){return hi(u,Dr(u))}function Wse(u){return u?ya(Be(u),-me,me):u===0?u:0}function rt(u){return u==null?"":jr(u)}var Gse=vl(function(u,c){if(Js(c)||Br(c)){hi(c,kt(c),u);return}for(var p in c)it.call(c,p)&&Vs(u,p,c[p])}),BL=vl(function(u,c){hi(c,Dr(c),u)}),eh=vl(function(u,c,p,m){hi(c,Dr(c),u,m)}),Use=vl(function(u,c,p,m){hi(c,kt(c),u,m)}),Yse=zi(ng);function Xse(u,c){var p=dl(u);return c==null?p:cE(p,c)}var Vse=Pe(function(u,c){u=ut(u);var p=-1,m=c.length,T=m>2?c[2]:t;for(T&&wr(c[0],c[1],T)&&(m=1);++p<m;)for(var R=c[p],M=Dr(R),$=-1,N=M.length;++$<N;){var U=M[$],Y=u[U];(Y===t||Gn(Y,fl[U])&&!it.call(u,U))&&(u[U]=R[U])}return u}),qse=Pe(function(u){return u.push(t,jE),qr(DL,t,u)});function Kse(u,c){return XT(u,ge(c,3),ci)}function jse(u,c){return XT(u,ge(c,3),og)}function Zse(u,c){return u==null?u:ig(u,ge(c,3),Dr)}function Qse(u,c){return u==null?u:gE(u,ge(c,3),Dr)}function Jse(u,c){return u&&ci(u,ge(c,3))}function eue(u,c){return u&&og(u,ge(c,3))}function tue(u){return u==null?[]:$c(u,kt(u))}function rue(u){return u==null?[]:$c(u,Dr(u))}function Pg(u,c,p){var m=u==null?t:Ca(u,c);return m===t?p:m}function nue(u,c){return u!=null&&JE(u,c,Eoe)}function Ng(u,c){return u!=null&&JE(u,c,Loe)}var iue=YE(function(u,c,p){c!=null&&typeof c.toString!="function"&&(c=xc.call(c)),u[c]=p},zg($r)),oue=YE(function(u,c,p){c!=null&&typeof c.toString!="function"&&(c=xc.call(c)),it.call(u,c)?u[c].push(p):u[c]=[p]},ge),aue=Pe(Ks);function kt(u){return Br(u)?uE(u):ug(u)}function Dr(u){return Br(u)?uE(u,!0):Poe(u)}function lue(u,c){var p={};return c=ge(c,3),ci(u,function(m,T,R){Ni(p,c(m,T,R),m)}),p}function sue(u,c){var p={};return c=ge(c,3),ci(u,function(m,T,R){Ni(p,T,c(m,T,R))}),p}var uue=vl(function(u,c,p){Fc(u,c,p)}),DL=vl(function(u,c,p,m){Fc(u,c,p,m)}),fue=zi(function(u,c){var p={};if(u==null)return p;var m=!1;c=wt(c,function(R){return R=To(R,u),m||(m=R.length>1),R}),hi(u,Sg(u),p),m&&(p=Cn(p,d|v|g,iae));for(var T=c.length;T--;)pg(p,c[T]);return p});function cue(u,c){return $L(u,Zc(ge(c)))}var hue=zi(function(u,c){return u==null?{}:Hoe(u,c)});function $L(u,c){if(u==null)return{};var p=wt(Sg(u),function(m){return[m]});return c=ge(c),EE(u,p,function(m,T){return c(m,T[0])})}function due(u,c,p){c=To(c,u);var m=-1,T=c.length;for(T||(T=1,u=t);++m<T;){var R=u==null?t:u[di(c[m])];R===t&&(m=T,R=p),u=Wi(R)?R.call(u):R}return u}function vue(u,c,p){return u==null?u:Zs(u,c,p)}function pue(u,c,p,m){return m=typeof m=="function"?m:t,u==null?u:Zs(u,c,p,m)}var FL=qE(kt),PL=qE(Dr);function gue(u,c,p){var m=Ie(u),T=m||Lo(u)||yl(u);if(c=ge(c,4),p==null){var R=u&&u.constructor;T?p=m?new R:[]:St(u)?p=Wi(R)?dl(Tc(u)):{}:p={}}return(T?pn:ci)(u,function(M,$,N){return c(p,M,$,N)}),p}function yue(u,c){return u==null?!0:pg(u,c)}function Cue(u,c,p){return u==null?u:IE(u,c,Cg(p))}function mue(u,c,p,m){return m=typeof m=="function"?m:t,u==null?u:IE(u,c,Cg(p),m)}function Cl(u){return u==null?[]:j0(u,kt(u))}function _ue(u){return u==null?[]:j0(u,Dr(u))}function wue(u,c,p){return p===t&&(p=c,c=t),p!==t&&(p=wn(p),p=p===p?p:0),c!==t&&(c=wn(c),c=c===c?c:0),ya(wn(u),c,p)}function xue(u,c,p){return c=Gi(c),p===t?(p=c,c=0):p=Gi(p),u=wn(u),Aoe(u,c,p)}function Sue(u,c,p){if(p&&typeof p!="boolean"&&wr(u,c,p)&&(c=p=t),p===t&&(typeof c=="boolean"?(p=c,c=t):typeof u=="boolean"&&(p=u,u=t)),u===t&&c===t?(u=0,c=1):(u=Gi(u),c===t?(c=u,u=0):c=Gi(c)),u>c){var m=u;u=c,c=m}if(p||u%1||c%1){var T=lE();return ar(u+T*(c-u+tie("1e-"+((T+"").length-1))),c)}return hg(u,c)}var bue=pl(function(u,c,p){return c=c.toLowerCase(),u+(p?NL(c):c)});function NL(u){return Hg(rt(u).toLowerCase())}function HL(u){return u=rt(u),u&&u.replace(Ene,vie).replace(Yne,"")}function Tue(u,c,p){u=rt(u),c=jr(c);var m=u.length;p=p===t?m:ya(Be(p),0,m);var T=p;return p-=c.length,p>=0&&u.slice(p,T)==c}function Eue(u){return u=rt(u),u&&ane.test(u)?u.replace(gT,pie):u}function Lue(u){return u=rt(u),u&&hne.test(u)?u.replace(D0,"\\$&"):u}var Aue=pl(function(u,c,p){return u+(p?"-":"")+c.toLowerCase()}),Rue=pl(function(u,c,p){return u+(p?" ":"")+c.toLowerCase()}),Oue=WE("toLowerCase");function Iue(u,c,p){u=rt(u),c=Be(c);var m=c?sl(u):0;if(!c||m>=c)return u;var T=(c-m)/2;return Wc(Rc(T),p)+u+Wc(Ac(T),p)}function Mue(u,c,p){u=rt(u),c=Be(c);var m=c?sl(u):0;return c&&m<c?u+Wc(c-m,p):u}function Bue(u,c,p){u=rt(u),c=Be(c);var m=c?sl(u):0;return c&&m<c?Wc(c-m,p)+u:u}function Due(u,c,p){return p||c==null?c=0:c&&(c=+c),kie(rt(u).replace($0,""),c||0)}function $ue(u,c,p){return(p?wr(u,c,p):c===t)?c=1:c=Be(c),dg(rt(u),c)}function Fue(){var u=arguments,c=rt(u[0]);return u.length<3?c:c.replace(u[1],u[2])}var Pue=pl(function(u,c,p){return u+(p?"_":"")+c.toLowerCase()});function Nue(u,c,p){return p&&typeof p!="number"&&wr(u,c,p)&&(c=p=t),p=p===t?Ae:p>>>0,p?(u=rt(u),u&&(typeof c=="string"||c!=null&&!Fg(c))&&(c=jr(c),!c&&ll(u))?Eo(kn(u),0,p):u.split(c,p)):[]}var Hue=pl(function(u,c,p){return u+(p?" ":"")+Hg(c)});function zue(u,c,p){return u=rt(u),p=p==null?0:ya(Be(p),0,u.length),c=jr(c),u.slice(p,p+c.length)==c}function kue(u,c,p){var m=L.templateSettings;p&&wr(u,c,p)&&(c=t),u=rt(u),c=eh({},c,m,KE);var T=eh({},c.imports,m.imports,KE),R=kt(T),M=j0(T,R),$,N,U=0,Y=c.interpolate||dc,Z="__p += '",ne=Q0((c.escape||dc).source+"|"+Y.source+"|"+(Y===yT?_ne:dc).source+"|"+(c.evaluate||dc).source+"|$","g"),fe="//# sourceURL="+(it.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jne+"]")+`
`;u.replace(ne,function(Ce,He,Ye,Qr,xr,Jr){return Ye||(Ye=Qr),Z+=u.slice(U,Jr).replace(Lne,gie),He&&($=!0,Z+=`' +
__e(`+He+`) +
'`),xr&&(N=!0,Z+=`';
`+xr+`;
__p += '`),Ye&&(Z+=`' +
((__t = (`+Ye+`)) == null ? '' : __t) +
'`),U=Jr+Ce.length,Ce}),Z+=`';
`;var ye=it.call(c,"variable")&&c.variable;if(!ye)Z=`with (obj) {
`+Z+`
}
`;else if(Cne.test(ye))throw new Oe(l);Z=(N?Z.replace(rne,""):Z).replace(nne,"$1").replace(ine,"$1;"),Z="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Z+`return __p
}`;var De=kL(function(){return Je(R,fe+"return "+Z).apply(t,M)});if(De.source=Z,$g(De))throw De;return De}function Wue(u){return rt(u).toLowerCase()}function Gue(u){return rt(u).toUpperCase()}function Uue(u,c,p){if(u=rt(u),u&&(p||c===t))return jT(u);if(!u||!(c=jr(c)))return u;var m=kn(u),T=kn(c),R=ZT(m,T),M=QT(m,T)+1;return Eo(m,R,M).join("")}function Yue(u,c,p){if(u=rt(u),u&&(p||c===t))return u.slice(0,eE(u)+1);if(!u||!(c=jr(c)))return u;var m=kn(u),T=QT(m,kn(c))+1;return Eo(m,0,T).join("")}function Xue(u,c,p){if(u=rt(u),u&&(p||c===t))return u.replace($0,"");if(!u||!(c=jr(c)))return u;var m=kn(u),T=ZT(m,kn(c));return Eo(m,T).join("")}function Vue(u,c){var p=q,m=V;if(St(c)){var T="separator"in c?c.separator:T;p="length"in c?Be(c.length):p,m="omission"in c?jr(c.omission):m}u=rt(u);var R=u.length;if(ll(u)){var M=kn(u);R=M.length}if(p>=R)return u;var $=p-sl(m);if($<1)return m;var N=M?Eo(M,0,$).join(""):u.slice(0,$);if(T===t)return N+m;if(M&&($+=N.length-$),Fg(T)){if(u.slice($).search(T)){var U,Y=N;for(T.global||(T=Q0(T.source,rt(CT.exec(T))+"g")),T.lastIndex=0;U=T.exec(Y);)var Z=U.index;N=N.slice(0,Z===t?$:Z)}}else if(u.indexOf(jr(T),$)!=$){var ne=N.lastIndexOf(T);ne>-1&&(N=N.slice(0,ne))}return N+m}function que(u){return u=rt(u),u&&one.test(u)?u.replace(pT,Sie):u}var Kue=pl(function(u,c,p){return u+(p?" ":"")+c.toUpperCase()}),Hg=WE("toUpperCase");function zL(u,c,p){return u=rt(u),c=p?t:c,c===t?Cie(u)?Eie(u):uie(u):u.match(c)||[]}var kL=Pe(function(u,c){try{return qr(u,t,c)}catch(p){return $g(p)?p:new Oe(p)}}),jue=zi(function(u,c){return pn(c,function(p){p=di(p),Ni(u,p,Bg(u[p],u))}),u});function Zue(u){var c=u==null?0:u.length,p=ge();return u=c?wt(u,function(m){if(typeof m[1]!="function")throw new gn(a);return[p(m[0]),m[1]]}):[],Pe(function(m){for(var T=-1;++T<c;){var R=u[T];if(qr(R[0],this,m))return qr(R[1],this,m)}})}function Que(u){return Soe(Cn(u,d))}function zg(u){return function(){return u}}function Jue(u,c){return u==null||u!==u?c:u}var efe=UE(),tfe=UE(!0);function $r(u){return u}function kg(u){return _E(typeof u=="function"?u:Cn(u,d))}function rfe(u){return xE(Cn(u,d))}function nfe(u,c){return SE(u,Cn(c,d))}var ife=Pe(function(u,c){return function(p){return Ks(p,u,c)}}),ofe=Pe(function(u,c){return function(p){return Ks(u,p,c)}});function Wg(u,c,p){var m=kt(c),T=$c(c,m);p==null&&!(St(c)&&(T.length||!m.length))&&(p=c,c=u,u=this,T=$c(c,kt(c)));var R=!(St(p)&&"chain"in p)||!!p.chain,M=Wi(u);return pn(T,function($){var N=c[$];u[$]=N,M&&(u.prototype[$]=function(){var U=this.__chain__;if(R||U){var Y=u(this.__wrapped__),Z=Y.__actions__=Mr(this.__actions__);return Z.push({func:N,args:arguments,thisArg:u}),Y.__chain__=U,Y}return N.apply(u,_o([this.value()],arguments))})}),u}function afe(){return qt._===this&&(qt._=Mie),this}function Gg(){}function lfe(u){return u=Be(u),Pe(function(c){return bE(c,u)})}var sfe=_g(wt),ufe=_g(YT),ffe=_g(Y0);function WL(u){return Lg(u)?X0(di(u)):zoe(u)}function cfe(u){return function(c){return u==null?t:Ca(u,c)}}var hfe=XE(),dfe=XE(!0);function Ug(){return[]}function Yg(){return!1}function vfe(){return{}}function pfe(){return""}function gfe(){return!0}function yfe(u,c){if(u=Be(u),u<1||u>me)return[];var p=Ae,m=ar(u,Ae);c=ge(c),u-=Ae;for(var T=K0(m,c);++p<u;)c(p);return T}function Cfe(u){return Ie(u)?wt(u,di):Zr(u)?[u]:Mr(sL(rt(u)))}function mfe(u){var c=++Oie;return rt(u)+c}var _fe=kc(function(u,c){return u+c},0),wfe=wg("ceil"),xfe=kc(function(u,c){return u/c},1),Sfe=wg("floor");function bfe(u){return u&&u.length?Dc(u,$r,ag):t}function Tfe(u,c){return u&&u.length?Dc(u,ge(c,2),ag):t}function Efe(u){return qT(u,$r)}function Lfe(u,c){return qT(u,ge(c,2))}function Afe(u){return u&&u.length?Dc(u,$r,fg):t}function Rfe(u,c){return u&&u.length?Dc(u,ge(c,2),fg):t}var Ofe=kc(function(u,c){return u*c},1),Ife=wg("round"),Mfe=kc(function(u,c){return u-c},0);function Bfe(u){return u&&u.length?q0(u,$r):0}function Dfe(u,c){return u&&u.length?q0(u,ge(c,2)):0}return L.after=rse,L.ary=mL,L.assign=Gse,L.assignIn=BL,L.assignInWith=eh,L.assignWith=Use,L.at=Yse,L.before=_L,L.bind=Bg,L.bindAll=jue,L.bindKey=wL,L.castArray=vse,L.chain=gL,L.chunk=Sae,L.compact=bae,L.concat=Tae,L.cond=Zue,L.conforms=Que,L.constant=zg,L.countBy=Ble,L.create=Xse,L.curry=xL,L.curryRight=SL,L.debounce=bL,L.defaults=Vse,L.defaultsDeep=qse,L.defer=nse,L.delay=ise,L.difference=Eae,L.differenceBy=Lae,L.differenceWith=Aae,L.drop=Rae,L.dropRight=Oae,L.dropRightWhile=Iae,L.dropWhile=Mae,L.fill=Bae,L.filter=$le,L.flatMap=Nle,L.flatMapDeep=Hle,L.flatMapDepth=zle,L.flatten=hL,L.flattenDeep=Dae,L.flattenDepth=$ae,L.flip=ose,L.flow=efe,L.flowRight=tfe,L.fromPairs=Fae,L.functions=tue,L.functionsIn=rue,L.groupBy=kle,L.initial=Nae,L.intersection=Hae,L.intersectionBy=zae,L.intersectionWith=kae,L.invert=iue,L.invertBy=oue,L.invokeMap=Gle,L.iteratee=kg,L.keyBy=Ule,L.keys=kt,L.keysIn=Dr,L.map=qc,L.mapKeys=lue,L.mapValues=sue,L.matches=rfe,L.matchesProperty=nfe,L.memoize=jc,L.merge=uue,L.mergeWith=DL,L.method=ife,L.methodOf=ofe,L.mixin=Wg,L.negate=Zc,L.nthArg=lfe,L.omit=fue,L.omitBy=cue,L.once=ase,L.orderBy=Yle,L.over=sfe,L.overArgs=lse,L.overEvery=ufe,L.overSome=ffe,L.partial=Dg,L.partialRight=TL,L.partition=Xle,L.pick=hue,L.pickBy=$L,L.property=WL,L.propertyOf=cfe,L.pull=Yae,L.pullAll=vL,L.pullAllBy=Xae,L.pullAllWith=Vae,L.pullAt=qae,L.range=hfe,L.rangeRight=dfe,L.rearg=sse,L.reject=Kle,L.remove=Kae,L.rest=use,L.reverse=Ig,L.sampleSize=Zle,L.set=vue,L.setWith=pue,L.shuffle=Qle,L.slice=jae,L.sortBy=tse,L.sortedUniq=nle,L.sortedUniqBy=ile,L.split=Nue,L.spread=fse,L.tail=ole,L.take=ale,L.takeRight=lle,L.takeRightWhile=sle,L.takeWhile=ule,L.tap=ble,L.throttle=cse,L.thru=Vc,L.toArray=OL,L.toPairs=FL,L.toPairsIn=PL,L.toPath=Cfe,L.toPlainObject=ML,L.transform=gue,L.unary=hse,L.union=fle,L.unionBy=cle,L.unionWith=hle,L.uniq=dle,L.uniqBy=vle,L.uniqWith=ple,L.unset=yue,L.unzip=Mg,L.unzipWith=pL,L.update=Cue,L.updateWith=mue,L.values=Cl,L.valuesIn=_ue,L.without=gle,L.words=zL,L.wrap=dse,L.xor=yle,L.xorBy=Cle,L.xorWith=mle,L.zip=_le,L.zipObject=wle,L.zipObjectDeep=xle,L.zipWith=Sle,L.entries=FL,L.entriesIn=PL,L.extend=BL,L.extendWith=eh,Wg(L,L),L.add=_fe,L.attempt=kL,L.camelCase=bue,L.capitalize=NL,L.ceil=wfe,L.clamp=wue,L.clone=pse,L.cloneDeep=yse,L.cloneDeepWith=Cse,L.cloneWith=gse,L.conformsTo=mse,L.deburr=HL,L.defaultTo=Jue,L.divide=xfe,L.endsWith=Tue,L.eq=Gn,L.escape=Eue,L.escapeRegExp=Lue,L.every=Dle,L.find=Fle,L.findIndex=fL,L.findKey=Kse,L.findLast=Ple,L.findLastIndex=cL,L.findLastKey=jse,L.floor=Sfe,L.forEach=yL,L.forEachRight=CL,L.forIn=Zse,L.forInRight=Qse,L.forOwn=Jse,L.forOwnRight=eue,L.get=Pg,L.gt=_se,L.gte=wse,L.has=nue,L.hasIn=Ng,L.head=dL,L.identity=$r,L.includes=Wle,L.indexOf=Pae,L.inRange=xue,L.invoke=aue,L.isArguments=wa,L.isArray=Ie,L.isArrayBuffer=xse,L.isArrayLike=Br,L.isArrayLikeObject=At,L.isBoolean=Sse,L.isBuffer=Lo,L.isDate=bse,L.isElement=Tse,L.isEmpty=Ese,L.isEqual=Lse,L.isEqualWith=Ase,L.isError=$g,L.isFinite=Rse,L.isFunction=Wi,L.isInteger=EL,L.isLength=Qc,L.isMap=LL,L.isMatch=Ose,L.isMatchWith=Ise,L.isNaN=Mse,L.isNative=Bse,L.isNil=$se,L.isNull=Dse,L.isNumber=AL,L.isObject=St,L.isObjectLike=Et,L.isPlainObject=tu,L.isRegExp=Fg,L.isSafeInteger=Fse,L.isSet=RL,L.isString=Jc,L.isSymbol=Zr,L.isTypedArray=yl,L.isUndefined=Pse,L.isWeakMap=Nse,L.isWeakSet=Hse,L.join=Wae,L.kebabCase=Aue,L.last=_n,L.lastIndexOf=Gae,L.lowerCase=Rue,L.lowerFirst=Oue,L.lt=zse,L.lte=kse,L.max=bfe,L.maxBy=Tfe,L.mean=Efe,L.meanBy=Lfe,L.min=Afe,L.minBy=Rfe,L.stubArray=Ug,L.stubFalse=Yg,L.stubObject=vfe,L.stubString=pfe,L.stubTrue=gfe,L.multiply=Ofe,L.nth=Uae,L.noConflict=afe,L.noop=Gg,L.now=Kc,L.pad=Iue,L.padEnd=Mue,L.padStart=Bue,L.parseInt=Due,L.random=Sue,L.reduce=Vle,L.reduceRight=qle,L.repeat=$ue,L.replace=Fue,L.result=due,L.round=Ife,L.runInContext=P,L.sample=jle,L.size=Jle,L.snakeCase=Pue,L.some=ese,L.sortedIndex=Zae,L.sortedIndexBy=Qae,L.sortedIndexOf=Jae,L.sortedLastIndex=ele,L.sortedLastIndexBy=tle,L.sortedLastIndexOf=rle,L.startCase=Hue,L.startsWith=zue,L.subtract=Mfe,L.sum=Bfe,L.sumBy=Dfe,L.template=kue,L.times=yfe,L.toFinite=Gi,L.toInteger=Be,L.toLength=IL,L.toLower=Wue,L.toNumber=wn,L.toSafeInteger=Wse,L.toString=rt,L.toUpper=Gue,L.trim=Uue,L.trimEnd=Yue,L.trimStart=Xue,L.truncate=Vue,L.unescape=que,L.uniqueId=mfe,L.upperCase=Kue,L.upperFirst=Hg,L.each=yL,L.eachRight=CL,L.first=dL,Wg(L,function(){var u={};return ci(L,function(c,p){it.call(L.prototype,p)||(u[p]=c)}),u}(),{chain:!1}),L.VERSION=n,pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){L[u].placeholder=L}),pn(["drop","take"],function(u,c){Ge.prototype[u]=function(p){p=p===t?1:Ft(Be(p),0);var m=this.__filtered__&&!c?new Ge(this):this.clone();return m.__filtered__?m.__takeCount__=ar(p,m.__takeCount__):m.__views__.push({size:ar(p,Ae),type:u+(m.__dir__<0?"Right":"")}),m},Ge.prototype[u+"Right"]=function(p){return this.reverse()[u](p).reverse()}}),pn(["filter","map","takeWhile"],function(u,c){var p=c+1,m=p==ue||p==te;Ge.prototype[u]=function(T){var R=this.clone();return R.__iteratees__.push({iteratee:ge(T,3),type:p}),R.__filtered__=R.__filtered__||m,R}}),pn(["head","last"],function(u,c){var p="take"+(c?"Right":"");Ge.prototype[u]=function(){return this[p](1).value()[0]}}),pn(["initial","tail"],function(u,c){var p="drop"+(c?"":"Right");Ge.prototype[u]=function(){return this.__filtered__?new Ge(this):this[p](1)}}),Ge.prototype.compact=function(){return this.filter($r)},Ge.prototype.find=function(u){return this.filter(u).head()},Ge.prototype.findLast=function(u){return this.reverse().find(u)},Ge.prototype.invokeMap=Pe(function(u,c){return typeof u=="function"?new Ge(this):this.map(function(p){return Ks(p,u,c)})}),Ge.prototype.reject=function(u){return this.filter(Zc(ge(u)))},Ge.prototype.slice=function(u,c){u=Be(u);var p=this;return p.__filtered__&&(u>0||c<0)?new Ge(p):(u<0?p=p.takeRight(-u):u&&(p=p.drop(u)),c!==t&&(c=Be(c),p=c<0?p.dropRight(-c):p.take(c-u)),p)},Ge.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ge.prototype.toArray=function(){return this.take(Ae)},ci(Ge.prototype,function(u,c){var p=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),T=L[m?"take"+(c=="last"?"Right":""):c],R=m||/^find/.test(c);T&&(L.prototype[c]=function(){var M=this.__wrapped__,$=m?[1]:arguments,N=M instanceof Ge,U=$[0],Y=N||Ie(M),Z=function(He){var Ye=T.apply(L,_o([He],$));return m&&ne?Ye[0]:Ye};Y&&p&&typeof U=="function"&&U.length!=1&&(N=Y=!1);var ne=this.__chain__,fe=!!this.__actions__.length,ye=R&&!ne,De=N&&!fe;if(!R&&Y){M=De?M:new Ge(this);var Ce=u.apply(M,$);return Ce.__actions__.push({func:Vc,args:[Z],thisArg:t}),new yn(Ce,ne)}return ye&&De?u.apply(this,$):(Ce=this.thru(Z),ye?m?Ce.value()[0]:Ce.value():Ce)})}),pn(["pop","push","shift","sort","splice","unshift"],function(u){var c=mc[u],p=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",m=/^(?:pop|shift)$/.test(u);L.prototype[u]=function(){var T=arguments;if(m&&!this.__chain__){var R=this.value();return c.apply(Ie(R)?R:[],T)}return this[p](function(M){return c.apply(Ie(M)?M:[],T)})}}),ci(Ge.prototype,function(u,c){var p=L[c];if(p){var m=p.name+"";it.call(hl,m)||(hl[m]=[]),hl[m].push({name:c,func:p})}}),hl[zc(t,w).name]=[{name:"wrapper",func:t}],Ge.prototype.clone=qie,Ge.prototype.reverse=Kie,Ge.prototype.value=jie,L.prototype.at=Tle,L.prototype.chain=Ele,L.prototype.commit=Lle,L.prototype.next=Ale,L.prototype.plant=Ole,L.prototype.reverse=Ile,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=Mle,L.prototype.first=L.prototype.head,Ws&&(L.prototype[Ws]=Rle),L},ul=Lie();da?((da.exports=ul)._=ul,k0._=ul):qt._=ul}).call(Ds)}(ac,ac.exports);var ca=ac.exports;const Yb={props:{sheetType:{type:String,default:"pivot"},data:{type:Object,default:()=>({fields:{rows:[],columns:[],values:[],valueInCols:!0},data:[],rowSubTotalsDimensions:[],colSubTotalsDimensions:[]})},toolsOptions:{type:Object,default:()=>({rowGrandTotals:!0,rowSubTotals:!0,columnGrandTotals:!0,columnSubTotals:!0})}},setup(e,{expose:r}){const t=e,n={width:!0,height:"100%",getContainer:()=>document.getElementById("containerId")},i=x.ref({theme:{cell:{subtotal:{backgroundColor:"#f0f0f0",color:"#000"},total:{backgroundColor:"#d9d9d9",color:"#000"}},background:{color:"#fff"},colCell:{cell:{crossBackgroundColor:"#F6F6F7",backgroundColor:"#F6F6F7"},subtotal:{backgroundColor:"#f0f0f0",color:"#000"},total:{backgroundColor:"#d9d9d9",color:"#000"}},cornerCell:{cell:{crossBackgroundColor:"#F6F6F7",backgroundColor:"#F6F6F7"}},dataCell:{cell:{crossBackgroundColor:"#fff",backgroundColor:"#fff"}},rowCell:{cell:{crossBackgroundColor:"#fff",backgroundColor:"#fff"}}},name:"gray"}),o=(h,d)=>{if(h[Te]==="reworkRate"){const v=d.reduce((y,C)=>y+C.reworkQty,0),g=d.reduce((y,C)=>y+C.quantity,0);return v/g*100}else return d.reduce((g,y)=>g+y[y[Te]],0)},a=x.reactive({style:{hierarchyCollapse:!1,layoutWidthType:"compact"},tooltip:{operation:{trend:!0,hiddenColumns:!0,sort:!0,onClick:(...h)=>{}}},totals:{row:{showGrandTotals:t.toolsOptions.rowGrandTotals,showSubTotals:t.toolsOptions.rowSubTotals,reverseLayout:!0,reverseSubLayout:!0,totalsGroupDimensions:t.data.rowTotalsGroupDimensions,subTotalsDimensions:t.data.rowSubTotalsDimensions,calcTotals:{calcFunc:o},calcSubTotals:{calcFunc:o}},col:{showGrandTotals:t.toolsOptions.columnGrandTotals,showSubTotals:t.toolsOptions.columnSubTotals,reverseLayout:!0,reverseSubLayout:!0,totalsGroupDimensions:t.data.colTotalsGroupDimensions,subTotalsDimensions:t.data.colSubTotalsDimensions,calcTotals:{calcFunc:o},calcSubTotals:{calcFunc:o}}}}),l=x.shallowRef(),s=x.computed(()=>{if(t.sheetType==="pivot")return t.data;{const h={columns:ca.concat([],t.data.fields.rows||[],t.data.fields.columns||[],t.data.fields.values||[])};return{...t.data,fields:h}}}),f=h=>{const d=fU(l.value.instance,",",!0);eU(d,h??"jack")};return x.watch(()=>t.toolsOptions,h=>{h&&(l.value.instance.setOptions({totals:{row:{showGrandTotals:t.toolsOptions.rowGrandTotals,showSubTotals:t.toolsOptions.rowSubTotals,subTotalsDimensions:t.data.rowSubTotalsDimensions},col:{showGrandTotals:t.toolsOptions.columnGrandTotals,showSubTotals:t.toolsOptions.columnSubTotals,subTotalsDimensions:t.data.colSubTotalsDimensions}}}),l.value.instance.render())},{deep:!0}),r({exportFunc:f,s2:l}),(h,d)=>(x.openBlock(),x.createBlock(x.unref(Mte),{ref:(v,g)=>{g.s2=v,x.isRef(l)&&(l.value=v)},sheetType:t.sheetType,dataCfg:x.unref(s),options:x.unref(a),themeCfg:i.value,adaptive:n},null,8,["sheetType","dataCfg","options","themeCfg"]))}};function dn(e,r){Bte(e)&&(e="100%");var t=Dte(e);return e=r===360?e:Math.min(r,Math.max(0,parseFloat(e))),t&&(e=parseInt(String(e*r),10)/100),Math.abs(e-r)<1e-6?1:(r===360?e=(e<0?e%r+r:e%r)/parseFloat(String(r)):e=e%r/parseFloat(String(r)),e)}function Bte(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Dte(e){return typeof e=="string"&&e.indexOf("%")!==-1}function $te(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function lc(e){return e<=1?"".concat(Number(e)*100,"%"):e}function f0(e){return e.length===1?"0"+e:String(e)}function Fte(e,r,t){return{r:dn(e,255)*255,g:dn(r,255)*255,b:dn(t,255)*255}}function c0(e,r,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(r-e)*(6*t):t<1/2?r:t<2/3?e+(r-e)*(2/3-t)*6:e}function Pte(e,r,t){var n,i,o;if(e=dn(e,360),r=dn(r,100),t=dn(t,100),r===0)i=t,o=t,n=t;else{var a=t<.5?t*(1+r):t+r-t*r,l=2*t-a;n=c0(l,a,e+1/3),i=c0(l,a,e),o=c0(l,a,e-1/3)}return{r:n*255,g:i*255,b:o*255}}function Nte(e,r,t){e=dn(e,255),r=dn(r,255),t=dn(t,255);var n=Math.max(e,r,t),i=Math.min(e,r,t),o=0,a=n,l=n-i,s=n===0?0:l/n;if(n===i)o=0;else{switch(n){case e:o=(r-t)/l+(r<t?6:0);break;case r:o=(t-e)/l+2;break;case t:o=(e-r)/l+4;break}o/=6}return{h:o,s,v:a}}function Hte(e,r,t){e=dn(e,360)*6,r=dn(r,100),t=dn(t,100);var n=Math.floor(e),i=e-n,o=t*(1-r),a=t*(1-i*r),l=t*(1-(1-i)*r),s=n%6,f=[t,a,o,o,l,t][s],h=[l,t,t,a,o,o][s],d=[o,o,l,t,t,a][s];return{r:f*255,g:h*255,b:d*255}}function zte(e,r,t,n){var i=[f0(Math.round(e).toString(16)),f0(Math.round(r).toString(16)),f0(Math.round(t).toString(16))];return i.join("")}function Xb(e){return Yr(e)/255}function Yr(e){return parseInt(e,16)}var Vb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $s(e){var r={r:0,g:0,b:0},t=1,n=null,i=null,o=null,a=!1,l=!1;return typeof e=="string"&&(e=Gte(e)),typeof e=="object"&&($i(e.r)&&$i(e.g)&&$i(e.b)?(r=Fte(e.r,e.g,e.b),a=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):$i(e.h)&&$i(e.s)&&$i(e.v)?(n=lc(e.s),i=lc(e.v),r=Hte(e.h,n,i),a=!0,l="hsv"):$i(e.h)&&$i(e.s)&&$i(e.l)&&(n=lc(e.s),o=lc(e.l),r=Pte(e.h,n,o),a=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(t=e.a)),t=$te(t),{ok:a,format:e.format||l,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:t}}var kte="[-\\+]?\\d+%?",Wte="[-\\+]?\\d*\\.\\d+%?",vo="(?:".concat(Wte,")|(?:").concat(kte,")"),h0="[\\s|\\(]+(".concat(vo,")[,|\\s]+(").concat(vo,")[,|\\s]+(").concat(vo,")\\s*\\)?"),d0="[\\s|\\(]+(".concat(vo,")[,|\\s]+(").concat(vo,")[,|\\s]+(").concat(vo,")[,|\\s]+(").concat(vo,")\\s*\\)?"),Hn={CSS_UNIT:new RegExp(vo),rgb:new RegExp("rgb"+h0),rgba:new RegExp("rgba"+d0),hsl:new RegExp("hsl"+h0),hsla:new RegExp("hsla"+d0),hsv:new RegExp("hsv"+h0),hsva:new RegExp("hsva"+d0),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Gte(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var r=!1;if(Vb[e])e=Vb[e],r=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=Hn.rgb.exec(e);return t?{r:t[1],g:t[2],b:t[3]}:(t=Hn.rgba.exec(e),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Hn.hsl.exec(e),t?{h:t[1],s:t[2],l:t[3]}:(t=Hn.hsla.exec(e),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Hn.hsv.exec(e),t?{h:t[1],s:t[2],v:t[3]}:(t=Hn.hsva.exec(e),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Hn.hex8.exec(e),t?{r:Yr(t[1]),g:Yr(t[2]),b:Yr(t[3]),a:Xb(t[4]),format:r?"name":"hex8"}:(t=Hn.hex6.exec(e),t?{r:Yr(t[1]),g:Yr(t[2]),b:Yr(t[3]),format:r?"name":"hex"}:(t=Hn.hex4.exec(e),t?{r:Yr(t[1]+t[1]),g:Yr(t[2]+t[2]),b:Yr(t[3]+t[3]),a:Xb(t[4]+t[4]),format:r?"name":"hex8"}:(t=Hn.hex3.exec(e),t?{r:Yr(t[1]+t[1]),g:Yr(t[2]+t[2]),b:Yr(t[3]+t[3]),format:r?"name":"hex"}:!1)))))))))}function $i(e){return!!Hn.CSS_UNIT.exec(String(e))}var sc=2,qb=.16,Ute=.05,Yte=.05,Xte=.15,Kb=5,jb=4,Vte=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Zb(e){var r=e.r,t=e.g,n=e.b,i=Nte(r,t,n);return{h:i.h*360,s:i.s,v:i.v}}function uc(e){var r=e.r,t=e.g,n=e.b;return"#".concat(zte(r,t,n))}function qte(e,r,t){var n=t/100,i={r:(r.r-e.r)*n+e.r,g:(r.g-e.g)*n+e.g,b:(r.b-e.b)*n+e.b};return i}function Qb(e,r,t){var n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=t?Math.round(e.h)-sc*r:Math.round(e.h)+sc*r:n=t?Math.round(e.h)+sc*r:Math.round(e.h)-sc*r,n<0?n+=360:n>=360&&(n-=360),n}function Jb(e,r,t){if(e.h===0&&e.s===0)return e.s;var n;return t?n=e.s-qb*r:r===jb?n=e.s+qb:n=e.s+Ute*r,n>1&&(n=1),t&&r===Kb&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function eT(e,r,t){var n;return t?n=e.v+Yte*r:n=e.v-Xte*r,n>1&&(n=1),Number(n.toFixed(2))}function v0(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],n=$s(e),i=Kb;i>0;i-=1){var o=Zb(n),a=uc($s({h:Qb(o,i,!0),s:Jb(o,i,!0),v:eT(o,i,!0)}));t.push(a)}t.push(uc(n));for(var l=1;l<=jb;l+=1){var s=Zb(n),f=uc($s({h:Qb(s,l),s:Jb(s,l),v:eT(s,l)}));t.push(f)}return r.theme==="dark"?Vte.map(function(h){var d=h.index,v=h.opacity,g=uc(qte($s(r.backgroundColor||"#141414"),$s(t[d]),v*100));return g}):t}var p0={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},g0={},y0={};Object.keys(p0).forEach(function(e){g0[e]=v0(p0[e]),g0[e].primary=g0[e][5],y0[e]=v0(p0[e],{theme:"dark",backgroundColor:"#141414"}),y0[e].primary=y0[e][5]});var tT=[],Fs=[],Kte="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function jte(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}function Zte(e,r){if(r=r||{},e===void 0)throw new Error(Kte);var t=r.prepend===!0?"prepend":"append",n=r.container!==void 0?r.container:document.querySelector("head"),i=tT.indexOf(n);i===-1&&(i=tT.push(n)-1,Fs[i]={});var o;return Fs[i]!==void 0&&Fs[i][t]!==void 0?o=Fs[i][t]:(o=Fs[i][t]=jte(),t==="prepend"?n.insertBefore(o,n.childNodes[0]):n.appendChild(o)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),o.styleSheet?o.styleSheet.cssText+=e:o.textContent+=e,o}function rT(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){Qte(e,i,t[i])})}return e}function Qte(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Jte(e,r){process.env.NODE_ENV!=="production"&&!e&&console!==void 0&&console.error("Warning: ".concat(r))}function ere(e,r){Jte(e,"[@ant-design/icons-vue] ".concat(r))}function nT(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function C0(e,r,t){return t?x.h(e.tag,rT({key:r},t,e.attrs),(e.children||[]).map(function(n,i){return C0(n,"".concat(r,"-").concat(e.tag,"-").concat(i))})):x.h(e.tag,rT({key:r},e.attrs),(e.children||[]).map(function(n,i){return C0(n,"".concat(r,"-").concat(e.tag,"-").concat(i))}))}function iT(e){return v0(e)[0]}function oT(e){return e?Array.isArray(e)?e:[e]:[]}var tre=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,aT=!1,rre=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tre;x.nextTick(function(){aT||(typeof window<"u"&&window.document&&window.document.documentElement&&Zte(r,{prepend:!0}),aT=!0)})},nre=["icon","primaryColor","secondaryColor"];function ire(e,r){if(e==null)return{};var t=ore(e,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function ore(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function fc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){are(e,i,t[i])})}return e}function are(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ps={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function lre(e){var r=e.primaryColor,t=e.secondaryColor;Ps.primaryColor=r,Ps.secondaryColor=t||iT(r),Ps.calculated=!!t}function sre(){return fc({},Ps)}var po=function(r,t){var n=fc({},r,t.attrs),i=n.icon,o=n.primaryColor,a=n.secondaryColor,l=ire(n,nre),s=Ps;if(o&&(s={primaryColor:o,secondaryColor:a||iT(o)}),rre(),ere(nT(i),"icon should be icon definiton, but got ".concat(i)),!nT(i))return null;var f=i;return f&&typeof f.icon=="function"&&(f=fc({},f,{icon:f.icon(s.primaryColor,s.secondaryColor)})),C0(f.icon,"svg-".concat(f.name),fc({},l,{"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};po.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String},po.inheritAttrs=!1,po.displayName="IconBase",po.getTwoToneColors=sre,po.setTwoToneColors=lre;function ure(e,r){return dre(e)||hre(e,r)||cre(e,r)||fre()}function fre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(e,r){if(e){if(typeof e=="string")return lT(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lT(e,r)}}function lT(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hre(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,a,l;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(n.push(a.value),!(r&&n.length===r));i=!0);}catch(s){o=!0,l=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function dre(e){if(Array.isArray(e))return e}function sT(e){var r=oT(e),t=ure(r,2),n=t[0],i=t[1];return po.setTwoToneColors({primaryColor:n,secondaryColor:i})}function vre(){var e=po.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var pre=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function gre(e,r){return _re(e)||mre(e,r)||Cre(e,r)||yre()}function yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(e,r){if(e){if(typeof e=="string")return uT(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uT(e,r)}}function uT(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mre(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,a,l;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(n.push(a.value),!(r&&n.length===r));i=!0);}catch(s){o=!0,l=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function _re(e){if(Array.isArray(e))return e}function fT(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){m0(e,i,t[i])})}return e}function m0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function wre(e,r){if(e==null)return{};var t=xre(e,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function xre(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}sT("#1890ff");var go=function(r,t){var n,i=fT({},r,t.attrs),o=i.class,a=i.icon,l=i.spin,s=i.rotate,f=i.tabindex,h=i.twoToneColor,d=i.onClick,v=wre(i,pre),g=(n={anticon:!0},m0(n,"anticon-".concat(a.name),!!a.name),m0(n,o,o),n),y=l===""||l||a.name==="loading"?"anticon-spin":"",C=f;C===void 0&&d&&(C=-1,v.tabindex=C);var _=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,w=oT(h),S=gre(w,2),b=S[0],E=S[1];return x.createVNode("span",fT({role:"img","aria-label":a.name},v,{onClick:d,class:g}),[x.createVNode(po,{class:y,icon:a,primaryColor:b,secondaryColor:E,style:_},null)])};go.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String},go.displayName="AntdIcon",go.inheritAttrs=!1,go.getTwoToneColor=vre,go.setTwoToneColor=sT;var Sre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};function cT(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){bre(e,i,t[i])})}return e}function bre(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _0=function(r,t){var n=cT({},r,t.attrs);return x.createVNode(go,cT({},n,{icon:Sre}),null)};_0.displayName="DoubleLeftOutlined",_0.inheritAttrs=!1;var Tre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};function hT(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){Ere(e,i,t[i])})}return e}function Ere(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var w0=function(r,t){var n=hT({},r,t.attrs);return x.createVNode(go,hT({},n,{icon:Tre}),null)};w0.displayName="DoubleRightOutlined",w0.inheritAttrs=!1;var Lre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};function dT(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){Are(e,i,t[i])})}return e}function Are(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var x0=function(r,t){var n=dT({},r,t.attrs);return x.createVNode(go,dT({},n,{icon:Lre}),null)};x0.displayName="HolderOutlined",x0.inheritAttrs=!1;const vT=(e,r)=>{const t=e.__vccOpts||e;for(const[n,i]of r)t[n]=i;return t},Rre={class:"mr-15 w-13 inline-block"},Ore={class:"mover custom-table-mover"},Ire={name:"pivot-sheet",props:{i18n:{type:Object,default:()=>({})},baseData:{type:Object,default:()=>({queryOption:{rows:[],columns:[],values:[]},...Yb.defaultProps})}},data(){return{foldList:[!1,!1,!1,!1],queryOption:{rows:[],columns:[],values:[]},sheetType:"pivot",tooltipOption:{rowGrandTotals:!1,rowSubTotals:!1,columnGrandTotals:!1,columnSubTotals:!1},dataCfg:{fields:{rows:[],columns:[],values:[],valueInCols:!0},data:[],totalData:[]}}},components:{SheetDraggable:vT({props:{columnList:{type:Array,required:!0}},emits:["update:columnList"],setup(e,{emit:r}){const t=e,n=x.computed({get(){return t.columnList},set(a){r("update:columnList",a)}}),i=()=>{},o=()=>{};return(a,l)=>(x.openBlock(),x.createBlock(x.unref(UL),{modelValue:x.unref(n),"onUpdate:modelValue":l[0]||(l[0]=s=>x.isRef(n)?n.value=s:null),chosenClass:"custom-table-chosen",ghostClass:"custom-table-ghost",handle:".mover",filter:".forbid",forceFallback:!0,"item-key":"index",onEnd:i,move:o},{item:x.withCtx(({element:s,index:f})=>[(x.openBlock(),x.createElementBlock("div",{key:f,style:{"min-width":"200px","line-height":"28px"},class:x.normalizeClass(s.fixed?"forbid":"")},[x.createElementVNode("span",Rre,[x.createElementVNode("span",Ore,[x.createVNode(x.unref(x0))])]),x.createVNode(x.unref(jt.Checkbox),{checked:s.selected,"onUpdate:checked":h=>s.selected=h,onChange:i,style:{width:"calc(100% - 30px)"}},{default:x.withCtx(()=>[x.createTextVNode(x.toDisplayString(s.label),1)]),_:2},1032,["checked","onUpdate:checked"])],2))]),_:1},8,["modelValue"]))}},[["__scopeId","data-v-3732092e"]]),MySheetComponent:Yb,DoubleRightOutlined:w0,DoubleLeftOutlined:_0,Switch:jt.Switch,RadioGroup:jt.RadioGroup,Radio:jt.Radio,RadioButton:jt.RadioButton},watch:{baseData:{handler(e,r){const{queryOption:t,...n}=e,{rows:i,columns:o,values:a,valueInCols:l}=this.getFields(t);this.dataCfg.fields.rows.length<=0||this.dataCfg.fields.columns.length<=0||this.dataCfg.fields.values.length<=0?(this.queryOption=t,this.dataCfg={fields:{rows:i,columns:o,values:a,valueInCols:l},...n}):(this.dataCfg.data=n.data,this.dataCfg.totalData=[])}},queryOption:{handler(e,r){var t=this.getFields(x.toRaw(e));const n=this.groupAndSum(this.dataCfg.data,[...t.rows,...t.columns],t.values);this.dataCfg.totalData=n,this.dataCfg.fields=t},deep:!0}},methods:{groupAndSum(e,r,t){const n=ca.groupBy(e,o=>r.map(a=>o[a]).join("|")),i=ca.mapValues(n,o=>{const a=o[0],l={};return r.forEach(s=>{l[s]=a[s]}),t.forEach(s=>{l[s]=ca.sumBy(o,s)}),l});return Object.values(i)},handleExportData(e="透视图"){this.$refs.sheetComp.exportFunc(e)},handleFold(e){this.foldList[e]=!this.foldList[e]},getFields(e){const r=ca.filter((e==null?void 0:e.rows)??[],i=>i.selected).map(i=>i.value),t=ca.filter((e==null?void 0:e.columns)??[],i=>i.selected).map(i=>i.value),n=ca.filter((e==null?void 0:e.values)??[],i=>i.selected).map(i=>i.value);return{rows:r,columns:t,values:n,valueInCols:(e==null?void 0:e.valueInCols)??this.dataCfg.fields.valueInCols}}},created(){console.log("=============this.i18n======================="),console.log(this.i18n.locale),console.log("===================================="),this.i18n.locale!=="zh_CN"&&jk("en_US")}},S0=e=>(x.pushScopeId("data-v-0b87709c"),e=e(),x.popScopeId(),e),Mre={class:"custom-table"},Bre={class:"sheet"},Dre={class:"sheet-value-label"},$re=S0(()=>x.createElementVNode("div",{class:"sheet-value-hr"},null,-1)),Fre={class:"mt-10"},Pre={class:"sheet-value-label"},Nre=S0(()=>x.createElementVNode("div",{class:"sheet-value-hr"},null,-1)),Hre={class:"mt-10"},zre={class:"sheet-value-label"},kre=S0(()=>x.createElementVNode("div",{class:"sheet-value-hr"},null,-1)),Wre={style:{"font-weight":"400",color:"#606266"}},Gre={class:"sheet-box"},Ure={class:"sheet-box-folded-btn"},Yre={class:"sheet-tools-top"},Xre={class:"sheet-tools-top-right"},Vre={class:"sheet-tools-top-item"},qre={class:"sheet-tools-top-item"},Kre={class:"sheet-tools-top-item"},jre={class:"sheet-tools-top-item"},Zre={id:"containerId",class:"sheet-box-h"};function Qre(e,r,t,n,i,o){var y,C,_,w,S;const a=x.resolveComponent("DoubleRightOutlined"),l=x.resolveComponent("sheet-draggable"),s=x.resolveComponent("Radio"),f=x.resolveComponent("RadioGroup"),h=x.resolveComponent("DoubleLeftOutlined"),d=x.resolveComponent("Radio-button"),v=x.resolveComponent("Switch"),g=x.resolveComponent("mySheetComponent");return x.openBlock(),x.createElementBlock("div",Mre,[x.renderSlot(e.$slots,"operate",{data:o.handleExportData},void 0,!0),x.createElementVNode("div",Bre,[x.createElementVNode("div",{class:x.normalizeClass(["sheet-value",[{"sheet-value-folded":(y=i.foldList)==null?void 0:y[3]}]])},[x.createElementVNode("div",null,[x.createElementVNode("div",null,[x.createElementVNode("div",Dre,[x.createTextVNode(x.toDisplayString(e.$t("yourOutfit"))+" ",1),$re,x.createVNode(a,{onClick:r[0]||(r[0]=b=>o.handleFold(0))})]),x.createElementVNode("div",{class:x.normalizeClass(["sheet-value-draggable",{"sheet-value-draggable-folded":(C=i.foldList)==null?void 0:C[0]}])},[x.createVNode(l,{columnList:i.queryOption.rows,"onUpdate:columnList":r[1]||(r[1]=b=>i.queryOption.rows=b),group:"select",animation:"300"},null,8,["columnList"])],2)]),x.createElementVNode("div",Fre,[x.createElementVNode("div",Pre,[x.createTextVNode(x.toDisplayString(e.$t("columnHead"))+" ",1),Nre,x.createVNode(a,{onClick:r[2]||(r[2]=b=>o.handleFold(1))})]),x.createElementVNode("div",{class:x.normalizeClass(["sheet-value-draggable",{"sheet-value-draggable-folded":(_=i.foldList)==null?void 0:_[1]}])},[x.createVNode(l,{columnList:i.queryOption.columns,"onUpdate:columnList":r[3]||(r[3]=b=>i.queryOption.columns=b),group:"select",animation:"300"},null,8,["columnList"])],2)]),x.createElementVNode("div",Hre,[x.createElementVNode("div",zre,[x.createTextVNode(x.toDisplayString(e.$t("numericalValue"))+" ",1),kre,x.createVNode(a,{onClick:r[4]||(r[4]=b=>o.handleFold(2))})]),x.createElementVNode("div",{class:x.normalizeClass(["sheet-value-draggable",{"sheet-value-draggable-folded":(w=i.foldList)==null?void 0:w[2]}])},[x.createElementVNode("div",Wre,[x.createTextVNode(x.toDisplayString(e.$t("put"))+" ",1),x.createVNode(f,{value:i.dataCfg.fields.valueInCols,"onUpdate:value":r[5]||(r[5]=b=>i.dataCfg.fields.valueInCols=b),style:{marginLeft:"8px",marginBottom:"10px",color:"#606266"}},{default:x.withCtx(()=>[x.createVNode(s,{value:!0},{default:x.withCtx(()=>[x.createTextVNode(x.toDisplayString(e.$t("yourOutfit")),1)]),_:1}),x.createVNode(s,{value:!1},{default:x.withCtx(()=>[x.createTextVNode(x.toDisplayString(e.$t("columnHead")),1)]),_:1})]),_:1},8,["value"])]),x.createVNode(l,{columnList:i.queryOption.values,"onUpdate:columnList":r[6]||(r[6]=b=>i.queryOption.values=b)},null,8,["columnList"])],2)])])],2),x.createElementVNode("div",Gre,[x.createElementVNode("div",Ure,[(S=i.foldList)!=null&&S[3]?(x.openBlock(),x.createBlock(a,{key:1,onClick:r[8]||(r[8]=b=>o.handleFold(3))})):(x.openBlock(),x.createBlock(h,{key:0,onClick:r[7]||(r[7]=b=>o.handleFold(3))}))]),x.createElementVNode("div",Yre,[x.createVNode(f,{value:i.sheetType,"onUpdate:value":r[9]||(r[9]=b=>i.sheetType=b),style:{marginBottom:"8px"}},{default:x.withCtx(()=>[x.createVNode(d,{value:"pivot"},{default:x.withCtx(()=>[x.createTextVNode(x.toDisplayString(e.$t("perspectiveView")),1)]),_:1}),x.createVNode(d,{value:"table"},{default:x.withCtx(()=>[x.createTextVNode(x.toDisplayString(e.$t("detailedDiagram")),1)]),_:1})]),_:1},8,["value"]),x.createElementVNode("div",Xre,[x.createElementVNode("div",Vre,[x.createElementVNode("span",null,x.toDisplayString(e.$t("listTheNotes")),1),x.createVNode(v,{checked:i.tooltipOption.columnSubTotals,"onUpdate:checked":r[10]||(r[10]=b=>i.tooltipOption.columnSubTotals=b)},null,8,["checked"])]),x.createElementVNode("div",qre,[x.createElementVNode("span",null,x.toDisplayString(e.$t("columnSummary")),1),x.createVNode(v,{checked:i.tooltipOption.columnGrandTotals,"onUpdate:checked":r[11]||(r[11]=b=>i.tooltipOption.columnGrandTotals=b)},null,8,["checked"])]),x.createElementVNode("div",Kre,[x.createElementVNode("span",null,x.toDisplayString(e.$t("xingxiaoji")),1),x.createVNode(v,{checked:i.tooltipOption.rowSubTotals,"onUpdate:checked":r[12]||(r[12]=b=>i.tooltipOption.rowSubTotals=b)},null,8,["checked"])]),x.createElementVNode("div",jre,[x.createElementVNode("span",null,x.toDisplayString(e.$t("summary")),1),x.createVNode(v,{checked:i.tooltipOption.rowGrandTotals,"onUpdate:checked":r[13]||(r[13]=b=>i.tooltipOption.rowGrandTotals=b)},null,8,["checked"])])])]),x.createElementVNode("div",Zre,[x.createVNode(g,{data:i.dataCfg,sheetType:i.sheetType,toolsOptions:i.tooltipOption,ref:"sheetComp"},null,8,["data","sheetType","toolsOptions"])])])])])}const cc=vT(Ire,[["render",Qre],["__scopeId","data-v-0b87709c"]]);cc.install=e=>(e.component(Sheet.name,Sheet),e);const Jre=[cc],ene={install(e){Jre.forEach(r=>{e.component(r.name,cc)})}};Xe.PivotSheet=cc,Xe.default=ene,Object.defineProperties(Xe,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
