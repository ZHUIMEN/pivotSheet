import { defineComponent as Mr, computed as Lo, ref as Un, toRefs as vC, shallowRef as xp, onMounted as ux, onBeforeUnmount as n3, watch as ai, reactive as fx, isProxy as gd, toRaw as vf, openBlock as ge, createElementBlock as nt, Fragment as kr, renderList as Hi, normalizeClass as it, createElementVNode as Re, toDisplayString as ot, createCommentVNode as Rr, createTextVNode as bn, resolveComponent as rt, createBlock as bt, withCtx as Gt, createVNode as Ve, mergeProps as i3, resolveDynamicComponent as o3, render as yd, renderSlot as cx, unref as Ko, isRef as hx, h as pC, nextTick as a3, pushScopeId as l3, popScopeId as s3 } from "vue";
import { Menu as bf, Dropdown as u3, Pagination as f3, Spin as c3, Button as h3, Input as d3, Empty as v3, MenuItem as p3, Checkbox as g3, Switch as y3, RadioGroup as C3, Radio as _3, RadioButton as m3 } from "ant-design-vue";
import w3 from "vuedraggable";
var Sp = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  get Base() {
    return jn;
  },
  get Circle() {
    return zB;
  },
  get Ellipse() {
    return GB;
  },
  get Image() {
    return Fp;
  },
  get Line() {
    return YB;
  },
  get Marker() {
    return qB;
  },
  get Path() {
    return $p;
  },
  get Polygon() {
    return nD;
  },
  get Polyline() {
    return oD;
  },
  get Rect() {
    return uD;
  },
  get Text() {
    return cD;
  }
});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Qd = function(e, r) {
  return Qd = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, n) {
    t.__proto__ = n;
  } || function(t, n) {
    for (var i in n)
      Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
  }, Qd(e, r);
};
function vn(e, r) {
  if (typeof r != "function" && r !== null)
    throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
  Qd(e, r);
  function t() {
    this.constructor = e;
  }
  e.prototype = r === null ? Object.create(r) : (t.prototype = r.prototype, new t());
}
var Pt = function() {
  return Pt = Object.assign || function(r) {
    for (var t, n = 1, i = arguments.length; n < i; n++) {
      t = arguments[n];
      for (var o in t)
        Object.prototype.hasOwnProperty.call(t, o) && (r[o] = t[o]);
    }
    return r;
  }, Pt.apply(this, arguments);
};
function x3(e, r) {
  var t = {};
  for (var n in e)
    Object.prototype.hasOwnProperty.call(e, n) && r.indexOf(n) < 0 && (t[n] = e[n]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var i = 0, n = Object.getOwnPropertySymbols(e); i < n.length; i++)
      r.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (t[n[i]] = e[n[i]]);
  return t;
}
var gC = function(e) {
  return e !== null && typeof e != "function" && isFinite(e.length);
}, S3 = {}.toString, rc = function(e, r) {
  return S3.call(e) === "[object " + r + "]";
}, ia = function(e) {
  return rc(e, "Function");
}, jt = function(e) {
  return e == null;
}, In = function(e) {
  return Array.isArray ? Array.isArray(e) : rc(e, "Array");
}, is = function(e) {
  var r = typeof e;
  return e !== null && r === "object" || r === "function";
};
function at(e, r) {
  if (e) {
    var t;
    if (In(e))
      for (var n = 0, i = e.length; n < i && (t = r(e[n], n), t !== !1); n++)
        ;
    else if (is(e)) {
      for (var o in e)
        if (e.hasOwnProperty(o) && (t = r(e[o], o), t === !1))
          break;
    }
  }
}
var yC = function(e) {
  return typeof e == "object" && e !== null;
}, li = function(e) {
  if (In(e))
    return e.reduce(function(r, t) {
      return Math.max(r, t);
    }, e[0]);
}, si = function(e) {
  if (In(e))
    return e.reduce(function(r, t) {
      return Math.min(r, t);
    }, e[0]);
}, Vn = function(e) {
  return rc(e, "String");
}, Jd = function(e) {
  return rc(e, "Number");
}, T3 = 1e-5;
function b3(e, r, t) {
  return t === void 0 && (t = T3), Math.abs(e - r) < t;
}
var dx = function(e, r) {
  return (e % r + r) % r;
}, E3 = Math.PI / 180, vx = function(e) {
  return E3 * e;
}, L3 = Object.values ? function(e) {
  return Object.values(e);
} : function(e) {
  var r = [];
  return at(e, function(t, n) {
    ia(e) && n === "prototype" || r.push(t);
  }), r;
}, A3 = function(e) {
  return jt(e) ? "" : e.toString();
}, px = function(e) {
  var r = A3(e);
  return r.charAt(0).toUpperCase() + r.substring(1);
};
function R3(e) {
  var r = window.requestAnimationFrame || window.webkitRequestAnimationFrame || // @ts-ignore
  window.mozRequestAnimationFrame || // @ts-ignore
  window.msRequestAnimationFrame || function(t) {
    return setTimeout(t, 16);
  };
  return r(e);
}
function O3(e) {
  var r = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || // @ts-ignore
  window.mozCancelAnimationFrame || // @ts-ignore
  window.msCancelAnimationFrame || clearTimeout;
  r(e);
}
function Cd(e, r) {
  for (var t in r)
    r.hasOwnProperty(t) && t !== "constructor" && r[t] !== void 0 && (e[t] = r[t]);
}
function gx(e, r, t, n) {
  return r && Cd(e, r), t && Cd(e, t), n && Cd(e, n), e;
}
var I3 = function(e, r) {
  if (!ia(e))
    throw new TypeError("Expected a function");
  var t = function() {
    for (var n = [], i = 0; i < arguments.length; i++)
      n[i] = arguments[i];
    var o = r ? r.apply(this, n) : n[0], a = t.cache;
    if (a.has(o))
      return a.get(o);
    var l = e.apply(this, n);
    return a.set(o, l), l;
  };
  return t.cache = /* @__PURE__ */ new Map(), t;
}, Ef = function(e, r) {
  if (e === r)
    return !0;
  if (!e || !r || Vn(e) || Vn(r))
    return !1;
  if (gC(e) || gC(r)) {
    if (e.length !== r.length)
      return !1;
    for (var t = !0, n = 0; n < e.length && (t = Ef(e[n], r[n]), !!t); n++)
      ;
    return t;
  }
  if (yC(e) || yC(r)) {
    var i = Object.keys(e), o = Object.keys(r);
    if (i.length !== o.length)
      return !1;
    for (var t = !0, n = 0; n < i.length && (t = Ef(e[i[n]], r[i[n]]), !!t); n++)
      ;
    return t;
  }
  return !1;
}, Xu = {}, M3 = function(e) {
  return e = e || "g", Xu[e] ? Xu[e] += 1 : Xu[e] = 1, e + Xu[e];
}, Vu = function() {
};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function B3() {
  for (var e = 0, r = 0, t = arguments.length; r < t; r++)
    e += arguments[r].length;
  for (var n = Array(e), i = 0, r = 0; r < t; r++)
    for (var o = arguments[r], a = 0, l = o.length; a < l; a++, i++)
      n[i] = o[a];
  return n;
}
var qu;
I3(function(e, r) {
  r === void 0 && (r = {});
  var t = r.fontSize, n = r.fontFamily, i = r.fontWeight, o = r.fontStyle, a = r.fontVariant;
  return qu || (qu = document.createElement("canvas").getContext("2d")), qu.font = [o, a, i, t + "px", n].join(" "), qu.measureText(Vn(e) ? e : "").width;
}, function(e, r) {
  return r === void 0 && (r = {}), B3([e], L3(r)).join("");
});
var os = `	
\v\f\r   ᠎             　\u2028\u2029`, D3 = new RegExp("([a-z])[" + os + ",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[" + os + "]*,?[" + os + "]*)+)", "ig"), P3 = new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[" + os + "]*,?[" + os + "]*", "ig"), Wa = function(e) {
  if (!e)
    return null;
  if (In(e))
    return e;
  var r = {
    a: 7,
    c: 6,
    o: 2,
    h: 1,
    l: 2,
    m: 2,
    r: 4,
    q: 4,
    s: 4,
    t: 2,
    v: 1,
    u: 3,
    z: 0
  }, t = [];
  return String(e).replace(D3, function(n, i, o) {
    var a = [], l = i.toLowerCase();
    if (o.replace(P3, function(s, f) {
      f && a.push(+f);
    }), l === "m" && a.length > 2 && (t.push([i].concat(a.splice(0, 2))), l = "l", i = i === "m" ? "l" : "L"), l === "o" && a.length === 1 && t.push([i, a[0]]), l === "r")
      t.push([i].concat(a));
    else
      for (; a.length >= r[l] && (t.push([i].concat(a.splice(0, r[l]))), !!r[l]); )
        ;
    return e;
  }), t;
}, ev = function(e, r) {
  for (var t = [], n = 0, i = e.length; i - 2 * !r > n; n += 2) {
    var o = [
      {
        x: +e[n - 2],
        y: +e[n - 1]
      },
      {
        x: +e[n],
        y: +e[n + 1]
      },
      {
        x: +e[n + 2],
        y: +e[n + 3]
      },
      {
        x: +e[n + 4],
        y: +e[n + 5]
      }
    ];
    r ? n ? i - 4 === n ? o[3] = {
      x: +e[0],
      y: +e[1]
    } : i - 2 === n && (o[2] = {
      x: +e[0],
      y: +e[1]
    }, o[3] = {
      x: +e[2],
      y: +e[3]
    }) : o[0] = {
      x: +e[i - 2],
      y: +e[i - 1]
    } : i - 4 === n ? o[3] = o[2] : n || (o[0] = {
      x: +e[n],
      y: +e[n + 1]
    }), t.push([
      "C",
      (-o[0].x + 6 * o[1].x + o[2].x) / 6,
      (-o[0].y + 6 * o[1].y + o[2].y) / 6,
      (o[1].x + 6 * o[2].x - o[3].x) / 6,
      (o[1].y + 6 * o[2].y - o[3].y) / 6,
      o[2].x,
      o[2].y
    ]);
  }
  return t;
}, Ku = function(e, r, t, n, i) {
  var o = [];
  if (i === null && n === null && (n = t), e = +e, r = +r, t = +t, n = +n, i !== null) {
    var a = Math.PI / 180, l = e + t * Math.cos(-n * a), s = e + t * Math.cos(-i * a), f = r + t * Math.sin(-n * a), h = r + t * Math.sin(-i * a);
    o = [
      ["M", l, f],
      ["A", t, t, 0, +(i - n > 180), 0, s, h]
    ];
  } else
    o = [["M", e, r], ["m", 0, -n], ["a", t, n, 0, 1, 1, 0, 2 * n], ["a", t, n, 0, 1, 1, 0, -2 * n], ["z"]];
  return o;
}, tv = function(e) {
  if (e = Wa(e), !e || !e.length)
    return [["M", 0, 0]];
  var r = [], t = 0, n = 0, i = 0, o = 0, a = 0, l, s;
  e[0][0] === "M" && (t = +e[0][1], n = +e[0][2], i = t, o = n, a++, r[0] = ["M", t, n]);
  for (var f = e.length === 3 && e[0][0] === "M" && e[1][0].toUpperCase() === "R" && e[2][0].toUpperCase() === "Z", h = void 0, d = void 0, v = a, g = e.length; v < g; v++) {
    if (r.push(h = []), d = e[v], l = d[0], l !== l.toUpperCase())
      switch (h[0] = l.toUpperCase(), h[0]) {
        case "A":
          h[1] = d[1], h[2] = d[2], h[3] = d[3], h[4] = d[4], h[5] = d[5], h[6] = +d[6] + t, h[7] = +d[7] + n;
          break;
        case "V":
          h[1] = +d[1] + n;
          break;
        case "H":
          h[1] = +d[1] + t;
          break;
        case "R":
          s = [t, n].concat(d.slice(1));
          for (var y = 2, C = s.length; y < C; y++)
            s[y] = +s[y] + t, s[++y] = +s[y] + n;
          r.pop(), r = r.concat(ev(s, f));
          break;
        case "O":
          r.pop(), s = Ku(t, n, d[1], d[2]), s.push(s[0]), r = r.concat(s);
          break;
        case "U":
          r.pop(), r = r.concat(Ku(t, n, d[1], d[2], d[3])), h = ["U"].concat(r[r.length - 1].slice(-2));
          break;
        case "M":
          i = +d[1] + t, o = +d[2] + n;
          break;
        default:
          for (var y = 1, C = d.length; y < C; y++)
            h[y] = +d[y] + (y % 2 ? t : n);
      }
    else if (l === "R")
      s = [t, n].concat(d.slice(1)), r.pop(), r = r.concat(ev(s, f)), h = ["R"].concat(d.slice(-2));
    else if (l === "O")
      r.pop(), s = Ku(t, n, d[1], d[2]), s.push(s[0]), r = r.concat(s);
    else if (l === "U")
      r.pop(), r = r.concat(Ku(t, n, d[1], d[2], d[3])), h = ["U"].concat(r[r.length - 1].slice(-2));
    else
      for (var m = 0, w = d.length; m < w; m++)
        h[m] = d[m];
    if (l = l.toUpperCase(), l !== "O")
      switch (h[0]) {
        case "Z":
          t = +i, n = +o;
          break;
        case "H":
          t = h[1];
          break;
        case "V":
          n = h[1];
          break;
        case "M":
          i = h[h.length - 2], o = h[h.length - 1];
          break;
        default:
          t = h[h.length - 2], n = h[h.length - 1];
      }
  }
  return r;
}, ju = function(e, r, t, n) {
  return [e, r, t, n, t, n];
}, CC = function(e, r, t, n, i, o) {
  var a = 0.3333333333333333, l = 2 / 3;
  return [a * e + l * t, a * r + l * n, a * i + l * t, a * o + l * n, i, o];
}, yx = function(e, r, t, n, i, o, a, l, s, f) {
  t === n && (t += 1);
  var h = Math.PI * 120 / 180, d = Math.PI / 180 * (+i || 0), v = [], g, y, C, m, w, S = function(fr, wr, wt) {
    var xr = fr * Math.cos(wt) - wr * Math.sin(wt), ei = fr * Math.sin(wt) + wr * Math.cos(wt);
    return {
      x: xr,
      y: ei
    };
  };
  if (f)
    y = f[0], C = f[1], m = f[2], w = f[3];
  else {
    g = S(e, r, -d), e = g.x, r = g.y, g = S(l, s, -d), l = g.x, s = g.y, e === l && r === s && (l += 1, s += 1);
    var x = (e - l) / 2, b = (r - s) / 2, O = x * x / (t * t) + b * b / (n * n);
    O > 1 && (O = Math.sqrt(O), t = O * t, n = O * n);
    var D = t * t, N = n * n, W = (o === a ? -1 : 1) * Math.sqrt(Math.abs((D * N - D * b * b - N * x * x) / (D * b * b + N * x * x)));
    m = W * t * b / n + (e + l) / 2, w = W * -n * x / t + (r + s) / 2, y = Math.asin(((r - w) / n).toFixed(9)), C = Math.asin(((s - w) / n).toFixed(9)), y = e < m ? Math.PI - y : y, C = l < m ? Math.PI - C : C, y < 0 && (y = Math.PI * 2 + y), C < 0 && (C = Math.PI * 2 + C), a && y > C && (y = y - Math.PI * 2), !a && C > y && (C = C - Math.PI * 2);
  }
  var k = C - y;
  if (Math.abs(k) > h) {
    var ee = C, J = l, te = s;
    C = y + h * (a && C > y ? 1 : -1), l = m + t * Math.cos(C), s = w + n * Math.sin(C), v = yx(l, s, t, n, i, 0, a, J, te, [C, ee, m, w]);
  }
  k = C - y;
  var ae = Math.cos(y), fe = Math.sin(y), j = Math.cos(C), ie = Math.sin(C), Ie = Math.tan(k / 4), we = 4 / 3 * t * Ie, Te = 4 / 3 * n * Ie, he = [e, r], be = [e + we * fe, r - Te * ae], Ae = [l + we * ie, s - Te * j], mt = [l, s];
  if (be[0] = 2 * he[0] - be[0], be[1] = 2 * he[1] - be[1], f)
    return [be, Ae, mt].concat(v);
  v = [be, Ae, mt].concat(v).join().split(",");
  for (var Xe = [], ze = 0, lt = v.length; ze < lt; ze++)
    Xe[ze] = ze % 2 ? S(v[ze - 1], v[ze], d).y : S(v[ze], v[ze + 1], d).x;
  return Xe;
}, rv = function(e, r) {
  var t = tv(e), n = r && tv(r), i = {
    x: 0,
    y: 0,
    bx: 0,
    by: 0,
    X: 0,
    Y: 0,
    qx: null,
    qy: null
  }, o = {
    x: 0,
    y: 0,
    bx: 0,
    by: 0,
    X: 0,
    Y: 0,
    qx: null,
    qy: null
  }, a = [], l = [], s = "", f = "", h, d = function(x, b, O) {
    var D, N;
    if (!x)
      return ["C", b.x, b.y, b.x, b.y, b.x, b.y];
    switch (!(x[0] in {
      T: 1,
      Q: 1
    }) && (b.qx = b.qy = null), x[0]) {
      case "M":
        b.X = x[1], b.Y = x[2];
        break;
      case "A":
        x = ["C"].concat(yx.apply(0, [b.x, b.y].concat(x.slice(1))));
        break;
      case "S":
        O === "C" || O === "S" ? (D = b.x * 2 - b.bx, N = b.y * 2 - b.by) : (D = b.x, N = b.y), x = ["C", D, N].concat(x.slice(1));
        break;
      case "T":
        O === "Q" || O === "T" ? (b.qx = b.x * 2 - b.qx, b.qy = b.y * 2 - b.qy) : (b.qx = b.x, b.qy = b.y), x = ["C"].concat(CC(b.x, b.y, b.qx, b.qy, x[1], x[2]));
        break;
      case "Q":
        b.qx = x[1], b.qy = x[2], x = ["C"].concat(CC(b.x, b.y, x[1], x[2], x[3], x[4]));
        break;
      case "L":
        x = ["C"].concat(ju(b.x, b.y, x[1], x[2]));
        break;
      case "H":
        x = ["C"].concat(ju(b.x, b.y, x[1], b.y));
        break;
      case "V":
        x = ["C"].concat(ju(b.x, b.y, b.x, x[1]));
        break;
      case "Z":
        x = ["C"].concat(ju(b.x, b.y, b.X, b.Y));
        break;
    }
    return x;
  }, v = function(x, b) {
    if (x[b].length > 7) {
      x[b].shift();
      for (var O = x[b]; O.length; )
        a[b] = "A", n && (l[b] = "A"), x.splice(b++, 0, ["C"].concat(O.splice(0, 6)));
      x.splice(b, 1), h = Math.max(t.length, n && n.length || 0);
    }
  }, g = function(x, b, O, D, N) {
    x && b && x[N][0] === "M" && b[N][0] !== "M" && (b.splice(N, 0, ["M", D.x, D.y]), O.bx = 0, O.by = 0, O.x = x[N][1], O.y = x[N][2], h = Math.max(t.length, n && n.length || 0));
  };
  h = Math.max(t.length, n && n.length || 0);
  for (var y = 0; y < h; y++) {
    t[y] && (s = t[y][0]), s !== "C" && (a[y] = s, y && (f = a[y - 1])), t[y] = d(t[y], i, f), a[y] !== "A" && s === "C" && (a[y] = "C"), v(t, y), n && (n[y] && (s = n[y][0]), s !== "C" && (l[y] = s, y && (f = l[y - 1])), n[y] = d(n[y], o, f), l[y] !== "A" && s === "C" && (l[y] = "C"), v(n, y)), g(t, n, i, o, y), g(n, t, o, i, y);
    var C = t[y], m = n && n[y], w = C.length, S = n && m.length;
    i.x = C[w - 2], i.y = C[w - 1], i.bx = parseFloat(C[w - 4]) || i.x, i.by = parseFloat(C[w - 3]) || i.y, o.bx = n && (parseFloat(m[S - 4]) || o.x), o.by = n && (parseFloat(m[S - 3]) || o.y), o.x = n && m[S - 2], o.y = n && m[S - 1];
  }
  return n ? [t, n] : t;
}, F3 = /,?([a-z]),?/gi, Cx = function(e) {
  return e.join(",").replace(F3, "$1");
}, _C = function(e, r, t, n, i) {
  var o = -3 * r + 9 * t - 9 * n + 3 * i, a = e * o + 6 * r - 12 * t + 6 * n;
  return e * a - 3 * r + 3 * t;
}, mC = function(e, r, t, n, i, o, a, l, s) {
  s === null && (s = 1), s = s > 1 ? 1 : s < 0 ? 0 : s;
  for (var f = s / 2, h = 12, d = [
    -0.1252,
    0.1252,
    -0.3678,
    0.3678,
    -0.5873,
    0.5873,
    -0.7699,
    0.7699,
    -0.9041,
    0.9041,
    -0.9816,
    0.9816
  ], v = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472], g = 0, y = 0; y < h; y++) {
    var C = f * d[y] + f, m = _C(C, e, t, i, a), w = _C(C, r, n, o, l), S = m * m + w * w;
    g += v[y] * Math.sqrt(S);
  }
  return f * g;
}, $3 = function(e, r, t, n, i, o, a, l) {
  for (var s = [], f = [[], []], h, d, v, g, y = 0; y < 2; ++y) {
    if (y === 0 ? (d = 6 * e - 12 * t + 6 * i, h = -3 * e + 9 * t - 9 * i + 3 * a, v = 3 * t - 3 * e) : (d = 6 * r - 12 * n + 6 * o, h = -3 * r + 9 * n - 9 * o + 3 * l, v = 3 * n - 3 * r), Math.abs(h) < 1e-12) {
      if (Math.abs(d) < 1e-12)
        continue;
      g = -v / d, g > 0 && g < 1 && s.push(g);
      continue;
    }
    var C = d * d - 4 * v * h, m = Math.sqrt(C);
    if (!(C < 0)) {
      var w = (-d + m) / (2 * h);
      w > 0 && w < 1 && s.push(w);
      var S = (-d - m) / (2 * h);
      S > 0 && S < 1 && s.push(S);
    }
  }
  for (var x = s.length, b = x, O; x--; )
    g = s[x], O = 1 - g, f[0][x] = O * O * O * e + 3 * O * O * g * t + 3 * O * g * g * i + g * g * g * a, f[1][x] = O * O * O * r + 3 * O * O * g * n + 3 * O * g * g * o + g * g * g * l;
  return f[0][b] = e, f[1][b] = r, f[0][b + 1] = a, f[1][b + 1] = l, f[0].length = f[1].length = b + 2, {
    min: {
      x: Math.min.apply(0, f[0]),
      y: Math.min.apply(0, f[1])
    },
    max: {
      x: Math.max.apply(0, f[0]),
      y: Math.max.apply(0, f[1])
    }
  };
}, N3 = function(e, r, t, n, i, o, a, l) {
  if (!(Math.max(e, t) < Math.min(i, a) || Math.min(e, t) > Math.max(i, a) || Math.max(r, n) < Math.min(o, l) || Math.min(r, n) > Math.max(o, l))) {
    var s = (e * n - r * t) * (i - a) - (e - t) * (i * l - o * a), f = (e * n - r * t) * (o - l) - (r - n) * (i * l - o * a), h = (e - t) * (o - l) - (r - n) * (i - a);
    if (h) {
      var d = s / h, v = f / h, g = +d.toFixed(2), y = +v.toFixed(2);
      if (!(g < +Math.min(e, t).toFixed(2) || g > +Math.max(e, t).toFixed(2) || g < +Math.min(i, a).toFixed(2) || g > +Math.max(i, a).toFixed(2) || y < +Math.min(r, n).toFixed(2) || y > +Math.max(r, n).toFixed(2) || y < +Math.min(o, l).toFixed(2) || y > +Math.max(o, l).toFixed(2)))
        return {
          x: d,
          y: v
        };
    }
  }
}, ho = function(e, r, t) {
  return r >= e.x && r <= e.x + e.width && t >= e.y && t <= e.y + e.height;
}, _x = function(e, r, t, n, i) {
  if (i)
    return [
      ["M", +e + +i, r],
      ["l", t - i * 2, 0],
      ["a", i, i, 0, 0, 1, i, i],
      ["l", 0, n - i * 2],
      ["a", i, i, 0, 0, 1, -i, i],
      ["l", i * 2 - t, 0],
      ["a", i, i, 0, 0, 1, -i, -i],
      ["l", 0, i * 2 - n],
      ["a", i, i, 0, 0, 1, i, -i],
      ["z"]
    ];
  var o = [["M", e, r], ["l", t, 0], ["l", 0, n], ["l", -t, 0], ["z"]];
  return o.parsePathArray = Cx, o;
}, nv = function(e, r, t, n) {
  return e === null && (e = r = t = n = 0), r === null && (r = e.y, t = e.width, n = e.height, e = e.x), {
    x: e,
    y: r,
    width: t,
    w: t,
    height: n,
    h: n,
    x2: e + t,
    y2: r + n,
    cx: e + t / 2,
    cy: r + n / 2,
    r1: Math.min(t, n) / 2,
    r2: Math.max(t, n) / 2,
    r0: Math.sqrt(t * t + n * n) / 2,
    path: _x(e, r, t, n),
    vb: [e, r, t, n].join(" ")
  };
}, H3 = function(e, r) {
  return e = nv(e), r = nv(r), ho(r, e.x, e.y) || ho(r, e.x2, e.y) || ho(r, e.x, e.y2) || ho(r, e.x2, e.y2) || ho(e, r.x, r.y) || ho(e, r.x2, r.y) || ho(e, r.x, r.y2) || ho(e, r.x2, r.y2) || (e.x < r.x2 && e.x > r.x || r.x < e.x2 && r.x > e.x) && (e.y < r.y2 && e.y > r.y || r.y < e.y2 && r.y > e.y);
}, wC = function(e, r, t, n, i, o, a, l) {
  In(e) || (e = [e, r, t, n, i, o, a, l]);
  var s = $3.apply(null, e);
  return nv(s.min.x, s.min.y, s.max.x - s.min.x, s.max.y - s.min.y);
}, xC = function(e, r, t, n, i, o, a, l, s) {
  var f = 1 - s, h = Math.pow(f, 3), d = Math.pow(f, 2), v = s * s, g = v * s, y = h * e + d * 3 * s * t + f * 3 * s * s * i + g * a, C = h * r + d * 3 * s * n + f * 3 * s * s * o + g * l, m = e + 2 * s * (t - e) + v * (i - 2 * t + e), w = r + 2 * s * (n - r) + v * (o - 2 * n + r), S = t + 2 * s * (i - t) + v * (a - 2 * i + t), x = n + 2 * s * (o - n) + v * (l - 2 * o + n), b = f * e + s * t, O = f * r + s * n, D = f * i + s * a, N = f * o + s * l, W = 90 - Math.atan2(m - S, w - x) * 180 / Math.PI;
  return {
    x: y,
    y: C,
    m: {
      x: m,
      y: w
    },
    n: {
      x: S,
      y: x
    },
    start: {
      x: b,
      y: O
    },
    end: {
      x: D,
      y: N
    },
    alpha: W
  };
}, z3 = function(e, r, t) {
  var n = wC(e), i = wC(r);
  if (!H3(n, i))
    return t ? 0 : [];
  for (var o = mC.apply(0, e), a = mC.apply(0, r), l = ~~(o / 8), s = ~~(a / 8), f = [], h = [], d = {}, v = t ? 0 : [], g = 0; g < l + 1; g++) {
    var y = xC.apply(0, e.concat(g / l));
    f.push({
      x: y.x,
      y: y.y,
      t: g / l
    });
  }
  for (var g = 0; g < s + 1; g++) {
    var y = xC.apply(0, r.concat(g / s));
    h.push({
      x: y.x,
      y: y.y,
      t: g / s
    });
  }
  for (var g = 0; g < l; g++)
    for (var C = 0; C < s; C++) {
      var m = f[g], w = f[g + 1], S = h[C], x = h[C + 1], b = Math.abs(w.x - m.x) < 1e-3 ? "y" : "x", O = Math.abs(x.x - S.x) < 1e-3 ? "y" : "x", D = N3(m.x, m.y, w.x, w.y, S.x, S.y, x.x, x.y);
      if (D) {
        if (d[D.x.toFixed(4)] === D.y.toFixed(4))
          continue;
        d[D.x.toFixed(4)] = D.y.toFixed(4);
        var N = m.t + Math.abs((D[b] - m[b]) / (w[b] - m[b])) * (w.t - m.t), W = S.t + Math.abs((D[O] - S[O]) / (x[O] - S[O])) * (x.t - S.t);
        N >= 0 && N <= 1 && W >= 0 && W <= 1 && (t ? v += 1 : v.push({
          x: D.x,
          y: D.y,
          t1: N,
          t2: W
        }));
      }
    }
  return v;
}, W3 = function(e, r, t) {
  e = rv(e), r = rv(r);
  for (var n, i, o, a, l, s, f, h, d, v, g = t ? 0 : [], y = 0, C = e.length; y < C; y++) {
    var m = e[y];
    if (m[0] === "M")
      n = l = m[1], i = s = m[2];
    else {
      m[0] === "C" ? (d = [n, i].concat(m.slice(1)), n = d[6], i = d[7]) : (d = [n, i, n, i, l, s, l, s], n = l, i = s);
      for (var w = 0, S = r.length; w < S; w++) {
        var x = r[w];
        if (x[0] === "M")
          o = f = x[1], a = h = x[2];
        else {
          x[0] === "C" ? (v = [o, a].concat(x.slice(1)), o = v[6], a = v[7]) : (v = [o, a, o, a, f, h, f, h], o = f, a = h);
          var b = z3(d, v, t);
          if (t)
            g += b;
          else {
            for (var O = 0, D = b.length; O < D; O++)
              b[O].segment1 = y, b[O].segment2 = w, b[O].bez1 = d, b[O].bez2 = v;
            g = g.concat(b);
          }
        }
      }
    }
  }
  return g;
}, G3 = function(e, r) {
  return W3(e, r);
};
function k3(e, r) {
  var t = [], n = [];
  function i(o, a) {
    if (o.length === 1)
      t.push(o[0]), n.push(o[0]);
    else {
      for (var l = [], s = 0; s < o.length - 1; s++)
        s === 0 && t.push(o[0]), s === o.length - 2 && n.push(o[s + 1]), l[s] = [
          (1 - a) * o[s][0] + a * o[s + 1][0],
          (1 - a) * o[s][1] + a * o[s + 1][1]
        ];
      i(l, a);
    }
  }
  return e.length && i(e, r), { left: t, right: n.reverse() };
}
function U3(e, r, t) {
  var n = [[e[1], e[2]]];
  t = t || 2;
  var i = [];
  r[0] === "A" ? (n.push(r[6]), n.push(r[7])) : r[0] === "C" ? (n.push([r[1], r[2]]), n.push([r[3], r[4]]), n.push([r[5], r[6]])) : r[0] === "S" || r[0] === "Q" ? (n.push([r[1], r[2]]), n.push([r[3], r[4]])) : n.push([r[1], r[2]]);
  for (var o = n, a = 1 / t, l = 0; l < t - 1; l++) {
    var s = a / (1 - a * l), f = k3(o, s);
    i.push(f.left), o = f.right;
  }
  i.push(o);
  var h = i.map(function(d) {
    var v = [];
    return d.length === 4 && (v.push("C"), v = v.concat(d[2])), d.length >= 3 && (d.length === 3 && v.push("Q"), v = v.concat(d[1])), d.length === 2 && v.push("L"), v = v.concat(d[d.length - 1]), v;
  });
  return h;
}
var Y3 = function(e, r, t) {
  if (t === 1)
    return [[].concat(e)];
  var n = [];
  if (r[0] === "L" || r[0] === "C" || r[0] === "Q")
    n = n.concat(U3(e, r, t));
  else {
    var i = [].concat(e);
    i[0] === "M" && (i[0] = "L");
    for (var o = 0; o <= t - 1; o++)
      n.push(i);
  }
  return n;
}, X3 = function(e, r) {
  if (e.length === 1)
    return e;
  var t = e.length - 1, n = r.length - 1, i = t / n, o = [];
  if (e.length === 1 && e[0][0] === "M") {
    for (var a = 0; a < n - t; a++)
      e.push(e[0]);
    return e;
  }
  for (var a = 0; a < n; a++) {
    var l = Math.floor(i * a);
    o[l] = (o[l] || 0) + 1;
  }
  var s = o.reduce(function(f, h, d) {
    return d === t ? f.concat(e[t]) : f.concat(Y3(e[d], e[d + 1], h));
  }, []);
  return s.unshift(e[0]), (r[n] === "Z" || r[n] === "z") && s.push("Z"), s;
}, V3 = function(e, r) {
  if (e.length !== r.length)
    return !1;
  var t = !0;
  return at(e, function(n, i) {
    if (n !== r[i])
      return t = !1, !1;
  }), t;
};
function q3(e, r, t) {
  var n = null, i = t;
  return r < i && (i = r, n = "add"), e < i && (i = e, n = "del"), {
    type: n,
    min: i
  };
}
var K3 = function(e, r) {
  var t = e.length, n = r.length, i, o, a = 0;
  if (t === 0 || n === 0)
    return null;
  for (var l = [], s = 0; s <= t; s++)
    l[s] = [], l[s][0] = { min: s };
  for (var f = 0; f <= n; f++)
    l[0][f] = { min: f };
  for (var s = 1; s <= t; s++) {
    i = e[s - 1];
    for (var f = 1; f <= n; f++) {
      o = r[f - 1], V3(i, o) ? a = 0 : a = 1;
      var h = l[s - 1][f].min + 1, d = l[s][f - 1].min + 1, v = l[s - 1][f - 1].min + a;
      l[s][f] = q3(h, d, v);
    }
  }
  return l;
}, mx = function(e, r) {
  var t = K3(e, r), n = e.length, i = r.length, o = [], a = 1, l = 1;
  if (t[n][i].min !== n) {
    for (var s = 1; s <= n; s++) {
      var f = t[s][s].min;
      l = s;
      for (var h = a; h <= i; h++)
        t[s][h].min < f && (f = t[s][h].min, l = h);
      a = l, t[s][a].type && o.push({ index: s - 1, type: t[s][a].type });
    }
    for (var s = o.length - 1; s >= 0; s--)
      a = o[s].index, o[s].type === "add" ? e.splice(a, 0, [].concat(e[a])) : e.splice(a, 1);
  }
  n = e.length;
  var d = i - n;
  if (n < i)
    for (var s = 0; s < d; s++)
      e[n - 1][0] === "z" || e[n - 1][0] === "Z" ? e.splice(n - 2, 0, e[n - 2]) : e.push(e[n - 1]), n += 1;
  return e;
};
function _d(e, r, t) {
  for (var n = [].concat(e), i, o = 1 / (t + 1), a = wx(r)[0], l = 1; l <= t; l++)
    o *= l, i = Math.floor(e.length * o), i === 0 ? n.unshift([a[0] * o + e[i][0] * (1 - o), a[1] * o + e[i][1] * (1 - o)]) : n.splice(i, 0, [
      a[0] * o + e[i][0] * (1 - o),
      a[1] * o + e[i][1] * (1 - o)
    ]);
  return n;
}
function wx(e) {
  var r = [];
  switch (e[0]) {
    case "M":
      r.push([e[1], e[2]]);
      break;
    case "L":
      r.push([e[1], e[2]]);
      break;
    case "A":
      r.push([e[6], e[7]]);
      break;
    case "Q":
      r.push([e[3], e[4]]), r.push([e[1], e[2]]);
      break;
    case "T":
      r.push([e[1], e[2]]);
      break;
    case "C":
      r.push([e[5], e[6]]), r.push([e[1], e[2]]), r.push([e[3], e[4]]);
      break;
    case "S":
      r.push([e[3], e[4]]), r.push([e[1], e[2]]);
      break;
    case "H":
      r.push([e[1], e[1]]);
      break;
    case "V":
      r.push([e[1], e[1]]);
      break;
  }
  return r;
}
var iv = function(e, r) {
  if (e.length <= 1)
    return e;
  for (var t, n = 0; n < r.length; n++)
    if (e[n][0] !== r[n][0])
      switch (t = wx(e[n]), r[n][0]) {
        case "M":
          e[n] = ["M"].concat(t[0]);
          break;
        case "L":
          e[n] = ["L"].concat(t[0]);
          break;
        case "A":
          e[n] = [].concat(r[n]), e[n][6] = t[0][0], e[n][7] = t[0][1];
          break;
        case "Q":
          if (t.length < 2)
            if (n > 0)
              t = _d(t, e[n - 1], 1);
            else {
              e[n] = r[n];
              break;
            }
          e[n] = ["Q"].concat(t.reduce(function(i, o) {
            return i.concat(o);
          }, []));
          break;
        case "T":
          e[n] = ["T"].concat(t[0]);
          break;
        case "C":
          if (t.length < 3)
            if (n > 0)
              t = _d(t, e[n - 1], 2);
            else {
              e[n] = r[n];
              break;
            }
          e[n] = ["C"].concat(t.reduce(function(i, o) {
            return i.concat(o);
          }, []));
          break;
        case "S":
          if (t.length < 2)
            if (n > 0)
              t = _d(t, e[n - 1], 1);
            else {
              e[n] = r[n];
              break;
            }
          e[n] = ["S"].concat(t.reduce(function(i, o) {
            return i.concat(o);
          }, []));
          break;
        default:
          e[n] = r[n];
      }
  return e;
}, j3 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  catmullRomToBezier: ev,
  fillPath: X3,
  fillPathByDiff: mx,
  formatPath: iv,
  intersection: G3,
  parsePathArray: Cx,
  parsePathString: Wa,
  pathToAbsolute: tv,
  pathToCurve: rv,
  rectPath: _x
}), Z3 = (
  /** @class */
  function() {
    function e(r, t) {
      this.bubbles = !0, this.target = null, this.currentTarget = null, this.delegateTarget = null, this.delegateObject = null, this.defaultPrevented = !1, this.propagationStopped = !1, this.shape = null, this.fromShape = null, this.toShape = null, this.propagationPath = [], this.type = r, this.name = r, this.originalEvent = t, this.timeStamp = t.timeStamp;
    }
    return e.prototype.preventDefault = function() {
      this.defaultPrevented = !0, this.originalEvent.preventDefault && this.originalEvent.preventDefault();
    }, e.prototype.stopPropagation = function() {
      this.propagationStopped = !0;
    }, e.prototype.toString = function() {
      var r = this.type;
      return "[Event (type=" + r + ")]";
    }, e.prototype.save = function() {
    }, e.prototype.restore = function() {
    }, e;
  }()
);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ov = function(e, r) {
  return ov = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, n) {
    t.__proto__ = n;
  } || function(t, n) {
    for (var i in n)
      Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
  }, ov(e, r);
};
function cl(e, r) {
  if (typeof r != "function" && r !== null)
    throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
  ov(e, r);
  function t() {
    this.constructor = e;
  }
  e.prototype = r === null ? Object.create(r) : (t.prototype = r.prototype, new t());
}
var Q3 = "*", nc = (
  /** @class */
  function() {
    function e() {
      this._events = {};
    }
    return e.prototype.on = function(r, t, n) {
      return this._events[r] || (this._events[r] = []), this._events[r].push({
        callback: t,
        once: !!n
      }), this;
    }, e.prototype.once = function(r, t) {
      return this.on(r, t, !0);
    }, e.prototype.emit = function(r) {
      for (var t = this, n = [], i = 1; i < arguments.length; i++)
        n[i - 1] = arguments[i];
      var o = this._events[r] || [], a = this._events[Q3] || [], l = function(s) {
        for (var f = s.length, h = 0; h < f; h++)
          if (s[h]) {
            var d = s[h], v = d.callback, g = d.once;
            g && (s.splice(h, 1), s.length === 0 && delete t._events[r], f--, h--), v.apply(t, n);
          }
      };
      l(o), l(a);
    }, e.prototype.off = function(r, t) {
      if (!r)
        this._events = {};
      else if (!t)
        delete this._events[r];
      else {
        for (var n = this._events[r] || [], i = n.length, o = 0; o < i; o++)
          n[o].callback === t && (n.splice(o, 1), i--, o--);
        n.length === 0 && delete this._events[r];
      }
      return this;
    }, e.prototype.getEvents = function() {
      return this._events;
    }, e;
  }()
);
function xx(e, r) {
  var t = e.indexOf(r);
  t !== -1 && e.splice(t, 1);
}
var SC = typeof window < "u" && typeof window.document < "u";
function Sx(e, r) {
  if (e.isCanvas())
    return !0;
  for (var t = r.getParent(), n = !1; t; ) {
    if (t === e) {
      n = !0;
      break;
    }
    t = t.getParent();
  }
  return n;
}
function av(e) {
  return e.cfg.visible && e.cfg.capture;
}
var J3 = (
  /** @class */
  function(e) {
    cl(r, e);
    function r(t) {
      var n = e.call(this) || this;
      n.destroyed = !1;
      var i = n.getDefaultCfg();
      return n.cfg = gx(i, t), n;
    }
    return r.prototype.getDefaultCfg = function() {
      return {};
    }, r.prototype.get = function(t) {
      return this.cfg[t];
    }, r.prototype.set = function(t, n) {
      this.cfg[t] = n;
    }, r.prototype.destroy = function() {
      this.cfg = {
        destroyed: !0
      }, this.off(), this.destroyed = !0;
    }, r;
  }(nc)
), TC = function(e, r, t) {
  if (t || arguments.length === 2)
    for (var n = 0, i = r.length, o; n < i; n++)
      (o || !(n in r)) && (o || (o = Array.prototype.slice.call(r, 0, n)), o[n] = r[n]);
  return e.concat(o || Array.prototype.slice.call(r));
}, e5 = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(r, t, n) {
      this.name = r, this.version = t, this.os = n, this.type = "browser";
    }
    return e;
  }()
), t5 = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(r) {
      this.version = r, this.type = "node", this.name = "node", this.os = process.platform;
    }
    return e;
  }()
), r5 = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(r, t, n, i) {
      this.name = r, this.version = t, this.os = n, this.bot = i, this.type = "bot-device";
    }
    return e;
  }()
), n5 = (
  /** @class */
  /* @__PURE__ */ function() {
    function e() {
      this.type = "bot", this.bot = !0, this.name = "bot", this.version = null, this.os = null;
    }
    return e;
  }()
), i5 = (
  /** @class */
  /* @__PURE__ */ function() {
    function e() {
      this.type = "react-native", this.name = "react-native", this.version = null, this.os = null;
    }
    return e;
  }()
), o5 = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/, a5 = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/, bC = 3, l5 = [
  ["aol", /AOLShield\/([0-9\._]+)/],
  ["edge", /Edge\/([0-9\._]+)/],
  ["edge-ios", /EdgiOS\/([0-9\._]+)/],
  ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
  ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
  ["samsung", /SamsungBrowser\/([0-9\.]+)/],
  ["silk", /\bSilk\/([0-9._-]+)\b/],
  ["miui", /MiuiBrowser\/([0-9\.]+)$/],
  ["beaker", /BeakerBrowser\/([0-9\.]+)/],
  ["edge-chromium", /EdgA?\/([0-9\.]+)/],
  [
    "chromium-webview",
    /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/
  ],
  ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
  ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
  ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
  ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
  ["fxios", /FxiOS\/([0-9\.]+)/],
  ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
  ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
  ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
  ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
  ["pie", /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],
  ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
  ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
  ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
  ["ie", /MSIE\s(7\.0)/],
  ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
  ["android", /Android\s([0-9\.]+)/],
  ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
  ["safari", /Version\/([0-9\._]+).*Safari/],
  ["facebook", /FB[AS]V\/([0-9\.]+)/],
  ["instagram", /Instagram\s([0-9\.]+)/],
  ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
  ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
  ["curl", /^curl\/([0-9\.]+)$/],
  ["searchbot", o5]
], EC = [
  ["iOS", /iP(hone|od|ad)/],
  ["Android OS", /Android/],
  ["BlackBerry OS", /BlackBerry|BB10/],
  ["Windows Mobile", /IEMobile/],
  ["Amazon OS", /Kindle/],
  ["Windows 3.11", /Win16/],
  ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
  ["Windows 98", /(Windows 98)|(Win98)/],
  ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
  ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
  ["Windows Server 2003", /(Windows NT 5.2)/],
  ["Windows Vista", /(Windows NT 6.0)/],
  ["Windows 7", /(Windows NT 6.1)/],
  ["Windows 8", /(Windows NT 6.2)/],
  ["Windows 8.1", /(Windows NT 6.3)/],
  ["Windows 10", /(Windows NT 10.0)/],
  ["Windows ME", /Windows ME/],
  ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
  ["Open BSD", /OpenBSD/],
  ["Sun OS", /SunOS/],
  ["Chrome OS", /CrOS/],
  ["Linux", /(Linux)|(X11)/],
  ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
  ["QNX", /QNX/],
  ["BeOS", /BeOS/],
  ["OS/2", /OS\/2/]
];
function s5(e) {
  return e ? LC(e) : typeof document > "u" && typeof navigator < "u" && navigator.product === "ReactNative" ? new i5() : typeof navigator < "u" ? LC(navigator.userAgent) : c5();
}
function u5(e) {
  return e !== "" && l5.reduce(function(r, t) {
    var n = t[0], i = t[1];
    if (r)
      return r;
    var o = i.exec(e);
    return !!o && [n, o];
  }, !1);
}
function LC(e) {
  var r = u5(e);
  if (!r)
    return null;
  var t = r[0], n = r[1];
  if (t === "searchbot")
    return new n5();
  var i = n[1] && n[1].split(".").join("_").split("_").slice(0, 3);
  i ? i.length < bC && (i = TC(TC([], i, !0), h5(bC - i.length), !0)) : i = [];
  var o = i.join("."), a = f5(e), l = a5.exec(e);
  return l && l[1] ? new r5(t, o, a, l[1]) : new e5(t, o, a);
}
function f5(e) {
  for (var r = 0, t = EC.length; r < t; r++) {
    var n = EC[r], i = n[0], o = n[1], a = o.exec(e);
    if (a)
      return i;
  }
  return null;
}
function c5() {
  var e = typeof process < "u" && process.version;
  return e ? new t5(process.version.slice(1)) : null;
}
function h5(e) {
  for (var r = [], t = 0; t < e; t++)
    r.push("0");
  return r;
}
var Lf = typeof Float32Array < "u" ? Float32Array : Array;
Math.hypot || (Math.hypot = function() {
  for (var e = 0, r = arguments.length; r--; )
    e += arguments[r] * arguments[r];
  return Math.sqrt(e);
});
function ic(e, r, t) {
  var n = r[0], i = r[1], o = r[2], a = r[3], l = r[4], s = r[5], f = r[6], h = r[7], d = r[8], v = t[0], g = t[1], y = t[2], C = t[3], m = t[4], w = t[5], S = t[6], x = t[7], b = t[8];
  return e[0] = v * n + g * a + y * f, e[1] = v * i + g * l + y * h, e[2] = v * o + g * s + y * d, e[3] = C * n + m * a + w * f, e[4] = C * i + m * l + w * h, e[5] = C * o + m * s + w * d, e[6] = S * n + x * a + b * f, e[7] = S * i + x * l + b * h, e[8] = S * o + x * s + b * d, e;
}
function d5(e, r) {
  return e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 1, e[5] = 0, e[6] = r[0], e[7] = r[1], e[8] = 1, e;
}
function v5(e, r) {
  var t = Math.sin(r), n = Math.cos(r);
  return e[0] = n, e[1] = t, e[2] = 0, e[3] = -t, e[4] = n, e[5] = 0, e[6] = 0, e[7] = 0, e[8] = 1, e;
}
function p5(e, r) {
  return e[0] = r[0], e[1] = 0, e[2] = 0, e[3] = 0, e[4] = r[1], e[5] = 0, e[6] = 0, e[7] = 0, e[8] = 1, e;
}
function g5() {
  var e = new Lf(3);
  return Lf != Float32Array && (e[0] = 0, e[1] = 0, e[2] = 0), e;
}
function y5(e, r, t) {
  var n = r[0], i = r[1], o = r[2];
  return e[0] = n * t[0] + i * t[3] + o * t[6], e[1] = n * t[1] + i * t[4] + o * t[7], e[2] = n * t[2] + i * t[5] + o * t[8], e;
}
(function() {
  var e = g5();
  return function(r, t, n, i, o, a) {
    var l, s;
    for (t || (t = 3), n || (n = 0), i ? s = Math.min(i * t + n, r.length) : s = r.length, l = n; l < s; l += t)
      e[0] = r[l], e[1] = r[l + 1], e[2] = r[l + 2], o(e, e, a), r[l] = e[0], r[l + 1] = e[1], r[l + 2] = e[2];
    return r;
  };
})();
function C5() {
  var e = new Lf(2);
  return Lf != Float32Array && (e[0] = 0, e[1] = 0), e;
}
function _5(e, r) {
  var t = r[0], n = r[1], i = t * t + n * n;
  return i > 0 && (i = 1 / Math.sqrt(i)), e[0] = r[0] * i, e[1] = r[1] * i, e;
}
function m5(e, r) {
  return e[0] * r[0] + e[1] * r[1];
}
function w5(e, r) {
  return e[0] === r[0] && e[1] === r[1];
}
(function() {
  var e = C5();
  return function(r, t, n, i, o, a) {
    var l, s;
    for (t || (t = 2), n || (n = 0), i ? s = Math.min(i * t + n, r.length) : s = r.length, l = n; l < s; l += t)
      e[0] = r[l], e[1] = r[l + 1], o(e, e, a), r[l] = e[0], r[l + 1] = e[1];
    return r;
  };
})();
function x5(e, r, t) {
  var n = [0, 0, 0, 0, 0, 0, 0, 0, 0];
  return d5(n, t), ic(e, n, r);
}
function S5(e, r, t) {
  var n = [0, 0, 0, 0, 0, 0, 0, 0, 0];
  return v5(n, t), ic(e, n, r);
}
function T5(e, r, t) {
  var n = [0, 0, 0, 0, 0, 0, 0, 0, 0];
  return p5(n, t), ic(e, n, r);
}
function b5(e, r, t) {
  return ic(e, t, r);
}
function Tx(e, r) {
  for (var t = e ? [].concat(e) : [1, 0, 0, 0, 1, 0, 0, 0, 1], n = 0, i = r.length; n < i; n++) {
    var o = r[n];
    switch (o[0]) {
      case "t":
        x5(t, t, [o[1], o[2]]);
        break;
      case "s":
        T5(t, t, [o[1], o[2]]);
        break;
      case "r":
        S5(t, t, o[1]);
        break;
      case "m":
        b5(t, t, o[1]);
        break;
    }
  }
  return t;
}
function AC(e, r) {
  var t = [], n = e[0], i = e[1], o = e[2], a = e[3], l = e[4], s = e[5], f = e[6], h = e[7], d = e[8], v = r[0], g = r[1], y = r[2], C = r[3], m = r[4], w = r[5], S = r[6], x = r[7], b = r[8];
  return t[0] = v * n + g * a + y * f, t[1] = v * i + g * l + y * h, t[2] = v * o + g * s + y * d, t[3] = C * n + m * a + w * f, t[4] = C * i + m * l + w * h, t[5] = C * o + m * s + w * d, t[6] = S * n + x * a + b * f, t[7] = S * i + x * l + b * h, t[8] = S * o + x * s + b * d, t;
}
function jo(e, r) {
  var t = [], n = r[0], i = r[1];
  return t[0] = e[0] * n + e[3] * i + e[6], t[1] = e[1] * n + e[4] * i + e[7], t;
}
function bx(e) {
  var r = [], t = e[0], n = e[1], i = e[2], o = e[3], a = e[4], l = e[5], s = e[6], f = e[7], h = e[8], d = h * a - l * f, v = -h * o + l * s, g = f * o - a * s, y = t * d + n * v + i * g;
  return y ? (y = 1 / y, r[0] = d * y, r[1] = (-h * n + i * f) * y, r[2] = (l * n - i * a) * y, r[3] = v * y, r[4] = (h * t - i * s) * y, r[5] = (-l * t + i * o) * y, r[6] = g * y, r[7] = (-f * t + n * s) * y, r[8] = (a * t - n * o) * y, r) : null;
}
var Xl = Tx, md = "matrix", E5 = ["zIndex", "capture", "visible", "type"], L5 = ["repeat"], A5 = ":", R5 = "*";
function O5(e) {
  for (var r = [], t = 0; t < e.length; t++)
    In(e[t]) ? r.push([].concat(e[t])) : r.push(e[t]);
  return r;
}
function I5(e, r) {
  var t = {}, n = r.attrs;
  for (var i in e)
    t[i] = n[i];
  return t;
}
function M5(e, r) {
  var t = {}, n = r.attr();
  return at(e, function(i, o) {
    L5.indexOf(o) === -1 && !Ef(n[o], i) && (t[o] = i);
  }), t;
}
function B5(e, r) {
  if (r.onFrame)
    return e;
  var t = r.startTime, n = r.delay, i = r.duration, o = Object.prototype.hasOwnProperty;
  return at(e, function(a) {
    t + n < a.startTime + a.delay + a.duration && i > a.delay && at(r.toAttrs, function(l, s) {
      o.call(a.toAttrs, s) && (delete a.toAttrs[s], delete a.fromAttrs[s]);
    });
  }), e;
}
var Ex = (
  /** @class */
  function(e) {
    cl(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      n.attrs = {};
      var i = n.getDefaultAttrs();
      return gx(i, t.attrs), n.attrs = i, n.initAttrs(i), n.initAnimate(), n;
    }
    return r.prototype.getDefaultCfg = function() {
      return {
        visible: !0,
        capture: !0,
        zIndex: 0
      };
    }, r.prototype.getDefaultAttrs = function() {
      return {
        matrix: this.getDefaultMatrix(),
        opacity: 1
      };
    }, r.prototype.onCanvasChange = function(t) {
    }, r.prototype.initAttrs = function(t) {
    }, r.prototype.initAnimate = function() {
      this.set("animable", !0), this.set("animating", !1);
    }, r.prototype.isGroup = function() {
      return !1;
    }, r.prototype.getParent = function() {
      return this.get("parent");
    }, r.prototype.getCanvas = function() {
      return this.get("canvas");
    }, r.prototype.attr = function() {
      for (var t, n = [], i = 0; i < arguments.length; i++)
        n[i] = arguments[i];
      var o = n[0], a = n[1];
      if (!o)
        return this.attrs;
      if (is(o)) {
        for (var l in o)
          this.setAttr(l, o[l]);
        return this.afterAttrsChange(o), this;
      }
      return n.length === 2 ? (this.setAttr(o, a), this.afterAttrsChange((t = {}, t[o] = a, t)), this) : this.attrs[o];
    }, r.prototype.isClipped = function(t, n) {
      var i = this.getClip();
      return i && !i.isHit(t, n);
    }, r.prototype.setAttr = function(t, n) {
      var i = this.attrs[t];
      i !== n && (this.attrs[t] = n, this.onAttrChange(t, n, i));
    }, r.prototype.onAttrChange = function(t, n, i) {
      t === "matrix" && this.set("totalMatrix", null);
    }, r.prototype.afterAttrsChange = function(t) {
      if (this.cfg.isClipShape) {
        var n = this.cfg.applyTo;
        n && n.onCanvasChange("clip");
      } else
        this.onCanvasChange("attr");
    }, r.prototype.show = function() {
      return this.set("visible", !0), this.onCanvasChange("show"), this;
    }, r.prototype.hide = function() {
      return this.set("visible", !1), this.onCanvasChange("hide"), this;
    }, r.prototype.setZIndex = function(t) {
      this.set("zIndex", t);
      var n = this.getParent();
      return n && n.sort(), this;
    }, r.prototype.toFront = function() {
      var t = this.getParent();
      if (t) {
        var n = t.getChildren();
        this.get("el");
        var i = n.indexOf(this);
        n.splice(i, 1), n.push(this), this.onCanvasChange("zIndex");
      }
    }, r.prototype.toBack = function() {
      var t = this.getParent();
      if (t) {
        var n = t.getChildren();
        this.get("el");
        var i = n.indexOf(this);
        n.splice(i, 1), n.unshift(this), this.onCanvasChange("zIndex");
      }
    }, r.prototype.remove = function(t) {
      t === void 0 && (t = !0);
      var n = this.getParent();
      n ? (xx(n.getChildren(), this), n.get("clearing") || this.onCanvasChange("remove")) : this.onCanvasChange("remove"), t && this.destroy();
    }, r.prototype.resetMatrix = function() {
      this.attr(md, this.getDefaultMatrix()), this.onCanvasChange("matrix");
    }, r.prototype.getMatrix = function() {
      return this.attr(md);
    }, r.prototype.setMatrix = function(t) {
      this.attr(md, t), this.onCanvasChange("matrix");
    }, r.prototype.getTotalMatrix = function() {
      var t = this.cfg.totalMatrix;
      if (!t) {
        var n = this.attr("matrix"), i = this.cfg.parentMatrix;
        i && n ? t = AC(i, n) : t = n || i, this.set("totalMatrix", t);
      }
      return t;
    }, r.prototype.applyMatrix = function(t) {
      var n = this.attr("matrix"), i = null;
      t && n ? i = AC(t, n) : i = n || t, this.set("totalMatrix", i), this.set("parentMatrix", t);
    }, r.prototype.getDefaultMatrix = function() {
      return null;
    }, r.prototype.applyToMatrix = function(t) {
      var n = this.attr("matrix");
      return n ? jo(n, t) : t;
    }, r.prototype.invertFromMatrix = function(t) {
      var n = this.attr("matrix");
      if (n) {
        var i = bx(n);
        if (i)
          return jo(i, t);
      }
      return t;
    }, r.prototype.setClip = function(t) {
      var n = this.getCanvas(), i = null;
      if (t) {
        var o = this.getShapeBase(), a = px(t.type), l = o[a];
        l && (i = new l({
          type: t.type,
          isClipShape: !0,
          applyTo: this,
          attrs: t.attrs,
          canvas: n
        }));
      }
      return this.set("clipShape", i), this.onCanvasChange("clip"), i;
    }, r.prototype.getClip = function() {
      var t = this.cfg.clipShape;
      return t || null;
    }, r.prototype.clone = function() {
      var t = this, n = this.attrs, i = {};
      at(n, function(l, s) {
        In(n[s]) ? i[s] = O5(n[s]) : i[s] = n[s];
      });
      var o = this.constructor, a = new o({ attrs: i });
      return at(E5, function(l) {
        a.set(l, t.get(l));
      }), a;
    }, r.prototype.destroy = function() {
      var t = this.destroyed;
      t || (this.attrs = {}, e.prototype.destroy.call(this));
    }, r.prototype.isAnimatePaused = function() {
      return this.get("_pause").isPaused;
    }, r.prototype.animate = function() {
      for (var t = [], n = 0; n < arguments.length; n++)
        t[n] = arguments[n];
      if (!(!this.get("timeline") && !this.get("canvas"))) {
        this.set("animating", !0);
        var i = this.get("timeline");
        i || (i = this.get("canvas").get("timeline"), this.set("timeline", i));
        var o = this.get("animations") || [];
        i.timer || i.initTimer();
        var a = t[0], l = t[1], s = t[2], f = s === void 0 ? "easeLinear" : s, h = t[3], d = h === void 0 ? Vu : h, v = t[4], g = v === void 0 ? 0 : v, y, C, m, w, S;
        ia(a) ? (y = a, a = {}) : is(a) && a.onFrame && (y = a.onFrame, C = a.repeat), is(l) ? (S = l, l = S.duration, f = S.easing || "easeLinear", g = S.delay || 0, C = S.repeat || C || !1, d = S.callback || Vu, m = S.pauseCallback || Vu, w = S.resumeCallback || Vu) : (Jd(d) && (g = d, d = null), ia(f) ? (d = f, f = "easeLinear") : f = f || "easeLinear");
        var x = M5(a, this), b = {
          fromAttrs: I5(x, this),
          toAttrs: x,
          duration: l,
          easing: f,
          repeat: C,
          callback: d,
          pauseCallback: m,
          resumeCallback: w,
          delay: g,
          startTime: i.getTime(),
          id: M3(),
          onFrame: y,
          pathFormatted: !1
        };
        o.length > 0 ? o = B5(o, b) : i.addAnimator(this), o.push(b), this.set("animations", o), this.set("_pause", { isPaused: !1 });
      }
    }, r.prototype.stopAnimate = function(t) {
      var n = this;
      t === void 0 && (t = !0);
      var i = this.get("animations");
      at(i, function(o) {
        t && (o.onFrame ? n.attr(o.onFrame(1)) : n.attr(o.toAttrs)), o.callback && o.callback();
      }), this.set("animating", !1), this.set("animations", []);
    }, r.prototype.pauseAnimate = function() {
      var t = this.get("timeline"), n = this.get("animations"), i = t.getTime();
      return at(n, function(o) {
        o._paused = !0, o._pauseTime = i, o.pauseCallback && o.pauseCallback();
      }), this.set("_pause", {
        isPaused: !0,
        pauseTime: i
      }), this;
    }, r.prototype.resumeAnimate = function() {
      var t = this.get("timeline"), n = t.getTime(), i = this.get("animations"), o = this.get("_pause").pauseTime;
      return at(i, function(a) {
        a.startTime = a.startTime + (n - o), a._paused = !1, a._pauseTime = null, a.resumeCallback && a.resumeCallback();
      }), this.set("_pause", {
        isPaused: !1
      }), this.set("animations", i), this;
    }, r.prototype.emitDelegation = function(t, n) {
      var i = this, o = n.propagationPath;
      this.getEvents();
      var a;
      t === "mouseenter" ? a = n.fromShape : t === "mouseleave" && (a = n.toShape);
      for (var l = function(d) {
        var v = o[d], g = v.get("name");
        if (g) {
          if (
            // 只有 element 是 Group 或者 Canvas 的时候，才需要判断 isParent
            (v.isGroup() || v.isCanvas && v.isCanvas()) && a && Sx(v, a)
          )
            return "break";
          In(g) ? at(g, function(y) {
            i.emitDelegateEvent(v, y, n);
          }) : s.emitDelegateEvent(v, g, n);
        }
      }, s = this, f = 0; f < o.length; f++) {
        var h = l(f);
        if (h === "break")
          break;
      }
    }, r.prototype.emitDelegateEvent = function(t, n, i) {
      var o = this.getEvents(), a = n + A5 + i.type;
      (o[a] || o[R5]) && (i.name = a, i.currentTarget = t, i.delegateTarget = this, i.delegateObject = t.get("delegateObject"), this.emit(a, i));
    }, r.prototype.translate = function(t, n) {
      t === void 0 && (t = 0), n === void 0 && (n = 0);
      var i = this.getMatrix(), o = Xl(i, [["t", t, n]]);
      return this.setMatrix(o), this;
    }, r.prototype.move = function(t, n) {
      var i = this.attr("x") || 0, o = this.attr("y") || 0;
      return this.translate(t - i, n - o), this;
    }, r.prototype.moveTo = function(t, n) {
      return this.move(t, n);
    }, r.prototype.scale = function(t, n) {
      var i = this.getMatrix(), o = Xl(i, [["s", t, n || t]]);
      return this.setMatrix(o), this;
    }, r.prototype.rotate = function(t) {
      var n = this.getMatrix(), i = Xl(n, [["r", t]]);
      return this.setMatrix(i), this;
    }, r.prototype.rotateAtStart = function(t) {
      var n = this.attr(), i = n.x, o = n.y, a = this.getMatrix(), l = Xl(a, [
        ["t", -i, -o],
        ["r", t],
        ["t", i, o]
      ]);
      return this.setMatrix(l), this;
    }, r.prototype.rotateAtPoint = function(t, n, i) {
      var o = this.getMatrix(), a = Xl(o, [
        ["t", -t, -n],
        ["r", i],
        ["t", t, n]
      ]);
      return this.setMatrix(a), this;
    }, r;
  }(J3)
), RC = {}, lv = "_INDEX";
function Lx(e, r) {
  if (e.set("canvas", r), e.isGroup()) {
    var t = e.get("children");
    t.length && t.forEach(function(n) {
      Lx(n, r);
    });
  }
}
function Ax(e, r) {
  if (e.set("timeline", r), e.isGroup()) {
    var t = e.get("children");
    t.length && t.forEach(function(n) {
      Ax(n, r);
    });
  }
}
function D5(e, r, t) {
  t === void 0 && (t = !0), t ? r.destroy() : (r.set("parent", null), r.set("canvas", null)), xx(e.getChildren(), r);
}
function P5(e) {
  return function(r, t) {
    var n = e(r, t);
    return n === 0 ? r[lv] - t[lv] : n;
  };
}
var Rx = (
  /** @class */
  function(e) {
    cl(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.isCanvas = function() {
      return !1;
    }, r.prototype.getBBox = function() {
      var t = 1 / 0, n = -1 / 0, i = 1 / 0, o = -1 / 0, a = [], l = [], s = this.getChildren().filter(function(h) {
        return h.get("visible") && (!h.isGroup() || h.isGroup() && h.getChildren().length > 0);
      });
      s.length > 0 ? (at(s, function(h) {
        var d = h.getBBox();
        a.push(d.minX, d.maxX), l.push(d.minY, d.maxY);
      }), t = si(a), n = li(a), i = si(l), o = li(l)) : (t = 0, n = 0, i = 0, o = 0);
      var f = {
        x: t,
        y: i,
        minX: t,
        minY: i,
        maxX: n,
        maxY: o,
        width: n - t,
        height: o - i
      };
      return f;
    }, r.prototype.getCanvasBBox = function() {
      var t = 1 / 0, n = -1 / 0, i = 1 / 0, o = -1 / 0, a = [], l = [], s = this.getChildren().filter(function(h) {
        return h.get("visible") && (!h.isGroup() || h.isGroup() && h.getChildren().length > 0);
      });
      s.length > 0 ? (at(s, function(h) {
        var d = h.getCanvasBBox();
        a.push(d.minX, d.maxX), l.push(d.minY, d.maxY);
      }), t = si(a), n = li(a), i = si(l), o = li(l)) : (t = 0, n = 0, i = 0, o = 0);
      var f = {
        x: t,
        y: i,
        minX: t,
        minY: i,
        maxX: n,
        maxY: o,
        width: n - t,
        height: o - i
      };
      return f;
    }, r.prototype.getDefaultCfg = function() {
      var t = e.prototype.getDefaultCfg.call(this);
      return t.children = [], t;
    }, r.prototype.onAttrChange = function(t, n, i) {
      if (e.prototype.onAttrChange.call(this, t, n, i), t === "matrix") {
        var o = this.getTotalMatrix();
        this._applyChildrenMarix(o);
      }
    }, r.prototype.applyMatrix = function(t) {
      var n = this.getTotalMatrix();
      e.prototype.applyMatrix.call(this, t);
      var i = this.getTotalMatrix();
      i !== n && this._applyChildrenMarix(i);
    }, r.prototype._applyChildrenMarix = function(t) {
      var n = this.getChildren();
      at(n, function(i) {
        i.applyMatrix(t);
      });
    }, r.prototype.addShape = function() {
      for (var t = [], n = 0; n < arguments.length; n++)
        t[n] = arguments[n];
      var i = t[0], o = t[1];
      is(i) ? o = i : o.type = i;
      var a = RC[o.type];
      a || (a = px(o.type), RC[o.type] = a);
      var l = this.getShapeBase(), s = new l[a](o);
      return this.add(s), s;
    }, r.prototype.addGroup = function() {
      for (var t = [], n = 0; n < arguments.length; n++)
        t[n] = arguments[n];
      var i = t[0], o = t[1], a;
      if (ia(i))
        o ? a = new i(o) : a = new i({
          // canvas,
          parent: this
        });
      else {
        var l = i || {}, s = this.getGroupBase();
        a = new s(l);
      }
      return this.add(a), a;
    }, r.prototype.getCanvas = function() {
      var t;
      return this.isCanvas() ? t = this : t = this.get("canvas"), t;
    }, r.prototype.getShape = function(t, n, i) {
      if (!av(this))
        return null;
      var o = this.getChildren(), a;
      if (this.isCanvas())
        a = this._findShape(o, t, n, i);
      else {
        var l = [t, n, 1];
        l = this.invertFromMatrix(l), this.isClipped(l[0], l[1]) || (a = this._findShape(o, l[0], l[1], i));
      }
      return a;
    }, r.prototype._findShape = function(t, n, i, o) {
      for (var a = null, l = t.length - 1; l >= 0; l--) {
        var s = t[l];
        if (av(s) && (s.isGroup() ? a = s.getShape(n, i, o) : s.isHit(n, i) && (a = s)), a)
          break;
      }
      return a;
    }, r.prototype.add = function(t) {
      var n = this.getCanvas(), i = this.getChildren(), o = this.get("timeline"), a = t.getParent();
      a && D5(a, t, !1), t.set("parent", this), n && Lx(t, n), o && Ax(t, o), i.push(t), t.onCanvasChange("add"), this._applyElementMatrix(t);
    }, r.prototype._applyElementMatrix = function(t) {
      var n = this.getTotalMatrix();
      n && t.applyMatrix(n);
    }, r.prototype.getChildren = function() {
      return this.get("children");
    }, r.prototype.sort = function() {
      var t = this.getChildren();
      at(t, function(n, i) {
        return n[lv] = i, n;
      }), t.sort(P5(function(n, i) {
        return n.get("zIndex") - i.get("zIndex");
      })), this.onCanvasChange("sort");
    }, r.prototype.clear = function() {
      if (this.set("clearing", !0), !this.destroyed) {
        for (var t = this.getChildren(), n = t.length - 1; n >= 0; n--)
          t[n].destroy();
        this.set("children", []), this.onCanvasChange("clear"), this.set("clearing", !1);
      }
    }, r.prototype.destroy = function() {
      this.get("destroyed") || (this.clear(), e.prototype.destroy.call(this));
    }, r.prototype.getFirst = function() {
      return this.getChildByIndex(0);
    }, r.prototype.getLast = function() {
      var t = this.getChildren();
      return this.getChildByIndex(t.length - 1);
    }, r.prototype.getChildByIndex = function(t) {
      var n = this.getChildren();
      return n[t];
    }, r.prototype.getCount = function() {
      var t = this.getChildren();
      return t.length;
    }, r.prototype.contain = function(t) {
      var n = this.getChildren();
      return n.indexOf(t) > -1;
    }, r.prototype.removeChild = function(t, n) {
      n === void 0 && (n = !0), this.contain(t) && t.remove(n);
    }, r.prototype.findAll = function(t) {
      var n = [], i = this.getChildren();
      return at(i, function(o) {
        t(o) && n.push(o), o.isGroup() && (n = n.concat(o.findAll(t)));
      }), n;
    }, r.prototype.find = function(t) {
      var n = null, i = this.getChildren();
      return at(i, function(o) {
        if (t(o) ? n = o : o.isGroup() && (n = o.find(t)), n)
          return !1;
      }), n;
    }, r.prototype.findById = function(t) {
      return this.find(function(n) {
        return n.get("id") === t;
      });
    }, r.prototype.findByClassName = function(t) {
      return this.find(function(n) {
        return n.get("className") === t;
      });
    }, r.prototype.findAllByName = function(t) {
      return this.findAll(function(n) {
        return n.get("name") === t;
      });
    }, r;
  }(Ex)
), Qa = 0, es = 0, Vl = 0, Ox = 1e3, Af, ts, Rf = 0, oa = 0, oc = 0, vs = typeof performance == "object" && performance.now ? performance : Date, Ix = typeof window == "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(e) {
  setTimeout(e, 17);
};
function Mx() {
  return oa || (Ix(F5), oa = vs.now() + oc);
}
function F5() {
  oa = 0;
}
function sv() {
  this._call = this._time = this._next = null;
}
sv.prototype = Tp.prototype = {
  constructor: sv,
  restart: function(e, r, t) {
    if (typeof e != "function")
      throw new TypeError("callback is not a function");
    t = (t == null ? Mx() : +t) + (r == null ? 0 : +r), !this._next && ts !== this && (ts ? ts._next = this : Af = this, ts = this), this._call = e, this._time = t, uv();
  },
  stop: function() {
    this._call && (this._call = null, this._time = 1 / 0, uv());
  }
};
function Tp(e, r, t) {
  var n = new sv();
  return n.restart(e, r, t), n;
}
function $5() {
  Mx(), ++Qa;
  for (var e = Af, r; e; )
    (r = oa - e._time) >= 0 && e._call.call(null, r), e = e._next;
  --Qa;
}
function OC() {
  oa = (Rf = vs.now()) + oc, Qa = es = 0;
  try {
    $5();
  } finally {
    Qa = 0, H5(), oa = 0;
  }
}
function N5() {
  var e = vs.now(), r = e - Rf;
  r > Ox && (oc -= r, Rf = e);
}
function H5() {
  for (var e, r = Af, t, n = 1 / 0; r; )
    r._call ? (n > r._time && (n = r._time), e = r, r = r._next) : (t = r._next, r._next = null, r = e ? e._next = t : Af = t);
  ts = e, uv(n);
}
function uv(e) {
  if (!Qa) {
    es && (es = clearTimeout(es));
    var r = e - oa;
    r > 24 ? (e < 1 / 0 && (es = setTimeout(OC, e - vs.now() - oc)), Vl && (Vl = clearInterval(Vl))) : (Vl || (Rf = vs.now(), Vl = setInterval(N5, Ox)), Qa = 1, Ix(OC));
  }
}
function bp(e, r, t) {
  e.prototype = r.prototype = t, t.constructor = e;
}
function Bx(e, r) {
  var t = Object.create(e.prototype);
  for (var n in r)
    t[n] = r[n];
  return t;
}
function zs() {
}
var ps = 0.7, Of = 1 / ps, Xa = "\\s*([+-]?\\d+)\\s*", gs = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*", ci = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*", z5 = /^#([0-9a-f]{3,8})$/, W5 = new RegExp("^rgb\\(" + [Xa, Xa, Xa] + "\\)$"), G5 = new RegExp("^rgb\\(" + [ci, ci, ci] + "\\)$"), k5 = new RegExp("^rgba\\(" + [Xa, Xa, Xa, gs] + "\\)$"), U5 = new RegExp("^rgba\\(" + [ci, ci, ci, gs] + "\\)$"), Y5 = new RegExp("^hsl\\(" + [gs, ci, ci] + "\\)$"), X5 = new RegExp("^hsla\\(" + [gs, ci, ci, gs] + "\\)$"), IC = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
bp(zs, ys, {
  copy: function(e) {
    return Object.assign(new this.constructor(), this, e);
  },
  displayable: function() {
    return this.rgb().displayable();
  },
  hex: MC,
  // Deprecated! Use color.formatHex.
  formatHex: MC,
  formatHsl: V5,
  formatRgb: BC,
  toString: BC
});
function MC() {
  return this.rgb().formatHex();
}
function V5() {
  return Dx(this).formatHsl();
}
function BC() {
  return this.rgb().formatRgb();
}
function ys(e) {
  var r, t;
  return e = (e + "").trim().toLowerCase(), (r = z5.exec(e)) ? (t = r[1].length, r = parseInt(r[1], 16), t === 6 ? DC(r) : t === 3 ? new an(r >> 8 & 15 | r >> 4 & 240, r >> 4 & 15 | r & 240, (r & 15) << 4 | r & 15, 1) : t === 8 ? Zu(r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, (r & 255) / 255) : t === 4 ? Zu(r >> 12 & 15 | r >> 8 & 240, r >> 8 & 15 | r >> 4 & 240, r >> 4 & 15 | r & 240, ((r & 15) << 4 | r & 15) / 255) : null) : (r = W5.exec(e)) ? new an(r[1], r[2], r[3], 1) : (r = G5.exec(e)) ? new an(r[1] * 255 / 100, r[2] * 255 / 100, r[3] * 255 / 100, 1) : (r = k5.exec(e)) ? Zu(r[1], r[2], r[3], r[4]) : (r = U5.exec(e)) ? Zu(r[1] * 255 / 100, r[2] * 255 / 100, r[3] * 255 / 100, r[4]) : (r = Y5.exec(e)) ? $C(r[1], r[2] / 100, r[3] / 100, 1) : (r = X5.exec(e)) ? $C(r[1], r[2] / 100, r[3] / 100, r[4]) : IC.hasOwnProperty(e) ? DC(IC[e]) : e === "transparent" ? new an(NaN, NaN, NaN, 0) : null;
}
function DC(e) {
  return new an(e >> 16 & 255, e >> 8 & 255, e & 255, 1);
}
function Zu(e, r, t, n) {
  return n <= 0 && (e = r = t = NaN), new an(e, r, t, n);
}
function q5(e) {
  return e instanceof zs || (e = ys(e)), e ? (e = e.rgb(), new an(e.r, e.g, e.b, e.opacity)) : new an();
}
function fv(e, r, t, n) {
  return arguments.length === 1 ? q5(e) : new an(e, r, t, n ?? 1);
}
function an(e, r, t, n) {
  this.r = +e, this.g = +r, this.b = +t, this.opacity = +n;
}
bp(an, fv, Bx(zs, {
  brighter: function(e) {
    return e = e == null ? Of : Math.pow(Of, e), new an(this.r * e, this.g * e, this.b * e, this.opacity);
  },
  darker: function(e) {
    return e = e == null ? ps : Math.pow(ps, e), new an(this.r * e, this.g * e, this.b * e, this.opacity);
  },
  rgb: function() {
    return this;
  },
  displayable: function() {
    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;
  },
  hex: PC,
  // Deprecated! Use color.formatHex.
  formatHex: PC,
  formatRgb: FC,
  toString: FC
}));
function PC() {
  return "#" + wd(this.r) + wd(this.g) + wd(this.b);
}
function FC() {
  var e = this.opacity;
  return e = isNaN(e) ? 1 : Math.max(0, Math.min(1, e)), (e === 1 ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (e === 1 ? ")" : ", " + e + ")");
}
function wd(e) {
  return e = Math.max(0, Math.min(255, Math.round(e) || 0)), (e < 16 ? "0" : "") + e.toString(16);
}
function $C(e, r, t, n) {
  return n <= 0 ? e = r = t = NaN : t <= 0 || t >= 1 ? e = r = NaN : r <= 0 && (e = NaN), new oi(e, r, t, n);
}
function Dx(e) {
  if (e instanceof oi)
    return new oi(e.h, e.s, e.l, e.opacity);
  if (e instanceof zs || (e = ys(e)), !e)
    return new oi();
  if (e instanceof oi)
    return e;
  e = e.rgb();
  var r = e.r / 255, t = e.g / 255, n = e.b / 255, i = Math.min(r, t, n), o = Math.max(r, t, n), a = NaN, l = o - i, s = (o + i) / 2;
  return l ? (r === o ? a = (t - n) / l + (t < n) * 6 : t === o ? a = (n - r) / l + 2 : a = (r - t) / l + 4, l /= s < 0.5 ? o + i : 2 - o - i, a *= 60) : l = s > 0 && s < 1 ? 0 : a, new oi(a, l, s, e.opacity);
}
function K5(e, r, t, n) {
  return arguments.length === 1 ? Dx(e) : new oi(e, r, t, n ?? 1);
}
function oi(e, r, t, n) {
  this.h = +e, this.s = +r, this.l = +t, this.opacity = +n;
}
bp(oi, K5, Bx(zs, {
  brighter: function(e) {
    return e = e == null ? Of : Math.pow(Of, e), new oi(this.h, this.s, this.l * e, this.opacity);
  },
  darker: function(e) {
    return e = e == null ? ps : Math.pow(ps, e), new oi(this.h, this.s, this.l * e, this.opacity);
  },
  rgb: function() {
    var e = this.h % 360 + (this.h < 0) * 360, r = isNaN(e) || isNaN(this.s) ? 0 : this.s, t = this.l, n = t + (t < 0.5 ? t : 1 - t) * r, i = 2 * t - n;
    return new an(
      xd(e >= 240 ? e - 240 : e + 120, i, n),
      xd(e, i, n),
      xd(e < 120 ? e + 240 : e - 120, i, n),
      this.opacity
    );
  },
  displayable: function() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
  },
  formatHsl: function() {
    var e = this.opacity;
    return e = isNaN(e) ? 1 : Math.max(0, Math.min(1, e)), (e === 1 ? "hsl(" : "hsla(") + (this.h || 0) + ", " + (this.s || 0) * 100 + "%, " + (this.l || 0) * 100 + "%" + (e === 1 ? ")" : ", " + e + ")");
  }
}));
function xd(e, r, t) {
  return (e < 60 ? r + (t - r) * e / 60 : e < 180 ? t : e < 240 ? r + (t - r) * (240 - e) / 60 : r) * 255;
}
function Ep(e) {
  return function() {
    return e;
  };
}
function j5(e, r) {
  return function(t) {
    return e + t * r;
  };
}
function Z5(e, r, t) {
  return e = Math.pow(e, t), r = Math.pow(r, t) - e, t = 1 / t, function(n) {
    return Math.pow(e + n * r, t);
  };
}
function Q5(e) {
  return (e = +e) == 1 ? Px : function(r, t) {
    return t - r ? Z5(r, t, e) : Ep(isNaN(r) ? t : r);
  };
}
function Px(e, r) {
  var t = r - e;
  return t ? j5(e, t) : Ep(isNaN(e) ? r : e);
}
var NC = function e(r) {
  var t = Q5(r);
  function n(i, o) {
    var a = t((i = fv(i)).r, (o = fv(o)).r), l = t(i.g, o.g), s = t(i.b, o.b), f = Px(i.opacity, o.opacity);
    return function(h) {
      return i.r = a(h), i.g = l(h), i.b = s(h), i.opacity = f(h), i + "";
    };
  }
  return n.gamma = e, n;
}(1);
function Fx(e, r) {
  r || (r = []);
  var t = e ? Math.min(r.length, e.length) : 0, n = r.slice(), i;
  return function(o) {
    for (i = 0; i < t; ++i)
      n[i] = e[i] * (1 - o) + r[i] * o;
    return n;
  };
}
function $x(e) {
  return ArrayBuffer.isView(e) && !(e instanceof DataView);
}
function Nx(e, r) {
  return ($x(r) ? Fx : Hx)(e, r);
}
function Hx(e, r) {
  var t = r ? r.length : 0, n = e ? Math.min(t, e.length) : 0, i = new Array(n), o = new Array(t), a;
  for (a = 0; a < n; ++a)
    i[a] = If(e[a], r[a]);
  for (; a < t; ++a)
    o[a] = r[a];
  return function(l) {
    for (a = 0; a < n; ++a)
      o[a] = i[a](l);
    return o;
  };
}
function J5(e, r) {
  var t = /* @__PURE__ */ new Date();
  return e = +e, r = +r, function(n) {
    return t.setTime(e * (1 - n) + r * n), t;
  };
}
function cv(e, r) {
  return e = +e, r = +r, function(t) {
    return e * (1 - t) + r * t;
  };
}
function e4(e, r) {
  var t = {}, n = {}, i;
  (e === null || typeof e != "object") && (e = {}), (r === null || typeof r != "object") && (r = {});
  for (i in r)
    i in e ? t[i] = If(e[i], r[i]) : n[i] = r[i];
  return function(o) {
    for (i in t)
      n[i] = t[i](o);
    return n;
  };
}
var hv = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, Sd = new RegExp(hv.source, "g");
function t4(e) {
  return function() {
    return e;
  };
}
function r4(e) {
  return function(r) {
    return e(r) + "";
  };
}
function n4(e, r) {
  var t = hv.lastIndex = Sd.lastIndex = 0, n, i, o, a = -1, l = [], s = [];
  for (e = e + "", r = r + ""; (n = hv.exec(e)) && (i = Sd.exec(r)); )
    (o = i.index) > t && (o = r.slice(t, o), l[a] ? l[a] += o : l[++a] = o), (n = n[0]) === (i = i[0]) ? l[a] ? l[a] += i : l[++a] = i : (l[++a] = null, s.push({ i: a, x: cv(n, i) })), t = Sd.lastIndex;
  return t < r.length && (o = r.slice(t), l[a] ? l[a] += o : l[++a] = o), l.length < 2 ? s[0] ? r4(s[0].x) : t4(r) : (r = s.length, function(f) {
    for (var h = 0, d; h < r; ++h)
      l[(d = s[h]).i] = d.x(f);
    return l.join("");
  });
}
function If(e, r) {
  var t = typeof r, n;
  return r == null || t === "boolean" ? Ep(r) : (t === "number" ? cv : t === "string" ? (n = ys(r)) ? (r = n, NC) : n4 : r instanceof ys ? NC : r instanceof Date ? J5 : $x(r) ? Fx : Array.isArray(r) ? Hx : typeof r.valueOf != "function" && typeof r.toString != "function" || isNaN(r) ? e4 : cv)(e, r);
}
function i4(e) {
  return +e;
}
function o4(e) {
  return e * e;
}
function a4(e) {
  return e * (2 - e);
}
function HC(e) {
  return ((e *= 2) <= 1 ? e * e : --e * (2 - e) + 1) / 2;
}
function zx(e) {
  return e * e * e;
}
function l4(e) {
  return --e * e * e + 1;
}
function zC(e) {
  return ((e *= 2) <= 1 ? e * e * e : (e -= 2) * e * e + 2) / 2;
}
var Lp = 3, s4 = function e(r) {
  r = +r;
  function t(n) {
    return Math.pow(n, r);
  }
  return t.exponent = e, t;
}(Lp), u4 = function e(r) {
  r = +r;
  function t(n) {
    return 1 - Math.pow(1 - n, r);
  }
  return t.exponent = e, t;
}(Lp), WC = function e(r) {
  r = +r;
  function t(n) {
    return ((n *= 2) <= 1 ? Math.pow(n, r) : 2 - Math.pow(2 - n, r)) / 2;
  }
  return t.exponent = e, t;
}(Lp), Wx = Math.PI, Gx = Wx / 2;
function f4(e) {
  return +e == 1 ? 1 : 1 - Math.cos(e * Gx);
}
function c4(e) {
  return Math.sin(e * Gx);
}
function GC(e) {
  return (1 - Math.cos(Wx * e)) / 2;
}
function xo(e) {
  return (Math.pow(2, -10 * e) - 9765625e-10) * 1.0009775171065494;
}
function h4(e) {
  return xo(1 - +e);
}
function d4(e) {
  return 1 - xo(e);
}
function kC(e) {
  return ((e *= 2) <= 1 ? xo(1 - e) : 2 - xo(e - 1)) / 2;
}
function v4(e) {
  return 1 - Math.sqrt(1 - e * e);
}
function p4(e) {
  return Math.sqrt(1 - --e * e);
}
function UC(e) {
  return ((e *= 2) <= 1 ? 1 - Math.sqrt(1 - e * e) : Math.sqrt(1 - (e -= 2) * e) + 1) / 2;
}
var dv = 4 / 11, g4 = 6 / 11, y4 = 8 / 11, C4 = 3 / 4, _4 = 9 / 11, m4 = 10 / 11, w4 = 15 / 16, x4 = 21 / 22, S4 = 63 / 64, Qu = 1 / dv / dv;
function T4(e) {
  return 1 - Cs(1 - e);
}
function Cs(e) {
  return (e = +e) < dv ? Qu * e * e : e < y4 ? Qu * (e -= g4) * e + C4 : e < m4 ? Qu * (e -= _4) * e + w4 : Qu * (e -= x4) * e + S4;
}
function b4(e) {
  return ((e *= 2) <= 1 ? 1 - Cs(1 - e) : Cs(e - 1) + 1) / 2;
}
var Ap = 1.70158, E4 = function e(r) {
  r = +r;
  function t(n) {
    return (n = +n) * n * (r * (n - 1) + n);
  }
  return t.overshoot = e, t;
}(Ap), L4 = function e(r) {
  r = +r;
  function t(n) {
    return --n * n * ((n + 1) * r + n) + 1;
  }
  return t.overshoot = e, t;
}(Ap), YC = function e(r) {
  r = +r;
  function t(n) {
    return ((n *= 2) < 1 ? n * n * ((r + 1) * n - r) : (n -= 2) * n * ((r + 1) * n + r) + 2) / 2;
  }
  return t.overshoot = e, t;
}(Ap), Ja = 2 * Math.PI, Rp = 1, Op = 0.3, A4 = function e(r, t) {
  var n = Math.asin(1 / (r = Math.max(1, r))) * (t /= Ja);
  function i(o) {
    return r * xo(- --o) * Math.sin((n - o) / t);
  }
  return i.amplitude = function(o) {
    return e(o, t * Ja);
  }, i.period = function(o) {
    return e(r, o);
  }, i;
}(Rp, Op), XC = function e(r, t) {
  var n = Math.asin(1 / (r = Math.max(1, r))) * (t /= Ja);
  function i(o) {
    return 1 - r * xo(o = +o) * Math.sin((o + n) / t);
  }
  return i.amplitude = function(o) {
    return e(o, t * Ja);
  }, i.period = function(o) {
    return e(r, o);
  }, i;
}(Rp, Op), R4 = function e(r, t) {
  var n = Math.asin(1 / (r = Math.max(1, r))) * (t /= Ja);
  function i(o) {
    return ((o = o * 2 - 1) < 0 ? r * xo(-o) * Math.sin((n - o) / t) : 2 - r * xo(o) * Math.sin((n + o) / t)) / 2;
  }
  return i.amplitude = function(o) {
    return e(o, t * Ja);
  }, i.period = function(o) {
    return e(r, o);
  }, i;
}(Rp, Op), O4 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  easeLinear: i4,
  easeQuad: HC,
  easeQuadIn: o4,
  easeQuadOut: a4,
  easeQuadInOut: HC,
  easeCubic: zC,
  easeCubicIn: zx,
  easeCubicOut: l4,
  easeCubicInOut: zC,
  easePoly: WC,
  easePolyIn: s4,
  easePolyOut: u4,
  easePolyInOut: WC,
  easeSin: GC,
  easeSinIn: f4,
  easeSinOut: c4,
  easeSinInOut: GC,
  easeExp: kC,
  easeExpIn: h4,
  easeExpOut: d4,
  easeExpInOut: kC,
  easeCircle: UC,
  easeCircleIn: v4,
  easeCircleOut: p4,
  easeCircleInOut: UC,
  easeBounce: Cs,
  easeBounceIn: T4,
  easeBounceOut: Cs,
  easeBounceInOut: b4,
  easeBack: YC,
  easeBackIn: E4,
  easeBackOut: L4,
  easeBackInOut: YC,
  easeElastic: XC,
  easeElasticIn: A4,
  easeElasticOut: XC,
  easeElasticInOut: R4
}), I4 = {};
function M4(e) {
  return I4[e.toLowerCase()] || O4[e];
}
var B4 = function(e) {
  return ["fill", "stroke", "fillStyle", "strokeStyle"].includes(e);
}, D4 = function(e) {
  return /^[r,R,L,l]{1}[\s]*\(/.test(e);
}, VC = [1, 0, 0, 0, 1, 0, 0, 0, 1];
function P4(e, r, t) {
  var n = {}, i = r.fromAttrs, o = r.toAttrs;
  if (!e.destroyed) {
    var a;
    for (var l in o)
      if (!Ef(i[l], o[l]))
        if (l === "path") {
          var s = o[l], f = i[l];
          s.length > f.length ? (s = Wa(o[l]), f = Wa(i[l]), f = mx(f, s), f = iv(f, s), r.fromAttrs.path = f, r.toAttrs.path = s) : r.pathFormatted || (s = Wa(o[l]), f = Wa(i[l]), f = iv(f, s), r.fromAttrs.path = f, r.toAttrs.path = s, r.pathFormatted = !0), n[l] = [];
          for (var h = 0; h < s.length; h++) {
            for (var d = s[h], v = f[h], g = [], y = 0; y < d.length; y++)
              Jd(d[y]) && v && Jd(v[y]) ? (a = If(v[y], d[y]), g.push(a(t))) : g.push(d[y]);
            n[l].push(g);
          }
        } else if (l === "matrix") {
          var C = Nx(i[l] || VC, o[l] || VC), m = C(t);
          n[l] = m;
        } else
          B4(l) && D4(o[l]) ? n[l] = o[l] : ia(o[l]) || (a = If(i[l], o[l]), n[l] = a(t));
    e.attr(n);
  }
}
function F4(e, r, t) {
  var n = r.startTime, i = r.delay;
  if (t < n + i || r._paused)
    return !1;
  var o, a = r.duration, l = r.easing, s = M4(l);
  if (t = t - n - r.delay, r.repeat)
    o = t % a / a, o = s(o);
  else if (o = t / a, o < 1)
    o = s(o);
  else
    return r.onFrame ? e.attr(r.onFrame(1)) : e.attr(r.toAttrs), !0;
  if (r.onFrame) {
    var f = r.onFrame(o);
    e.attr(f);
  } else
    P4(e, r, o);
  return !1;
}
var $4 = (
  /** @class */
  function() {
    function e(r) {
      this.animators = [], this.current = 0, this.timer = null, this.canvas = r;
    }
    return e.prototype.initTimer = function() {
      var r = this, t = !1, n, i, o;
      this.timer = Tp(function(a) {
        if (r.current = a, r.animators.length > 0) {
          for (var l = r.animators.length - 1; l >= 0; l--) {
            if (n = r.animators[l], n.destroyed) {
              r.removeAnimator(l);
              continue;
            }
            if (!n.isAnimatePaused()) {
              i = n.get("animations");
              for (var s = i.length - 1; s >= 0; s--)
                o = i[s], t = F4(n, o, a), t && (i.splice(s, 1), t = !1, o.callback && o.callback());
            }
            i.length === 0 && r.removeAnimator(l);
          }
          var f = r.canvas.get("autoDraw");
          f || r.canvas.draw();
        }
      });
    }, e.prototype.addAnimator = function(r) {
      this.animators.push(r);
    }, e.prototype.removeAnimator = function(r) {
      this.animators.splice(r, 1);
    }, e.prototype.isAnimating = function() {
      return !!this.animators.length;
    }, e.prototype.stop = function() {
      this.timer && this.timer.stop();
    }, e.prototype.stopAllAnimations = function(r) {
      r === void 0 && (r = !0), this.animators.forEach(function(t) {
        t.stopAnimate(r);
      }), this.animators = [], this.canvas.draw();
    }, e.prototype.getTime = function() {
      return this.current;
    }, e;
  }()
), N4 = 40, qC = 0, KC = [
  "mousedown",
  "mouseup",
  "dblclick",
  "mouseout",
  "mouseover",
  "mousemove",
  "mouseleave",
  "mouseenter",
  "touchstart",
  "touchmove",
  "touchend",
  "dragenter",
  "dragover",
  "dragleave",
  "drop",
  "contextmenu",
  "mousewheel"
];
function jC(e, r, t) {
  t.name = r, t.target = e, t.currentTarget = e, t.delegateTarget = e, e.emit(r, t);
}
function H4(e, r, t) {
  if (t.bubbles) {
    var n = void 0, i = !1;
    if (r === "mouseenter" ? (n = t.fromShape, i = !0) : r === "mouseleave" && (i = !0, n = t.toShape), e.isCanvas() && i)
      return;
    if (n && Sx(e, n)) {
      t.bubbles = !1;
      return;
    }
    t.name = r, t.currentTarget = e, t.delegateTarget = e, e.emit(r, t);
  }
}
var z4 = (
  /** @class */
  function() {
    function e(r) {
      var t = this;
      this.draggingShape = null, this.dragging = !1, this.currentShape = null, this.mousedownShape = null, this.mousedownPoint = null, this._eventCallback = function(n) {
        var i = n.type;
        t._triggerEvent(i, n);
      }, this._onDocumentMove = function(n) {
        var i = t.canvas, o = i.get("el");
        if (o !== n.target && (t.dragging || t.currentShape)) {
          var a = t._getPointInfo(n);
          t.dragging && t._emitEvent("drag", n, a, t.draggingShape);
        }
      }, this._onDocumentMouseUp = function(n) {
        var i = t.canvas, o = i.get("el");
        if (o !== n.target && t.dragging) {
          var a = t._getPointInfo(n);
          t.draggingShape && t._emitEvent("drop", n, a, null), t._emitEvent("dragend", n, a, t.draggingShape), t._afterDrag(t.draggingShape, a, n);
        }
      }, this.canvas = r.canvas;
    }
    return e.prototype.init = function() {
      this._bindEvents();
    }, e.prototype._bindEvents = function() {
      var r = this, t = this.canvas.get("el");
      at(KC, function(n) {
        t.addEventListener(n, r._eventCallback);
      }), document && (document.addEventListener("mousemove", this._onDocumentMove), document.addEventListener("mouseup", this._onDocumentMouseUp));
    }, e.prototype._clearEvents = function() {
      var r = this, t = this.canvas.get("el");
      at(KC, function(n) {
        t.removeEventListener(n, r._eventCallback);
      }), document && (document.removeEventListener("mousemove", this._onDocumentMove), document.removeEventListener("mouseup", this._onDocumentMouseUp));
    }, e.prototype._getEventObj = function(r, t, n, i, o, a) {
      var l = new Z3(r, t);
      return l.fromShape = o, l.toShape = a, l.x = n.x, l.y = n.y, l.clientX = n.clientX, l.clientY = n.clientY, l.propagationPath.push(i), l;
    }, e.prototype._getShape = function(r, t) {
      return this.canvas.getShape(r.x, r.y, t);
    }, e.prototype._getPointInfo = function(r) {
      var t = this.canvas, n = t.getClientByEvent(r), i = t.getPointByEvent(r);
      return {
        x: i.x,
        y: i.y,
        clientX: n.x,
        clientY: n.y
      };
    }, e.prototype._triggerEvent = function(r, t) {
      var n = this._getPointInfo(t), i = this._getShape(n, t), o = this["_on" + r], a = !1;
      if (o)
        o.call(this, n, i, t);
      else {
        var l = this.currentShape;
        r === "mouseenter" || r === "dragenter" || r === "mouseover" ? (this._emitEvent(r, t, n, null, null, i), i && this._emitEvent(r, t, n, i, null, i), r === "mouseenter" && this.draggingShape && this._emitEvent("dragenter", t, n, null)) : r === "mouseleave" || r === "dragleave" || r === "mouseout" ? (a = !0, l && this._emitEvent(r, t, n, l, l, null), this._emitEvent(r, t, n, null, l, null), r === "mouseleave" && this.draggingShape && this._emitEvent("dragleave", t, n, null)) : this._emitEvent(r, t, n, i, null, null);
      }
      if (a || (this.currentShape = i), i && !i.get("destroyed")) {
        var s = this.canvas, f = s.get("el");
        f.style.cursor = i.attr("cursor") || s.get("cursor");
      }
    }, e.prototype._onmousedown = function(r, t, n) {
      n.button === qC && (this.mousedownShape = t, this.mousedownPoint = r, this.mousedownTimeStamp = n.timeStamp), this._emitEvent("mousedown", n, r, t, null, null);
    }, e.prototype._emitMouseoverEvents = function(r, t, n, i) {
      var o = this.canvas.get("el");
      n !== i && (n && (this._emitEvent("mouseout", r, t, n, n, i), this._emitEvent("mouseleave", r, t, n, n, i), (!i || i.get("destroyed")) && (o.style.cursor = this.canvas.get("cursor"))), i && (this._emitEvent("mouseover", r, t, i, n, i), this._emitEvent("mouseenter", r, t, i, n, i)));
    }, e.prototype._emitDragoverEvents = function(r, t, n, i, o) {
      i ? (i !== n && (n && this._emitEvent("dragleave", r, t, n, n, i), this._emitEvent("dragenter", r, t, i, n, i)), o || this._emitEvent("dragover", r, t, i)) : n && this._emitEvent("dragleave", r, t, n, n, i), o && this._emitEvent("dragover", r, t, i);
    }, e.prototype._afterDrag = function(r, t, n) {
      r && (r.set("capture", !0), this.draggingShape = null), this.dragging = !1;
      var i = this._getShape(t, n);
      i !== r && this._emitMouseoverEvents(n, t, r, i), this.currentShape = i;
    }, e.prototype._onmouseup = function(r, t, n) {
      if (n.button === qC) {
        var i = this.draggingShape;
        this.dragging ? (i && this._emitEvent("drop", n, r, t), this._emitEvent("dragend", n, r, i), this._afterDrag(i, r, n)) : (this._emitEvent("mouseup", n, r, t), t === this.mousedownShape && this._emitEvent("click", n, r, t), this.mousedownShape = null, this.mousedownPoint = null);
      }
    }, e.prototype._ondragover = function(r, t, n) {
      n.preventDefault();
      var i = this.currentShape;
      this._emitDragoverEvents(n, r, i, t, !0);
    }, e.prototype._onmousemove = function(r, t, n) {
      var i = this.canvas, o = this.currentShape, a = this.draggingShape;
      if (this.dragging)
        a && this._emitDragoverEvents(n, r, o, t, !1), this._emitEvent("drag", n, r, a);
      else {
        var l = this.mousedownPoint;
        if (l) {
          var s = this.mousedownShape, f = n.timeStamp, h = f - this.mousedownTimeStamp, d = l.clientX - r.clientX, v = l.clientY - r.clientY, g = d * d + v * v;
          h > 120 || g > N4 ? s && s.get("draggable") ? (a = this.mousedownShape, a.set("capture", !1), this.draggingShape = a, this.dragging = !0, this._emitEvent("dragstart", n, r, a), this.mousedownShape = null, this.mousedownPoint = null) : !s && i.get("draggable") ? (this.dragging = !0, this._emitEvent("dragstart", n, r, null), this.mousedownShape = null, this.mousedownPoint = null) : (this._emitMouseoverEvents(n, r, o, t), this._emitEvent("mousemove", n, r, t)) : (this._emitMouseoverEvents(n, r, o, t), this._emitEvent("mousemove", n, r, t));
        } else
          this._emitMouseoverEvents(n, r, o, t), this._emitEvent("mousemove", n, r, t);
      }
    }, e.prototype._emitEvent = function(r, t, n, i, o, a) {
      var l = this._getEventObj(r, t, n, i, o, a);
      if (i) {
        l.shape = i, jC(i, r, l);
        for (var s = i.getParent(); s; )
          s.emitDelegation(r, l), l.propagationStopped || H4(s, r, l), l.propagationPath.push(s), s = s.getParent();
      } else {
        var f = this.canvas;
        jC(f, r, l);
      }
    }, e.prototype.destroy = function() {
      this._clearEvents(), this.canvas = null, this.currentShape = null, this.draggingShape = null, this.mousedownPoint = null, this.mousedownShape = null, this.mousedownTimeStamp = null;
    }, e;
  }()
), ZC = "px", QC = s5(), W4 = QC && QC.name === "firefox", G4 = (
  /** @class */
  function(e) {
    cl(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      return n.initContainer(), n.initDom(), n.initEvents(), n.initTimeline(), n;
    }
    return r.prototype.getDefaultCfg = function() {
      var t = e.prototype.getDefaultCfg.call(this);
      return t.cursor = "default", t.supportCSSTransform = !1, t;
    }, r.prototype.initContainer = function() {
      var t = this.get("container");
      Vn(t) && (t = document.getElementById(t), this.set("container", t));
    }, r.prototype.initDom = function() {
      var t = this.createDom();
      this.set("el", t);
      var n = this.get("container");
      n.appendChild(t), this.setDOMSize(this.get("width"), this.get("height"));
    }, r.prototype.initEvents = function() {
      var t = new z4({
        canvas: this
      });
      t.init(), this.set("eventController", t);
    }, r.prototype.initTimeline = function() {
      var t = new $4(this);
      this.set("timeline", t);
    }, r.prototype.setDOMSize = function(t, n) {
      var i = this.get("el");
      SC && (i.style.width = t + ZC, i.style.height = n + ZC);
    }, r.prototype.changeSize = function(t, n) {
      this.setDOMSize(t, n), this.set("width", t), this.set("height", n), this.onCanvasChange("changeSize");
    }, r.prototype.getRenderer = function() {
      return this.get("renderer");
    }, r.prototype.getCursor = function() {
      return this.get("cursor");
    }, r.prototype.setCursor = function(t) {
      this.set("cursor", t);
      var n = this.get("el");
      SC && n && (n.style.cursor = t);
    }, r.prototype.getPointByEvent = function(t) {
      var n = this.get("supportCSSTransform");
      if (n) {
        if (W4 && !jt(t.layerX) && t.layerX !== t.offsetX)
          return {
            x: t.layerX,
            y: t.layerY
          };
        if (!jt(t.offsetX))
          return {
            x: t.offsetX,
            y: t.offsetY
          };
      }
      var i = this.getClientByEvent(t), o = i.x, a = i.y;
      return this.getPointByClient(o, a);
    }, r.prototype.getClientByEvent = function(t) {
      var n = t;
      return t.touches && (t.type === "touchend" ? n = t.changedTouches[0] : n = t.touches[0]), {
        x: n.clientX,
        y: n.clientY
      };
    }, r.prototype.getPointByClient = function(t, n) {
      var i = this.get("el"), o = i.getBoundingClientRect();
      return {
        x: t - o.left,
        y: n - o.top
      };
    }, r.prototype.getClientByPoint = function(t, n) {
      var i = this.get("el"), o = i.getBoundingClientRect();
      return {
        x: t + o.left,
        y: n + o.top
      };
    }, r.prototype.draw = function() {
    }, r.prototype.removeDom = function() {
      var t = this.get("el");
      t.parentNode.removeChild(t);
    }, r.prototype.clearEvents = function() {
      var t = this.get("eventController");
      t.destroy();
    }, r.prototype.isCanvas = function() {
      return !0;
    }, r.prototype.getParent = function() {
      return null;
    }, r.prototype.destroy = function() {
      var t = this.get("timeline");
      this.get("destroyed") || (this.clear(), t && t.stop(), this.clearEvents(), this.removeDom(), e.prototype.destroy.call(this));
    }, r;
  }(Rx)
), k4 = (
  /** @class */
  function(e) {
    cl(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.isGroup = function() {
      return !0;
    }, r.prototype.isEntityGroup = function() {
      return !1;
    }, r.prototype.clone = function() {
      for (var t = e.prototype.clone.call(this), n = this.getChildren(), i = 0; i < n.length; i++) {
        var o = n[i];
        t.add(o.clone());
      }
      return t;
    }, r;
  }(Rx)
), U4 = (
  /** @class */
  function(e) {
    cl(r, e);
    function r(t) {
      return e.call(this, t) || this;
    }
    return r.prototype._isInBBox = function(t, n) {
      var i = this.getBBox();
      return i.minX <= t && i.maxX >= t && i.minY <= n && i.maxY >= n;
    }, r.prototype.afterAttrsChange = function(t) {
      e.prototype.afterAttrsChange.call(this, t), this.clearCacheBBox();
    }, r.prototype.getBBox = function() {
      var t = this.cfg.bbox;
      return t || (t = this.calculateBBox(), this.set("bbox", t)), t;
    }, r.prototype.getCanvasBBox = function() {
      var t = this.cfg.canvasBBox;
      return t || (t = this.calculateCanvasBBox(), this.set("canvasBBox", t)), t;
    }, r.prototype.applyMatrix = function(t) {
      e.prototype.applyMatrix.call(this, t), this.set("canvasBBox", null);
    }, r.prototype.calculateCanvasBBox = function() {
      var t = this.getBBox(), n = this.getTotalMatrix(), i = t.minX, o = t.minY, a = t.maxX, l = t.maxY;
      if (n) {
        var s = jo(n, [t.minX, t.minY]), f = jo(n, [t.maxX, t.minY]), h = jo(n, [t.minX, t.maxY]), d = jo(n, [t.maxX, t.maxY]);
        i = Math.min(s[0], f[0], h[0], d[0]), a = Math.max(s[0], f[0], h[0], d[0]), o = Math.min(s[1], f[1], h[1], d[1]), l = Math.max(s[1], f[1], h[1], d[1]);
      }
      var v = this.attrs;
      if (v.shadowColor) {
        var g = v.shadowBlur, y = g === void 0 ? 0 : g, C = v.shadowOffsetX, m = C === void 0 ? 0 : C, w = v.shadowOffsetY, S = w === void 0 ? 0 : w, x = i - y + m, b = a + y + m, O = o - y + S, D = l + y + S;
        i = Math.min(i, x), a = Math.max(a, b), o = Math.min(o, O), l = Math.max(l, D);
      }
      return {
        x: i,
        y: o,
        minX: i,
        minY: o,
        maxX: a,
        maxY: l,
        width: a - i,
        height: l - o
      };
    }, r.prototype.clearCacheBBox = function() {
      this.set("bbox", null), this.set("canvasBBox", null);
    }, r.prototype.isClipShape = function() {
      return this.get("isClipShape");
    }, r.prototype.isInShape = function(t, n) {
      return !1;
    }, r.prototype.isOnlyHitBox = function() {
      return !1;
    }, r.prototype.isHit = function(t, n) {
      var i = this.get("startArrowShape"), o = this.get("endArrowShape"), a = [t, n, 1];
      a = this.invertFromMatrix(a);
      var l = a[0], s = a[1], f = this._isInBBox(l, s);
      return this.isOnlyHitBox() ? f : !!(f && !this.isClipped(l, s) && (this.isInShape(l, s) || i && i.isHit(l, s) || o && o.isHit(l, s)));
    }, r;
  }(Ex)
), kx = /* @__PURE__ */ new Map();
function Ci(e, r) {
  kx.set(e, r);
}
function Y4(e) {
  return kx.get(e);
}
function Ux(e) {
  var r = e.attr(), t = r.x, n = r.y, i = r.width, o = r.height;
  return {
    x: t,
    y: n,
    width: i,
    height: o
  };
}
function Yx(e) {
  var r = e.attr(), t = r.x, n = r.y, i = r.r;
  return {
    x: t - i,
    y: n - i,
    width: i * 2,
    height: i * 2
  };
}
function JC(e) {
  return Math.min.apply(null, e);
}
function e_(e) {
  return Math.max.apply(null, e);
}
function gr(e, r, t, n) {
  var i = e - t, o = r - n;
  return Math.sqrt(i * i + o * o);
}
function pf(e, r) {
  return Math.abs(e - r) < 1e-3;
}
function hl(e, r) {
  var t = JC(e), n = JC(r), i = e_(e), o = e_(r);
  return {
    x: t,
    y: n,
    width: i - t,
    height: o - n
  };
}
function ac(e) {
  return (e + Math.PI * 2) % (Math.PI * 2);
}
var Wr = {
  /**
   * 计算线段的包围盒
   * @param {number} x1 起始点 x
   * @param {number} y1 起始点 y
   * @param {number} x2 结束点 x
   * @param {number} y2 结束点 y
   * @return {object} 包围盒对象
   */
  box: function(e, r, t, n) {
    return hl([e, t], [r, n]);
  },
  /**
   * 线段的长度
   * @param {number} x1 起始点 x
   * @param {number} y1 起始点 y
   * @param {number} x2 结束点 x
   * @param {number} y2 结束点 y
   * @return {number} 距离
   */
  length: function(e, r, t, n) {
    return gr(e, r, t, n);
  },
  /**
   * 根据比例获取点
   * @param {number} x1 起始点 x
   * @param {number} y1 起始点 y
   * @param {number} x2 结束点 x
   * @param {number} y2 结束点 y
   * @param {number} t 指定比例
   * @return {object} 包含 x, y 的点
   */
  pointAt: function(e, r, t, n, i) {
    return {
      x: (1 - i) * e + i * t,
      y: (1 - i) * r + i * n
    };
  },
  /**
   * 点到线段的距离
   * @param {number} x1 起始点 x
   * @param {number} y1 起始点 y
   * @param {number} x2 结束点 x
   * @param {number} y2 结束点 y
   * @param {number} x  测试点 x
   * @param {number} y  测试点 y
   * @return {number} 距离
   */
  pointDistance: function(e, r, t, n, i, o) {
    var a = (t - e) * (i - e) + (n - r) * (o - r);
    if (a < 0)
      return gr(e, r, i, o);
    var l = (t - e) * (t - e) + (n - r) * (n - r);
    return a > l ? gr(t, n, i, o) : this.pointToLine(e, r, t, n, i, o);
  },
  /**
   * 点到直线的距离，而不是点到线段的距离
   * @param {number} x1 起始点 x
   * @param {number} y1 起始点 y
   * @param {number} x2 结束点 x
   * @param {number} y2 结束点 y
   * @param {number} x  测试点 x
   * @param {number} y  测试点 y
   * @return {number} 距离
   */
  pointToLine: function(e, r, t, n, i, o) {
    var a = [t - e, n - r];
    if (w5(a, [0, 0]))
      return Math.sqrt((i - e) * (i - e) + (o - r) * (o - r));
    var l = [-a[1], a[0]];
    _5(l, l);
    var s = [i - e, o - r];
    return Math.abs(m5(s, l));
  },
  /**
   * 线段的角度
   * @param {number} x1 起始点 x
   * @param {number} y1 起始点 y
   * @param {number} x2 结束点 x
   * @param {number} y2 结束点 y
   * @return {number} 导数
   */
  tangentAngle: function(e, r, t, n) {
    return Math.atan2(n - r, t - e);
  }
}, X4 = 1e-4;
function Xx(e, r, t, n, i, o) {
  var a, l = 1 / 0, s = [t, n], f = 20;
  o && o > 200 && (f = o / 10);
  for (var h = 1 / f, d = h / 10, v = 0; v <= f; v++) {
    var g = v * h, y = [i.apply(null, e.concat([g])), i.apply(null, r.concat([g]))], C = gr(s[0], s[1], y[0], y[1]);
    C < l && (a = g, l = C);
  }
  if (a === 0)
    return {
      x: e[0],
      y: r[0]
    };
  if (a === 1) {
    var m = e.length;
    return {
      x: e[m - 1],
      y: r[m - 1]
    };
  }
  l = 1 / 0;
  for (var v = 0; v < 32 && !(d < X4); v++) {
    var w = a - d, S = a + d, y = [i.apply(null, e.concat([w])), i.apply(null, r.concat([w]))], C = gr(s[0], s[1], y[0], y[1]);
    if (w >= 0 && C < l)
      a = w, l = C;
    else {
      var x = [i.apply(null, e.concat([S])), i.apply(null, r.concat([S]))], b = gr(s[0], s[1], x[0], x[1]);
      S <= 1 && b < l ? (a = S, l = b) : d *= 0.5;
    }
  }
  return {
    x: i.apply(null, e.concat([a])),
    y: i.apply(null, r.concat([a]))
  };
}
function V4(e, r) {
  for (var t = 0, n = e.length, i = 0; i < n; i++) {
    var o = e[i], a = r[i], l = e[(i + 1) % n], s = r[(i + 1) % n];
    t += gr(o, a, l, s);
  }
  return t / 2;
}
function vo(e, r, t, n) {
  var i = 1 - n;
  return i * i * e + 2 * n * i * r + n * n * t;
}
function t_(e, r, t) {
  var n = e + t - 2 * r;
  if (pf(n, 0))
    return [0.5];
  var i = (e - r) / n;
  return i <= 1 && i >= 0 ? [i] : [];
}
function r_(e, r, t, n) {
  return 2 * (1 - n) * (r - e) + 2 * n * (t - r);
}
function Vx(e, r, t, n, i, o, a) {
  var l = vo(e, t, i, a), s = vo(r, n, o, a), f = Wr.pointAt(e, r, t, n, a), h = Wr.pointAt(t, n, i, o, a);
  return [
    [e, r, f.x, f.y, l, s],
    [l, s, h.x, h.y, i, o]
  ];
}
function vv(e, r, t, n, i, o, a) {
  if (a === 0)
    return (gr(e, r, t, n) + gr(t, n, i, o) + gr(e, r, i, o)) / 2;
  var l = Vx(e, r, t, n, i, o, 0.5), s = l[0], f = l[1];
  return s.push(a - 1), f.push(a - 1), vv.apply(null, s) + vv.apply(null, f);
}
var qx = {
  box: function(e, r, t, n, i, o) {
    var a = t_(e, t, i)[0], l = t_(r, n, o)[0], s = [e, i], f = [r, o];
    return a !== void 0 && s.push(vo(e, t, i, a)), l !== void 0 && f.push(vo(r, n, o, l)), hl(s, f);
  },
  length: function(e, r, t, n, i, o) {
    return vv(e, r, t, n, i, o, 3);
  },
  nearestPoint: function(e, r, t, n, i, o, a, l) {
    return Xx([e, t, i], [r, n, o], a, l, vo);
  },
  pointDistance: function(e, r, t, n, i, o, a, l) {
    var s = this.nearestPoint(e, r, t, n, i, o, a, l);
    return gr(s.x, s.y, a, l);
  },
  interpolationAt: vo,
  pointAt: function(e, r, t, n, i, o, a) {
    return {
      x: vo(e, t, i, a),
      y: vo(r, n, o, a)
    };
  },
  divide: function(e, r, t, n, i, o, a) {
    return Vx(e, r, t, n, i, o, a);
  },
  tangentAngle: function(e, r, t, n, i, o, a) {
    var l = r_(e, t, i, a), s = r_(r, n, o, a), f = Math.atan2(s, l);
    return ac(f);
  }
};
function po(e, r, t, n, i) {
  var o = 1 - i;
  return o * o * o * e + 3 * r * i * o * o + 3 * t * i * i * o + n * i * i * i;
}
function n_(e, r, t, n, i) {
  var o = 1 - i;
  return 3 * (o * o * (r - e) + 2 * o * i * (t - r) + i * i * (n - t));
}
function Td(e, r, t, n) {
  var i = -3 * e + 9 * r - 9 * t + 3 * n, o = 6 * e - 12 * r + 6 * t, a = 3 * r - 3 * e, l = [], s, f, h;
  if (pf(i, 0))
    pf(o, 0) || (s = -a / o, s >= 0 && s <= 1 && l.push(s));
  else {
    var d = o * o - 4 * i * a;
    pf(d, 0) ? l.push(-o / (2 * i)) : d > 0 && (h = Math.sqrt(d), s = (-o + h) / (2 * i), f = (-o - h) / (2 * i), s >= 0 && s <= 1 && l.push(s), f >= 0 && f <= 1 && l.push(f));
  }
  return l;
}
function Kx(e, r, t, n, i, o, a, l, s) {
  var f = po(e, t, i, a, s), h = po(r, n, o, l, s), d = Wr.pointAt(e, r, t, n, s), v = Wr.pointAt(t, n, i, o, s), g = Wr.pointAt(i, o, a, l, s), y = Wr.pointAt(d.x, d.y, v.x, v.y, s), C = Wr.pointAt(v.x, v.y, g.x, g.y, s);
  return [
    [e, r, d.x, d.y, y.x, y.y, f, h],
    [f, h, C.x, C.y, g.x, g.y, a, l]
  ];
}
function pv(e, r, t, n, i, o, a, l, s) {
  if (s === 0)
    return V4([e, t, i, a], [r, n, o, l]);
  var f = Kx(e, r, t, n, i, o, a, l, 0.5), h = f[0], d = f[1];
  return h.push(s - 1), d.push(s - 1), pv.apply(null, h) + pv.apply(null, d);
}
var as = {
  extrema: Td,
  box: function(e, r, t, n, i, o, a, l) {
    for (var s = [e, a], f = [r, l], h = Td(e, t, i, a), d = Td(r, n, o, l), v = 0; v < h.length; v++)
      s.push(po(e, t, i, a, h[v]));
    for (var v = 0; v < d.length; v++)
      f.push(po(r, n, o, l, d[v]));
    return hl(s, f);
  },
  length: function(e, r, t, n, i, o, a, l) {
    return pv(e, r, t, n, i, o, a, l, 3);
  },
  nearestPoint: function(e, r, t, n, i, o, a, l, s, f, h) {
    return Xx([e, t, i, a], [r, n, o, l], s, f, po, h);
  },
  pointDistance: function(e, r, t, n, i, o, a, l, s, f, h) {
    var d = this.nearestPoint(e, r, t, n, i, o, a, l, s, f, h);
    return gr(d.x, d.y, s, f);
  },
  interpolationAt: po,
  pointAt: function(e, r, t, n, i, o, a, l, s) {
    return {
      x: po(e, t, i, a, s),
      y: po(r, n, o, l, s)
    };
  },
  divide: function(e, r, t, n, i, o, a, l, s) {
    return Kx(e, r, t, n, i, o, a, l, s);
  },
  tangentAngle: function(e, r, t, n, i, o, a, l, s) {
    var f = n_(e, t, i, a, s), h = n_(r, n, o, l, s);
    return ac(Math.atan2(h, f));
  }
};
function i_(e, r) {
  var t = Math.abs(e);
  return r > 0 ? t : t * -1;
}
var q4 = {
  /**
   * 包围盒计算
   * @param {number} x  椭圆中心 x
   * @param {number} y  椭圆中心 y
   * @param {number} rx 椭圆 x 方向半径
   * @param {number} ry 椭圆 y 方向半径
   * @return {object} 包围盒
   */
  box: function(e, r, t, n) {
    return {
      x: e - t,
      y: r - n,
      width: t * 2,
      height: n * 2
    };
  },
  /**
   * 计算周长，使用近似法
   * @param {number} x  椭圆中心 x
   * @param {number} y  椭圆中心 y
   * @param {number} rx 椭圆 x 方向半径
   * @param {number} ry 椭圆 y 方向半径
   * @return {number} 椭圆周长
   */
  length: function(e, r, t, n) {
    return Math.PI * (3 * (t + n) - Math.sqrt((3 * t + n) * (t + 3 * n)));
  },
  /**
   * 距离椭圆最近的点
   * @param {number} x  椭圆中心 x
   * @param {number} y  椭圆中心 y
   * @param {number} rx 椭圆 x 方向半径
   * @param {number} ry 椭圆 y 方向半径
   * @param {number} x0  指定的点 x
   * @param {number} y0  指定的点 y
   * @return {object} 椭圆上距离指定点最近的点
   */
  nearestPoint: function(e, r, t, n, i, o) {
    var a = t, l = n;
    if (a === 0 || l === 0)
      return {
        x: e,
        y: r
      };
    for (var s = i - e, f = o - r, h = Math.abs(s), d = Math.abs(f), v = a * a, g = l * l, y = Math.PI / 4, C, m, w = 0; w < 4; w++) {
      C = a * Math.cos(y), m = l * Math.sin(y);
      var S = (v - g) * Math.pow(Math.cos(y), 3) / a, x = (g - v) * Math.pow(Math.sin(y), 3) / l, b = C - S, O = m - x, D = h - S, N = d - x, W = Math.hypot(O, b), k = Math.hypot(N, D), ee = W * Math.asin((b * N - O * D) / (W * k)), J = ee / Math.sqrt(v + g - C * C - m * m);
      y += J, y = Math.min(Math.PI / 2, Math.max(0, y));
    }
    return {
      x: e + i_(C, s),
      y: r + i_(m, f)
    };
  },
  /**
   * 点到椭圆最近的距离
   * @param {number} x  椭圆中心 x
   * @param {number} y  椭圆中心 y
   * @param {number} rx 椭圆 x 方向半径
   * @param {number} ry 椭圆 y 方向半径
   * @param {number} x0  指定的点 x
   * @param {number} y0  指定的点 y
   * @return {number} 点到椭圆的距离
   */
  pointDistance: function(e, r, t, n, i, o) {
    var a = this.nearestPoint(e, r, t, n, i, o);
    return gr(a.x, a.y, i, o);
  },
  /**
   * 根据比例获取点
   * @param {number} x 椭圆中心 x
   * @param {number} y 椭圆中心 y
   * @param {number} rx 椭圆 x 方向半径
   * @param {number} ry 椭圆 y 方向半径
   * @param {number} t 指定比例，x轴方向为 0
   * @return {object} 点
   */
  pointAt: function(e, r, t, n, i) {
    var o = 2 * Math.PI * i;
    return {
      x: e + t * Math.cos(o),
      y: r + n * Math.sin(o)
    };
  },
  /**
   * 根据比例计算切线角度
   * @param {number} x 椭圆中心 x
   * @param {number} y 椭圆中心 y
   * @param {number} rx 椭圆 x 方向半径
   * @param {number} ry 椭圆 y 方向半径
   * @param {number} t 指定比例 0 - 1 之间，x轴方向为 0。在 0-1 范围之外是循环还是返回 null，还需要调整
   * @return {number} 角度，在 0 - 2PI 之间
   */
  tangentAngle: function(e, r, t, n, i) {
    var o = 2 * Math.PI * i, a = Math.atan2(n * Math.cos(o), -t * Math.sin(o));
    return ac(a);
  }
};
function K4(e, r, t, n, i, o, a, l) {
  return -1 * t * Math.cos(i) * Math.sin(l) - n * Math.sin(i) * Math.cos(l);
}
function j4(e, r, t, n, i, o, a, l) {
  return -1 * t * Math.sin(i) * Math.sin(l) + n * Math.cos(i) * Math.cos(l);
}
function Z4(e, r, t) {
  return Math.atan(-r / e * Math.tan(t));
}
function Q4(e, r, t) {
  return Math.atan(r / (e * Math.tan(t)));
}
function o_(e, r, t, n, i, o) {
  return t * Math.cos(i) * Math.cos(o) - n * Math.sin(i) * Math.sin(o) + e;
}
function a_(e, r, t, n, i, o) {
  return t * Math.sin(i) * Math.cos(o) + n * Math.cos(i) * Math.sin(o) + r;
}
function J4(e, r, t, n) {
  var i = Math.atan2(n * e, t * r);
  return (i + Math.PI * 2) % (Math.PI * 2);
}
function l_(e, r, t) {
  return {
    x: e * Math.cos(t),
    y: r * Math.sin(t)
  };
}
function s_(e, r, t) {
  var n = Math.cos(t), i = Math.sin(t);
  return [e * n - r * i, e * i + r * n];
}
var eB = {
  /**
   * 计算包围盒
   * @param {number} cx         圆心 x
   * @param {number} cy         圆心 y
   * @param {number} rx         x 轴方向的半径
   * @param {number} ry         y 轴方向的半径
   * @param {number} xRotation  旋转角度
   * @param {number} startAngle 起始角度
   * @param {number} endAngle   结束角度
   * @return {object} 包围盒对象
   */
  box: function(e, r, t, n, i, o, a) {
    for (var l = Z4(t, n, i), s = 1 / 0, f = -1 / 0, h = [o, a], d = -Math.PI * 2; d <= Math.PI * 2; d += Math.PI) {
      var v = l + d;
      o < a ? o < v && v < a && h.push(v) : a < v && v < o && h.push(v);
    }
    for (var d = 0; d < h.length; d++) {
      var g = o_(e, r, t, n, i, h[d]);
      g < s && (s = g), g > f && (f = g);
    }
    for (var y = Q4(t, n, i), C = 1 / 0, m = -1 / 0, w = [o, a], d = -Math.PI * 2; d <= Math.PI * 2; d += Math.PI) {
      var S = y + d;
      o < a ? o < S && S < a && w.push(S) : a < S && S < o && w.push(S);
    }
    for (var d = 0; d < w.length; d++) {
      var x = a_(e, r, t, n, i, w[d]);
      x < C && (C = x), x > m && (m = x);
    }
    return {
      x: s,
      y: C,
      width: f - s,
      height: m - C
    };
  },
  /**
   * 获取圆弧的长度，计算圆弧长度时不考虑旋转角度，
   * 仅跟 rx, ry, startAngle, endAngle 相关
   * @param {number} cx         圆心 x
   * @param {number} cy         圆心 y
   * @param {number} rx         x 轴方向的半径
   * @param {number} ry         y 轴方向的半径
   * @param {number} xRotation  旋转角度
   * @param {number} startAngle 起始角度
   * @param {number} endAngle   结束角度
   */
  length: function(e, r, t, n, i, o, a) {
  },
  /**
   * 获取指定点到圆弧的最近距离的点
   * @param {number} cx         圆心 x
   * @param {number} cy         圆心 y
   * @param {number} rx         x 轴方向的半径
   * @param {number} ry         y 轴方向的半径
   * @param {number} xRotation  旋转角度
   * @param {number} startAngle 起始角度
   * @param {number} endAngle   结束角度
   * @param {number} x0         指定点的 x
   * @param {number} y0         指定点的 y
   * @return {object} 到指定点最近距离的点
   */
  nearestPoint: function(e, r, t, n, i, o, a, l, s) {
    var f = s_(l - e, s - r, -i), h = f[0], d = f[1], v = q4.nearestPoint(0, 0, t, n, h, d), g = J4(t, n, v.x, v.y);
    g < o ? v = l_(t, n, o) : g > a && (v = l_(t, n, a));
    var y = s_(v.x, v.y, i);
    return {
      x: y[0] + e,
      y: y[1] + r
    };
  },
  pointDistance: function(e, r, t, n, i, o, a, l, s) {
    var f = this.nearestPoint(e, r, t, n, l, s);
    return gr(f.x, f.y, l, s);
  },
  pointAt: function(e, r, t, n, i, o, a, l) {
    var s = (a - o) * l + o;
    return {
      x: o_(e, r, t, n, i, s),
      y: a_(e, r, t, n, i, s)
    };
  },
  tangentAngle: function(e, r, t, n, i, o, a, l) {
    var s = (a - o) * l + o, f = K4(e, r, t, n, i, o, a, s), h = j4(e, r, t, n, i, o, a, s);
    return ac(Math.atan2(h, f));
  }
};
function jx(e) {
  for (var r = 0, t = [], n = 0; n < e.length - 1; n++) {
    var i = e[n], o = e[n + 1], a = gr(i[0], i[1], o[0], o[1]), l = {
      from: i,
      to: o,
      length: a
    };
    t.push(l), r += a;
  }
  return { segments: t, totalLength: r };
}
function tB(e) {
  if (e.length < 2)
    return 0;
  for (var r = 0, t = 0; t < e.length - 1; t++) {
    var n = e[t], i = e[t + 1];
    r += gr(n[0], n[1], i[0], i[1]);
  }
  return r;
}
function rB(e, r) {
  if (r > 1 || r < 0 || e.length < 2)
    return null;
  var t = jx(e), n = t.segments, i = t.totalLength;
  if (i === 0)
    return {
      x: e[0][0],
      y: e[0][1]
    };
  for (var o = 0, a = null, l = 0; l < n.length; l++) {
    var s = n[l], f = s.from, h = s.to, d = s.length / i;
    if (r >= o && r <= o + d) {
      var v = (r - o) / d;
      a = Wr.pointAt(f[0], f[1], h[0], h[1], v);
      break;
    }
    o += d;
  }
  return a;
}
function nB(e, r) {
  if (r > 1 || r < 0 || e.length < 2)
    return 0;
  for (var t = jx(e), n = t.segments, i = t.totalLength, o = 0, a = 0, l = 0; l < n.length; l++) {
    var s = n[l], f = s.from, h = s.to, d = s.length / i;
    if (r >= o && r <= o + d) {
      a = Math.atan2(h[1] - f[1], h[0] - f[0]);
      break;
    }
    o += d;
  }
  return a;
}
function iB(e, r, t) {
  for (var n = 1 / 0, i = 0; i < e.length - 1; i++) {
    var o = e[i], a = e[i + 1], l = Wr.pointDistance(o[0], o[1], a[0], a[1], r, t);
    l < n && (n = l);
  }
  return n;
}
var oB = {
  /**
   * 计算多折线的包围盒
   * @param {array} points 点的集合 [x,y] 的形式
   * @return {object} 包围盒
   */
  box: function(e) {
    for (var r = [], t = [], n = 0; n < e.length; n++) {
      var i = e[n];
      r.push(i[0]), t.push(i[1]);
    }
    return hl(r, t);
  },
  /**
   * 计算多折线的长度
   * @param {array} points 点的集合 [x,y] 的形式
   * @return {object} 多条边的长度
   */
  length: function(e) {
    return tB(e);
  },
  /**
   * 根据比例获取多折线的点
   * @param {array} points 点的集合 [x,y] 的形式
   * @param {number} t 在多折线的长度上的比例
   * @return {object} 根据比例值计算出来的点
   */
  pointAt: function(e, r) {
    return rB(e, r);
  },
  /**
   * 指定点到多折线的距离
   * @param {array} points 点的集合 [x,y] 的形式
   * @param {number} x 指定点的 x
   * @param {number} y 指定点的 y
   * @return {number} 点到多折线的距离
   */
  pointDistance: function(e, r, t) {
    return iB(e, r, t);
  },
  /**
   * 根据比例获取多折线的切线角度
   * @param {array} points 点的集合 [x,y] 的形式
   * @param {number} t 在多折线的长度上的比例
   * @return {object} 根据比例值计算出来的角度
   */
  tangentAngle: function(e, r) {
    return nB(e, r);
  }
};
function u_(e, r) {
  return !e || !r ? e || r : {
    minX: Math.min(e.minX, r.minX),
    minY: Math.min(e.minY, r.minY),
    maxX: Math.max(e.maxX, r.maxX),
    maxY: Math.max(e.maxY, r.maxY)
  };
}
function Ip(e, r) {
  var t = e.get("startArrowShape"), n = e.get("endArrowShape"), i = null, o = null;
  return t && (i = t.getCanvasBBox(), r = u_(r, i)), n && (o = n.getCanvasBBox(), r = u_(r, o)), r;
}
function aB(e) {
  for (var r = e.attr(), t = r.points, n = [], i = [], o = 0; o < t.length; o++) {
    var a = t[o];
    n.push(a[0]), i.push(a[1]);
  }
  var l = hl(n, i), s = l.x, f = l.y, h = l.width, d = l.height, v = {
    minX: s,
    minY: f,
    maxX: s + h,
    maxY: f + d
  };
  return v = Ip(e, v), {
    x: v.minX,
    y: v.minY,
    width: v.maxX - v.minX,
    height: v.maxY - v.minY
  };
}
function lB(e) {
  for (var r = e.attr(), t = r.points, n = [], i = [], o = 0; o < t.length; o++) {
    var a = t[o];
    n.push(a[0]), i.push(a[1]);
  }
  return hl(n, i);
}
var bd = null;
function Zx() {
  if (!bd) {
    var e = document.createElement("canvas");
    e.width = 1, e.height = 1, bd = e.getContext("2d");
  }
  return bd;
}
function Qx(e, r, t) {
  var n = 1;
  if (Vn(e) && (n = e.split(`
`).length), n > 1) {
    var i = sB(r, t);
    return r * n + i * (n - 1);
  }
  return r;
}
function sB(e, r) {
  return r ? r - e : e * 0.14;
}
function uB(e, r) {
  var t = Zx(), n = 0;
  if (jt(e) || e === "")
    return n;
  if (t.save(), t.font = r, Vn(e) && e.includes(`
`)) {
    var i = e.split(`
`);
    at(i, function(o) {
      var a = t.measureText(o).width;
      n < a && (n = a);
    });
  } else
    n = t.measureText(e).width;
  return t.restore(), n;
}
function Jx(e) {
  var r = e.fontSize, t = e.fontFamily, n = e.fontWeight, i = e.fontStyle, o = e.fontVariant;
  return [i, o, n, r + "px", t].join(" ").trim();
}
function fB(e) {
  var r = e.attr(), t = r.x, n = r.y, i = r.text, o = r.fontSize, a = r.lineHeight, l = r.font;
  l || (l = Jx(r));
  var s = uB(i, l), f;
  if (!s)
    f = {
      x: t,
      y: n,
      width: 0,
      height: 0
    };
  else {
    var h = r.textAlign, d = r.textBaseline, v = Qx(i, o, a), g = {
      x: t,
      y: n - v
    };
    h && (h === "end" || h === "right" ? g.x -= s : h === "center" && (g.x -= s / 2)), d && (d === "top" ? g.y += v : d === "middle" && (g.y += v / 2)), f = {
      x: g.x,
      y: g.y,
      width: s,
      height: v
    };
  }
  return f;
}
var cB = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig, hB = /[^\s\,]+/ig;
function dB(e) {
  var r = e || [];
  if (In(r))
    return r;
  if (Vn(r))
    return r = r.match(cB), at(r, function(t, n) {
      if (t = t.match(hB), t[0].length > 1) {
        var i = t[0].charAt(0);
        t.splice(1, 0, t[0].substr(1)), t[0] = i;
      }
      at(t, function(o, a) {
        isNaN(o) || (t[a] = +o);
      }), r[n] = t;
    }), r;
}
var ls = `	
\v\f\r   ᠎             　\u2028\u2029`, vB = new RegExp("([a-z])[" + ls + ",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[" + ls + "]*,?[" + ls + "]*)+)", "ig"), pB = new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[" + ls + "]*,?[" + ls + "]*", "ig");
function gB(e) {
  if (!e)
    return null;
  if (In(e))
    return e;
  var r = {
    a: 7,
    c: 6,
    o: 2,
    h: 1,
    l: 2,
    m: 2,
    r: 4,
    q: 4,
    s: 4,
    t: 2,
    v: 1,
    u: 3,
    z: 0
  }, t = [];
  return String(e).replace(vB, function(n, i, o) {
    var a = [], l = i.toLowerCase();
    if (o.replace(pB, function(s, f) {
      f && a.push(+f);
    }), l === "m" && a.length > 2 && (t.push([i].concat(a.splice(0, 2))), l = "l", i = i === "m" ? "l" : "L"), l === "o" && a.length === 1 && t.push([i, a[0]]), l === "r")
      t.push([i].concat(a));
    else
      for (; a.length >= r[l] && (t.push([i].concat(a.splice(0, r[l]))), !!r[l]); )
        ;
    return "";
  }), t;
}
var yB = /[a-z]/;
function f_(e, r) {
  return [
    r[0] + (r[0] - e[0]),
    r[1] + (r[1] - e[1])
  ];
}
function eS(e) {
  var r = gB(e);
  if (!r || !r.length)
    return [
      ["M", 0, 0]
    ];
  for (var t = !1, n = 0; n < r.length; n++) {
    var i = r[n][0];
    if (yB.test(i) || ["V", "H", "T", "S"].indexOf(i) >= 0) {
      t = !0;
      break;
    }
  }
  if (!t)
    return r;
  var o = [], a = 0, l = 0, s = 0, f = 0, h = 0, d = r[0];
  (d[0] === "M" || d[0] === "m") && (a = +d[1], l = +d[2], s = a, f = l, h++, o[0] = ["M", a, l]);
  for (var n = h, v = r.length; n < v; n++) {
    var g = r[n], y = o[n - 1], C = [], i = g[0], m = i.toUpperCase();
    if (i !== m)
      switch (C[0] = m, m) {
        case "A":
          C[1] = g[1], C[2] = g[2], C[3] = g[3], C[4] = g[4], C[5] = g[5], C[6] = +g[6] + a, C[7] = +g[7] + l;
          break;
        case "V":
          C[1] = +g[1] + l;
          break;
        case "H":
          C[1] = +g[1] + a;
          break;
        case "M":
          s = +g[1] + a, f = +g[2] + l, C[1] = s, C[2] = f;
          break;
        default:
          for (var w = 1, S = g.length; w < S; w++)
            C[w] = +g[w] + (w % 2 ? a : l);
      }
    else
      C = r[n];
    switch (m) {
      case "Z":
        a = +s, l = +f;
        break;
      case "H":
        a = C[1], C = ["L", a, l];
        break;
      case "V":
        l = C[1], C = ["L", a, l];
        break;
      case "T":
        a = C[1], l = C[2];
        var x = f_([y[1], y[2]], [y[3], y[4]]);
        C = ["Q", x[0], x[1], a, l];
        break;
      case "S":
        a = C[C.length - 2], l = C[C.length - 1];
        var b = y.length, O = f_([y[b - 4], y[b - 3]], [y[b - 2], y[b - 1]]);
        C = ["C", O[0], O[1], C[1], C[2], a, l];
        break;
      case "M":
        s = C[C.length - 2], f = C[C.length - 1];
        break;
      default:
        a = C[C.length - 2], l = C[C.length - 1];
    }
    o.push(C);
  }
  return o;
}
function Ju(e) {
  return Math.sqrt(e[0] * e[0] + e[1] * e[1]);
}
function gv(e, r) {
  return Ju(e) * Ju(r) ? (e[0] * r[0] + e[1] * r[1]) / (Ju(e) * Ju(r)) : 1;
}
function c_(e, r) {
  return (e[0] * r[1] < e[1] * r[0] ? -1 : 1) * Math.acos(gv(e, r));
}
function yv(e, r) {
  return e[0] === r[0] && e[1] === r[1];
}
function CB(e, r) {
  var t = r[1], n = r[2], i = dx(vx(r[3]), Math.PI * 2), o = r[4], a = r[5], l = e[0], s = e[1], f = r[6], h = r[7], d = Math.cos(i) * (l - f) / 2 + Math.sin(i) * (s - h) / 2, v = -1 * Math.sin(i) * (l - f) / 2 + Math.cos(i) * (s - h) / 2, g = d * d / (t * t) + v * v / (n * n);
  g > 1 && (t *= Math.sqrt(g), n *= Math.sqrt(g));
  var y = t * t * (v * v) + n * n * (d * d), C = y ? Math.sqrt((t * t * (n * n) - y) / y) : 1;
  o === a && (C *= -1), isNaN(C) && (C = 0);
  var m = n ? C * t * v / n : 0, w = t ? C * -n * d / t : 0, S = (l + f) / 2 + Math.cos(i) * m - Math.sin(i) * w, x = (s + h) / 2 + Math.sin(i) * m + Math.cos(i) * w, b = [(d - m) / t, (v - w) / n], O = [(-1 * d - m) / t, (-1 * v - w) / n], D = c_([1, 0], b), N = c_(b, O);
  return gv(b, O) <= -1 && (N = Math.PI), gv(b, O) >= 1 && (N = 0), a === 0 && N > 0 && (N = N - 2 * Math.PI), a === 1 && N < 0 && (N = N + 2 * Math.PI), {
    cx: S,
    cy: x,
    // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理
    rx: yv(e, [f, h]) ? 0 : t,
    ry: yv(e, [f, h]) ? 0 : n,
    startAngle: D,
    endAngle: D + N,
    xRotation: i,
    arcFlag: o,
    sweepFlag: a
  };
}
function h_(e, r) {
  return [r[0] + (r[0] - e[0]), r[1] + (r[1] - e[1])];
}
function tS(e) {
  e = dB(e);
  for (var r = [], t = null, n = null, i = null, o = 0, a = e.length, l = 0; l < a; l++) {
    var s = e[l];
    n = e[l + 1];
    var f = s[0], h = {
      command: f,
      prePoint: t,
      params: s,
      startTangent: null,
      endTangent: null
    };
    switch (f) {
      case "M":
        i = [s[1], s[2]], o = l;
        break;
      case "A":
        var d = CB(t, s);
        h.arcParams = d;
        break;
    }
    if (f === "Z")
      t = i, n = e[o + 1];
    else {
      var v = s.length;
      t = [s[v - 2], s[v - 1]];
    }
    n && n[0] === "Z" && (n = e[o], r[o] && (r[o].prePoint = t)), h.currentPoint = t, r[o] && yv(t, r[o].currentPoint) && (r[o].prePoint = h.prePoint);
    var g = n ? [n[n.length - 2], n[n.length - 1]] : null;
    h.nextPoint = g;
    var y = h.prePoint;
    if (["L", "H", "V"].includes(f))
      h.startTangent = [y[0] - t[0], y[1] - t[1]], h.endTangent = [t[0] - y[0], t[1] - y[1]];
    else if (f === "Q") {
      var C = [s[1], s[2]];
      h.startTangent = [y[0] - C[0], y[1] - C[1]], h.endTangent = [t[0] - C[0], t[1] - C[1]];
    } else if (f === "T") {
      var m = r[l - 1], C = h_(m.currentPoint, y);
      m.command === "Q" ? (h.command = "Q", h.startTangent = [y[0] - C[0], y[1] - C[1]], h.endTangent = [t[0] - C[0], t[1] - C[1]]) : (h.command = "TL", h.startTangent = [y[0] - t[0], y[1] - t[1]], h.endTangent = [t[0] - y[0], t[1] - y[1]]);
    } else if (f === "C") {
      var w = [s[1], s[2]], S = [s[3], s[4]];
      h.startTangent = [y[0] - w[0], y[1] - w[1]], h.endTangent = [t[0] - S[0], t[1] - S[1]], h.startTangent[0] === 0 && h.startTangent[1] === 0 && (h.startTangent = [w[0] - S[0], w[1] - S[1]]), h.endTangent[0] === 0 && h.endTangent[1] === 0 && (h.endTangent = [S[0] - w[0], S[1] - w[1]]);
    } else if (f === "S") {
      var m = r[l - 1], w = h_(m.currentPoint, y), S = [s[1], s[2]];
      m.command === "C" ? (h.command = "C", h.startTangent = [y[0] - w[0], y[1] - w[1]], h.endTangent = [t[0] - S[0], t[1] - S[1]]) : (h.command = "SQ", h.startTangent = [y[0] - S[0], y[1] - S[1]], h.endTangent = [t[0] - S[0], t[1] - S[1]]);
    } else if (f === "A") {
      var x = 1e-3, b = h.arcParams || {}, O = b.cx, D = O === void 0 ? 0 : O, N = b.cy, W = N === void 0 ? 0 : N, k = b.rx, ee = k === void 0 ? 0 : k, J = b.ry, te = J === void 0 ? 0 : J, ae = b.sweepFlag, fe = ae === void 0 ? 0 : ae, j = b.startAngle, ie = j === void 0 ? 0 : j, Ie = b.endAngle, we = Ie === void 0 ? 0 : Ie;
      fe === 0 && (x *= -1);
      var Te = ee * Math.cos(ie - x) + D, he = te * Math.sin(ie - x) + W;
      h.startTangent = [Te - i[0], he - i[1]];
      var be = ee * Math.cos(ie + we + x) + D, Ae = te * Math.sin(ie + we - x) + W;
      h.endTangent = [y[0] - be, y[1] - Ae];
    }
    r.push(h);
  }
  return r;
}
function _B(e, r) {
  for (var t = [], n = [], i = [], o = 0; o < e.length; o++) {
    var a = e[o], l = a.currentPoint, s = a.params, f = a.prePoint, h = void 0;
    switch (a.command) {
      case "Q":
        h = qx.box(f[0], f[1], s[1], s[2], s[3], s[4]);
        break;
      case "C":
        h = as.box(f[0], f[1], s[1], s[2], s[3], s[4], s[5], s[6]);
        break;
      case "A":
        var d = a.arcParams;
        h = eB.box(d.cx, d.cy, d.rx, d.ry, d.xRotation, d.startAngle, d.endAngle);
        break;
      default:
        t.push(l[0]), n.push(l[1]);
        break;
    }
    h && (a.box = h, t.push(h.x, h.x + h.width), n.push(h.y, h.y + h.height)), r && (a.command === "L" || a.command === "M") && a.prePoint && a.nextPoint && i.push(a);
  }
  t = t.filter(function(w) {
    return !Number.isNaN(w) && w !== 1 / 0 && w !== -1 / 0;
  }), n = n.filter(function(w) {
    return !Number.isNaN(w) && w !== 1 / 0 && w !== -1 / 0;
  });
  var v = si(t), g = si(n), y = li(t), C = li(n);
  if (i.length === 0)
    return {
      x: v,
      y: g,
      width: y - v,
      height: C - g
    };
  for (var o = 0; o < i.length; o++) {
    var a = i[o], l = a.currentPoint, m = void 0;
    l[0] === v ? (m = ef(a, r), v = v - m.xExtra) : l[0] === y && (m = ef(a, r), y = y + m.xExtra), l[1] === g ? (m = ef(a, r), g = g - m.yExtra) : l[1] === C && (m = ef(a, r), C = C + m.yExtra);
  }
  return {
    x: v,
    y: g,
    width: y - v,
    height: C - g
  };
}
function ef(e, r) {
  var t = e.prePoint, n = e.currentPoint, i = e.nextPoint, o = Math.pow(n[0] - t[0], 2) + Math.pow(n[1] - t[1], 2), a = Math.pow(n[0] - i[0], 2) + Math.pow(n[1] - i[1], 2), l = Math.pow(t[0] - i[0], 2) + Math.pow(t[1] - i[1], 2), s = Math.acos((o + a - l) / (2 * Math.sqrt(o) * Math.sqrt(a)));
  if (!s || Math.sin(s) === 0 || b3(s, 0))
    return {
      xExtra: 0,
      yExtra: 0
    };
  var f = Math.abs(Math.atan2(i[1] - n[1], i[0] - n[0])), h = Math.abs(Math.atan2(i[0] - n[0], i[1] - n[1]));
  f = f > Math.PI / 2 ? Math.PI - f : f, h = h > Math.PI / 2 ? Math.PI - h : h;
  var d = {
    // 水平方向投影
    xExtra: Math.cos(s / 2 - f) * (r / 2 * (1 / Math.sin(s / 2))) - r / 2 || 0,
    // 垂直方向投影
    yExtra: Math.cos(h - s / 2) * (r / 2 * (1 / Math.sin(s / 2))) - r / 2 || 0
  };
  return d;
}
function mB(e) {
  var r = e.attr(), t = r.path, n = r.stroke, i = n ? r.lineWidth : 0, o = e.get("segments") || tS(t), a = _B(o, i), l = a.x, s = a.y, f = a.width, h = a.height, d = {
    minX: l,
    minY: s,
    maxX: l + f,
    maxY: s + h
  };
  return d = Ip(e, d), {
    x: d.minX,
    y: d.minY,
    width: d.maxX - d.minX,
    height: d.maxY - d.minY
  };
}
function wB(e) {
  var r = e.attr(), t = r.x1, n = r.y1, i = r.x2, o = r.y2, a = Math.min(t, i), l = Math.max(t, i), s = Math.min(n, o), f = Math.max(n, o), h = {
    minX: a,
    maxX: l,
    minY: s,
    maxY: f
  };
  return h = Ip(e, h), {
    x: h.minX,
    y: h.minY,
    width: h.maxX - h.minX,
    height: h.maxY - h.minY
  };
}
function xB(e) {
  var r = e.attr(), t = r.x, n = r.y, i = r.rx, o = r.ry;
  return {
    x: t - i,
    y: n - o,
    width: i * 2,
    height: o * 2
  };
}
Ci("rect", Ux);
Ci("image", Ux);
Ci("circle", Yx);
Ci("marker", Yx);
Ci("polyline", aB);
Ci("polygon", lB);
Ci("text", fB);
Ci("path", mB);
Ci("line", wB);
Ci("ellipse", xB);
function SB() {
  return window ? window.devicePixelRatio : 1;
}
function rS(e, r, t, n) {
  var i = e - t, o = r - n;
  return Math.sqrt(i * i + o * o);
}
function Zo(e, r, t, n, i, o) {
  return i >= e && i <= e + t && o >= r && o <= r + n;
}
function _s(e, r) {
  return !(r.minX > e.maxX || r.maxX < e.minX || r.minY > e.maxY || r.maxY < e.minY);
}
function TB(e, r) {
  return !e || !r ? e || r : {
    minX: Math.min(e.minX, r.minX),
    minY: Math.min(e.minY, r.minY),
    maxX: Math.max(e.maxX, r.maxX),
    maxY: Math.max(e.maxY, r.maxY)
  };
}
function d_(e, r) {
  return e[0] === r[0] && e[1] === r[1];
}
var bB = /^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i, EB = /^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i, LB = /^p\s*\(\s*([axyn])\s*\)\s*(.*)/i, nS = /[\d.]+:(#[^\s]+|[^\)]+\))/gi;
function iS(e, r) {
  var t = e.match(nS);
  at(t, function(n) {
    var i = n.split(":");
    r.addColorStop(i[0], i[1]);
  });
}
function AB(e, r, t) {
  var n = bB.exec(t), i = parseFloat(n[1]) % 360 * (Math.PI / 180), o = n[2], a = r.getBBox(), l, s;
  i >= 0 && i < 1 / 2 * Math.PI ? (l = {
    x: a.minX,
    y: a.minY
  }, s = {
    x: a.maxX,
    y: a.maxY
  }) : 1 / 2 * Math.PI <= i && i < Math.PI ? (l = {
    x: a.maxX,
    y: a.minY
  }, s = {
    x: a.minX,
    y: a.maxY
  }) : Math.PI <= i && i < 3 / 2 * Math.PI ? (l = {
    x: a.maxX,
    y: a.maxY
  }, s = {
    x: a.minX,
    y: a.minY
  }) : (l = {
    x: a.minX,
    y: a.maxY
  }, s = {
    x: a.maxX,
    y: a.minY
  });
  var f = Math.tan(i), h = f * f, d = (s.x - l.x + f * (s.y - l.y)) / (h + 1) + l.x, v = f * (s.x - l.x + f * (s.y - l.y)) / (h + 1) + l.y, g = e.createLinearGradient(l.x, l.y, d, v);
  return iS(o, g), g;
}
function RB(e, r, t) {
  var n = EB.exec(t), i = parseFloat(n[1]), o = parseFloat(n[2]), a = parseFloat(n[3]), l = n[4];
  if (a === 0) {
    var s = l.match(nS);
    return s[s.length - 1].split(":")[1];
  }
  var f = r.getBBox(), h = f.maxX - f.minX, d = f.maxY - f.minY, v = Math.sqrt(h * h + d * d) / 2, g = e.createRadialGradient(f.minX + h * i, f.minY + d * o, 0, f.minX + h / 2, f.minY + d / 2, a * v);
  return iS(l, g), g;
}
function OB(e, r, t) {
  if (r.get("patternSource") && r.get("patternSource") === t)
    return r.get("pattern");
  var n, i, o = LB.exec(t), a = o[1], l = o[2];
  function s() {
    n = e.createPattern(i, a), r.set("pattern", n), r.set("patternSource", t);
  }
  switch (a) {
    case "a":
      a = "repeat";
      break;
    case "x":
      a = "repeat-x";
      break;
    case "y":
      a = "repeat-y";
      break;
    case "n":
      a = "no-repeat";
      break;
    default:
      a = "no-repeat";
  }
  return i = new Image(), l.match(/^data:/i) || (i.crossOrigin = "Anonymous"), i.src = l, i.complete ? s() : (i.onload = s, i.src = i.src), n;
}
function IB(e, r, t) {
  var n = r.getBBox();
  if (isNaN(n.x) || isNaN(n.y) || isNaN(n.width) || isNaN(n.height))
    return t;
  if (Vn(t)) {
    if (t[1] === "(" || t[2] === "(") {
      if (t[0] === "l")
        return AB(e, r, t);
      if (t[0] === "r")
        return RB(e, r, t);
      if (t[0] === "p")
        return OB(e, r, t);
    }
    return t;
  }
  if (t instanceof CanvasPattern)
    return t;
}
function MB(e) {
  var r = 0, t = 0, n = 0, i = 0;
  return In(e) ? e.length === 1 ? r = t = n = i = e[0] : e.length === 2 ? (r = n = e[0], t = i = e[1]) : e.length === 3 ? (r = e[0], t = i = e[1], n = e[2]) : (r = e[0], t = e[1], n = e[2], i = e[3]) : r = t = n = i = e, [r, t, n, i];
}
function tf(e) {
  return Math.sqrt(e[0] * e[0] + e[1] * e[1]);
}
function Cv(e, r) {
  return tf(e) * tf(r) ? (e[0] * r[0] + e[1] * r[1]) / (tf(e) * tf(r)) : 1;
}
function v_(e, r) {
  return (e[0] * r[1] < e[1] * r[0] ? -1 : 1) * Math.acos(Cv(e, r));
}
function p_(e, r) {
  var t = r[1], n = r[2], i = dx(vx(r[3]), Math.PI * 2), o = r[4], a = r[5], l = e[0], s = e[1], f = r[6], h = r[7], d = Math.cos(i) * (l - f) / 2 + Math.sin(i) * (s - h) / 2, v = -1 * Math.sin(i) * (l - f) / 2 + Math.cos(i) * (s - h) / 2, g = d * d / (t * t) + v * v / (n * n);
  g > 1 && (t *= Math.sqrt(g), n *= Math.sqrt(g));
  var y = t * t * (v * v) + n * n * (d * d), C = y ? Math.sqrt((t * t * (n * n) - y) / y) : 1;
  o === a && (C *= -1), isNaN(C) && (C = 0);
  var m = n ? C * t * v / n : 0, w = t ? C * -n * d / t : 0, S = (l + f) / 2 + Math.cos(i) * m - Math.sin(i) * w, x = (s + h) / 2 + Math.sin(i) * m + Math.cos(i) * w, b = [(d - m) / t, (v - w) / n], O = [(-1 * d - m) / t, (-1 * v - w) / n], D = v_([1, 0], b), N = v_(b, O);
  return Cv(b, O) <= -1 && (N = Math.PI), Cv(b, O) >= 1 && (N = 0), a === 0 && N > 0 && (N = N - 2 * Math.PI), a === 1 && N < 0 && (N = N + 2 * Math.PI), {
    cx: S,
    cy: x,
    // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理
    rx: d_(e, [f, h]) ? 0 : t,
    ry: d_(e, [f, h]) ? 0 : n,
    startAngle: D,
    endAngle: D + N,
    xRotation: i,
    arcFlag: o,
    sweepFlag: a
  };
}
var Mf = Math.sin, Bf = Math.cos, Mp = Math.atan2, rf = Math.PI;
function oS(e, r, t, n, i, o, a) {
  var l = r.stroke, s = r.lineWidth, f = t - i, h = n - o, d = Mp(h, f), v = new $p({
    type: "path",
    canvas: e.get("canvas"),
    isArrowShape: !0,
    attrs: {
      // 默认箭头的边长为 10，夹角为 60 度
      path: "M" + 10 * Bf(rf / 6) + "," + 10 * Mf(rf / 6) + " L0,0 L" + 10 * Bf(rf / 6) + ",-" + 10 * Mf(rf / 6),
      // 使用 shape stroke 值
      stroke: l,
      lineWidth: s
    }
  });
  v.translate(i, o), v.rotateAtPoint(i, o, d), e.set(a ? "startArrowShape" : "endArrowShape", v);
}
function aS(e, r, t, n, i, o, a) {
  var l = r.startArrow, s = r.endArrow, f = r.stroke, h = r.lineWidth, d = a ? l : s, v = d.d, g = d.fill, y = d.stroke, C = d.lineWidth, m = x3(d, ["d", "fill", "stroke", "lineWidth"]), w = t - i, S = n - o, x = Mp(S, w);
  v && (i = i - Bf(x) * v, o = o - Mf(x) * v);
  var b = new $p({
    type: "path",
    canvas: e.get("canvas"),
    isArrowShape: !0,
    attrs: Pt(Pt({}, m), {
      // 支持单独设置箭头的 stroke 和 lineWidth，若为空则使用 shape 的值
      stroke: y || f,
      lineWidth: C || h,
      // 箭头是否填充需要手动设置，不会继承自 shape 的值
      fill: g
    })
  });
  b.translate(i, o), b.rotateAtPoint(i, o, x), e.set(a ? "startArrowShape" : "endArrowShape", b);
}
function ea(e, r, t, n, i) {
  var o = Mp(n - r, t - e);
  return {
    dx: Bf(o) * i,
    dy: Mf(o) * i
  };
}
function Bp(e, r, t, n, i, o) {
  typeof r.startArrow == "object" ? aS(e, r, t, n, i, o, !0) : r.startArrow ? oS(e, r, t, n, i, o, !0) : e.set("startArrowShape", null);
}
function Dp(e, r, t, n, i, o) {
  typeof r.endArrow == "object" ? aS(e, r, t, n, i, o, !1) : r.endArrow ? oS(e, r, t, n, i, o, !1) : e.set("startArrowShape", null);
}
var g_ = {
  fill: "fillStyle",
  stroke: "strokeStyle",
  opacity: "globalAlpha"
};
function el(e, r) {
  var t = r.attr();
  for (var n in t) {
    var i = t[n], o = g_[n] ? g_[n] : n;
    o === "matrix" && i ? e.transform(i[0], i[1], i[3], i[4], i[6], i[7]) : o === "lineDash" && e.setLineDash ? In(i) && e.setLineDash(i) : (o === "strokeStyle" || o === "fillStyle" ? i = IB(e, r, i) : o === "globalAlpha" && (i = i * e.globalAlpha), e[o] = i);
  }
}
function _v(e, r, t) {
  for (var n = 0; n < r.length; n++) {
    var i = r[n];
    i.cfg.visible ? i.draw(e, t) : i.skipDraw();
  }
}
function BB(e, r, t) {
  var n = e.get("refreshElements");
  at(n, function(i) {
    if (i !== e)
      for (var o = i.cfg.parent; o && o !== e && !o.cfg.refresh; )
        o.cfg.refresh = !0, o = o.cfg.parent;
  }), n[0] === e ? Pp(r) : mv(r, t);
}
function mv(e, r) {
  for (var t = 0; t < e.length; t++) {
    var n = e[t];
    if (n.cfg.visible)
      if (n.cfg.hasChanged)
        n.cfg.refresh = !0, n.isGroup() && Pp(n.cfg.children);
      else if (n.cfg.refresh)
        n.isGroup() && mv(n.cfg.children, r);
      else {
        var i = DB(n, r);
        n.cfg.refresh = i, i && n.isGroup() && mv(n.cfg.children, r);
      }
  }
}
function lS(e) {
  for (var r = 0; r < e.length; r++) {
    var t = e[r];
    t.cfg.hasChanged = !1, t.isGroup() && !t.destroyed && lS(t.cfg.children);
  }
}
function Pp(e, r) {
  for (var t = 0; t < e.length; t++) {
    var n = e[t];
    n.cfg.refresh = !0, n.isGroup() && Pp(n.get("children"));
  }
}
function DB(e, r) {
  var t = e.cfg.cacheCanvasBBox, n = e.cfg.isInView && t && _s(t, r);
  return n;
}
function sS(e, r, t, n) {
  var i = t.path, o = t.startArrow, a = t.endArrow;
  if (i) {
    var l = [0, 0], s = [0, 0], f = {
      dx: 0,
      dy: 0
    };
    r.beginPath();
    for (var h = 0; h < i.length; h++) {
      var d = i[h], v = d[0];
      if (h === 0 && o && o.d) {
        var g = e.getStartTangent();
        f = ea(g[0][0], g[0][1], g[1][0], g[1][1], o.d);
      } else if (h === i.length - 2 && i[h + 1][0] === "Z" && a && a.d) {
        var y = i[h + 1];
        if (y[0] === "Z") {
          var g = e.getEndTangent();
          f = ea(g[0][0], g[0][1], g[1][0], g[1][1], a.d);
        }
      } else if (h === i.length - 1 && a && a.d && i[0] !== "Z") {
        var g = e.getEndTangent();
        f = ea(g[0][0], g[0][1], g[1][0], g[1][1], a.d);
      }
      var C = f.dx, m = f.dy;
      switch (v) {
        case "M":
          r.moveTo(d[1] - C, d[2] - m), s = [d[1], d[2]];
          break;
        case "L":
          r.lineTo(d[1] - C, d[2] - m);
          break;
        case "Q":
          r.quadraticCurveTo(d[1], d[2], d[3] - C, d[4] - m);
          break;
        case "C":
          r.bezierCurveTo(d[1], d[2], d[3], d[4], d[5] - C, d[6] - m);
          break;
        case "A": {
          var w = void 0;
          n ? (w = n[h], w || (w = p_(l, d), n[h] = w)) : w = p_(l, d);
          var S = w.cx, x = w.cy, b = w.rx, O = w.ry, D = w.startAngle, N = w.endAngle, W = w.xRotation, k = w.sweepFlag;
          if (r.ellipse)
            r.ellipse(S, x, b, O, W, D, N, 1 - k);
          else {
            var ee = b > O ? b : O, J = b > O ? 1 : b / O, te = b > O ? O / b : 1;
            r.translate(S, x), r.rotate(W), r.scale(J, te), r.arc(0, 0, ee, D, N, 1 - k), r.scale(1 / J, 1 / te), r.rotate(-W), r.translate(-S, -x);
          }
          break;
        }
        case "Z":
          r.closePath();
          break;
      }
      if (v === "Z")
        l = s;
      else {
        var ae = d.length;
        l = [d[ae - 2], d[ae - 1]];
      }
    }
  }
}
function uS(e, r) {
  var t = e.get("canvas");
  t && (r === "remove" && (e._cacheCanvasBBox = e.get("cacheCanvasBBox")), e.get("hasChanged") || (e.set("hasChanged", !0), e.cfg.parent && e.cfg.parent.get("hasChanged") || (t.refreshElement(e, r, t), t.get("autoDraw") && t.draw())));
}
function PB(e) {
  var r;
  if (e.destroyed)
    r = e._cacheCanvasBBox;
  else {
    var t = e.get("cacheCanvasBBox"), n = t && !!(t.width && t.height), i = e.getCanvasBBox(), o = i && !!(i.width && i.height);
    n && o ? r = TB(t, i) : n ? r = t : o && (r = i);
  }
  return r;
}
function FB(e) {
  if (!e.length)
    return null;
  var r = [], t = [], n = [], i = [];
  return at(e, function(o) {
    var a = PB(o);
    a && (r.push(a.minX), t.push(a.minY), n.push(a.maxX), i.push(a.maxY));
  }), {
    minX: si(r),
    minY: si(t),
    maxX: li(n),
    maxY: li(i)
  };
}
function $B(e, r) {
  return !e || !r || !_s(e, r) ? null : {
    minX: Math.max(e.minX, r.minX),
    minY: Math.max(e.minY, r.minY),
    maxX: Math.min(e.maxX, r.maxX),
    maxY: Math.min(e.maxY, r.maxY)
  };
}
var _i = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.onCanvasChange = function(t) {
      uS(this, t);
    }, r.prototype.getShapeBase = function() {
      return Sp;
    }, r.prototype.getGroupBase = function() {
      return r;
    }, r.prototype._applyClip = function(t, n) {
      n && (t.save(), el(t, n), n.createPath(t), t.restore(), t.clip(), n._afterDraw());
    }, r.prototype.cacheCanvasBBox = function() {
      var t = this.cfg.children, n = [], i = [];
      at(t, function(v) {
        var g = v.cfg.cacheCanvasBBox;
        g && v.cfg.isInView && (n.push(g.minX, g.maxX), i.push(g.minY, g.maxY));
      });
      var o = null;
      if (n.length) {
        var a = si(n), l = li(n), s = si(i), f = li(i);
        o = {
          minX: a,
          minY: s,
          x: a,
          y: s,
          maxX: l,
          maxY: f,
          width: l - a,
          height: f - s
        };
        var h = this.cfg.canvas;
        if (h) {
          var d = h.getViewRange();
          this.set("isInView", _s(o, d));
        }
      } else
        this.set("isInView", !1);
      this.set("cacheCanvasBBox", o);
    }, r.prototype.draw = function(t, n) {
      var i = this.cfg.children, o = n ? this.cfg.refresh : !0;
      i.length && o && (t.save(), el(t, this), this._applyClip(t, this.getClip()), _v(t, i, n), t.restore(), this.cacheCanvasBBox()), this.cfg.refresh = null, this.set("hasChanged", !1);
    }, r.prototype.skipDraw = function() {
      this.set("cacheCanvasBBox", null), this.set("hasChanged", !1);
    }, r;
  }(k4)
), NB = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });
    }, r.prototype.getShapeBase = function() {
      return Sp;
    }, r.prototype.getGroupBase = function() {
      return _i;
    }, r.prototype.onCanvasChange = function(t) {
      uS(this, t);
    }, r.prototype.calculateBBox = function() {
      var t = this.get("type"), n = this.getHitLineWidth(), i = Y4(t), o = i(this), a = n / 2, l = o.x - a, s = o.y - a, f = o.x + o.width + a, h = o.y + o.height + a;
      return {
        x: l,
        minX: l,
        y: s,
        minY: s,
        width: o.width + n,
        height: o.height + n,
        maxX: f,
        maxY: h
      };
    }, r.prototype.isFill = function() {
      return !!this.attrs.fill || this.isClipShape();
    }, r.prototype.isStroke = function() {
      return !!this.attrs.stroke;
    }, r.prototype._applyClip = function(t, n) {
      n && (t.save(), el(t, n), n.createPath(t), t.restore(), t.clip(), n._afterDraw());
    }, r.prototype.draw = function(t, n) {
      var i = this.cfg.clipShape;
      if (n) {
        if (this.cfg.refresh === !1) {
          this.set("hasChanged", !1);
          return;
        }
        var o = this.getCanvasBBox();
        if (!_s(n, o)) {
          this.set("hasChanged", !1), this.cfg.isInView && this._afterDraw();
          return;
        }
      }
      t.save(), el(t, this), this._applyClip(t, i), this.drawPath(t), t.restore(), this._afterDraw();
    }, r.prototype.getCanvasViewBox = function() {
      var t = this.cfg.canvas;
      return t ? t.getViewRange() : null;
    }, r.prototype.cacheCanvasBBox = function() {
      var t = this.getCanvasViewBox();
      if (t) {
        var n = this.getCanvasBBox(), i = _s(n, t);
        this.set("isInView", i), i ? this.set("cacheCanvasBBox", n) : this.set("cacheCanvasBBox", null);
      }
    }, r.prototype._afterDraw = function() {
      this.cacheCanvasBBox(), this.set("hasChanged", !1), this.set("refresh", null);
    }, r.prototype.skipDraw = function() {
      this.set("cacheCanvasBBox", null), this.set("isInView", null), this.set("hasChanged", !1);
    }, r.prototype.drawPath = function(t) {
      this.createPath(t), this.strokeAndFill(t), this.afterDrawPath(t);
    }, r.prototype.fill = function(t) {
      t.fill();
    }, r.prototype.stroke = function(t) {
      t.stroke();
    }, r.prototype.strokeAndFill = function(t) {
      var n = this.attrs, i = n.lineWidth, o = n.opacity, a = n.strokeOpacity, l = n.fillOpacity;
      this.isFill() && (!jt(l) && l !== 1 ? (t.globalAlpha = l, this.fill(t), t.globalAlpha = o) : this.fill(t)), this.isStroke() && i > 0 && (!jt(a) && a !== 1 && (t.globalAlpha = a), this.stroke(t)), this.afterDrawPath(t);
    }, r.prototype.createPath = function(t) {
    }, r.prototype.afterDrawPath = function(t) {
    }, r.prototype.isInShape = function(t, n) {
      var i = this.isStroke(), o = this.isFill(), a = this.getHitLineWidth();
      return this.isInStrokeOrPath(t, n, i, o, a);
    }, r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      return !1;
    }, r.prototype.getHitLineWidth = function() {
      if (!this.isStroke())
        return 0;
      var t = this.attrs;
      return t.lineWidth + t.lineAppendWidth;
    }, r;
  }(U4)
), jn = NB, HB = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { x: 0, y: 0, r: 0 });
    }, r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      var l = this.attr(), s = l.x, f = l.y, h = l.r, d = a / 2, v = rS(s, f, t, n);
      return o && i ? v <= h + d : o ? v <= h : i ? v >= h - d && v <= h + d : !1;
    }, r.prototype.createPath = function(t) {
      var n = this.attr(), i = n.x, o = n.y, a = n.r;
      t.beginPath(), t.arc(i, o, a, 0, Math.PI * 2, !1), t.closePath();
    }, r;
  }(jn)
), zB = HB;
function nf(e, r, t, n) {
  return e / (t * t) + r / (n * n);
}
var WB = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { x: 0, y: 0, rx: 0, ry: 0 });
    }, r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      var l = this.attr(), s = a / 2, f = l.x, h = l.y, d = l.rx, v = l.ry, g = (t - f) * (t - f), y = (n - h) * (n - h);
      return o && i ? nf(g, y, d + s, v + s) <= 1 : o ? nf(g, y, d, v) <= 1 : i ? nf(g, y, d - s, v - s) >= 1 && nf(g, y, d + s, v + s) <= 1 : !1;
    }, r.prototype.createPath = function(t) {
      var n = this.attr(), i = n.x, o = n.y, a = n.rx, l = n.ry;
      if (t.beginPath(), t.ellipse)
        t.ellipse(i, o, a, l, 0, 0, Math.PI * 2, !1);
      else {
        var s = a > l ? a : l, f = a > l ? 1 : a / l, h = a > l ? l / a : 1;
        t.save(), t.translate(i, o), t.scale(f, h), t.arc(0, 0, s, 0, Math.PI * 2), t.restore(), t.closePath();
      }
    }, r;
  }(jn)
), GB = WB;
function y_(e) {
  return e instanceof HTMLElement && Vn(e.nodeName) && e.nodeName.toUpperCase() === "CANVAS";
}
var kB = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { x: 0, y: 0, width: 0, height: 0 });
    }, r.prototype.initAttrs = function(t) {
      this._setImage(t.img);
    }, r.prototype.isStroke = function() {
      return !1;
    }, r.prototype.isOnlyHitBox = function() {
      return !0;
    }, r.prototype._afterLoading = function() {
      if (this.get("toDraw") === !0) {
        var t = this.get("canvas");
        t ? t.draw() : this.createPath(this.get("context"));
      }
    }, r.prototype._setImage = function(t) {
      var n = this, i = this.attrs;
      if (Vn(t)) {
        var o = new Image();
        o.onload = function() {
          if (n.destroyed)
            return !1;
          n.attr("img", o), n.set("loading", !1), n._afterLoading();
          var a = n.get("callback");
          a && a.call(n);
        }, o.crossOrigin = "Anonymous", o.src = t, this.set("loading", !0);
      } else
        t instanceof Image ? (i.width || (i.width = t.width), i.height || (i.height = t.height)) : y_(t) && (i.width || (i.width = Number(t.getAttribute("width"))), i.height || (i.height, Number(t.getAttribute("height"))));
    }, r.prototype.onAttrChange = function(t, n, i) {
      e.prototype.onAttrChange.call(this, t, n, i), t === "img" && this._setImage(n);
    }, r.prototype.createPath = function(t) {
      if (this.get("loading")) {
        this.set("toDraw", !0), this.set("context", t);
        return;
      }
      var n = this.attr(), i = n.x, o = n.y, a = n.width, l = n.height, s = n.sx, f = n.sy, h = n.swidth, d = n.sheight, v = n.img;
      (v instanceof Image || y_(v)) && (!jt(s) && !jt(f) && !jt(h) && !jt(d) ? t.drawImage(v, s, f, h, d, i, o, a, l) : t.drawImage(v, i, o, a, l));
    }, r;
  }(jn)
), Fp = kB;
function yo(e, r, t, n, i, o, a) {
  var l = Math.min(e, t), s = Math.max(e, t), f = Math.min(r, n), h = Math.max(r, n), d = i / 2;
  return o >= l - d && o <= s + d && a >= f - d && a <= h + d ? Wr.pointToLine(e, r, t, n, o, a) <= i / 2 : !1;
}
var UB = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: !1, endArrow: !1 });
    }, r.prototype.initAttrs = function(t) {
      this.setArrow();
    }, r.prototype.onAttrChange = function(t, n, i) {
      e.prototype.onAttrChange.call(this, t, n, i), this.setArrow();
    }, r.prototype.setArrow = function() {
      var t = this.attr(), n = t.x1, i = t.y1, o = t.x2, a = t.y2, l = t.startArrow, s = t.endArrow;
      l && Bp(this, t, o, a, n, i), s && Dp(this, t, n, i, o, a);
    }, r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      if (!i || !a)
        return !1;
      var l = this.attr(), s = l.x1, f = l.y1, h = l.x2, d = l.y2;
      return yo(s, f, h, d, a, t, n);
    }, r.prototype.createPath = function(t) {
      var n = this.attr(), i = n.x1, o = n.y1, a = n.x2, l = n.y2, s = n.startArrow, f = n.endArrow, h = {
        dx: 0,
        dy: 0
      }, d = {
        dx: 0,
        dy: 0
      };
      s && s.d && (h = ea(i, o, a, l, n.startArrow.d)), f && f.d && (d = ea(i, o, a, l, n.endArrow.d)), t.beginPath(), t.moveTo(i + h.dx, o + h.dy), t.lineTo(a - d.dx, l - d.dy);
    }, r.prototype.afterDrawPath = function(t) {
      var n = this.get("startArrowShape"), i = this.get("endArrowShape");
      n && n.draw(t), i && i.draw(t);
    }, r.prototype.getTotalLength = function() {
      var t = this.attr(), n = t.x1, i = t.y1, o = t.x2, a = t.y2;
      return Wr.length(n, i, o, a);
    }, r.prototype.getPoint = function(t) {
      var n = this.attr(), i = n.x1, o = n.y1, a = n.x2, l = n.y2;
      return Wr.pointAt(i, o, a, l, t);
    }, r;
  }(jn)
), YB = UB, XB = {
  // 圆
  circle: function(e, r, t) {
    return [
      ["M", e - t, r],
      ["A", t, t, 0, 1, 0, e + t, r],
      ["A", t, t, 0, 1, 0, e - t, r]
    ];
  },
  // 正方形
  square: function(e, r, t) {
    return [["M", e - t, r - t], ["L", e + t, r - t], ["L", e + t, r + t], ["L", e - t, r + t], ["Z"]];
  },
  // 菱形
  diamond: function(e, r, t) {
    return [["M", e - t, r], ["L", e, r - t], ["L", e + t, r], ["L", e, r + t], ["Z"]];
  },
  // 三角形
  triangle: function(e, r, t) {
    var n = t * Math.sin(0.3333333333333333 * Math.PI);
    return [["M", e - t, r + n], ["L", e, r - n], ["L", e + t, r + n], ["Z"]];
  },
  // 倒三角形
  "triangle-down": function(e, r, t) {
    var n = t * Math.sin(0.3333333333333333 * Math.PI);
    return [["M", e - t, r - n], ["L", e + t, r - n], ["L", e, r + n], ["Z"]];
  }
}, VB = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.initAttrs = function(t) {
      this._resetParamsCache();
    }, r.prototype._resetParamsCache = function() {
      this.set("paramsCache", {});
    }, r.prototype.onAttrChange = function(t, n, i) {
      e.prototype.onAttrChange.call(this, t, n, i), ["symbol", "x", "y", "r", "radius"].indexOf(t) !== -1 && this._resetParamsCache();
    }, r.prototype.isOnlyHitBox = function() {
      return !0;
    }, r.prototype._getR = function(t) {
      return jt(t.r) ? t.radius : t.r;
    }, r.prototype._getPath = function() {
      var t = this.attr(), n = t.x, i = t.y, o = t.symbol || "circle", a = this._getR(t), l, s;
      if (ia(o))
        l = o, s = l(n, i, a), s = eS(s);
      else {
        if (l = r.Symbols[o], !l)
          return console.warn(o + " marker is not supported."), null;
        s = l(n, i, a);
      }
      return s;
    }, r.prototype.createPath = function(t) {
      var n = this._getPath(), i = this.get("paramsCache");
      sS(this, t, { path: n }, i);
    }, r.Symbols = XB, r;
  }(jn)
), qB = VB;
function fS(e, r, t) {
  var n = Zx();
  return e.createPath(n), n.isPointInPath(r, t);
}
var KB = 1e-6;
function Ed(e) {
  return Math.abs(e) < KB ? 0 : e < 0 ? -1 : 1;
}
function jB(e, r, t) {
  return (t[0] - e[0]) * (r[1] - e[1]) === (r[0] - e[0]) * (t[1] - e[1]) && Math.min(e[0], r[0]) <= t[0] && t[0] <= Math.max(e[0], r[0]) && Math.min(e[1], r[1]) <= t[1] && t[1] <= Math.max(e[1], r[1]);
}
function cS(e, r, t) {
  var n = !1, i = e.length;
  if (i <= 2)
    return !1;
  for (var o = 0; o < i; o++) {
    var a = e[o], l = e[(o + 1) % i];
    if (jB(a, l, [r, t]))
      return !0;
    Ed(a[1] - t) > 0 != Ed(l[1] - t) > 0 && Ed(r - (t - a[1]) * (a[0] - l[0]) / (a[1] - l[1]) - a[0]) < 0 && (n = !n);
  }
  return n;
}
function rs(e, r, t, n, i, o, a, l) {
  var s = (Math.atan2(l - r, a - e) + Math.PI * 2) % (Math.PI * 2);
  if (s < n || s > i)
    return !1;
  var f = {
    x: e + t * Math.cos(s),
    y: r + t * Math.sin(s)
  };
  return rS(f.x, f.y, a, l) <= o / 2;
}
var ZB = Tx;
function QB(e) {
  for (var r = !1, t = e.length, n = 0; n < t; n++) {
    var i = e[n], o = i[0];
    if (o === "C" || o === "A" || o === "Q") {
      r = !0;
      break;
    }
  }
  return r;
}
function JB(e, r, t, n, i) {
  for (var o = !1, a = r / 2, l = 0; l < e.length; l++) {
    var s = e[l], f = s.currentPoint, h = s.params, d = s.prePoint, v = s.box;
    if (!(v && !Zo(v.x - a, v.y - a, v.width + r, v.height + r, t, n))) {
      switch (s.command) {
        case "L":
        case "Z":
          o = yo(d[0], d[1], f[0], f[1], r, t, n);
          break;
        case "Q":
          var g = qx.pointDistance(d[0], d[1], h[1], h[2], h[3], h[4], t, n);
          o = g <= r / 2;
          break;
        case "C":
          var y = as.pointDistance(
            d[0],
            // 上一段结束位置, 即 C 的起始点
            d[1],
            h[1],
            // 'C' 的参数，1、2 为第一个控制点，3、4 为第二个控制点，5、6 为结束点
            h[2],
            h[3],
            h[4],
            h[5],
            h[6],
            t,
            n,
            i
          );
          o = y <= r / 2;
          break;
        case "A":
          var C = s.arcParams, m = C.cx, w = C.cy, S = C.rx, x = C.ry, b = C.startAngle, O = C.endAngle, D = C.xRotation, N = [t, n, 1], W = S > x ? S : x, k = S > x ? 1 : S / x, ee = S > x ? x / S : 1, J = ZB(null, [
            ["t", -m, -w],
            ["r", -D],
            ["s", 1 / k, 1 / ee]
          ]);
          y5(N, N, J), o = rs(0, 0, W, b, O, r, N[0], N[1]);
          break;
      }
      if (o)
        break;
    }
  }
  return o;
}
function eD(e) {
  for (var r = e.length, t = [], n = [], i = [], o = 0; o < r; o++) {
    var a = e[o], l = a[0];
    l === "M" ? (i.length && (n.push(i), i = []), i.push([a[1], a[2]])) : l === "Z" ? i.length && (t.push(i), i = []) : i.push([a[1], a[2]]);
  }
  return i.length > 0 && n.push(i), {
    polygons: t,
    polylines: n
  };
}
var of = Pt({ hasArc: QB, extractPolygons: eD, isPointInStroke: JB }, j3);
function C_(e, r, t) {
  for (var n = !1, i = 0; i < e.length; i++) {
    var o = e[i];
    if (n = cS(o, r, t), n)
      break;
  }
  return n;
}
var tD = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { startArrow: !1, endArrow: !1 });
    }, r.prototype.initAttrs = function(t) {
      this._setPathArr(t.path), this.setArrow();
    }, r.prototype.onAttrChange = function(t, n, i) {
      e.prototype.onAttrChange.call(this, t, n, i), t === "path" && this._setPathArr(n), this.setArrow();
    }, r.prototype._setPathArr = function(t) {
      this.attrs.path = eS(t);
      var n = of.hasArc(t);
      this.set("hasArc", n), this.set("paramsCache", {}), this.set("segments", null), this.set("curve", null), this.set("tCache", null), this.set("totalLength", null);
    }, r.prototype.getSegments = function() {
      var t = this.get("segements");
      return t || (t = tS(this.attr("path")), this.set("segments", t)), t;
    }, r.prototype.setArrow = function() {
      var t = this.attr(), n = t.startArrow, i = t.endArrow;
      if (n) {
        var o = this.getStartTangent();
        Bp(this, t, o[0][0], o[0][1], o[1][0], o[1][1]);
      }
      if (i) {
        var o = this.getEndTangent();
        Dp(this, t, o[0][0], o[0][1], o[1][0], o[1][1]);
      }
    }, r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      var l = this.getSegments(), s = this.get("hasArc"), f = !1;
      if (i) {
        var h = this.getTotalLength();
        f = of.isPointInStroke(l, a, t, n, h);
      }
      if (!f && o)
        if (s)
          f = fS(this, t, n);
        else {
          var d = this.attr("path"), v = of.extractPolygons(d);
          f = C_(v.polygons, t, n) || C_(v.polylines, t, n);
        }
      return f;
    }, r.prototype.createPath = function(t) {
      var n = this.attr(), i = this.get("paramsCache");
      sS(this, t, n, i);
    }, r.prototype.afterDrawPath = function(t) {
      var n = this.get("startArrowShape"), i = this.get("endArrowShape");
      n && n.draw(t), i && i.draw(t);
    }, r.prototype.getTotalLength = function() {
      var t = this.get("totalLength");
      return jt(t) ? (this._calculateCurve(), this._setTcache(), this.get("totalLength")) : t;
    }, r.prototype.getPoint = function(t) {
      var n = this.get("tCache");
      n || (this._calculateCurve(), this._setTcache(), n = this.get("tCache"));
      var i, o, a = this.get("curve");
      if (!n || n.length === 0)
        return a ? {
          x: a[0][1],
          y: a[0][2]
        } : null;
      at(n, function(h, d) {
        t >= h[0] && t <= h[1] && (i = (t - h[0]) / (h[1] - h[0]), o = d);
      });
      var l = a[o];
      if (jt(l) || jt(o))
        return null;
      var s = l.length, f = a[o + 1];
      return as.pointAt(l[s - 2], l[s - 1], f[1], f[2], f[3], f[4], f[5], f[6], i);
    }, r.prototype._calculateCurve = function() {
      var t = this.attr().path;
      this.set("curve", of.pathToCurve(t));
    }, r.prototype._setTcache = function() {
      var t = 0, n = 0, i = [], o, a, l, s, f = this.get("curve");
      if (f) {
        if (at(f, function(h, d) {
          l = f[d + 1], s = h.length, l && (t += as.length(h[s - 2], h[s - 1], l[1], l[2], l[3], l[4], l[5], l[6]) || 0);
        }), this.set("totalLength", t), t === 0) {
          this.set("tCache", []);
          return;
        }
        at(f, function(h, d) {
          l = f[d + 1], s = h.length, l && (o = [], o[0] = n / t, a = as.length(h[s - 2], h[s - 1], l[1], l[2], l[3], l[4], l[5], l[6]), n += a || 0, o[1] = n / t, i.push(o));
        }), this.set("tCache", i);
      }
    }, r.prototype.getStartTangent = function() {
      var t = this.getSegments(), n;
      if (t.length > 1) {
        var i = t[0].currentPoint, o = t[1].currentPoint, a = t[1].startTangent;
        n = [], a ? (n.push([i[0] - a[0], i[1] - a[1]]), n.push([i[0], i[1]])) : (n.push([o[0], o[1]]), n.push([i[0], i[1]]));
      }
      return n;
    }, r.prototype.getEndTangent = function() {
      var t = this.getSegments(), n = t.length, i;
      if (n > 1) {
        var o = t[n - 2].currentPoint, a = t[n - 1].currentPoint, l = t[n - 1].endTangent;
        i = [], l ? (i.push([a[0] - l[0], a[1] - l[1]]), i.push([a[0], a[1]])) : (i.push([o[0], o[1]]), i.push([a[0], a[1]]));
      }
      return i;
    }, r;
  }(jn)
), $p = tD;
function hS(e, r, t, n, i) {
  var o = e.length;
  if (o < 2)
    return !1;
  for (var a = 0; a < o - 1; a++) {
    var l = e[a][0], s = e[a][1], f = e[a + 1][0], h = e[a + 1][1];
    if (yo(l, s, f, h, r, t, n))
      return !0;
  }
  if (i) {
    var d = e[0], v = e[o - 1];
    if (yo(d[0], d[1], v[0], v[1], r, t, n))
      return !0;
  }
  return !1;
}
var rD = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      var l = this.attr().points, s = !1;
      return i && (s = hS(l, a, t, n, !0)), !s && o && (s = cS(l, t, n)), s;
    }, r.prototype.createPath = function(t) {
      var n = this.attr(), i = n.points;
      if (!(i.length < 2)) {
        t.beginPath();
        for (var o = 0; o < i.length; o++) {
          var a = i[o];
          o === 0 ? t.moveTo(a[0], a[1]) : t.lineTo(a[0], a[1]);
        }
        t.closePath();
      }
    }, r;
  }(jn)
), nD = rD, iD = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { startArrow: !1, endArrow: !1 });
    }, r.prototype.initAttrs = function(t) {
      this.setArrow();
    }, r.prototype.onAttrChange = function(t, n, i) {
      e.prototype.onAttrChange.call(this, t, n, i), this.setArrow(), ["points"].indexOf(t) !== -1 && this._resetCache();
    }, r.prototype._resetCache = function() {
      this.set("totalLength", null), this.set("tCache", null);
    }, r.prototype.setArrow = function() {
      var t = this.attr(), n = this.attrs, i = n.points, o = n.startArrow, a = n.endArrow, l = i.length, s = i[0][0], f = i[0][1], h = i[l - 1][0], d = i[l - 1][1];
      o && Bp(this, t, i[1][0], i[1][1], s, f), a && Dp(this, t, i[l - 2][0], i[l - 2][1], h, d);
    }, r.prototype.isFill = function() {
      return !1;
    }, r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      if (!i || !a)
        return !1;
      var l = this.attr().points;
      return hS(l, a, t, n, !1);
    }, r.prototype.isStroke = function() {
      return !0;
    }, r.prototype.createPath = function(t) {
      var n = this.attr(), i = n.points, o = n.startArrow, a = n.endArrow, l = i.length;
      if (!(i.length < 2)) {
        var s = i[0][0], f = i[0][1], h = i[l - 1][0], d = i[l - 1][1];
        if (o && o.d) {
          var v = ea(s, f, i[1][0], i[1][1], o.d);
          s += v.dx, f += v.dy;
        }
        if (a && a.d) {
          var v = ea(i[l - 2][0], i[l - 2][1], h, d, a.d);
          h -= v.dx, d -= v.dy;
        }
        t.beginPath(), t.moveTo(s, f);
        for (var g = 0; g < l - 1; g++) {
          var y = i[g];
          t.lineTo(y[0], y[1]);
        }
        t.lineTo(h, d);
      }
    }, r.prototype.afterDrawPath = function(t) {
      var n = this.get("startArrowShape"), i = this.get("endArrowShape");
      n && n.draw(t), i && i.draw(t);
    }, r.prototype.getTotalLength = function() {
      var t = this.attr().points, n = this.get("totalLength");
      return jt(n) ? (this.set("totalLength", oB.length(t)), this.get("totalLength")) : n;
    }, r.prototype.getPoint = function(t) {
      var n = this.attr().points, i = this.get("tCache");
      i || (this._setTcache(), i = this.get("tCache"));
      var o, a;
      return at(i, function(l, s) {
        t >= l[0] && t <= l[1] && (o = (t - l[0]) / (l[1] - l[0]), a = s);
      }), Wr.pointAt(n[a][0], n[a][1], n[a + 1][0], n[a + 1][1], o);
    }, r.prototype._setTcache = function() {
      var t = this.attr().points;
      if (!(!t || t.length === 0)) {
        var n = this.getTotalLength();
        if (!(n <= 0)) {
          var i = 0, o = [], a, l;
          at(t, function(s, f) {
            t[f + 1] && (a = [], a[0] = i / n, l = Wr.length(s[0], s[1], t[f + 1][0], t[f + 1][1]), i += l, a[1] = i / n, o.push(a));
          }), this.set("tCache", o);
        }
      }
    }, r.prototype.getStartTangent = function() {
      var t = this.attr().points, n = [];
      return n.push([t[1][0], t[1][1]]), n.push([t[0][0], t[0][1]]), n;
    }, r.prototype.getEndTangent = function() {
      var t = this.attr().points, n = t.length - 1, i = [];
      return i.push([t[n - 1][0], t[n - 1][1]]), i.push([t[n][0], t[n][1]]), i;
    }, r;
  }(jn)
), oD = iD;
function aD(e, r, t, n, i, o, a) {
  var l = i / 2;
  return Zo(e - l, r - l, t, i, o, a) || // 上边
  Zo(e + t - l, r - l, i, n, o, a) || // 右边
  Zo(e + l, r + n - l, t, i, o, a) || // 下边
  Zo(e - l, r + l, i, n, o, a);
}
function lD(e, r, t, n, i, o, a, l) {
  return yo(e + i, r, e + t - i, r, o, a, l) || yo(e + t, r + i, e + t, r + n - i, o, a, l) || yo(e + t - i, r + n, e + i, r + n, o, a, l) || yo(e, r + n - i, e, r + i, o, a, l) || rs(e + t - i, r + i, i, 1.5 * Math.PI, 2 * Math.PI, o, a, l) || rs(e + t - i, r + n - i, i, 0, 0.5 * Math.PI, o, a, l) || rs(e + i, r + n - i, i, 0.5 * Math.PI, Math.PI, o, a, l) || rs(e + i, r + i, i, Math.PI, 1.5 * Math.PI, o, a, l);
}
var sD = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { x: 0, y: 0, width: 0, height: 0, radius: 0 });
    }, r.prototype.isInStrokeOrPath = function(t, n, i, o, a) {
      var l = this.attr(), s = l.x, f = l.y, h = l.width, d = l.height, v = l.radius;
      if (v) {
        var y = !1;
        return i && (y = lD(s, f, h, d, v, a, t, n)), !y && o && (y = fS(this, t, n)), y;
      } else {
        var g = a / 2;
        if (o && i)
          return Zo(s - g, f - g, h + g, d + g, t, n);
        if (o)
          return Zo(s, f, h, d, t, n);
        if (i)
          return aD(s, f, h, d, a, t, n);
      }
    }, r.prototype.createPath = function(t) {
      var n = this.attr(), i = n.x, o = n.y, a = n.width, l = n.height, s = n.radius;
      if (t.beginPath(), s === 0)
        t.rect(i, o, a, l);
      else {
        var f = MB(s), h = f[0], d = f[1], v = f[2], g = f[3];
        t.moveTo(i + h, o), t.lineTo(i + a - d, o), d !== 0 && t.arc(i + a - d, o + d, d, -Math.PI / 2, 0), t.lineTo(i + a, o + l - v), v !== 0 && t.arc(i + a - v, o + l - v, v, 0, Math.PI / 2), t.lineTo(i + g, o + l), g !== 0 && t.arc(i + g, o + l - g, g, Math.PI / 2, Math.PI), t.lineTo(i, o + h), h !== 0 && t.arc(i + h, o + h, h, Math.PI, Math.PI * 1.5), t.closePath();
      }
    }, r;
  }(jn)
), uD = sD, fD = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultAttrs = function() {
      var t = e.prototype.getDefaultAttrs.call(this);
      return Pt(Pt({}, t), { x: 0, y: 0, text: null, fontSize: 12, fontFamily: "sans-serif", fontStyle: "normal", fontWeight: "normal", fontVariant: "normal", textAlign: "start", textBaseline: "bottom" });
    }, r.prototype.isOnlyHitBox = function() {
      return !0;
    }, r.prototype.initAttrs = function(t) {
      this._assembleFont(), t.text && this._setText(t.text);
    }, r.prototype._assembleFont = function() {
      var t = this.attrs;
      t.font = Jx(t);
    }, r.prototype._setText = function(t) {
      var n = null;
      Vn(t) && t.indexOf(`
`) !== -1 && (n = t.split(`
`)), this.set("textArr", n);
    }, r.prototype.onAttrChange = function(t, n, i) {
      e.prototype.onAttrChange.call(this, t, n, i), t.startsWith("font") && this._assembleFont(), t === "text" && this._setText(n);
    }, r.prototype._getSpaceingY = function() {
      var t = this.attrs, n = t.lineHeight, i = t.fontSize * 1;
      return n ? n - i : i * 0.14;
    }, r.prototype._drawTextArr = function(t, n, i) {
      var o = this.attrs, a = o.textBaseline, l = o.x, s = o.y, f = o.fontSize * 1, h = this._getSpaceingY(), d = Qx(o.text, o.fontSize, o.lineHeight), v;
      at(n, function(g, y) {
        v = s + y * (h + f) - d + f, a === "middle" && (v += d - f - (d - f) / 2), a === "top" && (v += d - f), jt(g) || (i ? t.fillText(g, l, v) : t.strokeText(g, l, v));
      });
    }, r.prototype._drawText = function(t, n) {
      var i = this.attr(), o = i.x, a = i.y, l = this.get("textArr");
      if (l)
        this._drawTextArr(t, l, n);
      else {
        var s = i.text;
        jt(s) || (n ? t.fillText(s, o, a) : t.strokeText(s, o, a));
      }
    }, r.prototype.strokeAndFill = function(t) {
      var n = this.attrs, i = n.lineWidth, o = n.opacity, a = n.strokeOpacity, l = n.fillOpacity;
      this.isStroke() && i > 0 && (!jt(a) && a !== 1 && (t.globalAlpha = o), this.stroke(t)), this.isFill() && (!jt(l) && l !== 1 ? (t.globalAlpha = l, this.fill(t), t.globalAlpha = o) : this.fill(t)), this.afterDrawPath(t);
    }, r.prototype.fill = function(t) {
      this._drawText(t, !0);
    }, r.prototype.stroke = function(t) {
      this._drawText(t, !1);
    }, r;
  }(jn)
), cD = fD;
function hD(e, r) {
  if (r) {
    var t = bx(r);
    return jo(t, e);
  }
  return e;
}
function dS(e, r, t) {
  var n = e.getTotalMatrix();
  if (n) {
    var i = hD([r, t, 1], n), o = i[0], a = i[1];
    return [o, a];
  }
  return [r, t];
}
function __(e, r, t) {
  if (e.isCanvas && e.isCanvas())
    return !0;
  if (!av(e) || e.cfg.isInView === !1)
    return !1;
  if (e.cfg.clipShape) {
    var n = dS(e, r, t), i = n[0], o = n[1];
    if (e.isClipped(i, o))
      return !1;
  }
  var a = e.cfg.cacheCanvasBBox || e.getCanvasBBox();
  return r >= a.minX && r <= a.maxX && t >= a.minY && t <= a.maxY;
}
function vS(e, r, t) {
  if (!__(e, r, t))
    return null;
  for (var n = null, i = e.getChildren(), o = i.length, a = o - 1; a >= 0; a--) {
    var l = i[a];
    if (l.isGroup())
      n = vS(l, r, t);
    else if (__(l, r, t)) {
      var s = l, f = dS(l, r, t), h = f[0], d = f[1];
      s.isInShape(h, d) && (n = l);
    }
    if (n)
      break;
  }
  return n;
}
var m_ = (
  /** @class */
  function(e) {
    vn(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDefaultCfg = function() {
      var t = e.prototype.getDefaultCfg.call(this);
      return t.renderer = "canvas", t.autoDraw = !0, t.localRefresh = !0, t.refreshElements = [], t.clipView = !0, t.quickHit = !1, t;
    }, r.prototype.onCanvasChange = function(t) {
      (t === "attr" || t === "sort" || t === "changeSize") && (this.set("refreshElements", [this]), this.draw());
    }, r.prototype.getShapeBase = function() {
      return Sp;
    }, r.prototype.getGroupBase = function() {
      return _i;
    }, r.prototype.getPixelRatio = function() {
      var t = this.get("pixelRatio") || SB();
      return t >= 1 ? Math.ceil(t) : 1;
    }, r.prototype.getViewRange = function() {
      return {
        minX: 0,
        minY: 0,
        maxX: this.cfg.width,
        maxY: this.cfg.height
      };
    }, r.prototype.createDom = function() {
      var t = document.createElement("canvas"), n = t.getContext("2d");
      return this.set("context", n), t;
    }, r.prototype.setDOMSize = function(t, n) {
      e.prototype.setDOMSize.call(this, t, n);
      var i = this.get("context"), o = this.get("el"), a = this.getPixelRatio();
      o.width = a * t, o.height = a * n, a > 1 && i.scale(a, a);
    }, r.prototype.clear = function() {
      e.prototype.clear.call(this), this._clearFrame();
      var t = this.get("context"), n = this.get("el");
      t.clearRect(0, 0, n.width, n.height);
    }, r.prototype.getShape = function(t, n) {
      var i;
      return this.get("quickHit") ? i = vS(this, t, n) : i = e.prototype.getShape.call(this, t, n, null), i;
    }, r.prototype._getRefreshRegion = function() {
      var t = this.get("refreshElements"), n = this.getViewRange(), i;
      if (t.length && t[0] === this)
        i = n;
      else if (i = FB(t), i) {
        i.minX = Math.floor(i.minX), i.minY = Math.floor(i.minY), i.maxX = Math.ceil(i.maxX), i.maxY = Math.ceil(i.maxY), i.maxY += 1;
        var o = this.get("clipView");
        o && (i = $B(i, n));
      }
      return i;
    }, r.prototype.refreshElement = function(t) {
      var n = this.get("refreshElements");
      n.push(t);
    }, r.prototype._clearFrame = function() {
      var t = this.get("drawFrame");
      t && (O3(t), this.set("drawFrame", null), this.set("refreshElements", []));
    }, r.prototype.draw = function() {
      var t = this.get("drawFrame");
      this.get("autoDraw") && t || this._startDraw();
    }, r.prototype._drawAll = function() {
      var t = this.get("context"), n = this.get("el"), i = this.getChildren();
      t.clearRect(0, 0, n.width, n.height), el(t, this), _v(t, i), this.set("refreshElements", []);
    }, r.prototype._drawRegion = function() {
      var t = this.get("context"), n = this.get("refreshElements"), i = this.getChildren(), o = this._getRefreshRegion();
      o ? (t.clearRect(o.minX, o.minY, o.maxX - o.minX, o.maxY - o.minY), t.save(), t.beginPath(), t.rect(o.minX, o.minY, o.maxX - o.minX, o.maxY - o.minY), t.clip(), el(t, this), BB(this, i, o), _v(t, i, o), t.restore()) : n.length && lS(n), at(n, function(a) {
        a.get("hasChanged") && a.set("hasChanged", !1);
      }), this.set("refreshElements", []);
    }, r.prototype._startDraw = function() {
      var t = this, n = this.get("drawFrame");
      n || (n = R3(function() {
        t.get("localRefresh") ? t._drawRegion() : t._drawAll(), t.set("drawFrame", null);
      }), this.set("drawFrame", n));
    }, r.prototype.skipDraw = function() {
    }, r.prototype.removeDom = function() {
      var t = this.get("el");
      t.width = 0, t.height = 0, t.parentNode.removeChild(t);
    }, r;
  }(G4)
), Gr = "$$value$$", Ne = "$$extra$$", Np = "$$origin$$", dD = "$$extra_column$$", ki = "$$total$$", gf = "$$multi$$", aa = "$$series_number$$", dl = "$$empty_field_value$$", Hp = "$$empty_extra_placeholder$$", w_;
(function(e) {
  e.DATA_CELL_CLICK_EVENT = "interaction:data-cell-click", e.MERGED_CELLS_CLICK_EVENT = "interaction:merged-cells-click", e.CORNER_TEXT_CLICK_EVENT = "interaction:corner-cell-text-click", e.ROW_COLUMN_CLICK_EVENT = "interaction:row-column-click", e.ROW_TEXT_CLICK_EVENT = "interaction:row-text-click", e.HOVER_EVENT = "interaction:hover", e.TREND_ICON_CLICK = "interaction:trend-icon-click";
})(w_ || (w_ = {}));
var Lr;
(function(e) {
  e.MOUSE_DOWN = "mousedown", e.MOUSE_MOVE = "mousemove", e.MOUSE_OUT = "mouseout", e.MOUSE_LEAVE = "mouseleave", e.MOUSE_UP = "mouseup", e.KEY_DOWN = "keydown", e.KEY_UP = "keyup", e.CLICK = "click", e.HOVER = "hover", e.DOUBLE_CLICK = "dblclick", e.CONTEXT_MENU = "contextmenu";
})(Lr || (Lr = {}));
var B;
(function(e) {
  e.ROW_CELL_HOVER = "row-cell:hover", e.ROW_CELL_CLICK = "row-cell:click", e.ROW_CELL_DOUBLE_CLICK = "row-cell:double-click", e.ROW_CELL_CONTEXT_MENU = "row-cell:context-menu", e.ROW_CELL_MOUSE_DOWN = "row-cell:mouse-down", e.ROW_CELL_MOUSE_UP = "row-cell:mouse-up", e.ROW_CELL_MOUSE_MOVE = "row-cell:mouse-move", e.ROW_CELL_COLLAPSE_TREE_ROWS = "row-cell:collapsed-tree-rows", e.ROW_CELL_SCROLL = "row-cell:scroll", e.ROW_CELL_BRUSH_SELECTION = "row-cell:brush-selection", e.COL_CELL_HOVER = "col-cell:hover", e.COL_CELL_CLICK = "col-cell:click", e.COL_CELL_DOUBLE_CLICK = "col-cell:double-click", e.COL_CELL_CONTEXT_MENU = "col-cell:context-menu", e.COL_CELL_MOUSE_DOWN = "col-cell:mouse-down", e.COL_CELL_MOUSE_UP = "col-cell:mouse-up", e.COL_CELL_MOUSE_MOVE = "col-cell:mouse-move", e.COL_CELL_BRUSH_SELECTION = "col-cell:brush-selection", e.DATA_CELL_HOVER = "data-cell:hover", e.DATA_CELL_CLICK = "data-cell:click", e.DATA_CELL_DOUBLE_CLICK = "data-cell:double-click", e.DATA_CELL_CONTEXT_MENU = "data-cell:context-menu", e.DATA_CELL_MOUSE_UP = "data-cell:mouse-up", e.DATA_CELL_MOUSE_DOWN = "data-cell:mouse-down", e.DATA_CELL_MOUSE_MOVE = "data-cell:mouse-move", e.DATA_CELL_TREND_ICON_CLICK = "data-cell:trend-icon-click", e.DATA_CELL_BRUSH_SELECTION = "data-cell:brush-selection", e.DATA_CELL_SELECT_MOVE = "data-cell:select-move", e.CORNER_CELL_HOVER = "corner-cell:hover", e.CORNER_CELL_CLICK = "corner-cell:click", e.CORNER_CELL_DOUBLE_CLICK = "corner-cell:double-click", e.CORNER_CELL_CONTEXT_MENU = "corner-cell:context-menu", e.CORNER_CELL_MOUSE_DOWN = "corner-cell:mouse-down", e.CORNER_CELL_MOUSE_UP = "corner-cell:mouse-up", e.CORNER_CELL_MOUSE_MOVE = "corner-cell:mouse-move", e.MERGED_CELLS_HOVER = "merged-cells:hover", e.MERGED_CELLS_CLICK = "merged-cells:click", e.MERGED_CELLS_DOUBLE_CLICK = "merged-cells:double-click", e.MERGED_CELLS_CONTEXT_MENU = "merged-cell:context-menu", e.MERGED_CELLS_MOUSE_DOWN = "merged-cells:mouse-down", e.MERGED_CELLS_MOUSE_UP = "merged-cells:mouse-up", e.MERGED_CELLS_MOUSE_MOVE = "merged-cells:mouse-move", e.RANGE_SORT = "sort:range-sort", e.RANGE_SORTED = "sort:range-sorted", e.RANGE_FILTER = "filter:range-filter", e.RANGE_FILTERED = "filter:range-filtered", e.LAYOUT_AFTER_HEADER_LAYOUT = "layout:after-header-layout", e.LAYOUT_CELL_SCROLL = "layout:cell-scroll", e.LAYOUT_PAGINATION = "layout:pagination", e.LAYOUT_COLLAPSE_ROWS = "layout:collapsed-rows", e.LAYOUT_AFTER_COLLAPSE_ROWS = "layout:after-collapsed-rows", e.LAYOUT_AFTER_REAL_DATA_CELL_RENDER = "layout:after-real-data-cell-render", e.LAYOUT_TREE_ROWS_COLLAPSE_ALL = "layout:toggle-collapse-all", e.LAYOUT_COLS_EXPANDED = "layout:table-col-expanded", e.LAYOUT_COLS_HIDDEN = "layout:table-col-hidden", e.LAYOUT_AFTER_RENDER = "layout:after-render", e.LAYOUT_BEFORE_RENDER = "layout:before-render", e.LAYOUT_DESTROY = "layout:destroy", e.LAYOUT_RESIZE = "layout:resize", e.LAYOUT_RESIZE_SERIES_WIDTH = "layout:resize-series-width", e.LAYOUT_RESIZE_ROW_WIDTH = "layout:resize-row-width", e.LAYOUT_RESIZE_ROW_HEIGHT = "layout:resize-row-height", e.LAYOUT_RESIZE_COL_WIDTH = "layout:resize-column-width", e.LAYOUT_RESIZE_COL_HEIGHT = "layout:resize-column-height", e.LAYOUT_RESIZE_TREE_WIDTH = "layout:resize-tree-width", e.LAYOUT_RESIZE_MOUSE_DOWN = "layout:resize:mouse-down", e.LAYOUT_RESIZE_MOUSE_MOVE = "layout:resize:mouse-move", e.LAYOUT_RESIZE_MOUSE_UP = "layout:resize-mouse-up", e.GLOBAL_KEYBOARD_DOWN = "global:keyboard-down", e.GLOBAL_KEYBOARD_UP = "global:keyboard-up", e.GLOBAL_COPIED = "global:copied", e.GLOBAL_MOUSE_UP = "global:mouse-up", e.GLOBAL_MOUSE_MOVE = "global:mouse-move", e.GLOBAL_ACTION_ICON_CLICK = "global:action-icon-click", e.GLOBAL_ACTION_ICON_HOVER = "global:action-icon-hover", e.GLOBAL_ACTION_ICON_HOVER_OFF = "global:action-icon-hover-off", e.GLOBAL_CONTEXT_MENU = "global:context-menu", e.GLOBAL_CLICK = "global:click", e.GLOBAL_DOUBLE_CLICK = "global:double-click", e.GLOBAL_SELECTED = "global:selected", e.GLOBAL_HOVER = "global:hover", e.GLOBAL_RESET = "global:reset", e.GLOBAL_LINK_FIELD_JUMP = "global:link-field-jump", e.GLOBAL_SCROLL = "global:scroll";
})(B || (B = {}));
var vD = 0, pD = 3, pS = 3, ms = 4, gD = 5, yD = 5, CD = 1, _D = 1, gS = 2, mD = "backGroundGroup", wD = "foreGroundGroup", xD = "panelGroup", SD = "panelScrollGroup", x_ = "mergedCellsGroup", yS = "frozenRowGroup", CS = "frozenColGroup", TD = "frozenTrailingRowGroup", bD = "frozenTrailingColGroup", ED = "frozenTopGroup", LD = "frozenBottomGroup", tl = "rowResizeAreaGroup", _S = "rowFrozenResizeAreaGroup", Df = "frozenSplitLine", S_ = "rowIndexResizeAreaGroup", wv = "cornerResizeAreaGroup", mS = "colResizeAreaGroup", wS = "colFrozenResizeAreaGroup", AD = "colScrollGroup", RD = "colFrozenGroup", OD = "colFrozenTrailingGroup", T_ = "gridGroup", ID = "rowScrollGroup", MD = "rowHeaderFrozenGroup", BD = "series-number-node", xS = "horizontal-resize-area-", zp = "root", lr = "[&]", rl = "-", b_ = 28, E_ = 16, SS = 16, DD = /^root\[&\]*/, PD = 0.5, Ld = 50, nl;
(function(e) {
  e.Line = "line", e.Bar = "bar", e.Bullet = "bullet";
})(nl || (nl = {}));
var L_ = "square", Va = "...", Wp = "antv-s2", Pf = "valueRanges", Gp = {}, TS = "#000000", xv = "#FFFFFF", FD = {
  data: [],
  totalData: [],
  fields: {
    rows: [],
    columns: [],
    values: [],
    customTreeItems: [],
    valueInCols: !0
  },
  meta: [],
  sortParams: [],
  filterParams: []
}, Di, Ut;
(function(e) {
  e.ROW = "row", e.COL = "col", e.TRAILING_ROW = "trailingRow", e.TRAILING_COL = "trailingCol", e.SCROLL = "scroll", e.TOP = "top", e.BOTTOM = "bottom";
})(Ut || (Ut = {}));
var Tn;
(function(e) {
  e.FROZEN_COL = "frozenCol", e.FROZEN_ROW = "frozenRow", e.FROZEN_TRAILING_COL = "frozenTrailingCol", e.FROZEN_TRAILING_ROW = "frozenTrailingRow";
})(Tn || (Tn = {}));
var bS = (Di = {}, Di[Ut.ROW] = "frozenRowGroup", Di[Ut.COL] = "frozenColGroup", Di[Ut.TRAILING_COL] = "frozenTrailingColGroup", Di[Ut.TRAILING_ROW] = "frozenTrailingRowGroup", Di[Ut.SCROLL] = "panelScrollGroup", Di[Ut.TOP] = "frozenTopGroup", Di[Ut.BOTTOM] = "frozenBottomGroup", Di), Er;
(function(e) {
  e.CORNER_CELL_CLICK = "cornerCellClick", e.DATA_CELL_CLICK = "dataCellClick", e.MERGED_CELLS_CLICK = "mergedCellsClick", e.ROW_COLUMN_CLICK = "rowColumnClick", e.ROW_TEXT_CLICK = "rowTextClick", e.HOVER = "hover", e.BRUSH_SELECTION = "brushSelection", e.ROW_BRUSH_SELECTION = "rowBrushSelection", e.COL_BRUSH_SELECTION = "colBrushSelection", e.COL_ROW_RESIZE = "rowColResize", e.DATA_CELL_MULTI_SELECTION = "dataCellMultiSelection", e.RANGE_SELECTION = "rangeSelection", e.SELECTED_CELL_MOVE = "selectedCellMove";
})(Er || (Er = {}));
var de;
(function(e) {
  e.ALL_SELECTED = "allSelected", e.SELECTED = "selected", e.BRUSH_SELECTED = "brushSelected", e.UNSELECTED = "unselected", e.HOVER = "hover", e.HOVER_FOCUS = "hoverFocus", e.HIGHLIGHT = "highlight", e.SEARCH_RESULT = "searchResult", e.PREPARE_SELECT = "prepareSelect";
})(de || (de = {}));
var re;
(function(e) {
  e.DATA_CELL = "dataCell", e.HEADER_CELL = "headerCell", e.ROW_CELL = "rowCell", e.COL_CELL = "colCell", e.CORNER_CELL = "cornerCell", e.MERGED_CELL = "mergedCell";
})(re || (re = {}));
var Sv = 800, on = {
  textOpacity: "fillOpacity",
  backgroundOpacity: "fillOpacity",
  backgroundColor: "fill",
  borderOpacity: "strokeOpacity",
  borderColor: "stroke",
  borderWidth: "lineWidth",
  opacity: "opacity"
}, $D = {
  textShape: ["textOpacity"],
  textShapes: ["textOpacity"],
  linkFieldShape: ["opacity"],
  interactiveBgShape: ["backgroundColor", "backgroundOpacity"],
  interactiveBorderShape: ["borderColor", "borderOpacity", "borderWidth"]
}, Tv = "interactionStateInfo", vr;
(function(e) {
  e.CLICK = "click", e.UN_DRAGGED = "unDragged", e.DRAGGED = "dragged";
})(vr || (vr = {}));
var pr;
(function(e) {
  e.SHIFT = "Shift", e.COPY = "c", e.ESC = "Escape", e.META = "Meta", e.CONTROL = "Control", e.ARROW_UP = "ArrowUp", e.ARROW_DOWN = "ArrowDown", e.ARROW_LEFT = "ArrowLeft", e.ARROW_RIGHT = "ArrowRight";
})(pr || (pr = {}));
var A_;
(function(e) {
  e.ASC = "ASC", e.DESC = "DESC";
})(A_ || (A_ = {}));
var Pe;
(function(e) {
  e.HOVER = "hover", e.CLICK = "click", e.BRUSH_SELECTION = "brushSelection", e.ROW_BRUSH_SELECTION = "rowBrushSelection", e.COL_BRUSH_SELECTION = "colBrushSelection", e.MULTI_SELECTION = "multiSelection", e.RESIZE = "resize";
})(Pe || (Pe = {}));
var R_ = {
  x: {
    value: 0,
    scroll: !1
  },
  y: {
    value: 0,
    scroll: !1
  }
}, Ff;
(function(e) {
  e.CONTENT = "content", e.CANVAS = "canvas";
})(Ff || (Ff = {}));
var zr;
(function(e) {
  e.SCROLL_UP = "scrollUp", e.SCROLL_DOWN = "scrollDown";
})(zr || (zr = {}));
var $f;
(function(e) {
  e[e.SCROLL_UP = -1] = "SCROLL_UP", e[e.SCROLL_DOWN = 1] = "SCROLL_DOWN";
})($f || ($f = {}));
var ND = "RESIZE_START_GUIDE_LINE", HD = "RESIZE_END_GUIDE_LINE", zD = "RESIZE_MASK", An;
(function(e) {
  e.Horizontal = "col", e.Vertical = "row";
})(An || (An = {}));
var Ar;
(function(e) {
  e.Field = "field", e.Cell = "cell", e.Tree = "tree", e.Series = "series";
})(Ar || (Ar = {}));
var Nf;
(function(e) {
  e.ALL = "all", e.CURRENT = "current";
})(Nf || (Nf = {}));
var ES = 1, la;
(function(e) {
  e.Adaptive = "adaptive", e.ColAdaptive = "colAdaptive", e.Compact = "compact";
})(la || (la = {}));
var WD = 120, GD = {
  layoutWidthType: la.Adaptive,
  showTreeLeafNodeAlignDot: !1,
  collapsedRows: {},
  collapsedCols: {},
  cellCfg: {
    width: 96,
    height: 30
  },
  rowCfg: {
    width: null,
    widthByField: {},
    heightByField: {}
  },
  colCfg: {
    height: 30,
    widthByFieldValue: {},
    heightByField: {}
  },
  device: "pc"
}, LS = {
  width: 600,
  height: 480,
  debug: !1,
  hierarchyType: "grid",
  conditions: {},
  totals: {},
  tooltip: {
    showTooltip: !1,
    autoAdjustBoundary: "body",
    operation: {
      hiddenColumns: !1,
      trend: !1,
      sort: !1,
      menus: []
    }
  },
  interaction: {
    linkFields: [],
    hiddenColumnFields: [],
    selectedCellsSpotlight: !1,
    hoverHighlight: !0,
    hoverFocus: { duration: Sv },
    scrollSpeedRatio: {
      horizontal: 1,
      vertical: 1
    },
    autoResetSheetStyle: !0,
    brushSelection: {
      data: !0,
      row: !1,
      col: !1
    },
    multiSelection: !0,
    rangeSelection: !0,
    scrollbarPosition: Ff.CONTENT,
    resize: {
      rowCellVertical: !0,
      cornerCellHorizontal: !0,
      colCellHorizontal: !0,
      colCellVertical: !0,
      rowResizeType: Nf.ALL
    },
    eventListenerOptions: !1,
    selectedCellHighlight: !1,
    overscrollBehavior: "auto"
  },
  showSeriesNumber: !1,
  customSVGIcons: [],
  showDefaultHeaderActionIcon: !1,
  headerActionIcons: [],
  style: GD,
  frozenRowHeader: !0,
  frozenRowCount: 0,
  frozenColCount: 0,
  frozenTrailingRowCount: 0,
  frozenTrailingColCount: 0,
  hdAdapter: !0,
  cornerText: "",
  cornerExtraFieldText: "",
  placeholder: rl,
  supportCSSTransform: !1,
  devicePixelRatio: window.devicePixelRatio
}, bv = function(e, r) {
  return bv = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, n) {
    t.__proto__ = n;
  } || function(t, n) {
    for (var i in n)
      Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
  }, bv(e, r);
};
function ye(e, r) {
  if (typeof r != "function" && r !== null)
    throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
  bv(e, r);
  function t() {
    this.constructor = e;
  }
  e.prototype = r === null ? Object.create(r) : (t.prototype = r.prototype, new t());
}
var F = function() {
  return F = Object.assign || function(r) {
    for (var t, n = 1, i = arguments.length; n < i; n++) {
      t = arguments[n];
      for (var o in t)
        Object.prototype.hasOwnProperty.call(t, o) && (r[o] = t[o]);
    }
    return r;
  }, F.apply(this, arguments);
};
function kp(e, r) {
  var t = {};
  for (var n in e)
    Object.prototype.hasOwnProperty.call(e, n) && r.indexOf(n) < 0 && (t[n] = e[n]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var i = 0, n = Object.getOwnPropertySymbols(e); i < n.length; i++)
      r.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (t[n[i]] = e[n[i]]);
  return t;
}
function Yr(e) {
  var r = typeof Symbol == "function" && Symbol.iterator, t = r && e[r], n = 0;
  if (t)
    return t.call(e);
  if (e && typeof e.length == "number")
    return {
      next: function() {
        return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e };
      }
    };
  throw new TypeError(r ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function U(e, r) {
  var t = typeof Symbol == "function" && e[Symbol.iterator];
  if (!t)
    return e;
  var n = t.call(e), i, o = [], a;
  try {
    for (; (r === void 0 || r-- > 0) && !(i = n.next()).done; )
      o.push(i.value);
  } catch (l) {
    a = { error: l };
  } finally {
    try {
      i && !i.done && (t = n.return) && t.call(n);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return o;
}
function Q(e, r, t) {
  if (t || arguments.length === 2)
    for (var n = 0, i = r.length, o; n < i; n++)
      (o || !(n in r)) && (o || (o = Array.prototype.slice.call(r, 0, n)), o[n] = r[n]);
  return e.concat(o || Array.prototype.slice.call(r));
}
var kD = typeof global == "object" && global && global.Object === Object && global, AS = kD, UD = typeof self == "object" && self && self.Object === Object && self, YD = AS || UD || Function("return this")(), er = YD, XD = er.Symbol, yr = XD, RS = Object.prototype, VD = RS.hasOwnProperty, qD = RS.toString, ql = yr ? yr.toStringTag : void 0;
function KD(e) {
  var r = VD.call(e, ql), t = e[ql];
  try {
    e[ql] = void 0;
    var n = !0;
  } catch {
  }
  var i = qD.call(e);
  return n && (r ? e[ql] = t : delete e[ql]), i;
}
var jD = Object.prototype, ZD = jD.toString;
function QD(e) {
  return ZD.call(e);
}
var JD = "[object Null]", e9 = "[object Undefined]", O_ = yr ? yr.toStringTag : void 0;
function Br(e) {
  return e == null ? e === void 0 ? e9 : JD : O_ && O_ in Object(e) ? KD(e) : QD(e);
}
function Nt(e) {
  return e != null && typeof e == "object";
}
var t9 = "[object Symbol]";
function fn(e) {
  return typeof e == "symbol" || Nt(e) && Br(e) == t9;
}
var r9 = NaN;
function I_(e) {
  return typeof e == "number" ? e : fn(e) ? r9 : +e;
}
function It(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length, i = Array(n); ++t < n; )
    i[t] = r(e[t], t, e);
  return i;
}
var n9 = Array.isArray, ve = n9, i9 = 1 / 0, M_ = yr ? yr.prototype : void 0, B_ = M_ ? M_.toString : void 0;
function cn(e) {
  if (typeof e == "string")
    return e;
  if (ve(e))
    return It(e, cn) + "";
  if (fn(e))
    return B_ ? B_.call(e) : "";
  var r = e + "";
  return r == "0" && 1 / e == -i9 ? "-0" : r;
}
function lc(e, r) {
  return function(t, n) {
    var i;
    if (t === void 0 && n === void 0)
      return r;
    if (t !== void 0 && (i = t), n !== void 0) {
      if (i === void 0)
        return n;
      typeof t == "string" || typeof n == "string" ? (t = cn(t), n = cn(n)) : (t = I_(t), n = I_(n)), i = e(t, n);
    }
    return i;
  };
}
var o9 = lc(function(e, r) {
  return e + r;
}, 0), a9 = o9, l9 = /\s/;
function OS(e) {
  for (var r = e.length; r-- && l9.test(e.charAt(r)); )
    ;
  return r;
}
var s9 = /^\s+/;
function IS(e) {
  return e && e.slice(0, OS(e) + 1).replace(s9, "");
}
function ft(e) {
  var r = typeof e;
  return e != null && (r == "object" || r == "function");
}
var D_ = NaN, u9 = /^[-+]0x[0-9a-f]+$/i, f9 = /^0b[01]+$/i, c9 = /^0o[0-7]+$/i, h9 = parseInt;
function sn(e) {
  if (typeof e == "number")
    return e;
  if (fn(e))
    return D_;
  if (ft(e)) {
    var r = typeof e.valueOf == "function" ? e.valueOf() : e;
    e = ft(r) ? r + "" : r;
  }
  if (typeof e != "string")
    return e === 0 ? e : +e;
  e = IS(e);
  var t = f9.test(e);
  return t || c9.test(e) ? h9(e.slice(2), t ? 2 : 8) : u9.test(e) ? D_ : +e;
}
var P_ = 1 / 0, d9 = 17976931348623157e292;
function zi(e) {
  if (!e)
    return e === 0 ? e : 0;
  if (e = sn(e), e === P_ || e === -P_) {
    var r = e < 0 ? -1 : 1;
    return r * d9;
  }
  return e === e ? e : 0;
}
function We(e) {
  var r = zi(e), t = r % 1;
  return r === r ? t ? r - t : r : 0;
}
var v9 = "Expected a function";
function p9(e, r) {
  if (typeof r != "function")
    throw new TypeError(v9);
  return e = We(e), function() {
    if (--e < 1)
      return r.apply(this, arguments);
  };
}
function mr(e) {
  return e;
}
var g9 = "[object AsyncFunction]", y9 = "[object Function]", C9 = "[object GeneratorFunction]", _9 = "[object Proxy]";
function Jt(e) {
  if (!ft(e))
    return !1;
  var r = Br(e);
  return r == y9 || r == C9 || r == g9 || r == _9;
}
var m9 = er["__core-js_shared__"], yf = m9, F_ = function() {
  var e = /[^.]+$/.exec(yf && yf.keys && yf.keys.IE_PROTO || "");
  return e ? "Symbol(src)_1." + e : "";
}();
function w9(e) {
  return !!F_ && F_ in e;
}
var x9 = Function.prototype, S9 = x9.toString;
function ga(e) {
  if (e != null) {
    try {
      return S9.call(e);
    } catch {
    }
    try {
      return e + "";
    } catch {
    }
  }
  return "";
}
var T9 = /[\\^$.*+?()[\]{}|]/g, b9 = /^\[object .+?Constructor\]$/, E9 = Function.prototype, L9 = Object.prototype, A9 = E9.toString, R9 = L9.hasOwnProperty, O9 = RegExp(
  "^" + A9.call(R9).replace(T9, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function MS(e) {
  if (!ft(e) || w9(e))
    return !1;
  var r = Jt(e) ? O9 : b9;
  return r.test(ga(e));
}
function I9(e, r) {
  return e == null ? void 0 : e[r];
}
function ya(e, r) {
  var t = I9(e, r);
  return MS(t) ? t : void 0;
}
var M9 = ya(er, "WeakMap"), ws = M9, B9 = ws && new ws(), Hf = B9, D9 = Hf ? function(e, r) {
  return Hf.set(e, r), e;
} : mr, BS = D9, $_ = Object.create, P9 = /* @__PURE__ */ function() {
  function e() {
  }
  return function(r) {
    if (!ft(r))
      return {};
    if ($_)
      return $_(r);
    e.prototype = r;
    var t = new e();
    return e.prototype = void 0, t;
  };
}(), vl = P9;
function xs(e) {
  return function() {
    var r = arguments;
    switch (r.length) {
      case 0:
        return new e();
      case 1:
        return new e(r[0]);
      case 2:
        return new e(r[0], r[1]);
      case 3:
        return new e(r[0], r[1], r[2]);
      case 4:
        return new e(r[0], r[1], r[2], r[3]);
      case 5:
        return new e(r[0], r[1], r[2], r[3], r[4]);
      case 6:
        return new e(r[0], r[1], r[2], r[3], r[4], r[5]);
      case 7:
        return new e(r[0], r[1], r[2], r[3], r[4], r[5], r[6]);
    }
    var t = vl(e.prototype), n = e.apply(t, r);
    return ft(n) ? n : t;
  };
}
var F9 = 1;
function $9(e, r, t) {
  var n = r & F9, i = xs(e);
  function o() {
    var a = this && this !== er && this instanceof o ? i : e;
    return a.apply(n ? t : this, arguments);
  }
  return o;
}
function hn(e, r, t) {
  switch (t.length) {
    case 0:
      return e.call(r);
    case 1:
      return e.call(r, t[0]);
    case 2:
      return e.call(r, t[0], t[1]);
    case 3:
      return e.call(r, t[0], t[1], t[2]);
  }
  return e.apply(r, t);
}
var N9 = Math.max;
function DS(e, r, t, n) {
  for (var i = -1, o = e.length, a = t.length, l = -1, s = r.length, f = N9(o - a, 0), h = Array(s + f), d = !n; ++l < s; )
    h[l] = r[l];
  for (; ++i < a; )
    (d || i < o) && (h[t[i]] = e[i]);
  for (; f--; )
    h[l++] = e[i++];
  return h;
}
var H9 = Math.max;
function PS(e, r, t, n) {
  for (var i = -1, o = e.length, a = -1, l = t.length, s = -1, f = r.length, h = H9(o - l, 0), d = Array(h + f), v = !n; ++i < h; )
    d[i] = e[i];
  for (var g = i; ++s < f; )
    d[g + s] = r[s];
  for (; ++a < l; )
    (v || i < o) && (d[g + t[a]] = e[i++]);
  return d;
}
function z9(e, r) {
  for (var t = e.length, n = 0; t--; )
    e[t] === r && ++n;
  return n;
}
function sc() {
}
var W9 = 4294967295;
function Ze(e) {
  this.__wrapped__ = e, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = W9, this.__views__ = [];
}
Ze.prototype = vl(sc.prototype);
Ze.prototype.constructor = Ze;
function uc() {
}
var G9 = Hf ? function(e) {
  return Hf.get(e);
} : uc, Up = G9, k9 = {}, qa = k9, U9 = Object.prototype, Y9 = U9.hasOwnProperty;
function Cf(e) {
  for (var r = e.name + "", t = qa[r], n = Y9.call(qa, r) ? t.length : 0; n--; ) {
    var i = t[n], o = i.func;
    if (o == null || o == e)
      return i.name;
  }
  return r;
}
function Mn(e, r) {
  this.__wrapped__ = e, this.__actions__ = [], this.__chain__ = !!r, this.__index__ = 0, this.__values__ = void 0;
}
Mn.prototype = vl(sc.prototype);
Mn.prototype.constructor = Mn;
function Ur(e, r) {
  var t = -1, n = e.length;
  for (r || (r = Array(n)); ++t < n; )
    r[t] = e[t];
  return r;
}
function FS(e) {
  if (e instanceof Ze)
    return e.clone();
  var r = new Mn(e.__wrapped__, e.__chain__);
  return r.__actions__ = Ur(e.__actions__), r.__index__ = e.__index__, r.__values__ = e.__values__, r;
}
var X9 = Object.prototype, V9 = X9.hasOwnProperty;
function L(e) {
  if (Nt(e) && !ve(e) && !(e instanceof Ze)) {
    if (e instanceof Mn)
      return e;
    if (V9.call(e, "__wrapped__"))
      return FS(e);
  }
  return new Mn(e);
}
L.prototype = sc.prototype;
L.prototype.constructor = L;
function Ev(e) {
  var r = Cf(e), t = L[r];
  if (typeof t != "function" || !(r in Ze.prototype))
    return !1;
  if (e === t)
    return !0;
  var n = Up(t);
  return !!n && e === n[0];
}
var q9 = 800, K9 = 16, j9 = Date.now;
function $S(e) {
  var r = 0, t = 0;
  return function() {
    var n = j9(), i = K9 - (n - t);
    if (t = n, i > 0) {
      if (++r >= q9)
        return arguments[0];
    } else
      r = 0;
    return e.apply(void 0, arguments);
  };
}
var Z9 = $S(BS), NS = Z9, Q9 = /\{\n\/\* \[wrapped with (.+)\] \*/, J9 = /,? & /;
function eP(e) {
  var r = e.match(Q9);
  return r ? r[1].split(J9) : [];
}
var tP = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;
function rP(e, r) {
  var t = r.length;
  if (!t)
    return e;
  var n = t - 1;
  return r[n] = (t > 1 ? "& " : "") + r[n], r = r.join(t > 2 ? ", " : " "), e.replace(tP, `{
/* [wrapped with ` + r + `] */
`);
}
function Ka(e) {
  return function() {
    return e;
  };
}
var nP = function() {
  try {
    var e = ya(Object, "defineProperty");
    return e({}, "", {}), e;
  } catch {
  }
}(), zf = nP, iP = zf ? function(e, r) {
  return zf(e, "toString", {
    configurable: !0,
    enumerable: !1,
    value: Ka(r),
    writable: !0
  });
} : mr, oP = iP, aP = $S(oP), Yp = aP;
function Pn(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length; ++t < n && r(e[t], t, e) !== !1; )
    ;
  return e;
}
function fc(e, r, t, n) {
  for (var i = e.length, o = t + (n ? 1 : -1); n ? o-- : ++o < i; )
    if (r(e[o], o, e))
      return o;
  return -1;
}
function HS(e) {
  return e !== e;
}
function lP(e, r, t) {
  for (var n = t - 1, i = e.length; ++n < i; )
    if (e[n] === r)
      return n;
  return -1;
}
function pl(e, r, t) {
  return r === r ? lP(e, r, t) : fc(e, HS, t);
}
function cc(e, r) {
  var t = e == null ? 0 : e.length;
  return !!t && pl(e, r, 0) > -1;
}
var sP = 1, uP = 2, fP = 8, cP = 16, hP = 32, dP = 64, vP = 128, pP = 256, gP = 512, yP = [
  ["ary", vP],
  ["bind", sP],
  ["bindKey", uP],
  ["curry", fP],
  ["curryRight", cP],
  ["flip", gP],
  ["partial", hP],
  ["partialRight", dP],
  ["rearg", pP]
];
function CP(e, r) {
  return Pn(yP, function(t) {
    var n = "_." + t[0];
    r & t[1] && !cc(e, n) && e.push(n);
  }), e.sort();
}
function zS(e, r, t) {
  var n = r + "";
  return Yp(e, rP(n, CP(eP(n), t)));
}
var _P = 1, mP = 2, wP = 4, xP = 8, N_ = 32, H_ = 64;
function WS(e, r, t, n, i, o, a, l, s, f) {
  var h = r & xP, d = h ? a : void 0, v = h ? void 0 : a, g = h ? o : void 0, y = h ? void 0 : o;
  r |= h ? N_ : H_, r &= ~(h ? H_ : N_), r & wP || (r &= ~(_P | mP));
  var C = [
    e,
    r,
    i,
    g,
    d,
    y,
    v,
    l,
    s,
    f
  ], m = t.apply(void 0, C);
  return Ev(e) && NS(m, C), m.placeholder = n, zS(m, e, r);
}
function gl(e) {
  var r = e;
  return r.placeholder;
}
var SP = 9007199254740991, TP = /^(?:0|[1-9]\d*)$/;
function Yi(e, r) {
  var t = typeof e;
  return r = r ?? SP, !!r && (t == "number" || t != "symbol" && TP.test(e)) && e > -1 && e % 1 == 0 && e < r;
}
var bP = Math.min;
function EP(e, r) {
  for (var t = e.length, n = bP(r.length, t), i = Ur(e); n--; ) {
    var o = r[n];
    e[n] = Yi(o, t) ? i[o] : void 0;
  }
  return e;
}
var z_ = "__lodash_placeholder__";
function So(e, r) {
  for (var t = -1, n = e.length, i = 0, o = []; ++t < n; ) {
    var a = e[t];
    (a === r || a === z_) && (e[t] = z_, o[i++] = t);
  }
  return o;
}
var LP = 1, AP = 2, RP = 8, OP = 16, IP = 128, MP = 512;
function hc(e, r, t, n, i, o, a, l, s, f) {
  var h = r & IP, d = r & LP, v = r & AP, g = r & (RP | OP), y = r & MP, C = v ? void 0 : xs(e);
  function m() {
    for (var w = arguments.length, S = Array(w), x = w; x--; )
      S[x] = arguments[x];
    if (g)
      var b = gl(m), O = z9(S, b);
    if (n && (S = DS(S, n, i, g)), o && (S = PS(S, o, a, g)), w -= O, g && w < f) {
      var D = So(S, b);
      return WS(
        e,
        r,
        hc,
        m.placeholder,
        t,
        S,
        D,
        l,
        s,
        f - w
      );
    }
    var N = d ? t : this, W = v ? N[e] : e;
    return w = S.length, l ? S = EP(S, l) : y && w > 1 && S.reverse(), h && s < w && (S.length = s), this && this !== er && this instanceof m && (W = C || xs(W)), W.apply(N, S);
  }
  return m;
}
function BP(e, r, t) {
  var n = xs(e);
  function i() {
    for (var o = arguments.length, a = Array(o), l = o, s = gl(i); l--; )
      a[l] = arguments[l];
    var f = o < 3 && a[0] !== s && a[o - 1] !== s ? [] : So(a, s);
    if (o -= f.length, o < t)
      return WS(
        e,
        r,
        hc,
        i.placeholder,
        void 0,
        a,
        f,
        void 0,
        void 0,
        t - o
      );
    var h = this && this !== er && this instanceof i ? n : e;
    return hn(h, this, a);
  }
  return i;
}
var DP = 1;
function PP(e, r, t, n) {
  var i = r & DP, o = xs(e);
  function a() {
    for (var l = -1, s = arguments.length, f = -1, h = n.length, d = Array(h + s), v = this && this !== er && this instanceof a ? o : e; ++f < h; )
      d[f] = n[f];
    for (; s--; )
      d[f++] = arguments[++l];
    return hn(v, i ? t : this, d);
  }
  return a;
}
var W_ = "__lodash_placeholder__", Ad = 1, FP = 2, $P = 4, G_ = 8, Kl = 128, k_ = 256, NP = Math.min;
function HP(e, r) {
  var t = e[1], n = r[1], i = t | n, o = i < (Ad | FP | Kl), a = n == Kl && t == G_ || n == Kl && t == k_ && e[7].length <= r[8] || n == (Kl | k_) && r[7].length <= r[8] && t == G_;
  if (!(o || a))
    return e;
  n & Ad && (e[2] = r[2], i |= t & Ad ? 0 : $P);
  var l = r[3];
  if (l) {
    var s = e[3];
    e[3] = s ? DS(s, l, r[4]) : l, e[4] = s ? So(e[3], W_) : r[4];
  }
  return l = r[5], l && (s = e[5], e[5] = s ? PS(s, l, r[6]) : l, e[6] = s ? So(e[5], W_) : r[6]), l = r[7], l && (e[7] = l), n & Kl && (e[8] = e[8] == null ? r[8] : NP(e[8], r[8])), e[9] == null && (e[9] = r[9]), e[0] = r[0], e[1] = i, e;
}
var zP = "Expected a function", U_ = 1, WP = 2, Rd = 8, Od = 16, Id = 32, Y_ = 64, X_ = Math.max;
function Xi(e, r, t, n, i, o, a, l) {
  var s = r & WP;
  if (!s && typeof e != "function")
    throw new TypeError(zP);
  var f = n ? n.length : 0;
  if (f || (r &= ~(Id | Y_), n = i = void 0), a = a === void 0 ? a : X_(We(a), 0), l = l === void 0 ? l : We(l), f -= i ? i.length : 0, r & Y_) {
    var h = n, d = i;
    n = i = void 0;
  }
  var v = s ? void 0 : Up(e), g = [
    e,
    r,
    t,
    n,
    i,
    h,
    d,
    o,
    a,
    l
  ];
  if (v && HP(g, v), e = g[0], r = g[1], t = g[2], n = g[3], i = g[4], l = g[9] = g[9] === void 0 ? s ? 0 : e.length : X_(g[9] - f, 0), !l && r & (Rd | Od) && (r &= ~(Rd | Od)), !r || r == U_)
    var y = $9(e, r, t);
  else
    r == Rd || r == Od ? y = BP(e, r, l) : (r == Id || r == (U_ | Id)) && !i.length ? y = PP(e, r, t, n) : y = hc.apply(void 0, g);
  var C = v ? BS : NS;
  return zS(C(y, g), e, r);
}
var GP = 128;
function GS(e, r, t) {
  return r = t ? void 0 : r, r = e && r == null ? e.length : r, Xi(e, GP, void 0, void 0, void 0, void 0, r);
}
function Vi(e, r, t) {
  r == "__proto__" && zf ? zf(e, r, {
    configurable: !0,
    enumerable: !0,
    value: t,
    writable: !0
  }) : e[r] = t;
}
function Zn(e, r) {
  return e === r || e !== e && r !== r;
}
var kP = Object.prototype, UP = kP.hasOwnProperty;
function Ws(e, r, t) {
  var n = e[r];
  (!(UP.call(e, r) && Zn(n, t)) || t === void 0 && !(r in e)) && Vi(e, r, t);
}
function mi(e, r, t, n) {
  var i = !t;
  t || (t = {});
  for (var o = -1, a = r.length; ++o < a; ) {
    var l = r[o], s = n ? n(t[l], e[l], l, t, e) : void 0;
    s === void 0 && (s = e[l]), i ? Vi(t, l, s) : Ws(t, l, s);
  }
  return t;
}
var V_ = Math.max;
function kS(e, r, t) {
  return r = V_(r === void 0 ? e.length - 1 : r, 0), function() {
    for (var n = arguments, i = -1, o = V_(n.length - r, 0), a = Array(o); ++i < o; )
      a[i] = n[r + i];
    i = -1;
    for (var l = Array(r + 1); ++i < r; )
      l[i] = n[i];
    return l[r] = t(a), hn(e, this, l);
  };
}
function Ye(e, r) {
  return Yp(kS(e, r, mr), e + "");
}
var YP = 9007199254740991;
function dc(e) {
  return typeof e == "number" && e > -1 && e % 1 == 0 && e <= YP;
}
function Kr(e) {
  return e != null && dc(e.length) && !Jt(e);
}
function Ir(e, r, t) {
  if (!ft(t))
    return !1;
  var n = typeof r;
  return (n == "number" ? Kr(t) && Yi(r, t.length) : n == "string" && r in t) ? Zn(t[r], e) : !1;
}
function yl(e) {
  return Ye(function(r, t) {
    var n = -1, i = t.length, o = i > 1 ? t[i - 1] : void 0, a = i > 2 ? t[2] : void 0;
    for (o = e.length > 3 && typeof o == "function" ? (i--, o) : void 0, a && Ir(t[0], t[1], a) && (o = i < 3 ? void 0 : o, i = 1), r = Object(r); ++n < i; ) {
      var l = t[n];
      l && e(r, l, n, o);
    }
    return r;
  });
}
var XP = Object.prototype;
function Gs(e) {
  var r = e && e.constructor, t = typeof r == "function" && r.prototype || XP;
  return e === t;
}
function Xp(e, r) {
  for (var t = -1, n = Array(e); ++t < e; )
    n[t] = r(t);
  return n;
}
var VP = "[object Arguments]";
function q_(e) {
  return Nt(e) && Br(e) == VP;
}
var US = Object.prototype, qP = US.hasOwnProperty, KP = US.propertyIsEnumerable, jP = q_(/* @__PURE__ */ function() {
  return arguments;
}()) ? q_ : function(e) {
  return Nt(e) && qP.call(e, "callee") && !KP.call(e, "callee");
}, sa = jP;
function Vp() {
  return !1;
}
var YS = typeof exports == "object" && exports && !exports.nodeType && exports, K_ = YS && typeof module == "object" && module && !module.nodeType && module, ZP = K_ && K_.exports === YS, j_ = ZP ? er.Buffer : void 0, QP = j_ ? j_.isBuffer : void 0, JP = QP || Vp, To = JP, eF = "[object Arguments]", tF = "[object Array]", rF = "[object Boolean]", nF = "[object Date]", iF = "[object Error]", oF = "[object Function]", aF = "[object Map]", lF = "[object Number]", sF = "[object Object]", uF = "[object RegExp]", fF = "[object Set]", cF = "[object String]", hF = "[object WeakMap]", dF = "[object ArrayBuffer]", vF = "[object DataView]", pF = "[object Float32Array]", gF = "[object Float64Array]", yF = "[object Int8Array]", CF = "[object Int16Array]", _F = "[object Int32Array]", mF = "[object Uint8Array]", wF = "[object Uint8ClampedArray]", xF = "[object Uint16Array]", SF = "[object Uint32Array]", Lt = {};
Lt[pF] = Lt[gF] = Lt[yF] = Lt[CF] = Lt[_F] = Lt[mF] = Lt[wF] = Lt[xF] = Lt[SF] = !0;
Lt[eF] = Lt[tF] = Lt[dF] = Lt[rF] = Lt[vF] = Lt[nF] = Lt[iF] = Lt[oF] = Lt[aF] = Lt[lF] = Lt[sF] = Lt[uF] = Lt[fF] = Lt[cF] = Lt[hF] = !1;
function TF(e) {
  return Nt(e) && dc(e.length) && !!Lt[Br(e)];
}
function dn(e) {
  return function(r) {
    return e(r);
  };
}
var XS = typeof exports == "object" && exports && !exports.nodeType && exports, ss = XS && typeof module == "object" && module && !module.nodeType && module, bF = ss && ss.exports === XS, Md = bF && AS.process, EF = function() {
  try {
    var e = ss && ss.require && ss.require("util").types;
    return e || Md && Md.binding && Md.binding("util");
  } catch {
  }
}(), Bn = EF, Z_ = Bn && Bn.isTypedArray, LF = Z_ ? dn(Z_) : TF, Cl = LF, AF = Object.prototype, RF = AF.hasOwnProperty;
function VS(e, r) {
  var t = ve(e), n = !t && sa(e), i = !t && !n && To(e), o = !t && !n && !i && Cl(e), a = t || n || i || o, l = a ? Xp(e.length, String) : [], s = l.length;
  for (var f in e)
    (r || RF.call(e, f)) && !(a && // Safari 9 has enumerable `arguments.length` in strict mode.
    (f == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    i && (f == "offset" || f == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    o && (f == "buffer" || f == "byteLength" || f == "byteOffset") || // Skip index properties.
    Yi(f, s))) && l.push(f);
  return l;
}
function qS(e, r) {
  return function(t) {
    return e(r(t));
  };
}
var OF = qS(Object.keys, Object), IF = OF, MF = Object.prototype, BF = MF.hasOwnProperty;
function qp(e) {
  if (!Gs(e))
    return IF(e);
  var r = [];
  for (var t in Object(e))
    BF.call(e, t) && t != "constructor" && r.push(t);
  return r;
}
function Ft(e) {
  return Kr(e) ? VS(e) : qp(e);
}
var DF = Object.prototype, PF = DF.hasOwnProperty, FF = yl(function(e, r) {
  if (Gs(r) || Kr(r)) {
    mi(r, Ft(r), e);
    return;
  }
  for (var t in r)
    PF.call(r, t) && Ws(e, t, r[t]);
}), KS = FF;
function $F(e) {
  var r = [];
  if (e != null)
    for (var t in Object(e))
      r.push(t);
  return r;
}
var NF = Object.prototype, HF = NF.hasOwnProperty;
function zF(e) {
  if (!ft(e))
    return $F(e);
  var r = Gs(e), t = [];
  for (var n in e)
    n == "constructor" && (r || !HF.call(e, n)) || t.push(n);
  return t;
}
function jr(e) {
  return Kr(e) ? VS(e, !0) : zF(e);
}
var WF = yl(function(e, r) {
  mi(r, jr(r), e);
}), Q_ = WF, GF = yl(function(e, r, t, n) {
  mi(r, jr(r), e, n);
}), Wf = GF, kF = yl(function(e, r, t, n) {
  mi(r, Ft(r), e, n);
}), UF = kF, YF = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, XF = /^\w*$/;
function Kp(e, r) {
  if (ve(e))
    return !1;
  var t = typeof e;
  return t == "number" || t == "symbol" || t == "boolean" || e == null || fn(e) ? !0 : XF.test(e) || !YF.test(e) || r != null && e in Object(r);
}
var VF = ya(Object, "create"), Ss = VF;
function qF() {
  this.__data__ = Ss ? Ss(null) : {}, this.size = 0;
}
function KF(e) {
  var r = this.has(e) && delete this.__data__[e];
  return this.size -= r ? 1 : 0, r;
}
var jF = "__lodash_hash_undefined__", ZF = Object.prototype, QF = ZF.hasOwnProperty;
function JF(e) {
  var r = this.__data__;
  if (Ss) {
    var t = r[e];
    return t === jF ? void 0 : t;
  }
  return QF.call(r, e) ? r[e] : void 0;
}
var e$ = Object.prototype, t$ = e$.hasOwnProperty;
function r$(e) {
  var r = this.__data__;
  return Ss ? r[e] !== void 0 : t$.call(r, e);
}
var n$ = "__lodash_hash_undefined__";
function i$(e, r) {
  var t = this.__data__;
  return this.size += this.has(e) ? 0 : 1, t[e] = Ss && r === void 0 ? n$ : r, this;
}
function ua(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.clear(); ++r < t; ) {
    var n = e[r];
    this.set(n[0], n[1]);
  }
}
ua.prototype.clear = qF;
ua.prototype.delete = KF;
ua.prototype.get = JF;
ua.prototype.has = r$;
ua.prototype.set = i$;
function o$() {
  this.__data__ = [], this.size = 0;
}
function vc(e, r) {
  for (var t = e.length; t--; )
    if (Zn(e[t][0], r))
      return t;
  return -1;
}
var a$ = Array.prototype, l$ = a$.splice;
function s$(e) {
  var r = this.__data__, t = vc(r, e);
  if (t < 0)
    return !1;
  var n = r.length - 1;
  return t == n ? r.pop() : l$.call(r, t, 1), --this.size, !0;
}
function u$(e) {
  var r = this.__data__, t = vc(r, e);
  return t < 0 ? void 0 : r[t][1];
}
function f$(e) {
  return vc(this.__data__, e) > -1;
}
function c$(e, r) {
  var t = this.__data__, n = vc(t, e);
  return n < 0 ? (++this.size, t.push([e, r])) : t[n][1] = r, this;
}
function qi(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.clear(); ++r < t; ) {
    var n = e[r];
    this.set(n[0], n[1]);
  }
}
qi.prototype.clear = o$;
qi.prototype.delete = s$;
qi.prototype.get = u$;
qi.prototype.has = f$;
qi.prototype.set = c$;
var h$ = ya(er, "Map"), Ts = h$;
function d$() {
  this.size = 0, this.__data__ = {
    hash: new ua(),
    map: new (Ts || qi)(),
    string: new ua()
  };
}
function v$(e) {
  var r = typeof e;
  return r == "string" || r == "number" || r == "symbol" || r == "boolean" ? e !== "__proto__" : e === null;
}
function pc(e, r) {
  var t = e.__data__;
  return v$(r) ? t[typeof r == "string" ? "string" : "hash"] : t.map;
}
function p$(e) {
  var r = pc(this, e).delete(e);
  return this.size -= r ? 1 : 0, r;
}
function g$(e) {
  return pc(this, e).get(e);
}
function y$(e) {
  return pc(this, e).has(e);
}
function C$(e, r) {
  var t = pc(this, e), n = t.size;
  return t.set(e, r), this.size += t.size == n ? 0 : 1, this;
}
function Ki(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.clear(); ++r < t; ) {
    var n = e[r];
    this.set(n[0], n[1]);
  }
}
Ki.prototype.clear = d$;
Ki.prototype.delete = p$;
Ki.prototype.get = g$;
Ki.prototype.has = y$;
Ki.prototype.set = C$;
var _$ = "Expected a function";
function Ca(e, r) {
  if (typeof e != "function" || r != null && typeof r != "function")
    throw new TypeError(_$);
  var t = function() {
    var n = arguments, i = r ? r.apply(this, n) : n[0], o = t.cache;
    if (o.has(i))
      return o.get(i);
    var a = e.apply(this, n);
    return t.cache = o.set(i, a) || o, a;
  };
  return t.cache = new (Ca.Cache || Ki)(), t;
}
Ca.Cache = Ki;
var m$ = 500;
function w$(e) {
  var r = Ca(e, function(n) {
    return t.size === m$ && t.clear(), n;
  }), t = r.cache;
  return r;
}
var x$ = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, S$ = /\\(\\)?/g, T$ = w$(function(e) {
  var r = [];
  return e.charCodeAt(0) === 46 && r.push(""), e.replace(x$, function(t, n, i, o) {
    r.push(i ? o.replace(S$, "$1") : n || t);
  }), r;
}), jS = T$;
function ct(e) {
  return e == null ? "" : cn(e);
}
function Ao(e, r) {
  return ve(e) ? e : Kp(e, r) ? [e] : jS(ct(e));
}
var b$ = 1 / 0;
function wi(e) {
  if (typeof e == "string" || fn(e))
    return e;
  var r = e + "";
  return r == "0" && 1 / e == -b$ ? "-0" : r;
}
function _a(e, r) {
  r = Ao(r, e);
  for (var t = 0, n = r.length; e != null && t < n; )
    e = e[wi(r[t++])];
  return t && t == n ? e : void 0;
}
function _e(e, r, t) {
  var n = e == null ? void 0 : _a(e, r);
  return n === void 0 ? t : n;
}
function jp(e, r) {
  for (var t = -1, n = r.length, i = Array(n), o = e == null; ++t < n; )
    i[t] = o ? void 0 : _e(e, r[t]);
  return i;
}
function Ro(e, r) {
  for (var t = -1, n = r.length, i = e.length; ++t < n; )
    e[i + t] = r[t];
  return e;
}
var J_ = yr ? yr.isConcatSpreadable : void 0;
function E$(e) {
  return ve(e) || sa(e) || !!(J_ && e && e[J_]);
}
function ur(e, r, t, n, i) {
  var o = -1, a = e.length;
  for (t || (t = E$), i || (i = []); ++o < a; ) {
    var l = e[o];
    r > 0 && t(l) ? r > 1 ? ur(l, r - 1, t, n, i) : Ro(i, l) : n || (i[i.length] = l);
  }
  return i;
}
function Zp(e) {
  var r = e == null ? 0 : e.length;
  return r ? ur(e, 1) : [];
}
function ji(e) {
  return Yp(kS(e, void 0, Zp), e + "");
}
var L$ = ji(jp), A$ = L$, R$ = qS(Object.getPrototypeOf, Object), gc = R$, O$ = "[object Object]", I$ = Function.prototype, M$ = Object.prototype, ZS = I$.toString, B$ = M$.hasOwnProperty, D$ = ZS.call(Object);
function ks(e) {
  if (!Nt(e) || Br(e) != O$)
    return !1;
  var r = gc(e);
  if (r === null)
    return !0;
  var t = B$.call(r, "constructor") && r.constructor;
  return typeof t == "function" && t instanceof t && ZS.call(t) == D$;
}
var P$ = "[object DOMException]", F$ = "[object Error]";
function Qp(e) {
  if (!Nt(e))
    return !1;
  var r = Br(e);
  return r == F$ || r == P$ || typeof e.message == "string" && typeof e.name == "string" && !ks(e);
}
var $$ = Ye(function(e, r) {
  try {
    return hn(e, void 0, r);
  } catch (t) {
    return Qp(t) ? t : new Error(t);
  }
}), QS = $$, N$ = "Expected a function";
function JS(e, r) {
  var t;
  if (typeof r != "function")
    throw new TypeError(N$);
  return e = We(e), function() {
    return --e > 0 && (t = r.apply(this, arguments)), e <= 1 && (r = void 0), t;
  };
}
var H$ = 1, z$ = 32, Jp = Ye(function(e, r, t) {
  var n = H$;
  if (t.length) {
    var i = So(t, gl(Jp));
    n |= z$;
  }
  return Xi(e, n, r, t, i);
});
Jp.placeholder = {};
var e2 = Jp, W$ = ji(function(e, r) {
  return Pn(r, function(t) {
    t = wi(t), Vi(e, t, e2(e[t], e));
  }), e;
}), G$ = W$, k$ = 1, U$ = 2, Y$ = 32, e0 = Ye(function(e, r, t) {
  var n = k$ | U$;
  if (t.length) {
    var i = So(t, gl(e0));
    n |= Y$;
  }
  return Xi(r, n, e, t, i);
});
e0.placeholder = {};
var X$ = e0;
function Dn(e, r, t) {
  var n = -1, i = e.length;
  r < 0 && (r = -r > i ? 0 : i + r), t = t > i ? i : t, t < 0 && (t += i), i = r > t ? 0 : t - r >>> 0, r >>>= 0;
  for (var o = Array(i); ++n < i; )
    o[n] = e[n + r];
  return o;
}
function Oo(e, r, t) {
  var n = e.length;
  return t = t === void 0 ? n : t, !r && t >= n ? e : Dn(e, r, t);
}
var V$ = "\\ud800-\\udfff", q$ = "\\u0300-\\u036f", K$ = "\\ufe20-\\ufe2f", j$ = "\\u20d0-\\u20ff", Z$ = q$ + K$ + j$, Q$ = "\\ufe0e\\ufe0f", J$ = "\\u200d", e7 = RegExp("[" + J$ + V$ + Z$ + Q$ + "]");
function _l(e) {
  return e7.test(e);
}
function t7(e) {
  return e.split("");
}
var t2 = "\\ud800-\\udfff", r7 = "\\u0300-\\u036f", n7 = "\\ufe20-\\ufe2f", i7 = "\\u20d0-\\u20ff", o7 = r7 + n7 + i7, a7 = "\\ufe0e\\ufe0f", l7 = "[" + t2 + "]", Lv = "[" + o7 + "]", Av = "\\ud83c[\\udffb-\\udfff]", s7 = "(?:" + Lv + "|" + Av + ")", r2 = "[^" + t2 + "]", n2 = "(?:\\ud83c[\\udde6-\\uddff]){2}", i2 = "[\\ud800-\\udbff][\\udc00-\\udfff]", u7 = "\\u200d", o2 = s7 + "?", a2 = "[" + a7 + "]?", f7 = "(?:" + u7 + "(?:" + [r2, n2, i2].join("|") + ")" + a2 + o2 + ")*", c7 = a2 + o2 + f7, h7 = "(?:" + [r2 + Lv + "?", Lv, n2, i2, l7].join("|") + ")", d7 = RegExp(Av + "(?=" + Av + ")|" + h7 + c7, "g");
function v7(e) {
  return e.match(d7) || [];
}
function qn(e) {
  return _l(e) ? v7(e) : t7(e);
}
function l2(e) {
  return function(r) {
    r = ct(r);
    var t = _l(r) ? qn(r) : void 0, n = t ? t[0] : r.charAt(0), i = t ? Oo(t, 1).join("") : r.slice(1);
    return n[e]() + i;
  };
}
var p7 = l2("toUpperCase"), t0 = p7;
function s2(e) {
  return t0(ct(e).toLowerCase());
}
function r0(e, r, t, n) {
  var i = -1, o = e == null ? 0 : e.length;
  for (n && o && (t = e[++i]); ++i < o; )
    t = r(t, e[i], i, e);
  return t;
}
function n0(e) {
  return function(r) {
    return e == null ? void 0 : e[r];
  };
}
var g7 = {
  // Latin-1 Supplement block.
  À: "A",
  Á: "A",
  Â: "A",
  Ã: "A",
  Ä: "A",
  Å: "A",
  à: "a",
  á: "a",
  â: "a",
  ã: "a",
  ä: "a",
  å: "a",
  Ç: "C",
  ç: "c",
  Ð: "D",
  ð: "d",
  È: "E",
  É: "E",
  Ê: "E",
  Ë: "E",
  è: "e",
  é: "e",
  ê: "e",
  ë: "e",
  Ì: "I",
  Í: "I",
  Î: "I",
  Ï: "I",
  ì: "i",
  í: "i",
  î: "i",
  ï: "i",
  Ñ: "N",
  ñ: "n",
  Ò: "O",
  Ó: "O",
  Ô: "O",
  Õ: "O",
  Ö: "O",
  Ø: "O",
  ò: "o",
  ó: "o",
  ô: "o",
  õ: "o",
  ö: "o",
  ø: "o",
  Ù: "U",
  Ú: "U",
  Û: "U",
  Ü: "U",
  ù: "u",
  ú: "u",
  û: "u",
  ü: "u",
  Ý: "Y",
  ý: "y",
  ÿ: "y",
  Æ: "Ae",
  æ: "ae",
  Þ: "Th",
  þ: "th",
  ß: "ss",
  // Latin Extended-A block.
  Ā: "A",
  Ă: "A",
  Ą: "A",
  ā: "a",
  ă: "a",
  ą: "a",
  Ć: "C",
  Ĉ: "C",
  Ċ: "C",
  Č: "C",
  ć: "c",
  ĉ: "c",
  ċ: "c",
  č: "c",
  Ď: "D",
  Đ: "D",
  ď: "d",
  đ: "d",
  Ē: "E",
  Ĕ: "E",
  Ė: "E",
  Ę: "E",
  Ě: "E",
  ē: "e",
  ĕ: "e",
  ė: "e",
  ę: "e",
  ě: "e",
  Ĝ: "G",
  Ğ: "G",
  Ġ: "G",
  Ģ: "G",
  ĝ: "g",
  ğ: "g",
  ġ: "g",
  ģ: "g",
  Ĥ: "H",
  Ħ: "H",
  ĥ: "h",
  ħ: "h",
  Ĩ: "I",
  Ī: "I",
  Ĭ: "I",
  Į: "I",
  İ: "I",
  ĩ: "i",
  ī: "i",
  ĭ: "i",
  į: "i",
  ı: "i",
  Ĵ: "J",
  ĵ: "j",
  Ķ: "K",
  ķ: "k",
  ĸ: "k",
  Ĺ: "L",
  Ļ: "L",
  Ľ: "L",
  Ŀ: "L",
  Ł: "L",
  ĺ: "l",
  ļ: "l",
  ľ: "l",
  ŀ: "l",
  ł: "l",
  Ń: "N",
  Ņ: "N",
  Ň: "N",
  Ŋ: "N",
  ń: "n",
  ņ: "n",
  ň: "n",
  ŋ: "n",
  Ō: "O",
  Ŏ: "O",
  Ő: "O",
  ō: "o",
  ŏ: "o",
  ő: "o",
  Ŕ: "R",
  Ŗ: "R",
  Ř: "R",
  ŕ: "r",
  ŗ: "r",
  ř: "r",
  Ś: "S",
  Ŝ: "S",
  Ş: "S",
  Š: "S",
  ś: "s",
  ŝ: "s",
  ş: "s",
  š: "s",
  Ţ: "T",
  Ť: "T",
  Ŧ: "T",
  ţ: "t",
  ť: "t",
  ŧ: "t",
  Ũ: "U",
  Ū: "U",
  Ŭ: "U",
  Ů: "U",
  Ű: "U",
  Ų: "U",
  ũ: "u",
  ū: "u",
  ŭ: "u",
  ů: "u",
  ű: "u",
  ų: "u",
  Ŵ: "W",
  ŵ: "w",
  Ŷ: "Y",
  ŷ: "y",
  Ÿ: "Y",
  Ź: "Z",
  Ż: "Z",
  Ž: "Z",
  ź: "z",
  ż: "z",
  ž: "z",
  Ĳ: "IJ",
  ĳ: "ij",
  Œ: "Oe",
  œ: "oe",
  ŉ: "'n",
  ſ: "s"
}, y7 = n0(g7), C7 = y7, _7 = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, m7 = "\\u0300-\\u036f", w7 = "\\ufe20-\\ufe2f", x7 = "\\u20d0-\\u20ff", S7 = m7 + w7 + x7, T7 = "[" + S7 + "]", b7 = RegExp(T7, "g");
function u2(e) {
  return e = ct(e), e && e.replace(_7, C7).replace(b7, "");
}
var E7 = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
function L7(e) {
  return e.match(E7) || [];
}
var A7 = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
function R7(e) {
  return A7.test(e);
}
var f2 = "\\ud800-\\udfff", O7 = "\\u0300-\\u036f", I7 = "\\ufe20-\\ufe2f", M7 = "\\u20d0-\\u20ff", B7 = O7 + I7 + M7, c2 = "\\u2700-\\u27bf", h2 = "a-z\\xdf-\\xf6\\xf8-\\xff", D7 = "\\xac\\xb1\\xd7\\xf7", P7 = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", F7 = "\\u2000-\\u206f", $7 = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", d2 = "A-Z\\xc0-\\xd6\\xd8-\\xde", N7 = "\\ufe0e\\ufe0f", v2 = D7 + P7 + F7 + $7, p2 = "['’]", em = "[" + v2 + "]", H7 = "[" + B7 + "]", g2 = "\\d+", z7 = "[" + c2 + "]", y2 = "[" + h2 + "]", C2 = "[^" + f2 + v2 + g2 + c2 + h2 + d2 + "]", W7 = "\\ud83c[\\udffb-\\udfff]", G7 = "(?:" + H7 + "|" + W7 + ")", k7 = "[^" + f2 + "]", _2 = "(?:\\ud83c[\\udde6-\\uddff]){2}", m2 = "[\\ud800-\\udbff][\\udc00-\\udfff]", za = "[" + d2 + "]", U7 = "\\u200d", tm = "(?:" + y2 + "|" + C2 + ")", Y7 = "(?:" + za + "|" + C2 + ")", rm = "(?:" + p2 + "(?:d|ll|m|re|s|t|ve))?", nm = "(?:" + p2 + "(?:D|LL|M|RE|S|T|VE))?", w2 = G7 + "?", x2 = "[" + N7 + "]?", X7 = "(?:" + U7 + "(?:" + [k7, _2, m2].join("|") + ")" + x2 + w2 + ")*", V7 = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", q7 = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", K7 = x2 + w2 + X7, j7 = "(?:" + [z7, _2, m2].join("|") + ")" + K7, Z7 = RegExp([
  za + "?" + y2 + "+" + rm + "(?=" + [em, za, "$"].join("|") + ")",
  Y7 + "+" + nm + "(?=" + [em, za + tm, "$"].join("|") + ")",
  za + "?" + tm + "+" + rm,
  za + "+" + nm,
  q7,
  V7,
  g2,
  j7
].join("|"), "g");
function Q7(e) {
  return e.match(Z7) || [];
}
function S2(e, r, t) {
  return e = ct(e), r = t ? void 0 : r, r === void 0 ? R7(e) ? Q7(e) : L7(e) : e.match(r) || [];
}
var J7 = "['’]", eN = RegExp(J7, "g");
function ml(e) {
  return function(r) {
    return r0(S2(u2(r).replace(eN, "")), e, "");
  };
}
var tN = ml(function(e, r, t) {
  return r = r.toLowerCase(), e + (t ? s2(r) : r);
}), rN = tN;
function nN() {
  if (!arguments.length)
    return [];
  var e = arguments[0];
  return ve(e) ? e : [e];
}
var iN = er.isFinite, oN = Math.min;
function i0(e) {
  var r = Math[e];
  return function(t, n) {
    if (t = sn(t), n = n == null ? 0 : oN(We(n), 292), n && iN(t)) {
      var i = (ct(t) + "e").split("e"), o = r(i[0] + "e" + (+i[1] + n));
      return i = (ct(o) + "e").split("e"), +(i[0] + "e" + (+i[1] - n));
    }
    return r(t);
  };
}
var aN = i0("ceil"), lN = aN;
function T2(e) {
  var r = L(e);
  return r.__chain__ = !0, r;
}
var sN = Math.ceil, uN = Math.max;
function fN(e, r, t) {
  (t ? Ir(e, r, t) : r === void 0) ? r = 1 : r = uN(We(r), 0);
  var n = e == null ? 0 : e.length;
  if (!n || r < 1)
    return [];
  for (var i = 0, o = 0, a = Array(sN(n / r)); i < n; )
    a[o++] = Dn(e, i, i += r);
  return a;
}
function ma(e, r, t) {
  return e === e && (t !== void 0 && (e = e <= t ? e : t), r !== void 0 && (e = e >= r ? e : r)), e;
}
function Gf(e, r, t) {
  return t === void 0 && (t = r, r = void 0), t !== void 0 && (t = sn(t), t = t === t ? t : 0), r !== void 0 && (r = sn(r), r = r === r ? r : 0), ma(sn(e), r, t);
}
function cN() {
  this.__data__ = new qi(), this.size = 0;
}
function hN(e) {
  var r = this.__data__, t = r.delete(e);
  return this.size = r.size, t;
}
function dN(e) {
  return this.__data__.get(e);
}
function vN(e) {
  return this.__data__.has(e);
}
var pN = 200;
function gN(e, r) {
  var t = this.__data__;
  if (t instanceof qi) {
    var n = t.__data__;
    if (!Ts || n.length < pN - 1)
      return n.push([e, r]), this.size = ++t.size, this;
    t = this.__data__ = new Ki(n);
  }
  return t.set(e, r), this.size = t.size, this;
}
function Yn(e) {
  var r = this.__data__ = new qi(e);
  this.size = r.size;
}
Yn.prototype.clear = cN;
Yn.prototype.delete = hN;
Yn.prototype.get = dN;
Yn.prototype.has = vN;
Yn.prototype.set = gN;
function b2(e, r) {
  return e && mi(r, Ft(r), e);
}
function yN(e, r) {
  return e && mi(r, jr(r), e);
}
var E2 = typeof exports == "object" && exports && !exports.nodeType && exports, im = E2 && typeof module == "object" && module && !module.nodeType && module, CN = im && im.exports === E2, om = CN ? er.Buffer : void 0, am = om ? om.allocUnsafe : void 0;
function L2(e, r) {
  if (r)
    return e.slice();
  var t = e.length, n = am ? am(t) : new e.constructor(t);
  return e.copy(n), n;
}
function Io(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length, i = 0, o = []; ++t < n; ) {
    var a = e[t];
    r(a, t, e) && (o[i++] = a);
  }
  return o;
}
function o0() {
  return [];
}
var _N = Object.prototype, mN = _N.propertyIsEnumerable, lm = Object.getOwnPropertySymbols, wN = lm ? function(e) {
  return e == null ? [] : (e = Object(e), Io(lm(e), function(r) {
    return mN.call(e, r);
  }));
} : o0, a0 = wN;
function xN(e, r) {
  return mi(e, a0(e), r);
}
var SN = Object.getOwnPropertySymbols, TN = SN ? function(e) {
  for (var r = []; e; )
    Ro(r, a0(e)), e = gc(e);
  return r;
} : o0, A2 = TN;
function bN(e, r) {
  return mi(e, A2(e), r);
}
function R2(e, r, t) {
  var n = r(e);
  return ve(e) ? n : Ro(n, t(e));
}
function Rv(e) {
  return R2(e, Ft, a0);
}
function l0(e) {
  return R2(e, jr, A2);
}
var EN = ya(er, "DataView"), Ov = EN, LN = ya(er, "Promise"), Iv = LN, AN = ya(er, "Set"), ja = AN, sm = "[object Map]", RN = "[object Object]", um = "[object Promise]", fm = "[object Set]", cm = "[object WeakMap]", hm = "[object DataView]", ON = ga(Ov), IN = ga(Ts), MN = ga(Iv), BN = ga(ja), DN = ga(ws), Yo = Br;
(Ov && Yo(new Ov(new ArrayBuffer(1))) != hm || Ts && Yo(new Ts()) != sm || Iv && Yo(Iv.resolve()) != um || ja && Yo(new ja()) != fm || ws && Yo(new ws()) != cm) && (Yo = function(e) {
  var r = Br(e), t = r == RN ? e.constructor : void 0, n = t ? ga(t) : "";
  if (n)
    switch (n) {
      case ON:
        return hm;
      case IN:
        return sm;
      case MN:
        return um;
      case BN:
        return fm;
      case DN:
        return cm;
    }
  return r;
});
var vi = Yo, PN = Object.prototype, FN = PN.hasOwnProperty;
function $N(e) {
  var r = e.length, t = new e.constructor(r);
  return r && typeof e[0] == "string" && FN.call(e, "index") && (t.index = e.index, t.input = e.input), t;
}
var NN = er.Uint8Array, kf = NN;
function s0(e) {
  var r = new e.constructor(e.byteLength);
  return new kf(r).set(new kf(e)), r;
}
function HN(e, r) {
  var t = r ? s0(e.buffer) : e.buffer;
  return new e.constructor(t, e.byteOffset, e.byteLength);
}
var zN = /\w*$/;
function WN(e) {
  var r = new e.constructor(e.source, zN.exec(e));
  return r.lastIndex = e.lastIndex, r;
}
var dm = yr ? yr.prototype : void 0, vm = dm ? dm.valueOf : void 0;
function GN(e) {
  return vm ? Object(vm.call(e)) : {};
}
function O2(e, r) {
  var t = r ? s0(e.buffer) : e.buffer;
  return new e.constructor(t, e.byteOffset, e.length);
}
var kN = "[object Boolean]", UN = "[object Date]", YN = "[object Map]", XN = "[object Number]", VN = "[object RegExp]", qN = "[object Set]", KN = "[object String]", jN = "[object Symbol]", ZN = "[object ArrayBuffer]", QN = "[object DataView]", JN = "[object Float32Array]", eH = "[object Float64Array]", tH = "[object Int8Array]", rH = "[object Int16Array]", nH = "[object Int32Array]", iH = "[object Uint8Array]", oH = "[object Uint8ClampedArray]", aH = "[object Uint16Array]", lH = "[object Uint32Array]";
function sH(e, r, t) {
  var n = e.constructor;
  switch (r) {
    case ZN:
      return s0(e);
    case kN:
    case UN:
      return new n(+e);
    case QN:
      return HN(e, t);
    case JN:
    case eH:
    case tH:
    case rH:
    case nH:
    case iH:
    case oH:
    case aH:
    case lH:
      return O2(e, t);
    case YN:
      return new n();
    case XN:
    case KN:
      return new n(e);
    case VN:
      return WN(e);
    case qN:
      return new n();
    case jN:
      return GN(e);
  }
}
function I2(e) {
  return typeof e.constructor == "function" && !Gs(e) ? vl(gc(e)) : {};
}
var uH = "[object Map]";
function fH(e) {
  return Nt(e) && vi(e) == uH;
}
var pm = Bn && Bn.isMap, cH = pm ? dn(pm) : fH, M2 = cH, hH = "[object Set]";
function dH(e) {
  return Nt(e) && vi(e) == hH;
}
var gm = Bn && Bn.isSet, vH = gm ? dn(gm) : dH, B2 = vH, pH = 1, gH = 2, yH = 4, D2 = "[object Arguments]", CH = "[object Array]", _H = "[object Boolean]", mH = "[object Date]", wH = "[object Error]", P2 = "[object Function]", xH = "[object GeneratorFunction]", SH = "[object Map]", TH = "[object Number]", F2 = "[object Object]", bH = "[object RegExp]", EH = "[object Set]", LH = "[object String]", AH = "[object Symbol]", RH = "[object WeakMap]", OH = "[object ArrayBuffer]", IH = "[object DataView]", MH = "[object Float32Array]", BH = "[object Float64Array]", DH = "[object Int8Array]", PH = "[object Int16Array]", FH = "[object Int32Array]", $H = "[object Uint8Array]", NH = "[object Uint8ClampedArray]", HH = "[object Uint16Array]", zH = "[object Uint32Array]", St = {};
St[D2] = St[CH] = St[OH] = St[IH] = St[_H] = St[mH] = St[MH] = St[BH] = St[DH] = St[PH] = St[FH] = St[SH] = St[TH] = St[F2] = St[bH] = St[EH] = St[LH] = St[AH] = St[$H] = St[NH] = St[HH] = St[zH] = !0;
St[wH] = St[P2] = St[RH] = !1;
function Rn(e, r, t, n, i, o) {
  var a, l = r & pH, s = r & gH, f = r & yH;
  if (t && (a = i ? t(e, n, i, o) : t(e)), a !== void 0)
    return a;
  if (!ft(e))
    return e;
  var h = ve(e);
  if (h) {
    if (a = $N(e), !l)
      return Ur(e, a);
  } else {
    var d = vi(e), v = d == P2 || d == xH;
    if (To(e))
      return L2(e, l);
    if (d == F2 || d == D2 || v && !i) {
      if (a = s || v ? {} : I2(e), !l)
        return s ? bN(e, yN(a, e)) : xN(e, b2(a, e));
    } else {
      if (!St[d])
        return i ? e : {};
      a = sH(e, d, l);
    }
  }
  o || (o = new Yn());
  var g = o.get(e);
  if (g)
    return g;
  o.set(e, a), B2(e) ? e.forEach(function(m) {
    a.add(Rn(m, r, t, m, e, o));
  }) : M2(e) && e.forEach(function(m, w) {
    a.set(w, Rn(m, r, t, w, e, o));
  });
  var y = f ? s ? l0 : Rv : s ? jr : Ft, C = h ? void 0 : y(e);
  return Pn(C || e, function(m, w) {
    C && (w = m, m = e[w]), Ws(a, w, Rn(m, r, t, w, e, o));
  }), a;
}
var WH = 4;
function wl(e) {
  return Rn(e, WH);
}
var GH = 1, kH = 4;
function Mv(e) {
  return Rn(e, GH | kH);
}
var UH = 1, YH = 4;
function XH(e, r) {
  return r = typeof r == "function" ? r : void 0, Rn(e, UH | YH, r);
}
var VH = 4;
function qH(e, r) {
  return r = typeof r == "function" ? r : void 0, Rn(e, VH, r);
}
function KH() {
  return new Mn(this.value(), this.__chain__);
}
function xl(e) {
  for (var r = -1, t = e == null ? 0 : e.length, n = 0, i = []; ++r < t; ) {
    var o = e[r];
    o && (i[n++] = o);
  }
  return i;
}
function Ga() {
  var e = arguments.length;
  if (!e)
    return [];
  for (var r = Array(e - 1), t = arguments[0], n = e; n--; )
    r[n - 1] = arguments[n];
  return Ro(ve(t) ? Ur(t) : [t], ur(r, 1));
}
var jH = "__lodash_hash_undefined__";
function ZH(e) {
  return this.__data__.set(e, jH), this;
}
function QH(e) {
  return this.__data__.has(e);
}
function fa(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.__data__ = new Ki(); ++r < t; )
    this.add(e[r]);
}
fa.prototype.add = fa.prototype.push = ZH;
fa.prototype.has = QH;
function u0(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length; ++t < n; )
    if (r(e[t], t, e))
      return !0;
  return !1;
}
function bs(e, r) {
  return e.has(r);
}
var JH = 1, ez = 2;
function $2(e, r, t, n, i, o) {
  var a = t & JH, l = e.length, s = r.length;
  if (l != s && !(a && s > l))
    return !1;
  var f = o.get(e), h = o.get(r);
  if (f && h)
    return f == r && h == e;
  var d = -1, v = !0, g = t & ez ? new fa() : void 0;
  for (o.set(e, r), o.set(r, e); ++d < l; ) {
    var y = e[d], C = r[d];
    if (n)
      var m = a ? n(C, y, d, r, e, o) : n(y, C, d, e, r, o);
    if (m !== void 0) {
      if (m)
        continue;
      v = !1;
      break;
    }
    if (g) {
      if (!u0(r, function(w, S) {
        if (!bs(g, S) && (y === w || i(y, w, t, n, o)))
          return g.push(S);
      })) {
        v = !1;
        break;
      }
    } else if (!(y === C || i(y, C, t, n, o))) {
      v = !1;
      break;
    }
  }
  return o.delete(e), o.delete(r), v;
}
function f0(e) {
  var r = -1, t = Array(e.size);
  return e.forEach(function(n, i) {
    t[++r] = [i, n];
  }), t;
}
function yc(e) {
  var r = -1, t = Array(e.size);
  return e.forEach(function(n) {
    t[++r] = n;
  }), t;
}
var tz = 1, rz = 2, nz = "[object Boolean]", iz = "[object Date]", oz = "[object Error]", az = "[object Map]", lz = "[object Number]", sz = "[object RegExp]", uz = "[object Set]", fz = "[object String]", cz = "[object Symbol]", hz = "[object ArrayBuffer]", dz = "[object DataView]", ym = yr ? yr.prototype : void 0, Bd = ym ? ym.valueOf : void 0;
function vz(e, r, t, n, i, o, a) {
  switch (t) {
    case dz:
      if (e.byteLength != r.byteLength || e.byteOffset != r.byteOffset)
        return !1;
      e = e.buffer, r = r.buffer;
    case hz:
      return !(e.byteLength != r.byteLength || !o(new kf(e), new kf(r)));
    case nz:
    case iz:
    case lz:
      return Zn(+e, +r);
    case oz:
      return e.name == r.name && e.message == r.message;
    case sz:
    case fz:
      return e == r + "";
    case az:
      var l = f0;
    case uz:
      var s = n & tz;
      if (l || (l = yc), e.size != r.size && !s)
        return !1;
      var f = a.get(e);
      if (f)
        return f == r;
      n |= rz, a.set(e, r);
      var h = $2(l(e), l(r), n, i, o, a);
      return a.delete(e), h;
    case cz:
      if (Bd)
        return Bd.call(e) == Bd.call(r);
  }
  return !1;
}
var pz = 1, gz = Object.prototype, yz = gz.hasOwnProperty;
function Cz(e, r, t, n, i, o) {
  var a = t & pz, l = Rv(e), s = l.length, f = Rv(r), h = f.length;
  if (s != h && !a)
    return !1;
  for (var d = s; d--; ) {
    var v = l[d];
    if (!(a ? v in r : yz.call(r, v)))
      return !1;
  }
  var g = o.get(e), y = o.get(r);
  if (g && y)
    return g == r && y == e;
  var C = !0;
  o.set(e, r), o.set(r, e);
  for (var m = a; ++d < s; ) {
    v = l[d];
    var w = e[v], S = r[v];
    if (n)
      var x = a ? n(S, w, v, r, e, o) : n(w, S, v, e, r, o);
    if (!(x === void 0 ? w === S || i(w, S, t, n, o) : x)) {
      C = !1;
      break;
    }
    m || (m = v == "constructor");
  }
  if (C && !m) {
    var b = e.constructor, O = r.constructor;
    b != O && "constructor" in e && "constructor" in r && !(typeof b == "function" && b instanceof b && typeof O == "function" && O instanceof O) && (C = !1);
  }
  return o.delete(e), o.delete(r), C;
}
var _z = 1, Cm = "[object Arguments]", _m = "[object Array]", af = "[object Object]", mz = Object.prototype, mm = mz.hasOwnProperty;
function wz(e, r, t, n, i, o) {
  var a = ve(e), l = ve(r), s = a ? _m : vi(e), f = l ? _m : vi(r);
  s = s == Cm ? af : s, f = f == Cm ? af : f;
  var h = s == af, d = f == af, v = s == f;
  if (v && To(e)) {
    if (!To(r))
      return !1;
    a = !0, h = !1;
  }
  if (v && !h)
    return o || (o = new Yn()), a || Cl(e) ? $2(e, r, t, n, i, o) : vz(e, r, s, t, n, i, o);
  if (!(t & _z)) {
    var g = h && mm.call(e, "__wrapped__"), y = d && mm.call(r, "__wrapped__");
    if (g || y) {
      var C = g ? e.value() : e, m = y ? r.value() : r;
      return o || (o = new Yn()), i(C, m, t, n, o);
    }
  }
  return v ? (o || (o = new Yn()), Cz(e, r, t, n, i, o)) : !1;
}
function Us(e, r, t, n, i) {
  return e === r ? !0 : e == null || r == null || !Nt(e) && !Nt(r) ? e !== e && r !== r : wz(e, r, t, n, Us, i);
}
var xz = 1, Sz = 2;
function c0(e, r, t, n) {
  var i = t.length, o = i, a = !n;
  if (e == null)
    return !o;
  for (e = Object(e); i--; ) {
    var l = t[i];
    if (a && l[2] ? l[1] !== e[l[0]] : !(l[0] in e))
      return !1;
  }
  for (; ++i < o; ) {
    l = t[i];
    var s = l[0], f = e[s], h = l[1];
    if (a && l[2]) {
      if (f === void 0 && !(s in e))
        return !1;
    } else {
      var d = new Yn();
      if (n)
        var v = n(f, h, s, e, r, d);
      if (!(v === void 0 ? Us(h, f, xz | Sz, n, d) : v))
        return !1;
    }
  }
  return !0;
}
function N2(e) {
  return e === e && !ft(e);
}
function h0(e) {
  for (var r = Ft(e), t = r.length; t--; ) {
    var n = r[t], i = e[n];
    r[t] = [n, i, N2(i)];
  }
  return r;
}
function H2(e, r) {
  return function(t) {
    return t == null ? !1 : t[e] === r && (r !== void 0 || e in Object(t));
  };
}
function z2(e) {
  var r = h0(e);
  return r.length == 1 && r[0][2] ? H2(r[0][0], r[0][1]) : function(t) {
    return t === e || c0(t, e, r);
  };
}
function Tz(e, r) {
  return e != null && r in Object(e);
}
function W2(e, r, t) {
  r = Ao(r, e);
  for (var n = -1, i = r.length, o = !1; ++n < i; ) {
    var a = wi(r[n]);
    if (!(o = e != null && t(e, a)))
      break;
    e = e[a];
  }
  return o || ++n != i ? o : (i = e == null ? 0 : e.length, !!i && dc(i) && Yi(a, i) && (ve(e) || sa(e)));
}
function ca(e, r) {
  return e != null && W2(e, r, Tz);
}
var bz = 1, Ez = 2;
function G2(e, r) {
  return Kp(e) && N2(r) ? H2(wi(e), r) : function(t) {
    var n = _e(t, e);
    return n === void 0 && n === r ? ca(t, e) : Us(r, n, bz | Ez);
  };
}
function d0(e) {
  return function(r) {
    return r == null ? void 0 : r[e];
  };
}
function Lz(e) {
  return function(r) {
    return _a(r, e);
  };
}
function k2(e) {
  return Kp(e) ? d0(wi(e)) : Lz(e);
}
function Fe(e) {
  return typeof e == "function" ? e : e == null ? mr : typeof e == "object" ? ve(e) ? G2(e[0], e[1]) : z2(e) : k2(e);
}
var Az = "Expected a function";
function U2(e) {
  var r = e == null ? 0 : e.length, t = Fe;
  return e = r ? It(e, function(n) {
    if (typeof n[1] != "function")
      throw new TypeError(Az);
    return [t(n[0]), n[1]];
  }) : [], Ye(function(n) {
    for (var i = -1; ++i < r; ) {
      var o = e[i];
      if (hn(o[0], this, n))
        return hn(o[1], this, n);
    }
  });
}
function Y2(e, r, t) {
  var n = t.length;
  if (e == null)
    return !n;
  for (e = Object(e); n--; ) {
    var i = t[n], o = r[i], a = e[i];
    if (a === void 0 && !(i in e) || !o(a))
      return !1;
  }
  return !0;
}
function Rz(e) {
  var r = Ft(e);
  return function(t) {
    return Y2(t, e, r);
  };
}
var Oz = 1;
function Iz(e) {
  return Rz(Rn(e, Oz));
}
function Mz(e, r) {
  return r == null || Y2(e, r, Ft(r));
}
function Bz(e, r, t, n) {
  for (var i = -1, o = e == null ? 0 : e.length; ++i < o; ) {
    var a = e[i];
    r(n, a, t(a), e);
  }
  return n;
}
function X2(e) {
  return function(r, t, n) {
    for (var i = -1, o = Object(r), a = n(r), l = a.length; l--; ) {
      var s = a[e ? l : ++i];
      if (t(o[s], s, o) === !1)
        break;
    }
    return r;
  };
}
var Dz = X2(), v0 = Dz;
function xi(e, r) {
  return e && v0(e, r, Ft);
}
function V2(e, r) {
  return function(t, n) {
    if (t == null)
      return t;
    if (!Kr(t))
      return e(t, n);
    for (var i = t.length, o = r ? i : -1, a = Object(t); (r ? o-- : ++o < i) && n(a[o], o, a) !== !1; )
      ;
    return t;
  };
}
var Pz = V2(xi), Mo = Pz;
function Fz(e, r, t, n) {
  return Mo(e, function(i, o, a) {
    r(n, i, t(i), a);
  }), n;
}
function Cc(e, r) {
  return function(t, n) {
    var i = ve(t) ? Bz : Fz, o = r ? r() : {};
    return i(t, e, Fe(n), o);
  };
}
var $z = Object.prototype, Nz = $z.hasOwnProperty, Hz = Cc(function(e, r, t) {
  Nz.call(e, t) ? ++e[t] : Vi(e, t, 1);
}), zz = Hz;
function Wz(e, r) {
  var t = vl(e);
  return r == null ? t : b2(t, r);
}
var Gz = 8;
function p0(e, r, t) {
  r = t ? void 0 : r;
  var n = Xi(e, Gz, void 0, void 0, void 0, void 0, void 0, r);
  return n.placeholder = p0.placeholder, n;
}
p0.placeholder = {};
var kz = 16;
function g0(e, r, t) {
  r = t ? void 0 : r;
  var n = Xi(e, kz, void 0, void 0, void 0, void 0, void 0, r);
  return n.placeholder = g0.placeholder, n;
}
g0.placeholder = {};
var Uz = function() {
  return er.Date.now();
}, _f = Uz, Yz = "Expected a function", Xz = Math.max, Vz = Math.min;
function Es(e, r, t) {
  var n, i, o, a, l, s, f = 0, h = !1, d = !1, v = !0;
  if (typeof e != "function")
    throw new TypeError(Yz);
  r = sn(r) || 0, ft(t) && (h = !!t.leading, d = "maxWait" in t, o = d ? Xz(sn(t.maxWait) || 0, r) : o, v = "trailing" in t ? !!t.trailing : v);
  function g(D) {
    var N = n, W = i;
    return n = i = void 0, f = D, a = e.apply(W, N), a;
  }
  function y(D) {
    return f = D, l = setTimeout(w, r), h ? g(D) : a;
  }
  function C(D) {
    var N = D - s, W = D - f, k = r - N;
    return d ? Vz(k, o - W) : k;
  }
  function m(D) {
    var N = D - s, W = D - f;
    return s === void 0 || N >= r || N < 0 || d && W >= o;
  }
  function w() {
    var D = _f();
    if (m(D))
      return S(D);
    l = setTimeout(w, C(D));
  }
  function S(D) {
    return l = void 0, v && n ? g(D) : (n = i = void 0, a);
  }
  function x() {
    l !== void 0 && clearTimeout(l), f = 0, n = s = i = l = void 0;
  }
  function b() {
    return l === void 0 ? a : S(_f());
  }
  function O() {
    var D = _f(), N = m(D);
    if (n = arguments, i = this, s = D, N) {
      if (l === void 0)
        return y(s);
      if (d)
        return clearTimeout(l), l = setTimeout(w, r), g(s);
    }
    return l === void 0 && (l = setTimeout(w, r)), a;
  }
  return O.cancel = x, O.flush = b, O;
}
function qz(e, r) {
  return e == null || e !== e ? r : e;
}
var q2 = Object.prototype, Kz = q2.hasOwnProperty, jz = Ye(function(e, r) {
  e = Object(e);
  var t = -1, n = r.length, i = n > 2 ? r[2] : void 0;
  for (i && Ir(r[0], r[1], i) && (n = 1); ++t < n; )
    for (var o = r[t], a = jr(o), l = -1, s = a.length; ++l < s; ) {
      var f = a[l], h = e[f];
      (h === void 0 || Zn(h, q2[f]) && !Kz.call(e, f)) && (e[f] = o[f]);
    }
  return e;
}), Zz = jz;
function Bv(e, r, t) {
  (t !== void 0 && !Zn(e[r], t) || t === void 0 && !(r in e)) && Vi(e, r, t);
}
function kt(e) {
  return Nt(e) && Kr(e);
}
function Dv(e, r) {
  if (!(r === "constructor" && typeof e[r] == "function") && r != "__proto__")
    return e[r];
}
function K2(e) {
  return mi(e, jr(e));
}
function Qz(e, r, t, n, i, o, a) {
  var l = Dv(e, t), s = Dv(r, t), f = a.get(s);
  if (f) {
    Bv(e, t, f);
    return;
  }
  var h = o ? o(l, s, t + "", e, r, a) : void 0, d = h === void 0;
  if (d) {
    var v = ve(s), g = !v && To(s), y = !v && !g && Cl(s);
    h = s, v || g || y ? ve(l) ? h = l : kt(l) ? h = Ur(l) : g ? (d = !1, h = L2(s, !0)) : y ? (d = !1, h = O2(s, !0)) : h = [] : ks(s) || sa(s) ? (h = l, sa(l) ? h = K2(l) : (!ft(l) || Jt(l)) && (h = I2(s))) : d = !1;
  }
  d && (a.set(s, h), i(h, s, n, o, a), a.delete(s)), Bv(e, t, h);
}
function _c(e, r, t, n, i) {
  e !== r && v0(r, function(o, a) {
    if (i || (i = new Yn()), ft(o))
      Qz(e, r, a, t, _c, n, i);
    else {
      var l = n ? n(Dv(e, a), o, a + "", e, r, i) : void 0;
      l === void 0 && (l = o), Bv(e, a, l);
    }
  }, jr);
}
function j2(e, r, t, n, i, o) {
  return ft(e) && ft(r) && (o.set(r, e), _c(e, r, void 0, j2, o), o.delete(r)), e;
}
var Jz = yl(function(e, r, t, n) {
  _c(e, r, t, n);
}), y0 = Jz, eW = Ye(function(e) {
  return e.push(void 0, j2), hn(y0, void 0, e);
}), tW = eW, rW = "Expected a function";
function Z2(e, r, t) {
  if (typeof e != "function")
    throw new TypeError(rW);
  return setTimeout(function() {
    e.apply(void 0, t);
  }, r);
}
var nW = Ye(function(e, r) {
  return Z2(e, 1, r);
}), iW = nW, oW = Ye(function(e, r, t) {
  return Z2(e, sn(r) || 0, t);
}), aW = oW;
function C0(e, r, t) {
  for (var n = -1, i = e == null ? 0 : e.length; ++n < i; )
    if (t(r, e[n]))
      return !0;
  return !1;
}
var lW = 200;
function Ys(e, r, t, n) {
  var i = -1, o = cc, a = !0, l = e.length, s = [], f = r.length;
  if (!l)
    return s;
  t && (r = It(r, dn(t))), n ? (o = C0, a = !1) : r.length >= lW && (o = bs, a = !1, r = new fa(r));
  e:
    for (; ++i < l; ) {
      var h = e[i], d = t == null ? h : t(h);
      if (h = n || h !== 0 ? h : 0, a && d === d) {
        for (var v = f; v--; )
          if (r[v] === d)
            continue e;
        s.push(h);
      } else
        o(r, d, n) || s.push(h);
    }
  return s;
}
var sW = Ye(function(e, r) {
  return kt(e) ? Ys(e, ur(r, 1, kt, !0)) : [];
}), Q2 = sW;
function gt(e) {
  var r = e == null ? 0 : e.length;
  return r ? e[r - 1] : void 0;
}
var uW = Ye(function(e, r) {
  var t = gt(r);
  return kt(t) && (t = void 0), kt(e) ? Ys(e, ur(r, 1, kt, !0), Fe(t)) : [];
}), fW = uW, cW = Ye(function(e, r) {
  var t = gt(r);
  return kt(t) && (t = void 0), kt(e) ? Ys(e, ur(r, 1, kt, !0), void 0, t) : [];
}), J2 = cW, hW = lc(function(e, r) {
  return e / r;
}, 1), dW = hW;
function vW(e, r, t) {
  var n = e == null ? 0 : e.length;
  return n ? (r = t || r === void 0 ? 1 : We(r), Dn(e, r < 0 ? 0 : r, n)) : [];
}
function pW(e, r, t) {
  var n = e == null ? 0 : e.length;
  return n ? (r = t || r === void 0 ? 1 : We(r), r = n - r, Dn(e, 0, r < 0 ? 0 : r)) : [];
}
function mc(e, r, t, n) {
  for (var i = e.length, o = n ? i : -1; (n ? o-- : ++o < i) && r(e[o], o, e); )
    ;
  return t ? Dn(e, n ? 0 : o, n ? o + 1 : i) : Dn(e, n ? o + 1 : 0, n ? i : o);
}
function gW(e, r) {
  return e && e.length ? mc(e, Fe(r), !0, !0) : [];
}
function yW(e, r) {
  return e && e.length ? mc(e, Fe(r), !0) : [];
}
function Si(e) {
  return typeof e == "function" ? e : mr;
}
function Oe(e, r) {
  var t = ve(e) ? Pn : Mo;
  return t(e, Si(r));
}
function CW(e, r) {
  for (var t = e == null ? 0 : e.length; t-- && r(e[t], t, e) !== !1; )
    ;
  return e;
}
var _W = X2(!0), eT = _W;
function _0(e, r) {
  return e && eT(e, r, Ft);
}
var mW = V2(_0, !0), tT = mW;
function wm(e, r) {
  var t = ve(e) ? CW : tT;
  return t(e, Si(r));
}
function rT(e, r, t) {
  e = ct(e), r = cn(r);
  var n = e.length;
  t = t === void 0 ? n : ma(We(t), 0, n);
  var i = t;
  return t -= r.length, t >= 0 && e.slice(t, i) == r;
}
function wW(e, r) {
  return It(r, function(t) {
    return [t, e[t]];
  });
}
function xW(e) {
  var r = -1, t = Array(e.size);
  return e.forEach(function(n) {
    t[++r] = [n, n];
  }), t;
}
var SW = "[object Map]", TW = "[object Set]";
function nT(e) {
  return function(r) {
    var t = vi(r);
    return t == SW ? f0(r) : t == TW ? xW(r) : wW(r, e(r));
  };
}
var bW = nT(Ft), xm = bW, EW = nT(jr), Sm = EW, LW = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
}, AW = n0(LW), RW = AW, iT = /[&<>"']/g, OW = RegExp(iT.source);
function m0(e) {
  return e = ct(e), e && OW.test(e) ? e.replace(iT, RW) : e;
}
var oT = /[\\^$.*+?()[\]{}|]/g, IW = RegExp(oT.source);
function MW(e) {
  return e = ct(e), e && IW.test(e) ? e.replace(oT, "\\$&") : e;
}
function aT(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length; ++t < n; )
    if (!r(e[t], t, e))
      return !1;
  return !0;
}
function BW(e, r) {
  var t = !0;
  return Mo(e, function(n, i, o) {
    return t = !!r(n, i, o), t;
  }), t;
}
function wc(e, r, t) {
  var n = ve(e) ? aT : BW;
  return t && Ir(e, r, t) && (r = void 0), n(e, Fe(r));
}
var DW = 4294967295;
function lT(e) {
  return e ? ma(We(e), 0, DW) : 0;
}
function PW(e, r, t, n) {
  var i = e.length;
  for (t = We(t), t < 0 && (t = -t > i ? 0 : i + t), n = n === void 0 || n > i ? i : We(n), n < 0 && (n += i), n = t > n ? 0 : lT(n); t < n; )
    e[t++] = r;
  return e;
}
function FW(e, r, t, n) {
  var i = e == null ? 0 : e.length;
  return i ? (t && typeof t != "number" && Ir(e, r, t) && (t = 0, n = i), PW(e, r, t, n)) : [];
}
function sT(e, r) {
  var t = [];
  return Mo(e, function(n, i, o) {
    r(n, i, o) && t.push(n);
  }), t;
}
function Zi(e, r) {
  var t = ve(e) ? Io : sT;
  return t(e, Fe(r));
}
function uT(e) {
  return function(r, t, n) {
    var i = Object(r);
    if (!Kr(r)) {
      var o = Fe(t);
      r = Ft(r), t = function(l) {
        return o(i[l], l, i);
      };
    }
    var a = e(r, t, n);
    return a > -1 ? i[o ? r[a] : a] : void 0;
  };
}
var $W = Math.max;
function il(e, r, t) {
  var n = e == null ? 0 : e.length;
  if (!n)
    return -1;
  var i = t == null ? 0 : We(t);
  return i < 0 && (i = $W(n + i, 0)), fc(e, Fe(r), i);
}
var NW = uT(il), Cr = NW;
function fT(e, r, t) {
  var n;
  return t(e, function(i, o, a) {
    if (r(i, o, a))
      return n = o, !1;
  }), n;
}
function HW(e, r) {
  return fT(e, Fe(r), xi);
}
var zW = Math.max, WW = Math.min;
function cT(e, r, t) {
  var n = e == null ? 0 : e.length;
  if (!n)
    return -1;
  var i = n - 1;
  return t !== void 0 && (i = We(t), i = t < 0 ? zW(n + i, 0) : WW(i, n - 1)), fc(e, Fe(r), i, !0);
}
var GW = uT(cT), xc = GW;
function kW(e, r) {
  return fT(e, Fe(r), _0);
}
function ol(e) {
  return e && e.length ? e[0] : void 0;
}
function hT(e, r) {
  var t = -1, n = Kr(e) ? Array(e.length) : [];
  return Mo(e, function(i, o, a) {
    n[++t] = r(i, o, a);
  }), n;
}
function Ke(e, r) {
  var t = ve(e) ? It : hT;
  return t(e, Fe(r));
}
function Xs(e, r) {
  return ur(Ke(e, r), 1);
}
var UW = 1 / 0;
function YW(e, r) {
  return ur(Ke(e, r), UW);
}
function XW(e, r, t) {
  return t = t === void 0 ? 1 : We(t), ur(Ke(e, r), t);
}
var VW = 1 / 0;
function dT(e) {
  var r = e == null ? 0 : e.length;
  return r ? ur(e, VW) : [];
}
function qW(e, r) {
  var t = e == null ? 0 : e.length;
  return t ? (r = r === void 0 ? 1 : We(r), ur(e, r)) : [];
}
var KW = 512;
function jW(e) {
  return Xi(e, KW);
}
var ZW = i0("floor"), QW = ZW, JW = "Expected a function", eG = 8, tG = 32, rG = 128, nG = 256;
function vT(e) {
  return ji(function(r) {
    var t = r.length, n = t, i = Mn.prototype.thru;
    for (e && r.reverse(); n--; ) {
      var o = r[n];
      if (typeof o != "function")
        throw new TypeError(JW);
      if (i && !a && Cf(o) == "wrapper")
        var a = new Mn([], !0);
    }
    for (n = a ? n : t; ++n < t; ) {
      o = r[n];
      var l = Cf(o), s = l == "wrapper" ? Up(o) : void 0;
      s && Ev(s[0]) && s[1] == (rG | eG | tG | nG) && !s[4].length && s[9] == 1 ? a = a[Cf(s[0])].apply(a, s[3]) : a = o.length == 1 && Ev(o) ? a[l]() : a.thru(o);
    }
    return function() {
      var f = arguments, h = f[0];
      if (a && f.length == 1 && ve(h))
        return a.plant(h).value();
      for (var d = 0, v = t ? r[d].apply(this, f) : h; ++d < t; )
        v = r[d].call(this, v);
      return v;
    };
  });
}
var iG = vT(), oG = iG, aG = vT(!0), lG = aG;
function pT(e, r) {
  return e == null ? e : v0(e, Si(r), jr);
}
function sG(e, r) {
  return e == null ? e : eT(e, Si(r), jr);
}
function uG(e, r) {
  return e && xi(e, Si(r));
}
function fG(e, r) {
  return e && _0(e, Si(r));
}
function cG(e) {
  for (var r = -1, t = e == null ? 0 : e.length, n = {}; ++r < t; ) {
    var i = e[r];
    n[i[0]] = i[1];
  }
  return n;
}
function Sc(e, r) {
  return Io(r, function(t) {
    return Jt(e[t]);
  });
}
function hG(e) {
  return e == null ? [] : Sc(e, Ft(e));
}
function dG(e) {
  return e == null ? [] : Sc(e, jr(e));
}
var vG = Object.prototype, pG = vG.hasOwnProperty, gG = Cc(function(e, r, t) {
  pG.call(e, t) ? e[t].push(r) : Vi(e, t, [r]);
}), yG = gG;
function w0(e, r) {
  return e > r;
}
function Tc(e) {
  return function(r, t) {
    return typeof r == "string" && typeof t == "string" || (r = sn(r), t = sn(t)), e(r, t);
  };
}
var CG = Tc(w0), _G = CG, mG = Tc(function(e, r) {
  return e >= r;
}), wG = mG, xG = Object.prototype, SG = xG.hasOwnProperty;
function TG(e, r) {
  return e != null && SG.call(e, r);
}
function Pv(e, r) {
  return e != null && W2(e, r, TG);
}
var bG = Math.max, EG = Math.min;
function LG(e, r, t) {
  return e >= EG(r, t) && e < bG(r, t);
}
function Fv(e, r, t) {
  return r = zi(r), t === void 0 ? (t = r, r = 0) : t = zi(t), e = sn(e), LG(e, r, t);
}
var AG = "[object String]";
function Sl(e) {
  return typeof e == "string" || !ve(e) && Nt(e) && Br(e) == AG;
}
function x0(e, r) {
  return It(r, function(t) {
    return e[t];
  });
}
function Qi(e) {
  return e == null ? [] : x0(e, Ft(e));
}
var RG = Math.max;
function Or(e, r, t, n) {
  e = Kr(e) ? e : Qi(e), t = t && !n ? We(t) : 0;
  var i = e.length;
  return t < 0 && (t = RG(i + t, 0)), Sl(e) ? t <= i && e.indexOf(r, t) > -1 : !!i && pl(e, r, t) > -1;
}
var OG = Math.max;
function Vs(e, r, t) {
  var n = e == null ? 0 : e.length;
  if (!n)
    return -1;
  var i = t == null ? 0 : We(t);
  return i < 0 && (i = OG(n + i, 0)), pl(e, r, i);
}
function IG(e) {
  var r = e == null ? 0 : e.length;
  return r ? Dn(e, 0, -1) : [];
}
var MG = Math.min;
function S0(e, r, t) {
  for (var n = t ? C0 : cc, i = e[0].length, o = e.length, a = o, l = Array(o), s = 1 / 0, f = []; a--; ) {
    var h = e[a];
    a && r && (h = It(h, dn(r))), s = MG(h.length, s), l[a] = !t && (r || i >= 120 && h.length >= 120) ? new fa(a && h) : void 0;
  }
  h = e[0];
  var d = -1, v = l[0];
  e:
    for (; ++d < i && f.length < s; ) {
      var g = h[d], y = r ? r(g) : g;
      if (g = t || g !== 0 ? g : 0, !(v ? bs(v, y) : n(f, y, t))) {
        for (a = o; --a; ) {
          var C = l[a];
          if (!(C ? bs(C, y) : n(e[a], y, t)))
            continue e;
        }
        v && v.push(y), f.push(g);
      }
    }
  return f;
}
function T0(e) {
  return kt(e) ? e : [];
}
var BG = Ye(function(e) {
  var r = It(e, T0);
  return r.length && r[0] === e[0] ? S0(r) : [];
}), gT = BG, DG = Ye(function(e) {
  var r = gt(e), t = It(e, T0);
  return r === gt(t) ? r = void 0 : t.pop(), t.length && t[0] === e[0] ? S0(t, Fe(r)) : [];
}), PG = DG, FG = Ye(function(e) {
  var r = gt(e), t = It(e, T0);
  return r = typeof r == "function" ? r : void 0, r && t.pop(), t.length && t[0] === e[0] ? S0(t, void 0, r) : [];
}), $G = FG;
function NG(e, r, t, n) {
  return xi(e, function(i, o, a) {
    r(n, t(i), o, a);
  }), n;
}
function yT(e, r) {
  return function(t, n) {
    return NG(t, e, r(n), {});
  };
}
var HG = Object.prototype, zG = HG.toString, WG = yT(function(e, r, t) {
  r != null && typeof r.toString != "function" && (r = zG.call(r)), e[r] = t;
}, Ka(mr)), GG = WG, CT = Object.prototype, kG = CT.hasOwnProperty, UG = CT.toString, YG = yT(function(e, r, t) {
  r != null && typeof r.toString != "function" && (r = UG.call(r)), kG.call(e, r) ? e[r].push(t) : e[r] = [t];
}, Fe), XG = YG;
function _T(e, r) {
  return r.length < 2 ? e : _a(e, Dn(r, 0, -1));
}
function qs(e, r, t) {
  r = Ao(r, e), e = _T(e, r);
  var n = e == null ? e : e[wi(gt(r))];
  return n == null ? void 0 : hn(n, e, t);
}
var VG = Ye(qs), qG = VG, KG = Ye(function(e, r, t) {
  var n = -1, i = typeof r == "function", o = Kr(e) ? Array(e.length) : [];
  return Mo(e, function(a) {
    o[++n] = i ? hn(r, a, t) : qs(a, r, t);
  }), o;
}), jG = KG, ZG = "[object ArrayBuffer]";
function QG(e) {
  return Nt(e) && Br(e) == ZG;
}
var Tm = Bn && Bn.isArrayBuffer, JG = Tm ? dn(Tm) : QG, ek = JG, tk = "[object Boolean]";
function ui(e) {
  return e === !0 || e === !1 || Nt(e) && Br(e) == tk;
}
var rk = "[object Date]";
function nk(e) {
  return Nt(e) && Br(e) == rk;
}
var bm = Bn && Bn.isDate, ik = bm ? dn(bm) : nk, ok = ik;
function ak(e) {
  return Nt(e) && e.nodeType === 1 && !ks(e);
}
var lk = "[object Map]", sk = "[object Set]", uk = Object.prototype, fk = uk.hasOwnProperty;
function ne(e) {
  if (e == null)
    return !0;
  if (Kr(e) && (ve(e) || typeof e == "string" || typeof e.splice == "function" || To(e) || Cl(e) || sa(e)))
    return !e.length;
  var r = vi(e);
  if (r == lk || r == sk)
    return !e.size;
  if (Gs(e))
    return !qp(e).length;
  for (var t in e)
    if (fk.call(e, t))
      return !1;
  return !0;
}
function sr(e, r) {
  return Us(e, r);
}
function ck(e, r, t) {
  t = typeof t == "function" ? t : void 0;
  var n = t ? t(e, r) : void 0;
  return n === void 0 ? Us(e, r, void 0, t) : !!n;
}
var hk = er.isFinite;
function dk(e) {
  return typeof e == "number" && hk(e);
}
function mT(e) {
  return typeof e == "number" && e == We(e);
}
function vk(e, r) {
  return e === r || c0(e, r, h0(r));
}
function pk(e, r, t) {
  return t = typeof t == "function" ? t : void 0, c0(e, r, h0(r), t);
}
var gk = "[object Number]";
function ln(e) {
  return typeof e == "number" || Nt(e) && Br(e) == gk;
}
function wT(e) {
  return ln(e) && e != +e;
}
var yk = yf ? Jt : Vp, Ck = yk, _k = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";
function mk(e) {
  if (Ck(e))
    throw new Error(_k);
  return MS(e);
}
function Yt(e) {
  return e == null;
}
function xT(e) {
  return e === null;
}
var wk = "[object RegExp]";
function xk(e) {
  return Nt(e) && Br(e) == wk;
}
var Em = Bn && Bn.isRegExp, Sk = Em ? dn(Em) : xk, b0 = Sk, Lm = 9007199254740991;
function Tk(e) {
  return mT(e) && e >= -Lm && e <= Lm;
}
function bc(e) {
  return e === void 0;
}
var bk = "[object WeakMap]";
function Ek(e) {
  return Nt(e) && vi(e) == bk;
}
var Lk = "[object WeakSet]";
function Ak(e) {
  return Nt(e) && Br(e) == Lk;
}
var Rk = 1;
function Ok(e) {
  return Fe(typeof e == "function" ? e : Rn(e, Rk));
}
var Ik = Array.prototype, Mk = Ik.join;
function Bk(e, r) {
  return e == null ? "" : Mk.call(e, r);
}
var Dk = ml(function(e, r, t) {
  return e + (t ? "-" : "") + r.toLowerCase();
}), Pk = Dk, Fk = Cc(function(e, r, t) {
  Vi(e, t, r);
}), $k = Fk;
function Nk(e, r, t) {
  for (var n = t + 1; n--; )
    if (e[n] === r)
      return n;
  return n;
}
var Hk = Math.max, zk = Math.min;
function Wk(e, r, t) {
  var n = e == null ? 0 : e.length;
  if (!n)
    return -1;
  var i = n;
  return t !== void 0 && (i = We(t), i = i < 0 ? Hk(n + i, 0) : zk(i, n - 1)), r === r ? Nk(e, r, i) : fc(e, HS, i, !0);
}
var Gk = ml(function(e, r, t) {
  return e + (t ? " " : "") + r.toLowerCase();
}), E0 = Gk, kk = l2("toLowerCase"), Uk = kk;
function L0(e, r) {
  return e < r;
}
var Yk = Tc(L0), Xk = Yk, Vk = Tc(function(e, r) {
  return e <= r;
}), qk = Vk;
function ST(e, r) {
  var t = {};
  return r = Fe(r), xi(e, function(n, i, o) {
    Vi(t, r(n, i, o), n);
  }), t;
}
function Kk(e, r) {
  var t = {};
  return r = Fe(r), xi(e, function(n, i, o) {
    Vi(t, i, r(n, i, o));
  }), t;
}
var jk = 1;
function $v(e) {
  return z2(Rn(e, jk));
}
var Zk = 1;
function Qk(e, r) {
  return G2(e, Rn(r, Zk));
}
function Ec(e, r, t) {
  for (var n = -1, i = e.length; ++n < i; ) {
    var o = e[n], a = r(o);
    if (a != null && (l === void 0 ? a === a && !fn(a) : t(a, l)))
      var l = a, s = o;
  }
  return s;
}
function Wi(e) {
  return e && e.length ? Ec(e, mr, w0) : void 0;
}
function A0(e, r) {
  return e && e.length ? Ec(e, Fe(r), w0) : void 0;
}
function R0(e, r) {
  for (var t, n = -1, i = e.length; ++n < i; ) {
    var o = r(e[n]);
    o !== void 0 && (t = t === void 0 ? o : t + o);
  }
  return t;
}
var Jk = NaN;
function TT(e, r) {
  var t = e == null ? 0 : e.length;
  return t ? R0(e, r) / t : Jk;
}
function eU(e) {
  return TT(e, mr);
}
function tU(e, r) {
  return TT(e, Fe(r));
}
var rU = yl(function(e, r, t) {
  _c(e, r, t);
}), Lc = rU, nU = Ye(function(e, r) {
  return function(t) {
    return qs(t, e, r);
  };
}), iU = nU, oU = Ye(function(e, r) {
  return function(t) {
    return qs(e, t, r);
  };
}), aU = oU;
function O0(e) {
  return e && e.length ? Ec(e, mr, L0) : void 0;
}
function lU(e, r) {
  return e && e.length ? Ec(e, Fe(r), L0) : void 0;
}
function bT(e, r, t) {
  var n = Ft(r), i = Sc(r, n), o = !(ft(t) && "chain" in t) || !!t.chain, a = Jt(e);
  return Pn(i, function(l) {
    var s = r[l];
    e[l] = s, a && (e.prototype[l] = function() {
      var f = this.__chain__;
      if (o || f) {
        var h = e(this.__wrapped__), d = h.__actions__ = Ur(this.__actions__);
        return d.push({ func: s, args: arguments, thisArg: e }), h.__chain__ = f, h;
      }
      return s.apply(e, Ro([this.value()], arguments));
    });
  }), e;
}
var sU = lc(function(e, r) {
  return e * r;
}, 1), uU = sU, fU = "Expected a function";
function Ks(e) {
  if (typeof e != "function")
    throw new TypeError(fU);
  return function() {
    var r = arguments;
    switch (r.length) {
      case 0:
        return !e.call(this);
      case 1:
        return !e.call(this, r[0]);
      case 2:
        return !e.call(this, r[0], r[1]);
      case 3:
        return !e.call(this, r[0], r[1], r[2]);
    }
    return !e.apply(this, r);
  };
}
function cU(e) {
  for (var r, t = []; !(r = e.next()).done; )
    t.push(r.value);
  return t;
}
var hU = "[object Map]", dU = "[object Set]", Dd = yr ? yr.iterator : void 0;
function ET(e) {
  if (!e)
    return [];
  if (Kr(e))
    return Sl(e) ? qn(e) : Ur(e);
  if (Dd && e[Dd])
    return cU(e[Dd]());
  var r = vi(e), t = r == hU ? f0 : r == dU ? yc : Qi;
  return t(e);
}
function vU() {
  this.__values__ === void 0 && (this.__values__ = ET(this.value()));
  var e = this.__index__ >= this.__values__.length, r = e ? void 0 : this.__values__[this.__index__++];
  return { done: e, value: r };
}
function LT(e, r) {
  var t = e.length;
  if (t)
    return r += r < 0 ? t : 0, Yi(r, t) ? e[r] : void 0;
}
function pU(e, r) {
  return e && e.length ? LT(e, We(r)) : void 0;
}
function gU(e) {
  return e = We(e), Ye(function(r) {
    return LT(r, e);
  });
}
function I0(e, r) {
  return r = Ao(r, e), e = _T(e, r), e == null || delete e[wi(gt(r))];
}
function yU(e) {
  return ks(e) ? void 0 : e;
}
var CU = 1, _U = 2, mU = 4, wU = ji(function(e, r) {
  var t = {};
  if (e == null)
    return t;
  var n = !1;
  r = It(r, function(o) {
    return o = Ao(o, e), n || (n = o.length > 1), o;
  }), mi(e, l0(e), t), n && (t = Rn(t, CU | _U | mU, yU));
  for (var i = r.length; i--; )
    I0(t, r[i]);
  return t;
}), M0 = wU;
function js(e, r, t, n) {
  if (!ft(e))
    return e;
  r = Ao(r, e);
  for (var i = -1, o = r.length, a = o - 1, l = e; l != null && ++i < o; ) {
    var s = wi(r[i]), f = t;
    if (s === "__proto__" || s === "constructor" || s === "prototype")
      return e;
    if (i != a) {
      var h = l[s];
      f = n ? n(h, s, l) : void 0, f === void 0 && (f = ft(h) ? h : Yi(r[i + 1]) ? [] : {});
    }
    Ws(l, s, f), l = l[s];
  }
  return e;
}
function AT(e, r, t) {
  for (var n = -1, i = r.length, o = {}; ++n < i; ) {
    var a = r[n], l = _a(e, a);
    t(l, a) && js(o, Ao(a, e), l);
  }
  return o;
}
function B0(e, r) {
  if (e == null)
    return {};
  var t = It(l0(e), function(n) {
    return [n];
  });
  return r = Fe(r), AT(e, t, function(n, i) {
    return r(n, i[0]);
  });
}
function xU(e, r) {
  return B0(e, Ks(Fe(r)));
}
function SU(e) {
  return JS(2, e);
}
function TU(e, r) {
  var t = e.length;
  for (e.sort(r); t--; )
    e[t] = e[t].value;
  return e;
}
function RT(e, r) {
  if (e !== r) {
    var t = e !== void 0, n = e === null, i = e === e, o = fn(e), a = r !== void 0, l = r === null, s = r === r, f = fn(r);
    if (!l && !f && !o && e > r || o && a && s && !l && !f || n && a && s || !t && s || !i)
      return 1;
    if (!n && !o && !f && e < r || f && t && i && !n && !o || l && t && i || !a && i || !s)
      return -1;
  }
  return 0;
}
function bU(e, r, t) {
  for (var n = -1, i = e.criteria, o = r.criteria, a = i.length, l = t.length; ++n < a; ) {
    var s = RT(i[n], o[n]);
    if (s) {
      if (n >= l)
        return s;
      var f = t[n];
      return s * (f == "desc" ? -1 : 1);
    }
  }
  return e.index - r.index;
}
function OT(e, r, t) {
  r.length ? r = It(r, function(o) {
    return ve(o) ? function(a) {
      return _a(a, o.length === 1 ? o[0] : o);
    } : o;
  }) : r = [mr];
  var n = -1;
  r = It(r, dn(Fe));
  var i = hT(e, function(o, a, l) {
    var s = It(r, function(f) {
      return f(o);
    });
    return { criteria: s, index: ++n, value: o };
  });
  return TU(i, function(o, a) {
    return bU(o, a, t);
  });
}
function D0(e, r, t, n) {
  return e == null ? [] : (ve(r) || (r = r == null ? [] : [r]), t = n ? void 0 : t, ve(t) || (t = t == null ? [] : [t]), OT(e, r, t));
}
function P0(e) {
  return ji(function(r) {
    return r = It(r, dn(Fe)), Ye(function(t) {
      var n = this;
      return e(r, function(i) {
        return hn(i, n, t);
      });
    });
  });
}
var EU = P0(It), LU = EU, AU = Ye, RU = AU, OU = Math.min, IU = RU(function(e, r) {
  r = r.length == 1 && ve(r[0]) ? It(r[0], dn(Fe)) : It(ur(r, 1), dn(Fe));
  var t = r.length;
  return Ye(function(n) {
    for (var i = -1, o = OU(n.length, t); ++i < o; )
      n[i] = r[i].call(this, n[i]);
    return hn(e, this, n);
  });
}), MU = IU, BU = P0(aT), DU = BU, PU = P0(u0), FU = PU, $U = 9007199254740991, NU = Math.floor;
function Nv(e, r) {
  var t = "";
  if (!e || r < 1 || r > $U)
    return t;
  do
    r % 2 && (t += e), r = NU(r / 2), r && (e += e);
  while (r);
  return t;
}
var HU = d0("length"), zU = HU, IT = "\\ud800-\\udfff", WU = "\\u0300-\\u036f", GU = "\\ufe20-\\ufe2f", kU = "\\u20d0-\\u20ff", UU = WU + GU + kU, YU = "\\ufe0e\\ufe0f", XU = "[" + IT + "]", Hv = "[" + UU + "]", zv = "\\ud83c[\\udffb-\\udfff]", VU = "(?:" + Hv + "|" + zv + ")", MT = "[^" + IT + "]", BT = "(?:\\ud83c[\\udde6-\\uddff]){2}", DT = "[\\ud800-\\udbff][\\udc00-\\udfff]", qU = "\\u200d", PT = VU + "?", FT = "[" + YU + "]?", KU = "(?:" + qU + "(?:" + [MT, BT, DT].join("|") + ")" + FT + PT + ")*", jU = FT + PT + KU, ZU = "(?:" + [MT + Hv + "?", Hv, BT, DT, XU].join("|") + ")", Am = RegExp(zv + "(?=" + zv + ")|" + ZU + jU, "g");
function QU(e) {
  for (var r = Am.lastIndex = 0; Am.test(e); )
    ++r;
  return r;
}
function Tl(e) {
  return _l(e) ? QU(e) : zU(e);
}
var JU = Math.ceil;
function Uf(e, r) {
  r = r === void 0 ? " " : cn(r);
  var t = r.length;
  if (t < 2)
    return t ? Nv(r, e) : r;
  var n = Nv(r, JU(e / Tl(r)));
  return _l(r) ? Oo(qn(n), 0, e).join("") : n.slice(0, e);
}
var eY = Math.ceil, tY = Math.floor;
function rY(e, r, t) {
  e = ct(e), r = We(r);
  var n = r ? Tl(e) : 0;
  if (!r || n >= r)
    return e;
  var i = (r - n) / 2;
  return Uf(tY(i), t) + e + Uf(eY(i), t);
}
function nY(e, r, t) {
  e = ct(e), r = We(r);
  var n = r ? Tl(e) : 0;
  return r && n < r ? e + Uf(r - n, t) : e;
}
function iY(e, r, t) {
  e = ct(e), r = We(r);
  var n = r ? Tl(e) : 0;
  return r && n < r ? Uf(r - n, t) + e : e;
}
var oY = /^\s+/, aY = er.parseInt;
function lY(e, r, t) {
  return t || r == null ? r = 0 : r && (r = +r), aY(ct(e).replace(oY, ""), r || 0);
}
var sY = 32, F0 = Ye(function(e, r) {
  var t = So(r, gl(F0));
  return Xi(e, sY, void 0, r, t);
});
F0.placeholder = {};
var $T = F0, uY = 64, $0 = Ye(function(e, r) {
  var t = So(r, gl($0));
  return Xi(e, uY, void 0, r, t);
});
$0.placeholder = {};
var fY = $0, cY = Cc(function(e, r, t) {
  e[t ? 0 : 1].push(r);
}, function() {
  return [[], []];
}), hY = cY;
function dY(e, r) {
  return AT(e, r, function(t, n) {
    return ca(e, n);
  });
}
var vY = ji(function(e, r) {
  return e == null ? {} : dY(e, r);
}), NT = vY;
function pY(e) {
  for (var r, t = this; t instanceof sc; ) {
    var n = FS(t);
    n.__index__ = 0, n.__values__ = void 0, r ? i.__wrapped__ = n : r = n;
    var i = n;
    t = t.__wrapped__;
  }
  return i.__wrapped__ = e, r;
}
function gY(e) {
  return function(r) {
    return e == null ? void 0 : _a(e, r);
  };
}
function yY(e, r, t, n) {
  for (var i = t - 1, o = e.length; ++i < o; )
    if (n(e[i], r))
      return i;
  return -1;
}
var CY = Array.prototype, Rm = CY.splice;
function N0(e, r, t, n) {
  var i = n ? yY : pl, o = -1, a = r.length, l = e;
  for (e === r && (r = Ur(r)), t && (l = It(e, dn(t))); ++o < a; )
    for (var s = 0, f = r[o], h = t ? t(f) : f; (s = i(l, h, s, n)) > -1; )
      l !== e && Rm.call(l, s, 1), Rm.call(e, s, 1);
  return e;
}
function HT(e, r) {
  return e && e.length && r && r.length ? N0(e, r) : e;
}
var _Y = Ye(HT), mY = _Y;
function wY(e, r, t) {
  return e && e.length && r && r.length ? N0(e, r, Fe(t)) : e;
}
function xY(e, r, t) {
  return e && e.length && r && r.length ? N0(e, r, void 0, t) : e;
}
var SY = Array.prototype, TY = SY.splice;
function zT(e, r) {
  for (var t = e ? r.length : 0, n = t - 1; t--; ) {
    var i = r[t];
    if (t == n || i !== o) {
      var o = i;
      Yi(i) ? TY.call(e, i, 1) : I0(e, i);
    }
  }
  return e;
}
var bY = ji(function(e, r) {
  var t = e == null ? 0 : e.length, n = jp(e, r);
  return zT(e, It(r, function(i) {
    return Yi(i, t) ? +i : i;
  }).sort(RT)), n;
}), EY = bY, LY = Math.floor, AY = Math.random;
function H0(e, r) {
  return e + LY(AY() * (r - e + 1));
}
var RY = parseFloat, OY = Math.min, IY = Math.random;
function MY(e, r, t) {
  if (t && typeof t != "boolean" && Ir(e, r, t) && (r = t = void 0), t === void 0 && (typeof r == "boolean" ? (t = r, r = void 0) : typeof e == "boolean" && (t = e, e = void 0)), e === void 0 && r === void 0 ? (e = 0, r = 1) : (e = zi(e), r === void 0 ? (r = e, e = 0) : r = zi(r)), e > r) {
    var n = e;
    e = r, r = n;
  }
  if (t || e % 1 || r % 1) {
    var i = IY();
    return OY(e + i * (r - e + RY("1e-" + ((i + "").length - 1))), r);
  }
  return H0(e, r);
}
var BY = Math.ceil, DY = Math.max;
function PY(e, r, t, n) {
  for (var i = -1, o = DY(BY((r - e) / (t || 1)), 0), a = Array(o); o--; )
    a[n ? o : ++i] = e, e += t;
  return a;
}
function WT(e) {
  return function(r, t, n) {
    return n && typeof n != "number" && Ir(r, t, n) && (t = n = void 0), r = zi(r), t === void 0 ? (t = r, r = 0) : t = zi(t), n = n === void 0 ? r < t ? 1 : -1 : zi(n), PY(r, t, n, e);
  };
}
var FY = WT(), Za = FY, $Y = WT(!0), NY = $Y, HY = 256, zY = ji(function(e, r) {
  return Xi(e, HY, void 0, void 0, void 0, r);
}), WY = zY;
function GT(e, r, t, n, i) {
  return i(e, function(o, a, l) {
    t = n ? (n = !1, o) : r(t, o, a, l);
  }), t;
}
function Ac(e, r, t) {
  var n = ve(e) ? r0 : GT, i = arguments.length < 3;
  return n(e, Fe(r), t, i, Mo);
}
function GY(e, r, t, n) {
  var i = e == null ? 0 : e.length;
  for (n && i && (t = e[--i]); i--; )
    t = r(t, e[i], i, e);
  return t;
}
function kY(e, r, t) {
  var n = ve(e) ? GY : GT, i = arguments.length < 3;
  return n(e, Fe(r), t, i, tT);
}
function UY(e, r) {
  var t = ve(e) ? Io : sT;
  return t(e, Ks(Fe(r)));
}
function YY(e, r) {
  var t = [];
  if (!(e && e.length))
    return t;
  var n = -1, i = [], o = e.length;
  for (r = Fe(r); ++n < o; ) {
    var a = e[n];
    r(a, n, e) && (t.push(a), i.push(n));
  }
  return zT(e, i), t;
}
function XY(e, r, t) {
  return (t ? Ir(e, r, t) : r === void 0) ? r = 1 : r = We(r), Nv(ct(e), r);
}
function VY() {
  var e = arguments, r = ct(e[0]);
  return e.length < 3 ? r : r.replace(e[1], e[2]);
}
var qY = "Expected a function";
function KY(e, r) {
  if (typeof e != "function")
    throw new TypeError(qY);
  return r = r === void 0 ? r : We(r), Ye(e, r);
}
function jY(e, r, t) {
  r = Ao(r, e);
  var n = -1, i = r.length;
  for (i || (i = 1, e = void 0); ++n < i; ) {
    var o = e == null ? void 0 : e[wi(r[n])];
    o === void 0 && (n = i, o = t), e = Jt(o) ? o.call(e) : o;
  }
  return e;
}
var ZY = Array.prototype, QY = ZY.reverse;
function Wv(e) {
  return e == null ? e : QY.call(e);
}
var JY = i0("round"), eX = JY;
function kT(e) {
  var r = e.length;
  return r ? e[H0(0, r - 1)] : void 0;
}
function tX(e) {
  return kT(Qi(e));
}
function rX(e) {
  var r = ve(e) ? kT : tX;
  return r(e);
}
function Rc(e, r) {
  var t = -1, n = e.length, i = n - 1;
  for (r = r === void 0 ? n : r; ++t < r; ) {
    var o = H0(t, i), a = e[o];
    e[o] = e[t], e[t] = a;
  }
  return e.length = r, e;
}
function nX(e, r) {
  return Rc(Ur(e), ma(r, 0, e.length));
}
function iX(e, r) {
  var t = Qi(e);
  return Rc(t, ma(r, 0, t.length));
}
function oX(e, r, t) {
  (t ? Ir(e, r, t) : r === void 0) ? r = 1 : r = We(r);
  var n = ve(e) ? nX : iX;
  return n(e, r);
}
function Ls(e, r, t) {
  return e == null ? e : js(e, r, t);
}
function aX(e, r, t, n) {
  return n = typeof n == "function" ? n : void 0, e == null ? e : js(e, r, t, n);
}
function lX(e) {
  return Rc(Ur(e));
}
function sX(e) {
  return Rc(Qi(e));
}
function uX(e) {
  var r = ve(e) ? lX : sX;
  return r(e);
}
var fX = "[object Map]", cX = "[object Set]";
function Qo(e) {
  if (e == null)
    return 0;
  if (Kr(e))
    return Sl(e) ? Tl(e) : e.length;
  var r = vi(e);
  return r == fX || r == cX ? e.size : qp(e).length;
}
function hX(e, r, t) {
  var n = e == null ? 0 : e.length;
  return n ? (t && typeof t != "number" && Ir(e, r, t) ? (r = 0, t = n) : (r = r == null ? 0 : We(r), t = t === void 0 ? n : We(t)), Dn(e, r, t)) : [];
}
var dX = ml(function(e, r, t) {
  return e + (t ? "_" : "") + r.toLowerCase();
}), vX = dX;
function pX(e, r) {
  var t;
  return Mo(e, function(n, i, o) {
    return t = r(n, i, o), !t;
  }), !!t;
}
function UT(e, r, t) {
  var n = ve(e) ? u0 : pX;
  return t && Ir(e, r, t) && (r = void 0), n(e, Fe(r));
}
var gX = Ye(function(e, r) {
  if (e == null)
    return [];
  var t = r.length;
  return t > 1 && Ir(e, r[0], r[1]) ? r = [] : t > 2 && Ir(r[0], r[1], r[2]) && (r = [r[0]]), OT(e, ur(r, 1), []);
}), z0 = gX, yX = 4294967295, CX = yX - 1, _X = Math.floor, mX = Math.min;
function W0(e, r, t, n) {
  var i = 0, o = e == null ? 0 : e.length;
  if (o === 0)
    return 0;
  r = t(r);
  for (var a = r !== r, l = r === null, s = fn(r), f = r === void 0; i < o; ) {
    var h = _X((i + o) / 2), d = t(e[h]), v = d !== void 0, g = d === null, y = d === d, C = fn(d);
    if (a)
      var m = n || y;
    else
      f ? m = y && (n || v) : l ? m = y && v && (n || !g) : s ? m = y && v && !g && (n || !C) : g || C ? m = !1 : m = n ? d <= r : d < r;
    m ? i = h + 1 : o = h;
  }
  return mX(o, CX);
}
var wX = 4294967295, xX = wX >>> 1;
function Oc(e, r, t) {
  var n = 0, i = e == null ? n : e.length;
  if (typeof r == "number" && r === r && i <= xX) {
    for (; n < i; ) {
      var o = n + i >>> 1, a = e[o];
      a !== null && !fn(a) && (t ? a <= r : a < r) ? n = o + 1 : i = o;
    }
    return i;
  }
  return W0(e, r, mr, t);
}
function SX(e, r) {
  return Oc(e, r);
}
function TX(e, r, t) {
  return W0(e, r, Fe(t));
}
function bX(e, r) {
  var t = e == null ? 0 : e.length;
  if (t) {
    var n = Oc(e, r);
    if (n < t && Zn(e[n], r))
      return n;
  }
  return -1;
}
function EX(e, r) {
  return Oc(e, r, !0);
}
function LX(e, r, t) {
  return W0(e, r, Fe(t), !0);
}
function AX(e, r) {
  var t = e == null ? 0 : e.length;
  if (t) {
    var n = Oc(e, r, !0) - 1;
    if (Zn(e[n], r))
      return n;
  }
  return -1;
}
function YT(e, r) {
  for (var t = -1, n = e.length, i = 0, o = []; ++t < n; ) {
    var a = e[t], l = r ? r(a) : a;
    if (!t || !Zn(l, s)) {
      var s = l;
      o[i++] = a === 0 ? 0 : a;
    }
  }
  return o;
}
function RX(e) {
  return e && e.length ? YT(e) : [];
}
function OX(e, r) {
  return e && e.length ? YT(e, Fe(r)) : [];
}
var IX = 4294967295;
function XT(e, r, t) {
  return t && typeof t != "number" && Ir(e, r, t) && (r = t = void 0), t = t === void 0 ? IX : t >>> 0, t ? (e = ct(e), e && (typeof r == "string" || r != null && !b0(r)) && (r = cn(r), !r && _l(e)) ? Oo(qn(e), 0, t) : e.split(r, t)) : [];
}
var MX = "Expected a function", BX = Math.max;
function DX(e, r) {
  if (typeof e != "function")
    throw new TypeError(MX);
  return r = r == null ? 0 : BX(We(r), 0), Ye(function(t) {
    var n = t[r], i = Oo(t, 0, r);
    return n && Ro(i, n), hn(e, this, i);
  });
}
var PX = ml(function(e, r, t) {
  return e + (t ? " " : "") + t0(r);
}), FX = PX;
function $X(e, r, t) {
  return e = ct(e), t = t == null ? 0 : ma(We(t), 0, e.length), r = cn(r), e.slice(t, t + r.length) == r;
}
function NX() {
  return {};
}
function HX() {
  return "";
}
function VT() {
  return !0;
}
var zX = lc(function(e, r) {
  return e - r;
}, 0), WX = zX;
function GX(e) {
  return e && e.length ? R0(e, mr) : 0;
}
function qT(e, r) {
  return e && e.length ? R0(e, Fe(r)) : 0;
}
function kX(e) {
  var r = e == null ? 0 : e.length;
  return r ? Dn(e, 1, r) : [];
}
function UX(e, r, t) {
  return e && e.length ? (r = t || r === void 0 ? 1 : We(r), Dn(e, 0, r < 0 ? 0 : r)) : [];
}
function YX(e, r, t) {
  var n = e == null ? 0 : e.length;
  return n ? (r = t || r === void 0 ? 1 : We(r), r = n - r, Dn(e, r < 0 ? 0 : r, n)) : [];
}
function XX(e, r) {
  return e && e.length ? mc(e, Fe(r), !1, !0) : [];
}
function VX(e, r) {
  return e && e.length ? mc(e, Fe(r)) : [];
}
function qX(e, r) {
  return r(e), e;
}
var KT = Object.prototype, KX = KT.hasOwnProperty;
function Om(e, r, t, n) {
  return e === void 0 || Zn(e, KT[t]) && !KX.call(n, t) ? r : e;
}
var jX = {
  "\\": "\\",
  "'": "'",
  "\n": "n",
  "\r": "r",
  "\u2028": "u2028",
  "\u2029": "u2029"
};
function ZX(e) {
  return "\\" + jX[e];
}
var QX = /<%=([\s\S]+?)%>/g, jT = QX, JX = /<%-([\s\S]+?)%>/g, eV = JX, tV = /<%([\s\S]+?)%>/g, rV = tV, nV = {
  /**
   * Used to detect `data` property values to be HTML-escaped.
   *
   * @memberOf _.templateSettings
   * @type {RegExp}
   */
  escape: eV,
  /**
   * Used to detect code to be evaluated.
   *
   * @memberOf _.templateSettings
   * @type {RegExp}
   */
  evaluate: rV,
  /**
   * Used to detect `data` property values to inject.
   *
   * @memberOf _.templateSettings
   * @type {RegExp}
   */
  interpolate: jT,
  /**
   * Used to reference the data object in the template text.
   *
   * @memberOf _.templateSettings
   * @type {string}
   */
  variable: "",
  /**
   * Used to import variables into the compiled template.
   *
   * @memberOf _.templateSettings
   * @type {Object}
   */
  imports: {
    /**
     * A reference to the `lodash` function.
     *
     * @memberOf _.templateSettings.imports
     * @type {Function}
     */
    _: { escape: m0 }
  }
}, Gv = nV, iV = "Invalid `variable` option passed into `_.template`", oV = /\b__p \+= '';/g, aV = /\b(__p \+=) '' \+/g, lV = /(__e\(.*?\)|\b__t\)) \+\n'';/g, sV = /[()=,{}\[\]\/\s]/, uV = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, lf = /($^)/, fV = /['\n\r\u2028\u2029\\]/g, cV = Object.prototype, Im = cV.hasOwnProperty;
function hV(e, r, t) {
  var n = Gv.imports._.templateSettings || Gv;
  t && Ir(e, r, t) && (r = void 0), e = ct(e), r = Wf({}, r, n, Om);
  var i = Wf({}, r.imports, n.imports, Om), o = Ft(i), a = x0(i, o), l, s, f = 0, h = r.interpolate || lf, d = "__p += '", v = RegExp(
    (r.escape || lf).source + "|" + h.source + "|" + (h === jT ? uV : lf).source + "|" + (r.evaluate || lf).source + "|$",
    "g"
  ), g = Im.call(r, "sourceURL") ? "//# sourceURL=" + (r.sourceURL + "").replace(/\s/g, " ") + `
` : "";
  e.replace(v, function(m, w, S, x, b, O) {
    return S || (S = x), d += e.slice(f, O).replace(fV, ZX), w && (l = !0, d += `' +
__e(` + w + `) +
'`), b && (s = !0, d += `';
` + b + `;
__p += '`), S && (d += `' +
((__t = (` + S + `)) == null ? '' : __t) +
'`), f = O + m.length, m;
  }), d += `';
`;
  var y = Im.call(r, "variable") && r.variable;
  if (!y)
    d = `with (obj) {
` + d + `
}
`;
  else if (sV.test(y))
    throw new Error(iV);
  d = (s ? d.replace(oV, "") : d).replace(aV, "$1").replace(lV, "$1;"), d = "function(" + (y || "obj") + `) {
` + (y ? "" : `obj || (obj = {});
`) + "var __t, __p = ''" + (l ? ", __e = _.escape" : "") + (s ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
` : `;
`) + d + `return __p
}`;
  var C = QS(function() {
    return Function(o, g + "return " + d).apply(void 0, a);
  });
  if (C.source = d, Qp(C))
    throw C;
  return C;
}
var dV = "Expected a function";
function G0(e, r, t) {
  var n = !0, i = !0;
  if (typeof e != "function")
    throw new TypeError(dV);
  return ft(t) && (n = "leading" in t ? !!t.leading : n, i = "trailing" in t ? !!t.trailing : i), Es(e, r, {
    leading: n,
    maxWait: r,
    trailing: i
  });
}
function Zs(e, r) {
  return r(e);
}
var vV = 9007199254740991, Pd = 4294967295, pV = Math.min;
function gV(e, r) {
  if (e = We(e), e < 1 || e > vV)
    return [];
  var t = Pd, n = pV(e, Pd);
  r = Si(r), e -= Pd;
  for (var i = Xp(n, r); ++t < e; )
    r(t);
  return i;
}
function yV() {
  return this;
}
function ZT(e, r) {
  var t = e;
  return t instanceof Ze && (t = t.value()), r0(r, function(n, i) {
    return i.func.apply(i.thisArg, Ro([n], i.args));
  }, t);
}
function Fd() {
  return ZT(this.__wrapped__, this.__actions__);
}
function CV(e) {
  return ct(e).toLowerCase();
}
function _V(e) {
  return ve(e) ? It(e, wi) : fn(e) ? [e] : Ur(jS(ct(e)));
}
var Mm = 9007199254740991;
function mV(e) {
  return e ? ma(We(e), -Mm, Mm) : e === 0 ? e : 0;
}
function As(e) {
  return ct(e).toUpperCase();
}
function wV(e, r, t) {
  var n = ve(e), i = n || To(e) || Cl(e);
  if (r = Fe(r), t == null) {
    var o = e && e.constructor;
    i ? t = n ? new o() : [] : ft(e) ? t = Jt(o) ? vl(gc(e)) : {} : t = {};
  }
  return (i ? Pn : xi)(e, function(a, l, s) {
    return r(t, a, l, s);
  }), t;
}
function QT(e, r) {
  for (var t = e.length; t-- && pl(r, e[t], 0) > -1; )
    ;
  return t;
}
function JT(e, r) {
  for (var t = -1, n = e.length; ++t < n && pl(r, e[t], 0) > -1; )
    ;
  return t;
}
function eb(e, r, t) {
  if (e = ct(e), e && (t || r === void 0))
    return IS(e);
  if (!e || !(r = cn(r)))
    return e;
  var n = qn(e), i = qn(r), o = JT(n, i), a = QT(n, i) + 1;
  return Oo(n, o, a).join("");
}
function xV(e, r, t) {
  if (e = ct(e), e && (t || r === void 0))
    return e.slice(0, OS(e) + 1);
  if (!e || !(r = cn(r)))
    return e;
  var n = qn(e), i = QT(n, qn(r)) + 1;
  return Oo(n, 0, i).join("");
}
var SV = /^\s+/;
function TV(e, r, t) {
  if (e = ct(e), e && (t || r === void 0))
    return e.replace(SV, "");
  if (!e || !(r = cn(r)))
    return e;
  var n = qn(e), i = JT(n, qn(r));
  return Oo(n, i).join("");
}
var bV = 30, EV = "...", LV = /\w*$/;
function AV(e, r) {
  var t = bV, n = EV;
  if (ft(r)) {
    var i = "separator" in r ? r.separator : i;
    t = "length" in r ? We(r.length) : t, n = "omission" in r ? cn(r.omission) : n;
  }
  e = ct(e);
  var o = e.length;
  if (_l(e)) {
    var a = qn(e);
    o = a.length;
  }
  if (t >= o)
    return e;
  var l = t - Tl(n);
  if (l < 1)
    return n;
  var s = a ? Oo(a, 0, l).join("") : e.slice(0, l);
  if (i === void 0)
    return s + n;
  if (a && (l += s.length - l), b0(i)) {
    if (e.slice(l).search(i)) {
      var f, h = s;
      for (i.global || (i = RegExp(i.source, ct(LV.exec(i)) + "g")), i.lastIndex = 0; f = i.exec(h); )
        var d = f.index;
      s = s.slice(0, d === void 0 ? l : d);
    }
  } else if (e.indexOf(cn(i), l) != l) {
    var v = s.lastIndexOf(i);
    v > -1 && (s = s.slice(0, v));
  }
  return s + n;
}
function RV(e) {
  return GS(e, 1);
}
var OV = {
  "&amp;": "&",
  "&lt;": "<",
  "&gt;": ">",
  "&quot;": '"',
  "&#39;": "'"
}, IV = n0(OV), MV = IV, tb = /&(?:amp|lt|gt|quot|#39);/g, BV = RegExp(tb.source);
function DV(e) {
  return e = ct(e), e && BV.test(e) ? e.replace(tb, MV) : e;
}
var PV = 1 / 0, FV = ja && 1 / yc(new ja([, -0]))[1] == PV ? function(e) {
  return new ja(e);
} : uc, $V = FV, NV = 200;
function bo(e, r, t) {
  var n = -1, i = cc, o = e.length, a = !0, l = [], s = l;
  if (t)
    a = !1, i = C0;
  else if (o >= NV) {
    var f = r ? null : $V(e);
    if (f)
      return yc(f);
    a = !1, i = bs, s = new fa();
  } else
    s = r ? [] : l;
  e:
    for (; ++n < o; ) {
      var h = e[n], d = r ? r(h) : h;
      if (h = t || h !== 0 ? h : 0, a && d === d) {
        for (var v = s.length; v--; )
          if (s[v] === d)
            continue e;
        r && s.push(d), l.push(h);
      } else
        i(s, d, t) || (s !== l && s.push(d), l.push(h));
    }
  return l;
}
var HV = Ye(function(e) {
  return bo(ur(e, 1, kt, !0));
}), zV = HV, WV = Ye(function(e) {
  var r = gt(e);
  return kt(r) && (r = void 0), bo(ur(e, 1, kt, !0), Fe(r));
}), GV = WV, kV = Ye(function(e) {
  var r = gt(e);
  return r = typeof r == "function" ? r : void 0, bo(ur(e, 1, kt, !0), void 0, r);
}), UV = kV;
function Fi(e) {
  return e && e.length ? bo(e) : [];
}
function YV(e, r) {
  return e && e.length ? bo(e, Fe(r)) : [];
}
function XV(e, r) {
  return r = typeof r == "function" ? r : void 0, e && e.length ? bo(e, void 0, r) : [];
}
var VV = 0;
function qV(e) {
  var r = ++VV;
  return ct(e) + r;
}
function kv(e, r) {
  return e == null ? !0 : I0(e, r);
}
var KV = Math.max;
function k0(e) {
  if (!(e && e.length))
    return [];
  var r = 0;
  return e = Io(e, function(t) {
    if (kt(t))
      return r = KV(t.length, r), !0;
  }), Xp(r, function(t) {
    return It(e, d0(t));
  });
}
function rb(e, r) {
  if (!(e && e.length))
    return [];
  var t = k0(e);
  return r == null ? t : It(t, function(n) {
    return hn(r, void 0, n);
  });
}
function nb(e, r, t, n) {
  return js(e, r, t(_a(e, r)), n);
}
function jV(e, r, t) {
  return e == null ? e : nb(e, r, Si(t));
}
function ZV(e, r, t, n) {
  return n = typeof n == "function" ? n : void 0, e == null ? e : nb(e, r, Si(t), n);
}
var QV = ml(function(e, r, t) {
  return e + (t ? " " : "") + r.toUpperCase();
}), JV = QV;
function eq(e) {
  return e == null ? [] : x0(e, jr(e));
}
var tq = Ye(function(e, r) {
  return kt(e) ? Ys(e, r) : [];
}), rq = tq;
function nq(e, r) {
  return $T(Si(r), e);
}
var iq = ji(function(e) {
  var r = e.length, t = r ? e[0] : 0, n = this.__wrapped__, i = function(o) {
    return jp(o, e);
  };
  return r > 1 || this.__actions__.length || !(n instanceof Ze) || !Yi(t) ? this.thru(i) : (n = n.slice(t, +t + (r ? 1 : 0)), n.__actions__.push({
    func: Zs,
    args: [i],
    thisArg: void 0
  }), new Mn(n, this.__chain__).thru(function(o) {
    return r && !o.length && o.push(void 0), o;
  }));
}), oq = iq;
function aq() {
  return T2(this);
}
function lq() {
  var e = this.__wrapped__;
  if (e instanceof Ze) {
    var r = e;
    return this.__actions__.length && (r = new Ze(this)), r = r.reverse(), r.__actions__.push({
      func: Zs,
      args: [Wv],
      thisArg: void 0
    }), new Mn(r, this.__chain__);
  }
  return this.thru(Wv);
}
function U0(e, r, t) {
  var n = e.length;
  if (n < 2)
    return n ? bo(e[0]) : [];
  for (var i = -1, o = Array(n); ++i < n; )
    for (var a = e[i], l = -1; ++l < n; )
      l != i && (o[i] = Ys(o[i] || a, e[l], r, t));
  return bo(ur(o, 1), r, t);
}
var sq = Ye(function(e) {
  return U0(Io(e, kt));
}), uq = sq, fq = Ye(function(e) {
  var r = gt(e);
  return kt(r) && (r = void 0), U0(Io(e, kt), Fe(r));
}), cq = fq, hq = Ye(function(e) {
  var r = gt(e);
  return r = typeof r == "function" ? r : void 0, U0(Io(e, kt), void 0, r);
}), dq = hq, vq = Ye(k0), Ic = vq;
function ib(e, r, t) {
  for (var n = -1, i = e.length, o = r.length, a = {}; ++n < i; ) {
    var l = n < o ? r[n] : void 0;
    t(a, e[n], l);
  }
  return a;
}
function pq(e, r) {
  return ib(e || [], r || [], Ws);
}
function gq(e, r) {
  return ib(e || [], r || [], js);
}
var yq = Ye(function(e) {
  var r = e.length, t = r > 1 ? e[r - 1] : void 0;
  return t = typeof t == "function" ? (e.pop(), t) : void 0, rb(e, t);
}), Cq = yq, ce = {
  chunk: fN,
  compact: xl,
  concat: Ga,
  difference: Q2,
  differenceBy: fW,
  differenceWith: J2,
  drop: vW,
  dropRight: pW,
  dropRightWhile: gW,
  dropWhile: yW,
  fill: FW,
  findIndex: il,
  findLastIndex: cT,
  first: ol,
  flatten: Zp,
  flattenDeep: dT,
  flattenDepth: qW,
  fromPairs: cG,
  head: ol,
  indexOf: Vs,
  initial: IG,
  intersection: gT,
  intersectionBy: PG,
  intersectionWith: $G,
  join: Bk,
  last: gt,
  lastIndexOf: Wk,
  nth: pU,
  pull: mY,
  pullAll: HT,
  pullAllBy: wY,
  pullAllWith: xY,
  pullAt: EY,
  remove: YY,
  reverse: Wv,
  slice: hX,
  sortedIndex: SX,
  sortedIndexBy: TX,
  sortedIndexOf: bX,
  sortedLastIndex: EX,
  sortedLastIndexBy: LX,
  sortedLastIndexOf: AX,
  sortedUniq: RX,
  sortedUniqBy: OX,
  tail: kX,
  take: UX,
  takeRight: YX,
  takeRightWhile: XX,
  takeWhile: VX,
  union: zV,
  unionBy: GV,
  unionWith: UV,
  uniq: Fi,
  uniqBy: YV,
  uniqWith: XV,
  unzip: k0,
  unzipWith: rb,
  without: rq,
  xor: uq,
  xorBy: cq,
  xorWith: dq,
  zip: Ic,
  zipObject: pq,
  zipObjectDeep: gq,
  zipWith: Cq
}, yt = {
  countBy: zz,
  each: Oe,
  eachRight: wm,
  every: wc,
  filter: Zi,
  find: Cr,
  findLast: xc,
  flatMap: Xs,
  flatMapDeep: YW,
  flatMapDepth: XW,
  forEach: Oe,
  forEachRight: wm,
  groupBy: yG,
  includes: Or,
  invokeMap: jG,
  keyBy: $k,
  map: Ke,
  orderBy: D0,
  partition: hY,
  reduce: Ac,
  reduceRight: kY,
  reject: UY,
  sample: rX,
  sampleSize: oX,
  shuffle: uX,
  size: Qo,
  some: UT,
  sortBy: z0
}, _q = {
  now: _f
}, Ht = {
  after: p9,
  ary: GS,
  before: JS,
  bind: e2,
  bindKey: X$,
  curry: p0,
  curryRight: g0,
  debounce: Es,
  defer: iW,
  delay: aW,
  flip: jW,
  memoize: Ca,
  negate: Ks,
  once: SU,
  overArgs: MU,
  partial: $T,
  partialRight: fY,
  rearg: WY,
  rest: KY,
  spread: DX,
  throttle: G0,
  unary: RV,
  wrap: nq
}, me = {
  castArray: nN,
  clone: wl,
  cloneDeep: Mv,
  cloneDeepWith: XH,
  cloneWith: qH,
  conformsTo: Mz,
  eq: Zn,
  gt: _G,
  gte: wG,
  isArguments: sa,
  isArray: ve,
  isArrayBuffer: ek,
  isArrayLike: Kr,
  isArrayLikeObject: kt,
  isBoolean: ui,
  isBuffer: To,
  isDate: ok,
  isElement: ak,
  isEmpty: ne,
  isEqual: sr,
  isEqualWith: ck,
  isError: Qp,
  isFinite: dk,
  isFunction: Jt,
  isInteger: mT,
  isLength: dc,
  isMap: M2,
  isMatch: vk,
  isMatchWith: pk,
  isNaN: wT,
  isNative: mk,
  isNil: Yt,
  isNull: xT,
  isNumber: ln,
  isObject: ft,
  isObjectLike: Nt,
  isPlainObject: ks,
  isRegExp: b0,
  isSafeInteger: Tk,
  isSet: B2,
  isString: Sl,
  isSymbol: fn,
  isTypedArray: Cl,
  isUndefined: bc,
  isWeakMap: Ek,
  isWeakSet: Ak,
  lt: Xk,
  lte: qk,
  toArray: ET,
  toFinite: zi,
  toInteger: We,
  toLength: lT,
  toNumber: sn,
  toPlainObject: K2,
  toSafeInteger: mV,
  toString: ct
}, Dr = {
  add: a9,
  ceil: lN,
  divide: dW,
  floor: QW,
  max: Wi,
  maxBy: A0,
  mean: eU,
  meanBy: tU,
  min: O0,
  minBy: lU,
  multiply: uU,
  round: eX,
  subtract: WX,
  sum: GX,
  sumBy: qT
}, Y0 = {
  clamp: Gf,
  inRange: Fv,
  random: MY
}, De = {
  assign: KS,
  assignIn: Q_,
  assignInWith: Wf,
  assignWith: UF,
  at: A$,
  create: Wz,
  defaults: Zz,
  defaultsDeep: tW,
  entries: xm,
  entriesIn: Sm,
  extend: Q_,
  extendWith: Wf,
  findKey: HW,
  findLastKey: kW,
  forIn: pT,
  forInRight: sG,
  forOwn: uG,
  forOwnRight: fG,
  functions: hG,
  functionsIn: dG,
  get: _e,
  has: Pv,
  hasIn: ca,
  invert: GG,
  invertBy: XG,
  invoke: qG,
  keys: Ft,
  keysIn: jr,
  mapKeys: ST,
  mapValues: Kk,
  merge: Lc,
  mergeWith: y0,
  omit: M0,
  omitBy: xU,
  pick: NT,
  pickBy: B0,
  result: jY,
  set: Ls,
  setWith: aX,
  toPairs: xm,
  toPairsIn: Sm,
  transform: wV,
  unset: kv,
  update: jV,
  updateWith: ZV,
  values: Qi,
  valuesIn: eq
}, Ti = {
  at: oq,
  chain: T2,
  commit: KH,
  lodash: L,
  next: vU,
  plant: pY,
  reverse: lq,
  tap: qX,
  thru: Zs,
  toIterator: yV,
  toJSON: Fd,
  value: Fd,
  valueOf: Fd,
  wrapperChain: aq
}, ht = {
  camelCase: rN,
  capitalize: s2,
  deburr: u2,
  endsWith: rT,
  escape: m0,
  escapeRegExp: MW,
  kebabCase: Pk,
  lowerCase: E0,
  lowerFirst: Uk,
  pad: rY,
  padEnd: nY,
  padStart: iY,
  parseInt: lY,
  repeat: XY,
  replace: VY,
  snakeCase: vX,
  split: XT,
  startCase: FX,
  startsWith: $X,
  template: hV,
  templateSettings: Gv,
  toLower: CV,
  toUpper: As,
  trim: eb,
  trimEnd: xV,
  trimStart: TV,
  truncate: AV,
  unescape: DV,
  upperCase: JV,
  upperFirst: t0,
  words: S2
}, vt = {
  attempt: QS,
  bindAll: G$,
  cond: U2,
  conforms: Iz,
  constant: Ka,
  defaultTo: qz,
  flow: oG,
  flowRight: lG,
  identity: mr,
  iteratee: Ok,
  matches: $v,
  matchesProperty: Qk,
  method: iU,
  methodOf: aU,
  mixin: bT,
  noop: uc,
  nthArg: gU,
  over: LU,
  overEvery: DU,
  overSome: FU,
  property: k2,
  propertyOf: gY,
  range: Za,
  rangeRight: NY,
  stubArray: o0,
  stubFalse: Vp,
  stubObject: NX,
  stubString: HX,
  stubTrue: VT,
  times: gV,
  toPath: _V,
  uniqueId: qV
};
function mq() {
  var e = new Ze(this.__wrapped__);
  return e.__actions__ = Ur(this.__actions__), e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = Ur(this.__iteratees__), e.__takeCount__ = this.__takeCount__, e.__views__ = Ur(this.__views__), e;
}
function wq() {
  if (this.__filtered__) {
    var e = new Ze(this);
    e.__dir__ = -1, e.__filtered__ = !0;
  } else
    e = this.clone(), e.__dir__ *= -1;
  return e;
}
var xq = Math.max, Sq = Math.min;
function Tq(e, r, t) {
  for (var n = -1, i = t.length; ++n < i; ) {
    var o = t[n], a = o.size;
    switch (o.type) {
      case "drop":
        e += a;
        break;
      case "dropRight":
        r -= a;
        break;
      case "take":
        r = Sq(r, e + a);
        break;
      case "takeRight":
        e = xq(e, r - a);
        break;
    }
  }
  return { start: e, end: r };
}
var bq = 1, Eq = 2, Lq = Math.min;
function Aq() {
  var e = this.__wrapped__.value(), r = this.__dir__, t = ve(e), n = r < 0, i = t ? e.length : 0, o = Tq(0, i, this.__views__), a = o.start, l = o.end, s = l - a, f = n ? l : a - 1, h = this.__iteratees__, d = h.length, v = 0, g = Lq(s, this.__takeCount__);
  if (!t || !n && i == s && g == s)
    return ZT(e, this.__actions__);
  var y = [];
  e:
    for (; s-- && v < g; ) {
      f += r;
      for (var C = -1, m = e[f]; ++C < d; ) {
        var w = h[C], S = w.iteratee, x = w.type, b = S(m);
        if (x == Eq)
          m = b;
        else if (!b) {
          if (x == bq)
            continue e;
          break e;
        }
      }
      y[v++] = m;
    }
  return y;
}
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var Rq = "4.17.21", Oq = 2, Iq = 1, Mq = 3, ob = 4294967295, Bq = Array.prototype, Dq = Object.prototype, ab = Dq.hasOwnProperty, Bm = yr ? yr.iterator : void 0, Pq = Math.max, Dm = Math.min, X0 = /* @__PURE__ */ function(e) {
  return function(r, t, n) {
    if (n == null) {
      var i = ft(t), o = i && Ft(t), a = o && o.length && Sc(t, o);
      (a ? a.length : i) || (n = t, t = r, r = this);
    }
    return e(r, t, n);
  };
}(bT);
L.after = Ht.after;
L.ary = Ht.ary;
L.assign = De.assign;
L.assignIn = De.assignIn;
L.assignInWith = De.assignInWith;
L.assignWith = De.assignWith;
L.at = De.at;
L.before = Ht.before;
L.bind = Ht.bind;
L.bindAll = vt.bindAll;
L.bindKey = Ht.bindKey;
L.castArray = me.castArray;
L.chain = Ti.chain;
L.chunk = ce.chunk;
L.compact = ce.compact;
L.concat = ce.concat;
L.cond = vt.cond;
L.conforms = vt.conforms;
L.constant = vt.constant;
L.countBy = yt.countBy;
L.create = De.create;
L.curry = Ht.curry;
L.curryRight = Ht.curryRight;
L.debounce = Ht.debounce;
L.defaults = De.defaults;
L.defaultsDeep = De.defaultsDeep;
L.defer = Ht.defer;
L.delay = Ht.delay;
L.difference = ce.difference;
L.differenceBy = ce.differenceBy;
L.differenceWith = ce.differenceWith;
L.drop = ce.drop;
L.dropRight = ce.dropRight;
L.dropRightWhile = ce.dropRightWhile;
L.dropWhile = ce.dropWhile;
L.fill = ce.fill;
L.filter = yt.filter;
L.flatMap = yt.flatMap;
L.flatMapDeep = yt.flatMapDeep;
L.flatMapDepth = yt.flatMapDepth;
L.flatten = ce.flatten;
L.flattenDeep = ce.flattenDeep;
L.flattenDepth = ce.flattenDepth;
L.flip = Ht.flip;
L.flow = vt.flow;
L.flowRight = vt.flowRight;
L.fromPairs = ce.fromPairs;
L.functions = De.functions;
L.functionsIn = De.functionsIn;
L.groupBy = yt.groupBy;
L.initial = ce.initial;
L.intersection = ce.intersection;
L.intersectionBy = ce.intersectionBy;
L.intersectionWith = ce.intersectionWith;
L.invert = De.invert;
L.invertBy = De.invertBy;
L.invokeMap = yt.invokeMap;
L.iteratee = vt.iteratee;
L.keyBy = yt.keyBy;
L.keys = Ft;
L.keysIn = De.keysIn;
L.map = yt.map;
L.mapKeys = De.mapKeys;
L.mapValues = De.mapValues;
L.matches = vt.matches;
L.matchesProperty = vt.matchesProperty;
L.memoize = Ht.memoize;
L.merge = De.merge;
L.mergeWith = De.mergeWith;
L.method = vt.method;
L.methodOf = vt.methodOf;
L.mixin = X0;
L.negate = Ks;
L.nthArg = vt.nthArg;
L.omit = De.omit;
L.omitBy = De.omitBy;
L.once = Ht.once;
L.orderBy = yt.orderBy;
L.over = vt.over;
L.overArgs = Ht.overArgs;
L.overEvery = vt.overEvery;
L.overSome = vt.overSome;
L.partial = Ht.partial;
L.partialRight = Ht.partialRight;
L.partition = yt.partition;
L.pick = De.pick;
L.pickBy = De.pickBy;
L.property = vt.property;
L.propertyOf = vt.propertyOf;
L.pull = ce.pull;
L.pullAll = ce.pullAll;
L.pullAllBy = ce.pullAllBy;
L.pullAllWith = ce.pullAllWith;
L.pullAt = ce.pullAt;
L.range = vt.range;
L.rangeRight = vt.rangeRight;
L.rearg = Ht.rearg;
L.reject = yt.reject;
L.remove = ce.remove;
L.rest = Ht.rest;
L.reverse = ce.reverse;
L.sampleSize = yt.sampleSize;
L.set = De.set;
L.setWith = De.setWith;
L.shuffle = yt.shuffle;
L.slice = ce.slice;
L.sortBy = yt.sortBy;
L.sortedUniq = ce.sortedUniq;
L.sortedUniqBy = ce.sortedUniqBy;
L.split = ht.split;
L.spread = Ht.spread;
L.tail = ce.tail;
L.take = ce.take;
L.takeRight = ce.takeRight;
L.takeRightWhile = ce.takeRightWhile;
L.takeWhile = ce.takeWhile;
L.tap = Ti.tap;
L.throttle = Ht.throttle;
L.thru = Zs;
L.toArray = me.toArray;
L.toPairs = De.toPairs;
L.toPairsIn = De.toPairsIn;
L.toPath = vt.toPath;
L.toPlainObject = me.toPlainObject;
L.transform = De.transform;
L.unary = Ht.unary;
L.union = ce.union;
L.unionBy = ce.unionBy;
L.unionWith = ce.unionWith;
L.uniq = ce.uniq;
L.uniqBy = ce.uniqBy;
L.uniqWith = ce.uniqWith;
L.unset = De.unset;
L.unzip = ce.unzip;
L.unzipWith = ce.unzipWith;
L.update = De.update;
L.updateWith = De.updateWith;
L.values = De.values;
L.valuesIn = De.valuesIn;
L.without = ce.without;
L.words = ht.words;
L.wrap = Ht.wrap;
L.xor = ce.xor;
L.xorBy = ce.xorBy;
L.xorWith = ce.xorWith;
L.zip = ce.zip;
L.zipObject = ce.zipObject;
L.zipObjectDeep = ce.zipObjectDeep;
L.zipWith = ce.zipWith;
L.entries = De.toPairs;
L.entriesIn = De.toPairsIn;
L.extend = De.assignIn;
L.extendWith = De.assignInWith;
X0(L, L);
L.add = Dr.add;
L.attempt = vt.attempt;
L.camelCase = ht.camelCase;
L.capitalize = ht.capitalize;
L.ceil = Dr.ceil;
L.clamp = Y0.clamp;
L.clone = me.clone;
L.cloneDeep = me.cloneDeep;
L.cloneDeepWith = me.cloneDeepWith;
L.cloneWith = me.cloneWith;
L.conformsTo = me.conformsTo;
L.deburr = ht.deburr;
L.defaultTo = vt.defaultTo;
L.divide = Dr.divide;
L.endsWith = ht.endsWith;
L.eq = me.eq;
L.escape = ht.escape;
L.escapeRegExp = ht.escapeRegExp;
L.every = yt.every;
L.find = yt.find;
L.findIndex = ce.findIndex;
L.findKey = De.findKey;
L.findLast = yt.findLast;
L.findLastIndex = ce.findLastIndex;
L.findLastKey = De.findLastKey;
L.floor = Dr.floor;
L.forEach = yt.forEach;
L.forEachRight = yt.forEachRight;
L.forIn = De.forIn;
L.forInRight = De.forInRight;
L.forOwn = De.forOwn;
L.forOwnRight = De.forOwnRight;
L.get = De.get;
L.gt = me.gt;
L.gte = me.gte;
L.has = De.has;
L.hasIn = De.hasIn;
L.head = ce.head;
L.identity = mr;
L.includes = yt.includes;
L.indexOf = ce.indexOf;
L.inRange = Y0.inRange;
L.invoke = De.invoke;
L.isArguments = me.isArguments;
L.isArray = ve;
L.isArrayBuffer = me.isArrayBuffer;
L.isArrayLike = me.isArrayLike;
L.isArrayLikeObject = me.isArrayLikeObject;
L.isBoolean = me.isBoolean;
L.isBuffer = me.isBuffer;
L.isDate = me.isDate;
L.isElement = me.isElement;
L.isEmpty = me.isEmpty;
L.isEqual = me.isEqual;
L.isEqualWith = me.isEqualWith;
L.isError = me.isError;
L.isFinite = me.isFinite;
L.isFunction = me.isFunction;
L.isInteger = me.isInteger;
L.isLength = me.isLength;
L.isMap = me.isMap;
L.isMatch = me.isMatch;
L.isMatchWith = me.isMatchWith;
L.isNaN = me.isNaN;
L.isNative = me.isNative;
L.isNil = me.isNil;
L.isNull = me.isNull;
L.isNumber = me.isNumber;
L.isObject = ft;
L.isObjectLike = me.isObjectLike;
L.isPlainObject = me.isPlainObject;
L.isRegExp = me.isRegExp;
L.isSafeInteger = me.isSafeInteger;
L.isSet = me.isSet;
L.isString = me.isString;
L.isSymbol = me.isSymbol;
L.isTypedArray = me.isTypedArray;
L.isUndefined = me.isUndefined;
L.isWeakMap = me.isWeakMap;
L.isWeakSet = me.isWeakSet;
L.join = ce.join;
L.kebabCase = ht.kebabCase;
L.last = gt;
L.lastIndexOf = ce.lastIndexOf;
L.lowerCase = ht.lowerCase;
L.lowerFirst = ht.lowerFirst;
L.lt = me.lt;
L.lte = me.lte;
L.max = Dr.max;
L.maxBy = Dr.maxBy;
L.mean = Dr.mean;
L.meanBy = Dr.meanBy;
L.min = Dr.min;
L.minBy = Dr.minBy;
L.stubArray = vt.stubArray;
L.stubFalse = vt.stubFalse;
L.stubObject = vt.stubObject;
L.stubString = vt.stubString;
L.stubTrue = vt.stubTrue;
L.multiply = Dr.multiply;
L.nth = ce.nth;
L.noop = vt.noop;
L.now = _q.now;
L.pad = ht.pad;
L.padEnd = ht.padEnd;
L.padStart = ht.padStart;
L.parseInt = ht.parseInt;
L.random = Y0.random;
L.reduce = yt.reduce;
L.reduceRight = yt.reduceRight;
L.repeat = ht.repeat;
L.replace = ht.replace;
L.result = De.result;
L.round = Dr.round;
L.sample = yt.sample;
L.size = yt.size;
L.snakeCase = ht.snakeCase;
L.some = yt.some;
L.sortedIndex = ce.sortedIndex;
L.sortedIndexBy = ce.sortedIndexBy;
L.sortedIndexOf = ce.sortedIndexOf;
L.sortedLastIndex = ce.sortedLastIndex;
L.sortedLastIndexBy = ce.sortedLastIndexBy;
L.sortedLastIndexOf = ce.sortedLastIndexOf;
L.startCase = ht.startCase;
L.startsWith = ht.startsWith;
L.subtract = Dr.subtract;
L.sum = Dr.sum;
L.sumBy = Dr.sumBy;
L.template = ht.template;
L.times = vt.times;
L.toFinite = me.toFinite;
L.toInteger = We;
L.toLength = me.toLength;
L.toLower = ht.toLower;
L.toNumber = me.toNumber;
L.toSafeInteger = me.toSafeInteger;
L.toString = me.toString;
L.toUpper = ht.toUpper;
L.trim = ht.trim;
L.trimEnd = ht.trimEnd;
L.trimStart = ht.trimStart;
L.truncate = ht.truncate;
L.unescape = ht.unescape;
L.uniqueId = vt.uniqueId;
L.upperCase = ht.upperCase;
L.upperFirst = ht.upperFirst;
L.each = yt.forEach;
L.eachRight = yt.forEachRight;
L.first = ce.head;
X0(L, function() {
  var e = {};
  return xi(L, function(r, t) {
    ab.call(L.prototype, t) || (e[t] = r);
  }), e;
}(), { chain: !1 });
L.VERSION = Rq;
(L.templateSettings = ht.templateSettings).imports._ = L;
Pn(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
  L[e].placeholder = L;
});
Pn(["drop", "take"], function(e, r) {
  Ze.prototype[e] = function(t) {
    t = t === void 0 ? 1 : Pq(We(t), 0);
    var n = this.__filtered__ && !r ? new Ze(this) : this.clone();
    return n.__filtered__ ? n.__takeCount__ = Dm(t, n.__takeCount__) : n.__views__.push({
      size: Dm(t, ob),
      type: e + (n.__dir__ < 0 ? "Right" : "")
    }), n;
  }, Ze.prototype[e + "Right"] = function(t) {
    return this.reverse()[e](t).reverse();
  };
});
Pn(["filter", "map", "takeWhile"], function(e, r) {
  var t = r + 1, n = t == Iq || t == Mq;
  Ze.prototype[e] = function(i) {
    var o = this.clone();
    return o.__iteratees__.push({
      iteratee: Fe(i),
      type: t
    }), o.__filtered__ = o.__filtered__ || n, o;
  };
});
Pn(["head", "last"], function(e, r) {
  var t = "take" + (r ? "Right" : "");
  Ze.prototype[e] = function() {
    return this[t](1).value()[0];
  };
});
Pn(["initial", "tail"], function(e, r) {
  var t = "drop" + (r ? "" : "Right");
  Ze.prototype[e] = function() {
    return this.__filtered__ ? new Ze(this) : this[t](1);
  };
});
Ze.prototype.compact = function() {
  return this.filter(mr);
};
Ze.prototype.find = function(e) {
  return this.filter(e).head();
};
Ze.prototype.findLast = function(e) {
  return this.reverse().find(e);
};
Ze.prototype.invokeMap = Ye(function(e, r) {
  return typeof e == "function" ? new Ze(this) : this.map(function(t) {
    return qs(t, e, r);
  });
});
Ze.prototype.reject = function(e) {
  return this.filter(Ks(Fe(e)));
};
Ze.prototype.slice = function(e, r) {
  e = We(e);
  var t = this;
  return t.__filtered__ && (e > 0 || r < 0) ? new Ze(t) : (e < 0 ? t = t.takeRight(-e) : e && (t = t.drop(e)), r !== void 0 && (r = We(r), t = r < 0 ? t.dropRight(-r) : t.take(r - e)), t);
};
Ze.prototype.takeRightWhile = function(e) {
  return this.reverse().takeWhile(e).reverse();
};
Ze.prototype.toArray = function() {
  return this.take(ob);
};
xi(Ze.prototype, function(e, r) {
  var t = /^(?:filter|find|map|reject)|While$/.test(r), n = /^(?:head|last)$/.test(r), i = L[n ? "take" + (r == "last" ? "Right" : "") : r], o = n || /^find/.test(r);
  i && (L.prototype[r] = function() {
    var a = this.__wrapped__, l = n ? [1] : arguments, s = a instanceof Ze, f = l[0], h = s || ve(a), d = function(w) {
      var S = i.apply(L, Ro([w], l));
      return n && v ? S[0] : S;
    };
    h && t && typeof f == "function" && f.length != 1 && (s = h = !1);
    var v = this.__chain__, g = !!this.__actions__.length, y = o && !v, C = s && !g;
    if (!o && h) {
      a = C ? a : new Ze(this);
      var m = e.apply(a, l);
      return m.__actions__.push({ func: Zs, args: [d], thisArg: void 0 }), new Mn(m, v);
    }
    return y && C ? e.apply(this, l) : (m = this.thru(d), y ? n ? m.value()[0] : m.value() : m);
  });
});
Pn(["pop", "push", "shift", "sort", "splice", "unshift"], function(e) {
  var r = Bq[e], t = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru", n = /^(?:pop|shift)$/.test(e);
  L.prototype[e] = function() {
    var i = arguments;
    if (n && !this.__chain__) {
      var o = this.value();
      return r.apply(ve(o) ? o : [], i);
    }
    return this[t](function(a) {
      return r.apply(ve(a) ? a : [], i);
    });
  };
});
xi(Ze.prototype, function(e, r) {
  var t = L[r];
  if (t) {
    var n = t.name + "";
    ab.call(qa, n) || (qa[n] = []), qa[n].push({ name: r, func: t });
  }
});
qa[hc(void 0, Oq).name] = [{
  name: "wrapper",
  func: void 0
}];
Ze.prototype.clone = mq;
Ze.prototype.reverse = wq;
Ze.prototype.value = Aq;
L.prototype.at = Ti.at;
L.prototype.chain = Ti.wrapperChain;
L.prototype.commit = Ti.commit;
L.prototype.next = Ti.next;
L.prototype.plant = Ti.plant;
L.prototype.reverse = Ti.reverse;
L.prototype.toJSON = L.prototype.valueOf = L.prototype.value = Ti.value;
L.prototype.first = L.prototype.head;
Bm && (L.prototype[Bm] = Ti.toIterator);
var lb = { exports: {} };
(function(e) {
  (function(r) {
    var t = /^\s+/, n = /\s+$/, i = 0, o = r.round, a = r.min, l = r.max, s = r.random;
    function f(R, $) {
      if (R = R || "", $ = $ || {}, R instanceof f)
        return R;
      if (!(this instanceof f))
        return new f(R, $);
      var I = h(R);
      this._originalInput = R, this._r = I.r, this._g = I.g, this._b = I.b, this._a = I.a, this._roundA = o(100 * this._a) / 100, this._format = $.format || I.format, this._gradientType = $.gradientType, this._r < 1 && (this._r = o(this._r)), this._g < 1 && (this._g = o(this._g)), this._b < 1 && (this._b = o(this._b)), this._ok = I.ok, this._tc_id = i++;
    }
    f.prototype = {
      isDark: function() {
        return this.getBrightness() < 128;
      },
      isLight: function() {
        return !this.isDark();
      },
      isValid: function() {
        return this._ok;
      },
      getOriginalInput: function() {
        return this._originalInput;
      },
      getFormat: function() {
        return this._format;
      },
      getAlpha: function() {
        return this._a;
      },
      getBrightness: function() {
        var R = this.toRgb();
        return (R.r * 299 + R.g * 587 + R.b * 114) / 1e3;
      },
      getLuminance: function() {
        var R = this.toRgb(), $, I, K, oe, se, Qe;
        return $ = R.r / 255, I = R.g / 255, K = R.b / 255, $ <= 0.03928 ? oe = $ / 12.92 : oe = r.pow(($ + 0.055) / 1.055, 2.4), I <= 0.03928 ? se = I / 12.92 : se = r.pow((I + 0.055) / 1.055, 2.4), K <= 0.03928 ? Qe = K / 12.92 : Qe = r.pow((K + 0.055) / 1.055, 2.4), 0.2126 * oe + 0.7152 * se + 0.0722 * Qe;
      },
      setAlpha: function(R) {
        return this._a = Te(R), this._roundA = o(100 * this._a) / 100, this;
      },
      toHsv: function() {
        var R = y(this._r, this._g, this._b);
        return { h: R.h * 360, s: R.s, v: R.v, a: this._a };
      },
      toHsvString: function() {
        var R = y(this._r, this._g, this._b), $ = o(R.h * 360), I = o(R.s * 100), K = o(R.v * 100);
        return this._a == 1 ? "hsv(" + $ + ", " + I + "%, " + K + "%)" : "hsva(" + $ + ", " + I + "%, " + K + "%, " + this._roundA + ")";
      },
      toHsl: function() {
        var R = v(this._r, this._g, this._b);
        return { h: R.h * 360, s: R.s, l: R.l, a: this._a };
      },
      toHslString: function() {
        var R = v(this._r, this._g, this._b), $ = o(R.h * 360), I = o(R.s * 100), K = o(R.l * 100);
        return this._a == 1 ? "hsl(" + $ + ", " + I + "%, " + K + "%)" : "hsla(" + $ + ", " + I + "%, " + K + "%, " + this._roundA + ")";
      },
      toHex: function(R) {
        return m(this._r, this._g, this._b, R);
      },
      toHexString: function(R) {
        return "#" + this.toHex(R);
      },
      toHex8: function(R) {
        return w(this._r, this._g, this._b, this._a, R);
      },
      toHex8String: function(R) {
        return "#" + this.toHex8(R);
      },
      toRgb: function() {
        return { r: o(this._r), g: o(this._g), b: o(this._b), a: this._a };
      },
      toRgbString: function() {
        return this._a == 1 ? "rgb(" + o(this._r) + ", " + o(this._g) + ", " + o(this._b) + ")" : "rgba(" + o(this._r) + ", " + o(this._g) + ", " + o(this._b) + ", " + this._roundA + ")";
      },
      toPercentageRgb: function() {
        return { r: o(he(this._r, 255) * 100) + "%", g: o(he(this._g, 255) * 100) + "%", b: o(he(this._b, 255) * 100) + "%", a: this._a };
      },
      toPercentageRgbString: function() {
        return this._a == 1 ? "rgb(" + o(he(this._r, 255) * 100) + "%, " + o(he(this._g, 255) * 100) + "%, " + o(he(this._b, 255) * 100) + "%)" : "rgba(" + o(he(this._r, 255) * 100) + "%, " + o(he(this._g, 255) * 100) + "%, " + o(he(this._b, 255) * 100) + "%, " + this._roundA + ")";
      },
      toName: function() {
        return this._a === 0 ? "transparent" : this._a < 1 ? !1 : Ie[m(this._r, this._g, this._b, !0)] || !1;
      },
      toFilter: function(R) {
        var $ = "#" + S(this._r, this._g, this._b, this._a), I = $, K = this._gradientType ? "GradientType = 1, " : "";
        if (R) {
          var oe = f(R);
          I = "#" + S(oe._r, oe._g, oe._b, oe._a);
        }
        return "progid:DXImageTransform.Microsoft.gradient(" + K + "startColorstr=" + $ + ",endColorstr=" + I + ")";
      },
      toString: function(R) {
        var $ = !!R;
        R = R || this._format;
        var I = !1, K = this._a < 1 && this._a >= 0, oe = !$ && K && (R === "hex" || R === "hex6" || R === "hex3" || R === "hex4" || R === "hex8" || R === "name");
        return oe ? R === "name" && this._a === 0 ? this.toName() : this.toRgbString() : (R === "rgb" && (I = this.toRgbString()), R === "prgb" && (I = this.toPercentageRgbString()), (R === "hex" || R === "hex6") && (I = this.toHexString()), R === "hex3" && (I = this.toHexString(!0)), R === "hex4" && (I = this.toHex8String(!0)), R === "hex8" && (I = this.toHex8String()), R === "name" && (I = this.toName()), R === "hsl" && (I = this.toHslString()), R === "hsv" && (I = this.toHsvString()), I || this.toHexString());
      },
      clone: function() {
        return f(this.toString());
      },
      _applyModification: function(R, $) {
        var I = R.apply(null, [this].concat([].slice.call($)));
        return this._r = I._r, this._g = I._g, this._b = I._b, this.setAlpha(I._a), this;
      },
      lighten: function() {
        return this._applyModification(D, arguments);
      },
      brighten: function() {
        return this._applyModification(N, arguments);
      },
      darken: function() {
        return this._applyModification(W, arguments);
      },
      desaturate: function() {
        return this._applyModification(x, arguments);
      },
      saturate: function() {
        return this._applyModification(b, arguments);
      },
      greyscale: function() {
        return this._applyModification(O, arguments);
      },
      spin: function() {
        return this._applyModification(k, arguments);
      },
      _applyCombination: function(R, $) {
        return R.apply(null, [this].concat([].slice.call($)));
      },
      analogous: function() {
        return this._applyCombination(fe, arguments);
      },
      complement: function() {
        return this._applyCombination(ee, arguments);
      },
      monochromatic: function() {
        return this._applyCombination(j, arguments);
      },
      splitcomplement: function() {
        return this._applyCombination(ae, arguments);
      },
      triad: function() {
        return this._applyCombination(J, arguments);
      },
      tetrad: function() {
        return this._applyCombination(te, arguments);
      }
    }, f.fromRatio = function(R, $) {
      if (typeof R == "object") {
        var I = {};
        for (var K in R)
          R.hasOwnProperty(K) && (K === "a" ? I[K] = R[K] : I[K] = lt(R[K]));
        R = I;
      }
      return f(R, $);
    };
    function h(R) {
      var $ = { r: 0, g: 0, b: 0 }, I = 1, K = null, oe = null, se = null, Qe = !1, st = !1;
      return typeof R == "string" && (R = ei(R)), typeof R == "object" && (xr(R.r) && xr(R.g) && xr(R.b) ? ($ = d(R.r, R.g, R.b), Qe = !0, st = String(R.r).substr(-1) === "%" ? "prgb" : "rgb") : xr(R.h) && xr(R.s) && xr(R.v) ? (K = lt(R.s), oe = lt(R.v), $ = C(R.h, K, oe), Qe = !0, st = "hsv") : xr(R.h) && xr(R.s) && xr(R.l) && (K = lt(R.s), se = lt(R.l), $ = g(R.h, K, se), Qe = !0, st = "hsl"), R.hasOwnProperty("a") && (I = R.a)), I = Te(I), {
        ok: Qe,
        format: R.format || st,
        r: a(255, l($.r, 0)),
        g: a(255, l($.g, 0)),
        b: a(255, l($.b, 0)),
        a: I
      };
    }
    function d(R, $, I) {
      return {
        r: he(R, 255) * 255,
        g: he($, 255) * 255,
        b: he(I, 255) * 255
      };
    }
    function v(R, $, I) {
      R = he(R, 255), $ = he($, 255), I = he(I, 255);
      var K = l(R, $, I), oe = a(R, $, I), se, Qe, st = (K + oe) / 2;
      if (K == oe)
        se = Qe = 0;
      else {
        var Je = K - oe;
        switch (Qe = st > 0.5 ? Je / (2 - K - oe) : Je / (K + oe), K) {
          case R:
            se = ($ - I) / Je + ($ < I ? 6 : 0);
            break;
          case $:
            se = (I - R) / Je + 2;
            break;
          case I:
            se = (R - $) / Je + 4;
            break;
        }
        se /= 6;
      }
      return { h: se, s: Qe, l: st };
    }
    function g(R, $, I) {
      var K, oe, se;
      R = he(R, 360), $ = he($, 100), I = he(I, 100);
      function Qe(Rt, cr, tr) {
        return tr < 0 && (tr += 1), tr > 1 && (tr -= 1), tr < 1 / 6 ? Rt + (cr - Rt) * 6 * tr : tr < 1 / 2 ? cr : tr < 2 / 3 ? Rt + (cr - Rt) * (2 / 3 - tr) * 6 : Rt;
      }
      if ($ === 0)
        K = oe = se = I;
      else {
        var st = I < 0.5 ? I * (1 + $) : I + $ - I * $, Je = 2 * I - st;
        K = Qe(Je, st, R + 1 / 3), oe = Qe(Je, st, R), se = Qe(Je, st, R - 1 / 3);
      }
      return { r: K * 255, g: oe * 255, b: se * 255 };
    }
    function y(R, $, I) {
      R = he(R, 255), $ = he($, 255), I = he(I, 255);
      var K = l(R, $, I), oe = a(R, $, I), se, Qe, st = K, Je = K - oe;
      if (Qe = K === 0 ? 0 : Je / K, K == oe)
        se = 0;
      else {
        switch (K) {
          case R:
            se = ($ - I) / Je + ($ < I ? 6 : 0);
            break;
          case $:
            se = (I - R) / Je + 2;
            break;
          case I:
            se = (R - $) / Je + 4;
            break;
        }
        se /= 6;
      }
      return { h: se, s: Qe, v: st };
    }
    function C(R, $, I) {
      R = he(R, 360) * 6, $ = he($, 100), I = he(I, 100);
      var K = r.floor(R), oe = R - K, se = I * (1 - $), Qe = I * (1 - oe * $), st = I * (1 - (1 - oe) * $), Je = K % 6, Rt = [I, Qe, se, se, st, I][Je], cr = [st, I, I, Qe, se, se][Je], tr = [se, se, st, I, I, Qe][Je];
      return { r: Rt * 255, g: cr * 255, b: tr * 255 };
    }
    function m(R, $, I, K) {
      var oe = [
        ze(o(R).toString(16)),
        ze(o($).toString(16)),
        ze(o(I).toString(16))
      ];
      return K && oe[0].charAt(0) == oe[0].charAt(1) && oe[1].charAt(0) == oe[1].charAt(1) && oe[2].charAt(0) == oe[2].charAt(1) ? oe[0].charAt(0) + oe[1].charAt(0) + oe[2].charAt(0) : oe.join("");
    }
    function w(R, $, I, K, oe) {
      var se = [
        ze(o(R).toString(16)),
        ze(o($).toString(16)),
        ze(o(I).toString(16)),
        ze(fr(K))
      ];
      return oe && se[0].charAt(0) == se[0].charAt(1) && se[1].charAt(0) == se[1].charAt(1) && se[2].charAt(0) == se[2].charAt(1) && se[3].charAt(0) == se[3].charAt(1) ? se[0].charAt(0) + se[1].charAt(0) + se[2].charAt(0) + se[3].charAt(0) : se.join("");
    }
    function S(R, $, I, K) {
      var oe = [
        ze(fr(K)),
        ze(o(R).toString(16)),
        ze(o($).toString(16)),
        ze(o(I).toString(16))
      ];
      return oe.join("");
    }
    f.equals = function(R, $) {
      return !R || !$ ? !1 : f(R).toRgbString() == f($).toRgbString();
    }, f.random = function() {
      return f.fromRatio({
        r: s(),
        g: s(),
        b: s()
      });
    };
    function x(R, $) {
      $ = $ === 0 ? 0 : $ || 10;
      var I = f(R).toHsl();
      return I.s -= $ / 100, I.s = be(I.s), f(I);
    }
    function b(R, $) {
      $ = $ === 0 ? 0 : $ || 10;
      var I = f(R).toHsl();
      return I.s += $ / 100, I.s = be(I.s), f(I);
    }
    function O(R) {
      return f(R).desaturate(100);
    }
    function D(R, $) {
      $ = $ === 0 ? 0 : $ || 10;
      var I = f(R).toHsl();
      return I.l += $ / 100, I.l = be(I.l), f(I);
    }
    function N(R, $) {
      $ = $ === 0 ? 0 : $ || 10;
      var I = f(R).toRgb();
      return I.r = l(0, a(255, I.r - o(255 * -($ / 100)))), I.g = l(0, a(255, I.g - o(255 * -($ / 100)))), I.b = l(0, a(255, I.b - o(255 * -($ / 100)))), f(I);
    }
    function W(R, $) {
      $ = $ === 0 ? 0 : $ || 10;
      var I = f(R).toHsl();
      return I.l -= $ / 100, I.l = be(I.l), f(I);
    }
    function k(R, $) {
      var I = f(R).toHsl(), K = (I.h + $) % 360;
      return I.h = K < 0 ? 360 + K : K, f(I);
    }
    function ee(R) {
      var $ = f(R).toHsl();
      return $.h = ($.h + 180) % 360, f($);
    }
    function J(R) {
      var $ = f(R).toHsl(), I = $.h;
      return [
        f(R),
        f({ h: (I + 120) % 360, s: $.s, l: $.l }),
        f({ h: (I + 240) % 360, s: $.s, l: $.l })
      ];
    }
    function te(R) {
      var $ = f(R).toHsl(), I = $.h;
      return [
        f(R),
        f({ h: (I + 90) % 360, s: $.s, l: $.l }),
        f({ h: (I + 180) % 360, s: $.s, l: $.l }),
        f({ h: (I + 270) % 360, s: $.s, l: $.l })
      ];
    }
    function ae(R) {
      var $ = f(R).toHsl(), I = $.h;
      return [
        f(R),
        f({ h: (I + 72) % 360, s: $.s, l: $.l }),
        f({ h: (I + 216) % 360, s: $.s, l: $.l })
      ];
    }
    function fe(R, $, I) {
      $ = $ || 6, I = I || 30;
      var K = f(R).toHsl(), oe = 360 / I, se = [f(R)];
      for (K.h = (K.h - (oe * $ >> 1) + 720) % 360; --$; )
        K.h = (K.h + oe) % 360, se.push(f(K));
      return se;
    }
    function j(R, $) {
      $ = $ || 6;
      for (var I = f(R).toHsv(), K = I.h, oe = I.s, se = I.v, Qe = [], st = 1 / $; $--; )
        Qe.push(f({ h: K, s: oe, v: se })), se = (se + st) % 1;
      return Qe;
    }
    f.mix = function(R, $, I) {
      I = I === 0 ? 0 : I || 50;
      var K = f(R).toRgb(), oe = f($).toRgb(), se = I / 100, Qe = {
        r: (oe.r - K.r) * se + K.r,
        g: (oe.g - K.g) * se + K.g,
        b: (oe.b - K.b) * se + K.b,
        a: (oe.a - K.a) * se + K.a
      };
      return f(Qe);
    }, f.readability = function(R, $) {
      var I = f(R), K = f($);
      return (r.max(I.getLuminance(), K.getLuminance()) + 0.05) / (r.min(I.getLuminance(), K.getLuminance()) + 0.05);
    }, f.isReadable = function(R, $, I) {
      var K = f.readability(R, $), oe, se;
      switch (se = !1, oe = ro(I), oe.level + oe.size) {
        case "AAsmall":
        case "AAAlarge":
          se = K >= 4.5;
          break;
        case "AAlarge":
          se = K >= 3;
          break;
        case "AAAsmall":
          se = K >= 7;
          break;
      }
      return se;
    }, f.mostReadable = function(R, $, I) {
      var K = null, oe = 0, se, Qe, st, Je;
      I = I || {}, Qe = I.includeFallbackColors, st = I.level, Je = I.size;
      for (var Rt = 0; Rt < $.length; Rt++)
        se = f.readability(R, $[Rt]), se > oe && (oe = se, K = f($[Rt]));
      return f.isReadable(R, K, { level: st, size: Je }) || !Qe ? K : (I.includeFallbackColors = !1, f.mostReadable(R, ["#fff", "#000"], I));
    };
    var ie = f.names = {
      aliceblue: "f0f8ff",
      antiquewhite: "faebd7",
      aqua: "0ff",
      aquamarine: "7fffd4",
      azure: "f0ffff",
      beige: "f5f5dc",
      bisque: "ffe4c4",
      black: "000",
      blanchedalmond: "ffebcd",
      blue: "00f",
      blueviolet: "8a2be2",
      brown: "a52a2a",
      burlywood: "deb887",
      burntsienna: "ea7e5d",
      cadetblue: "5f9ea0",
      chartreuse: "7fff00",
      chocolate: "d2691e",
      coral: "ff7f50",
      cornflowerblue: "6495ed",
      cornsilk: "fff8dc",
      crimson: "dc143c",
      cyan: "0ff",
      darkblue: "00008b",
      darkcyan: "008b8b",
      darkgoldenrod: "b8860b",
      darkgray: "a9a9a9",
      darkgreen: "006400",
      darkgrey: "a9a9a9",
      darkkhaki: "bdb76b",
      darkmagenta: "8b008b",
      darkolivegreen: "556b2f",
      darkorange: "ff8c00",
      darkorchid: "9932cc",
      darkred: "8b0000",
      darksalmon: "e9967a",
      darkseagreen: "8fbc8f",
      darkslateblue: "483d8b",
      darkslategray: "2f4f4f",
      darkslategrey: "2f4f4f",
      darkturquoise: "00ced1",
      darkviolet: "9400d3",
      deeppink: "ff1493",
      deepskyblue: "00bfff",
      dimgray: "696969",
      dimgrey: "696969",
      dodgerblue: "1e90ff",
      firebrick: "b22222",
      floralwhite: "fffaf0",
      forestgreen: "228b22",
      fuchsia: "f0f",
      gainsboro: "dcdcdc",
      ghostwhite: "f8f8ff",
      gold: "ffd700",
      goldenrod: "daa520",
      gray: "808080",
      green: "008000",
      greenyellow: "adff2f",
      grey: "808080",
      honeydew: "f0fff0",
      hotpink: "ff69b4",
      indianred: "cd5c5c",
      indigo: "4b0082",
      ivory: "fffff0",
      khaki: "f0e68c",
      lavender: "e6e6fa",
      lavenderblush: "fff0f5",
      lawngreen: "7cfc00",
      lemonchiffon: "fffacd",
      lightblue: "add8e6",
      lightcoral: "f08080",
      lightcyan: "e0ffff",
      lightgoldenrodyellow: "fafad2",
      lightgray: "d3d3d3",
      lightgreen: "90ee90",
      lightgrey: "d3d3d3",
      lightpink: "ffb6c1",
      lightsalmon: "ffa07a",
      lightseagreen: "20b2aa",
      lightskyblue: "87cefa",
      lightslategray: "789",
      lightslategrey: "789",
      lightsteelblue: "b0c4de",
      lightyellow: "ffffe0",
      lime: "0f0",
      limegreen: "32cd32",
      linen: "faf0e6",
      magenta: "f0f",
      maroon: "800000",
      mediumaquamarine: "66cdaa",
      mediumblue: "0000cd",
      mediumorchid: "ba55d3",
      mediumpurple: "9370db",
      mediumseagreen: "3cb371",
      mediumslateblue: "7b68ee",
      mediumspringgreen: "00fa9a",
      mediumturquoise: "48d1cc",
      mediumvioletred: "c71585",
      midnightblue: "191970",
      mintcream: "f5fffa",
      mistyrose: "ffe4e1",
      moccasin: "ffe4b5",
      navajowhite: "ffdead",
      navy: "000080",
      oldlace: "fdf5e6",
      olive: "808000",
      olivedrab: "6b8e23",
      orange: "ffa500",
      orangered: "ff4500",
      orchid: "da70d6",
      palegoldenrod: "eee8aa",
      palegreen: "98fb98",
      paleturquoise: "afeeee",
      palevioletred: "db7093",
      papayawhip: "ffefd5",
      peachpuff: "ffdab9",
      peru: "cd853f",
      pink: "ffc0cb",
      plum: "dda0dd",
      powderblue: "b0e0e6",
      purple: "800080",
      rebeccapurple: "663399",
      red: "f00",
      rosybrown: "bc8f8f",
      royalblue: "4169e1",
      saddlebrown: "8b4513",
      salmon: "fa8072",
      sandybrown: "f4a460",
      seagreen: "2e8b57",
      seashell: "fff5ee",
      sienna: "a0522d",
      silver: "c0c0c0",
      skyblue: "87ceeb",
      slateblue: "6a5acd",
      slategray: "708090",
      slategrey: "708090",
      snow: "fffafa",
      springgreen: "00ff7f",
      steelblue: "4682b4",
      tan: "d2b48c",
      teal: "008080",
      thistle: "d8bfd8",
      tomato: "ff6347",
      turquoise: "40e0d0",
      violet: "ee82ee",
      wheat: "f5deb3",
      white: "fff",
      whitesmoke: "f5f5f5",
      yellow: "ff0",
      yellowgreen: "9acd32"
    }, Ie = f.hexNames = we(ie);
    function we(R) {
      var $ = {};
      for (var I in R)
        R.hasOwnProperty(I) && ($[R[I]] = I);
      return $;
    }
    function Te(R) {
      return R = parseFloat(R), (isNaN(R) || R < 0 || R > 1) && (R = 1), R;
    }
    function he(R, $) {
      mt(R) && (R = "100%");
      var I = Xe(R);
      return R = a($, l(0, parseFloat(R))), I && (R = parseInt(R * $, 10) / 100), r.abs(R - $) < 1e-6 ? 1 : R % $ / parseFloat($);
    }
    function be(R) {
      return a(1, l(0, R));
    }
    function Ae(R) {
      return parseInt(R, 16);
    }
    function mt(R) {
      return typeof R == "string" && R.indexOf(".") != -1 && parseFloat(R) === 1;
    }
    function Xe(R) {
      return typeof R == "string" && R.indexOf("%") != -1;
    }
    function ze(R) {
      return R.length == 1 ? "0" + R : "" + R;
    }
    function lt(R) {
      return R <= 1 && (R = R * 100 + "%"), R;
    }
    function fr(R) {
      return r.round(parseFloat(R) * 255).toString(16);
    }
    function wr(R) {
      return Ae(R) / 255;
    }
    var wt = function() {
      var R = "[-\\+]?\\d+%?", $ = "[-\\+]?\\d*\\.\\d+%?", I = "(?:" + $ + ")|(?:" + R + ")", K = "[\\s|\\(]+(" + I + ")[,|\\s]+(" + I + ")[,|\\s]+(" + I + ")\\s*\\)?", oe = "[\\s|\\(]+(" + I + ")[,|\\s]+(" + I + ")[,|\\s]+(" + I + ")[,|\\s]+(" + I + ")\\s*\\)?";
      return {
        CSS_UNIT: new RegExp(I),
        rgb: new RegExp("rgb" + K),
        rgba: new RegExp("rgba" + oe),
        hsl: new RegExp("hsl" + K),
        hsla: new RegExp("hsla" + oe),
        hsv: new RegExp("hsv" + K),
        hsva: new RegExp("hsva" + oe),
        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
      };
    }();
    function xr(R) {
      return !!wt.CSS_UNIT.exec(R);
    }
    function ei(R) {
      R = R.replace(t, "").replace(n, "").toLowerCase();
      var $ = !1;
      if (ie[R])
        R = ie[R], $ = !0;
      else if (R == "transparent")
        return { r: 0, g: 0, b: 0, a: 0, format: "name" };
      var I;
      return (I = wt.rgb.exec(R)) ? { r: I[1], g: I[2], b: I[3] } : (I = wt.rgba.exec(R)) ? { r: I[1], g: I[2], b: I[3], a: I[4] } : (I = wt.hsl.exec(R)) ? { h: I[1], s: I[2], l: I[3] } : (I = wt.hsla.exec(R)) ? { h: I[1], s: I[2], l: I[3], a: I[4] } : (I = wt.hsv.exec(R)) ? { h: I[1], s: I[2], v: I[3] } : (I = wt.hsva.exec(R)) ? { h: I[1], s: I[2], v: I[3], a: I[4] } : (I = wt.hex8.exec(R)) ? {
        r: Ae(I[1]),
        g: Ae(I[2]),
        b: Ae(I[3]),
        a: wr(I[4]),
        format: $ ? "name" : "hex8"
      } : (I = wt.hex6.exec(R)) ? {
        r: Ae(I[1]),
        g: Ae(I[2]),
        b: Ae(I[3]),
        format: $ ? "name" : "hex"
      } : (I = wt.hex4.exec(R)) ? {
        r: Ae(I[1] + "" + I[1]),
        g: Ae(I[2] + "" + I[2]),
        b: Ae(I[3] + "" + I[3]),
        a: wr(I[4] + "" + I[4]),
        format: $ ? "name" : "hex8"
      } : (I = wt.hex3.exec(R)) ? {
        r: Ae(I[1] + "" + I[1]),
        g: Ae(I[2] + "" + I[2]),
        b: Ae(I[3] + "" + I[3]),
        format: $ ? "name" : "hex"
      } : !1;
    }
    function ro(R) {
      var $, I;
      return R = R || { level: "AA", size: "small" }, $ = (R.level || "AA").toUpperCase(), I = (R.size || "small").toLowerCase(), $ !== "AA" && $ !== "AAA" && ($ = "AA"), I !== "small" && I !== "large" && (I = "small"), { level: $, size: I };
    }
    e.exports ? e.exports = f : window.tinycolor = f;
  })(Math);
})(lb);
var sb = lb.exports, Fq = "#FFFFFF", $q = "#000000", Nq = [95, 85, 75, 30, 15, 0, 15, 30, 45, 60, 80], Hq = 15, ub = function(e) {
  return sb(e).getLuminance() <= 0.5;
}, zq = [
  {
    fontColorIndex: 0,
    bgColorIndex: 3
  },
  {
    fontColorIndex: 13,
    bgColorIndex: 8
  },
  {
    fontColorIndex: 14,
    bgColorIndex: 1
  }
], Wq = function(e) {
  for (var r = [], t = 0; t < 11; t++) {
    var n = Nq[t];
    r.push(As(n === 0 ? e : sb.mix(e, t < 5 ? Fq : $q, n).toHexString()));
  }
  return r;
}, V0 = function(e) {
  e === void 0 && (e = {});
  var r = Array.from(Array(Hq)).fill(xv), t = e.basicColorRelations, n = t === void 0 ? [] : t, i = e.brandColor, o = Wq(i);
  return n.forEach(function(a) {
    r[a.basicColorIndex] = o[a.standardColorIndex];
  }), zq.forEach(function(a) {
    var l = a.fontColorIndex, s = a.bgColorIndex;
    r[l] = ub(r[s]) ? xv : TS;
  }), F(F({}, e), { basicColors: r });
}, Gq = {
  brandColor: "#3471F9",
  // ---------- semantic colors ----------
  semanticColors: {
    red: "#FF4D4F",
    green: "#29A294",
    yellow: "#FAAD14"
  },
  others: {
    // ---------- searchResults colors ----------
    highlight: "#87B5FF",
    results: "#F0F7FF"
  },
  basicColorRelations: [
    {
      basicColorIndex: 1,
      standardColorIndex: 0
    },
    {
      basicColorIndex: 2,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 3,
      standardColorIndex: 5
    },
    {
      basicColorIndex: 4,
      standardColorIndex: 6
    },
    {
      basicColorIndex: 5,
      standardColorIndex: 6
    },
    {
      basicColorIndex: 6,
      standardColorIndex: 6
    },
    {
      basicColorIndex: 7,
      standardColorIndex: 5
    },
    {
      basicColorIndex: 9,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 10,
      standardColorIndex: 4
    },
    {
      basicColorIndex: 11,
      standardColorIndex: 4
    },
    {
      basicColorIndex: 12,
      standardColorIndex: 5
    }
  ]
}, kq = V0(Gq), Uq = {
  brandColor: "#326EF4",
  // ---------- semantic colors ----------
  semanticColors: {
    red: "#FF4D4F",
    green: "#29A294",
    yellow: "#FAAD14"
  },
  others: {
    // ---------- searchResults colors ----------
    highlight: "#87B5FF",
    results: "#F0F7FF"
  },
  basicColorRelations: [
    {
      basicColorIndex: 1,
      standardColorIndex: 0
    },
    {
      basicColorIndex: 2,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 3,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 4,
      standardColorIndex: 2
    },
    {
      basicColorIndex: 5,
      standardColorIndex: 7
    },
    {
      basicColorIndex: 6,
      standardColorIndex: 5
    },
    {
      basicColorIndex: 7,
      standardColorIndex: 5
    },
    {
      basicColorIndex: 9,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 10,
      standardColorIndex: 2
    },
    {
      basicColorIndex: 11,
      standardColorIndex: 5
    },
    {
      basicColorIndex: 12,
      standardColorIndex: 5
    }
  ]
}, Yq = V0(Uq), Xq = {
  brandColor: "#9DA7B6",
  // ---------- semantic colors ----------
  semanticColors: {
    red: "#FF4D4F",
    green: "#29A294",
    yellow: "#FAAD14"
  },
  others: {
    // ---------- searchResults colors ----------
    highlight: "#87B5FF",
    results: "#F0F7FF"
  },
  basicColorRelations: [
    {
      basicColorIndex: 1,
      standardColorIndex: 0
    },
    {
      basicColorIndex: 2,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 3,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 4,
      standardColorIndex: 2
    },
    {
      basicColorIndex: 5,
      standardColorIndex: 7
    },
    {
      basicColorIndex: 6,
      standardColorIndex: 8
    },
    {
      basicColorIndex: 7,
      standardColorIndex: 5
    },
    {
      basicColorIndex: 9,
      standardColorIndex: 1
    },
    {
      basicColorIndex: 10,
      standardColorIndex: 2
    },
    {
      basicColorIndex: 11,
      standardColorIndex: 3
    },
    {
      basicColorIndex: 12,
      standardColorIndex: 3
    }
  ]
}, Vq = V0(Xq), qq = {
  default: Yq,
  colorful: kq,
  gray: Vq
}, zn = "Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif", Kq = 12, jq = {
  小计: "小计",
  总计: "总计",
  总和: "（总和）",
  项: "项",
  已选择: "已选择",
  序号: "序号",
  度量: "度量",
  数值: "数值",
  共计: "共计",
  条: "条",
  趋势: "趋势",
  隐藏: "隐藏",
  组内升序: "组内升序",
  升序: "升序",
  降序: "降序",
  组内降序: "组内降序",
  不排序: "不排序",
  "，": "，"
}, Zq = {
  小计: "Total",
  总计: "Total",
  总和: "(SUM)",
  项: "items",
  已选择: "selected",
  序号: "Index",
  度量: "Measure",
  数值: "Measure",
  共计: "Total",
  条: "",
  隐藏: "Hide",
  趋势: "Trend",
  组内升序: "Group ASC",
  组内降序: "Group DESC",
  升序: "ASC",
  降序: "DESC",
  不排序: "No order",
  "，": ", "
}, fb = "zh_CN", cb = fb, Uv = {
  zh_CN: jq,
  en_US: Zq
}, Qq = function(e) {
  cb = e || fb;
}, Jq = function(e) {
  Uv = Lc({}, Uv, e);
}, Mt = function(e, r) {
  return r === void 0 && (r = e), _e(Uv, [cb, e], r);
}, Ji = "".concat(Wp, "-tooltip"), q0 = "".concat(Ji, "-container"), eK = "".concat(q0, "-show"), tK = "".concat(q0, "-hide"), Pm = {
  x: 15,
  y: 10
}, rK = function() {
  return {
    key: "hiddenColumns",
    text: Mt("隐藏"),
    icon: "EyeOutlined"
  };
}, nK = function() {
  return {
    key: "trend",
    text: Mt("趋势"),
    icon: "Trend"
  };
}, iK = function() {
  return [
    {
      key: "asc",
      icon: "groupAsc",
      text: Mt("组内升序")
    },
    {
      key: "desc",
      icon: "groupDesc",
      text: Mt("组内降序")
    },
    {
      key: "none",
      text: Mt("不排序")
    }
  ];
}, oK = function() {
  return [
    {
      key: "asc",
      icon: "groupAsc",
      text: Mt("升序")
    },
    {
      key: "desc",
      icon: "groupDesc",
      text: Mt("降序")
    },
    {
      key: "none",
      text: Mt("不排序")
    }
  ];
}, Fm;
(function(e) {
  e[e.ALL = 0] = "ALL", e[e.COL = 1] = "COL", e[e.ROW = 2] = "ROW";
})(Fm || (Fm = {}));
var Yv = 1, En;
(function(e) {
  e.All = "all", e.DetailOnly = "detailOnly";
})(En || (En = {}));
function Qt(e) {
  return e === "mobile" ? !0 : /(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent);
}
function aK() {
  return /iPhone/gi.test(navigator.userAgent) && window.screen.height === 812 && window.screen.width === 375;
}
function hb() {
  return /windows/i.test(navigator.userAgent);
}
var lK = function(e) {
  var r = e || "default";
  return qq[r.toLowerCase()];
}, sK = function(e) {
  var r, t, n, i, o, a = (e == null ? void 0 : e.palette) || lK(e == null ? void 0 : e.name), l = a.basicColors, s = a.semanticColors, f = a.others, h = (r = e == null ? void 0 : e.spreadsheet) === null || r === void 0 ? void 0 : r.isTableMode(), d = hb() ? "bold" : 700, v = function() {
    var g, y;
    return {
      bolderText: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: d,
        fill: l[13],
        opacity: 1,
        textAlign: "right",
        textBaseline: "middle",
        linkTextFill: l[6]
      },
      text: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: "normal",
        fill: l[13],
        opacity: 1,
        textAlign: "right",
        textBaseline: "middle",
        linkTextFill: l[6]
      },
      cell: {
        // ----------- background color -----------
        crossBackgroundColor: l[1],
        backgroundColor: l[8],
        backgroundColorOpacity: 1,
        // ----------- border color --------------
        horizontalBorderColor: l[9],
        horizontalBorderColorOpacity: 1,
        verticalBorderColor: l[9],
        verticalBorderColorOpacity: 1,
        // ----------- border width --------------
        horizontalBorderWidth: 1,
        verticalBorderWidth: 1,
        // -------------- border dash -----------------
        borderDash: [],
        // -------------- layout -----------------
        padding: {
          top: 8,
          right: 8,
          bottom: 8,
          left: 8
        },
        /* ---------- interaction state ----------- */
        interactionState: {
          // -------------- hover -------------------
          hover: {
            backgroundColor: l[2],
            backgroundOpacity: 0.6
          },
          // -------------- keep hover -------------------
          hoverFocus: {
            backgroundColor: l[2],
            backgroundOpacity: 0.6,
            borderColor: l[14],
            borderWidth: 1,
            borderOpacity: 1
          },
          // -------------- selected -------------------
          selected: {
            backgroundColor: l[2],
            backgroundOpacity: 0.6
          },
          // -------------- unselected -------------------
          unselected: {
            backgroundOpacity: 0.3,
            textOpacity: 0.3,
            opacity: 0.3
          },
          // -------------- searchResult -------------------
          searchResult: {
            backgroundColor: (g = f == null ? void 0 : f.results) !== null && g !== void 0 ? g : l[2],
            backgroundOpacity: 1
          },
          // -------------- highlight -------------------
          highlight: {
            backgroundColor: (y = f == null ? void 0 : f.highlight) !== null && y !== void 0 ? y : l[6],
            backgroundOpacity: 1
          },
          // -------------- prepare select --------------
          prepareSelect: {
            borderColor: l[14],
            borderOpacity: 1,
            borderWidth: 1
          }
        }
      },
      // ------------- mini chart ---------------
      miniChart: {
        // ------------- line graph -----------------
        line: {
          point: {
            size: 2.2,
            fill: l[6],
            opacity: 1
          },
          linkLine: {
            size: 1.5,
            fill: l[6],
            opacity: 0.6
          }
        },
        // ------------- bar graph -----------------
        bar: {
          intervalPadding: 4,
          fill: l[6],
          opacity: 1
        },
        // ------------- bullet graph -----------------
        bullet: {
          progressBar: {
            widthPercent: 0.6,
            height: 10,
            innerHeight: 6
          },
          comparativeMeasure: {
            width: 1,
            height: 12,
            fill: l[13],
            opacity: 0.25
          },
          rangeColors: {
            good: s == null ? void 0 : s.green,
            satisfactory: s.yellow,
            bad: s.red
          },
          backgroundColor: "#E9E9E9"
        },
        // ------------ interval bar graph -----------------
        interval: {
          height: Kq,
          fill: l[7]
        }
      },
      icon: {
        fill: l[13],
        downIconColor: s.red,
        upIconColor: s.green,
        size: 10,
        margin: {
          right: 4,
          left: 4
        }
      }
    };
  };
  return {
    // ------------- Headers -------------------
    cornerCell: {
      bolderText: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: d,
        fill: l[0],
        opacity: 1,
        textAlign: h ? "center" : "left",
        textBaseline: "middle"
      },
      text: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: d,
        fill: l[0],
        opacity: 1,
        textAlign: "right",
        textBaseline: "middle"
      },
      cell: {
        // ----------- background color -----------
        backgroundColor: l[3],
        backgroundColorOpacity: 1,
        // ----------- border color --------------
        horizontalBorderColor: l[10],
        horizontalBorderColorOpacity: 1,
        verticalBorderColor: l[10],
        verticalBorderColorOpacity: 1,
        // ----------- border width --------------
        horizontalBorderWidth: 1,
        verticalBorderWidth: 1,
        // -------------- border dash -----------------
        borderDash: [],
        // -------------- layout -----------------
        padding: {
          top: 0,
          right: 8,
          bottom: 0,
          left: 8
        }
      },
      icon: {
        fill: l[0],
        size: 10,
        margin: {
          right: 4,
          left: 4
        }
      }
    },
    rowCell: {
      seriesText: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: "normal",
        fill: l[14],
        linkTextFill: l[6],
        opacity: 1,
        textBaseline: h ? "middle" : "top",
        textAlign: "center"
      },
      measureText: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: "normal",
        fill: l[14],
        linkTextFill: l[6],
        opacity: 1,
        textAlign: h ? "center" : "left",
        textBaseline: "top"
      },
      bolderText: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: d,
        fill: l[14],
        linkTextFill: l[6],
        opacity: 1,
        textAlign: h ? "center" : "left",
        textBaseline: "top"
      },
      text: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: "normal",
        fill: l[14],
        linkTextFill: l[6],
        opacity: 1,
        textBaseline: "top",
        textAlign: h ? "center" : "left"
        // default align center for row cell in table mode
      },
      cell: {
        // ----------- background color -----------
        backgroundColor: l[1],
        backgroundColorOpacity: 1,
        // ----------- bottom border color --------------
        horizontalBorderColor: l[9],
        horizontalBorderColorOpacity: 1,
        verticalBorderColor: l[9],
        verticalBorderColorOpacity: 1,
        // ----------- bottom border width --------------
        horizontalBorderWidth: 1,
        verticalBorderWidth: 1,
        // -------------- border dash -----------------
        borderDash: [],
        // -------------- layout -----------------
        padding: {
          top: 0,
          right: 8,
          bottom: 0,
          left: 8
        },
        /* ---------- interaction state ----------- */
        interactionState: {
          // -------------- hover -------------------
          hover: {
            backgroundColor: l[2],
            backgroundOpacity: 0.6
          },
          // -------------- selected -------------------
          selected: {
            backgroundColor: l[2],
            backgroundOpacity: 0.6
          },
          // -------------- unselected -------------------
          unselected: {
            backgroundOpacity: 0.3,
            textOpacity: 0.3,
            opacity: 0.3
          },
          // -------------- prepare select --------------
          prepareSelect: {
            borderColor: l[14],
            borderOpacity: 1,
            borderWidth: 1
          },
          // -------------- searchResult -------------------
          searchResult: {
            backgroundColor: (t = f == null ? void 0 : f.results) !== null && t !== void 0 ? t : l[2],
            backgroundOpacity: 1
          },
          // -------------- highlight -------------------
          highlight: {
            backgroundColor: (n = f == null ? void 0 : f.highlight) !== null && n !== void 0 ? n : l[6],
            backgroundOpacity: 1
          }
        }
      },
      icon: {
        fill: l[14],
        size: 10,
        margin: {
          right: 4,
          left: 4
        }
      },
      seriesNumberWidth: 80
    },
    colCell: {
      measureText: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: "normal",
        fill: l[0],
        opacity: 1,
        // 默认数值字段和 dataCell 数值对齐
        textAlign: "right",
        textBaseline: "middle"
      },
      bolderText: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: d,
        fill: l[0],
        opacity: 1,
        textAlign: "center",
        textBaseline: "middle"
      },
      text: {
        fontFamily: zn,
        fontSize: 12,
        fontWeight: "normal",
        fill: l[0],
        opacity: 1,
        textAlign: "center",
        textBaseline: "middle"
      },
      cell: {
        // ----------- background color -----------
        backgroundColor: l[3],
        backgroundColorOpacity: 1,
        // ----------- border color --------------
        horizontalBorderColor: l[10],
        horizontalBorderColorOpacity: 1,
        verticalBorderColor: l[10],
        verticalBorderColorOpacity: 1,
        // ----------- border width --------------
        horizontalBorderWidth: 1,
        verticalBorderWidth: 1,
        // -------------- border dash -----------------
        borderDash: [],
        // -------------- layout -----------------
        padding: {
          top: 0,
          right: 8,
          bottom: 0,
          left: 8
        },
        /* ---------- interaction state ----------- */
        interactionState: {
          // -------------- hover -------------------
          hover: {
            backgroundColor: l[4],
            backgroundOpacity: 0.6
          },
          // -------------- selected -------------------
          selected: {
            backgroundColor: l[4],
            backgroundOpacity: 0.6
          },
          // -------------- unselected -------------------
          unselected: {
            backgroundOpacity: 0.3,
            textOpacity: 0.3,
            opacity: 0.3
          },
          // -------------- prepare select --------------
          prepareSelect: {
            borderColor: l[14],
            borderOpacity: 1,
            borderWidth: 1
          },
          // -------------- searchResult -------------------
          searchResult: {
            backgroundColor: (i = f == null ? void 0 : f.results) !== null && i !== void 0 ? i : l[2],
            backgroundOpacity: 1
          },
          // -------------- highlight -------------------
          highlight: {
            backgroundColor: (o = f == null ? void 0 : f.highlight) !== null && o !== void 0 ? o : l[6],
            backgroundOpacity: 1
          }
        }
      },
      icon: {
        fill: l[0],
        size: 10,
        margin: {
          top: 6,
          right: 4,
          bottom: 6,
          left: 4
        }
      }
    },
    // ------------- DataCell -------------------
    dataCell: v(),
    // ------------- MergedCell -------------------
    mergedCell: v(),
    // resize active area
    resizeArea: {
      size: 3,
      background: l[7],
      backgroundOpacity: 0,
      guideLineColor: l[7],
      guideLineDisableColor: "rgba(0,0,0,0.25)",
      guideLineDash: [3, 3],
      /* ---------- interaction state ----------- */
      interactionState: {
        hover: {
          backgroundColor: l[7],
          backgroundOpacity: 1
        }
      }
    },
    // ------------- scrollBar -------------------
    scrollBar: {
      trackColor: "rgba(0,0,0,0.01)",
      thumbHoverColor: "rgba(0,0,0,0.25)",
      thumbColor: "rgba(0,0,0,0.15)",
      thumbHorizontalMinSize: 32,
      thumbVerticalMinSize: 32,
      size: Qt() ? 3 : 6,
      hoverSize: Qt() ? 4 : 8,
      lineCap: "round"
    },
    // ------------- split line -----------------
    splitLine: {
      horizontalBorderColor: l[12],
      horizontalBorderColorOpacity: 0.2,
      horizontalBorderWidth: 2,
      verticalBorderColor: l[11],
      verticalBorderColorOpacity: 0.25,
      verticalBorderWidth: 2,
      showShadow: !0,
      shadowWidth: 8,
      shadowColors: {
        left: "rgba(0,0,0,0.1)",
        right: "rgba(0,0,0,0)"
      },
      borderDash: []
    },
    // ------------- prepareSelectMask -----------------
    prepareSelectMask: {
      backgroundColor: l[5],
      backgroundOpacity: 0.3
    },
    // ------------- canvas background
    background: {
      color: l[8],
      opacity: 1
    }
  };
}, ir = (
  /** @class */
  function() {
    function e(r) {
      this.x = 0, this.y = 0, this.width = 0, this.height = 0, this.colIndex = -1, this.level = 0, this.isLeaf = !1, this.children = [], this.padding = 0;
      var t = r.id, n = r.key, i = r.value, o = r.label, a = r.parent, l = r.level, s = r.rowIndex, f = r.isTotals, h = r.isGrandTotals, d = r.isSubTotals, v = r.isCollapsed, g = r.isTotalRoot, y = r.hierarchy, C = r.isPivotMode, m = r.seriesNumberWidth, w = r.field, S = r.spreadsheet, x = r.query, b = r.belongsCell, O = r.inCollapseNode, D = r.isTotalMeasure, N = r.isLeaf, W = r.extra;
      this.id = t, this.key = n, this.value = i, this.label = o || i, this.parent = a, this.level = l, this.rowIndex = s, this.isTotals = f, this.isCollapsed = v, this.hierarchy = y, this.isPivotMode = C, this.seriesNumberWidth = m, this.field = w, this.spreadsheet = S, this.query = x, this.belongsCell = b, this.inCollapseNode = O, this.isTotalMeasure = D, this.isLeaf = N, this.isGrandTotals = h, this.isSubTotals = d, this.isTotalRoot = g, this.extra = W;
    }
    return e.getFieldPath = function(r, t) {
      if (r && !r.isTotals || r && t) {
        for (var n = r.parent, i = [r.field]; n && n.id !== zp; )
          i.push(n.field), n = n.parent;
        return i.reverse();
      }
    }, e.getAllLeaveNodes = function(r) {
      var t = [];
      if (r.isLeaf)
        return [r];
      for (var n = Q([], U(r.children), !1), i = n.shift(); i; )
        i.isLeaf ? t.push(i) : n.unshift.apply(n, Q([], U(i.children), !1)), i = n.shift();
      return t;
    }, e.getAllChildrenNodes = function(r) {
      var t = [];
      if (r.isLeaf)
        return [r];
      for (var n = Q([], U(r.children || []), !1), i = n.shift(); i; )
        t.push(i), n.unshift.apply(n, Q([], U(i.children), !1)), i = n.shift();
      return t;
    }, e.getAllBranch = function(r) {
      for (var t = [], n = this.getAllLeaveNodes(r), i = n.shift(), o = []; i; ) {
        o.unshift(i);
        for (var a = i.parent; a && !sr(a, r); ) {
          o.unshift(a);
          a = a.parent;
        }
        t.push(o), i = n.shift(), o = [];
      }
      return t;
    }, e.blankNode = function() {
      return new e({
        id: "",
        key: "",
        value: ""
      });
    }, e.rootNode = function() {
      return new e({
        id: "root",
        key: "",
        value: ""
      });
    }, e.prototype.toJSON = function() {
      return M0(this, ["config", "hierarchy", "parent", "spreadsheet"]);
    }, e.prototype.getHeadLeafChild = function() {
      for (var r = this; !ne(r.children); )
        r = ol(r.children);
      return r;
    }, e.prototype.getTotalHeightForTreeHierarchy = function() {
      return this.height === 0 || ne(this.children) ? this.height : this.children.reduce(function(r, t) {
        return r + t.getTotalHeightForTreeHierarchy();
      }, this.height);
    }, e;
  }()
), db = (
  /** @class */
  function() {
    function e() {
      this.width = 0, this.height = 0, this.maxLevel = -1, this.sampleNodesForAllLevels = [], this.sampleNodeForLastLevel = null, this.allNodesWithoutRoot = [], this.indexNode = [];
    }
    return e.prototype.getLeaves = function() {
      return this.allNodesWithoutRoot.filter(function(r) {
        return r.isLeaf;
      });
    }, e.prototype.getNodes = function(r) {
      return r !== void 0 ? this.allNodesWithoutRoot.filter(function(t) {
        return t.level === r;
      }) : this.allNodesWithoutRoot;
    }, e.prototype.getNodesLessThanLevel = function(r) {
      return this.allNodesWithoutRoot.filter(function(t) {
        return t.level <= r;
      });
    }, e.prototype.pushNode = function(r, t) {
      t === void 0 && (t = -1), t === -1 ? this.allNodesWithoutRoot.push(r) : this.allNodesWithoutRoot.splice(t, 0, r);
    }, e.prototype.pushIndexNode = function(r) {
      this.indexNode.push(r);
    }, e.prototype.getIndexNodes = function() {
      return this.indexNode;
    }, e;
  }()
), al = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(r) {
      var t = r.label, n = r.isSubTotals, i = r.isGrandTotals, o = r.isTotalRoot;
      this.label = t, this.isSubTotals = n, this.isGrandTotals = i, this.isTotalRoot = o;
    }
    return e;
  }()
), uK = function(e) {
  var r, t = e.isFirstField, n = e.currentField, i = e.fieldValues, o = e.spreadsheet, a = e.lastField, l = o.getTotalsConfig(t ? n : a), s, f;
  t ? l != null && l.showGrandTotals && (s = l.reverseLayout ? "unshift" : "push", f = new al({
    label: l.label,
    isSubTotals: !1,
    isGrandTotals: !0,
    isTotalRoot: !0
  })) : (
    /**
     * 是否需要展示小计项
     * 1. showSubTotals 属性为真
     * 2. 子维度个数 > 1 或 showSubTotals.always 不为 false（undefined 认为是 true）
     */
    l != null && l.showSubTotals && (L.size(i) > 1 || L.get(l, "showSubTotals.always") !== !1) && n !== Ne && (s = l.reverseSubLayout ? "unshift" : "push", f = new al({
      label: l.subLabel,
      isSubTotals: !0,
      isGrandTotals: !1,
      isTotalRoot: !0
    }))
  ), (r = i[s]) === null || r === void 0 || r.call(i, f);
};
function Xv(e, r) {
  for (var t = {}, n = e; n && n.key; )
    (!n.isTotalRoot || r) && n.value !== dl && (t[n.key] = n.value), n = n.parent;
  return t;
}
var fK = "Transform Data", cK = "Header Layout", hK = "Data Cell Render", fi = (
  /** @class */
  function() {
    function e() {
      var r = this;
      this.debug = !1, this.debugCallback = function(t, n) {
        if (r.debug) {
          var i = performance.now();
          n();
          var o = performance.now();
          console.log(t, "".concat(o - i, " ms"));
        } else
          n();
      }, this.logger = function(t) {
        for (var n = [], i = 1; i < arguments.length; i++)
          n[i - 1] = arguments[i];
        r.debug && console.log.apply(console, Q([t], U(n), !1));
      };
    }
    return e.getInstance = function() {
      return e.instance || (e.instance = new e()), e.instance;
    }, e.prototype.setDebug = function(r) {
      this.debug = r;
    }, e;
  }()
), dK = `
<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">
    <text id="↓" fill="#29A294">
        <tspan x="-0.225097656" y="8.5">↓</tspan>
    </text>
</g>
</svg>`, vK = `<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">
    <text id="↑" fill="#FF4D4F">
        <tspan x="-0.225097656" y="8.5">↑</tspan>
    </text>
</g>
</svg>
`, pK = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 58 (84663) - https://sketch.com -->
    <title>down</title>
    <desc>Created with Sketch.</desc>
    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>
    </g>
</svg>`, gK = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 58 (84663) - https://sketch.com -->
    <title>up</title>
    <desc>Created with Sketch.</desc>
    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>
    </g>
</svg> `, yK = `<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="17452"
xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
<defs>
  <style type="text/css"></style>
</defs>
<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>
</svg>`, CK = `<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17561"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>
</svg>`, _K = `<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17670"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>
</svg>`, mK = `<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" p-id="17779"
  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>
</svg>`, wK = `<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="设计输出" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">
    <g id="设计输出-移动端指标详情页-阅读端" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">
        <g id="编组-39" transform="translate(3064.500000, 667.000000)">
            <g id="编组-36" transform="translate(80.500000, 44.000000)">
                <g id="不排序" transform="translate(130.000000, 13.000000)">
                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="形状结合"></path>
                </g>
            </g>
        </g>
    </g>q
</g>
</svg>`, xK = '<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>', SK = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>编组 8备份 3</title>
    <g id="----隐藏列标注！" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="隐藏列标注" transform="translate(-275.000000, -824.000000)">
            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>
            <g id="编组-8备份-3" transform="translate(275.000000, 824.000000)">
                <rect id="矩形" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>
                <rect id="矩形备份-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>
                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">
                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>
                </g>
                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">
                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>
                </g>
            </g>
            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="路径-2备份-3" stroke="#000000" opacity="0.25"></line>
        </g>
    </g>
</svg>`, TK = `<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"
width="200" height="200">
	<defs>
		<style type="text/css">
		</style>
	</defs>
	<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"
	p-id="16910">
	</path>
	<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"
	p-id="16911">
	</path>
</svg>`, bK = `<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
xmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"
width="200" height="200">
	<defs>
		<style type="text/css">
		</style>
	</defs>
	<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"
	p-id="17026">
	</path>
	<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"
	p-id="17027">
	</path>
</svg>`, EK = `<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"
    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>
</svg>
`, LK = `<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    fill-opacity="0.45"
    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"
    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>
</svg>
`, AK = `<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
<defs>
<style type="text/css"></style>
</defs>
<path
d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"
p-id="17621"></path>
</svg>
`, RK = `<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">
  <defs>
    <style type="text/css"></style>
  </defs>
  <path
    fill-opacity="0.45"
    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"
    p-id="17621"></path>
</svg>
`, OK = '<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>', IK = `<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>
`, MK = '<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>', $m = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  ArrowDown: dK,
  ArrowUp: vK,
  CellDown: pK,
  CellUp: gK,
  GlobalAsc: yK,
  GlobalDesc: CK,
  GroupAsc: _K,
  GroupDesc: mK,
  GroupNone: wK,
  Minus: TK,
  Plus: bK,
  SortDown: LK,
  SortUp: RK,
  SortDownSelected: EK,
  SortUpSelected: AK,
  InfoCircle: xK,
  ExpandColIcon: SK,
  Trend: OK,
  DrillDownIcon: IK,
  EyeOutlined: MK
}), vb = {}, pb = function(e, r) {
  vb[E0(e)] = r;
}, gb = function(e) {
  return vb[E0(e)];
};
Ft($m).forEach(function(e) {
  pb(e, $m[e]);
});
var Nm = "<svg", Hm = "data:image/svg+xml", zm = {}, Rs = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      return n.isOnlineLink = function(i) {
        return /^(https?:)?(\/\/)/.test(i);
      }, n.render(), n;
    }
    return r.prototype.getImage = function(t, n, i) {
      var o = this;
      return new Promise(function(a, l) {
        var s = gb(t);
        if (s) {
          var f = new Image();
          f.onload = function() {
            zm[n] = f, a(f);
          }, f.onerror = l, s.includes(Hm) || o.isOnlineLink(s) ? f.src = s : (i && (s = s.replace(/fill=[\'\"]#?\w+[\'\"]/g, ""), s = s.replace(/fill>/g, ">")), s = s.replace(Nm, "".concat(Nm, ' fill="').concat(i, '"')), f.src = "".concat(Hm, ";utf-8,").concat(encodeURIComponent(s)));
        }
      });
    }, r.prototype.render = function() {
      var t = this.cfg, n = t.name, i = t.fill, o = wl(this.cfg), a = F(F({}, M0(o, "fill")), { type: r.type }), l = new Fp({
        attrs: a
      });
      this.iconImageShape = l, this.setImageAttrs({ name: n, fill: i });
    }, r.prototype.setImageAttrs = function(t) {
      var n = this, i = t.name, o = t.fill, a = this.iconImageShape;
      i = i || a.attrs.name, o = o || a.attrs.fill;
      var l = "".concat(i, "-").concat(o), s = zm[l];
      s ? (a.attr("img", s), this.addShape("image", a)) : this.getImage(i, l, o).then(function(f) {
        var h, d, v, g = (v = (d = (h = n.getParent()) === null || h === void 0 ? void 0 : h.getMeta) === null || d === void 0 ? void 0 : d.call(h).spreadsheet) === null || v === void 0 ? void 0 : v.container;
        if (n.destroyed || g && !g.get("refreshElements")) {
          fi.getInstance().logger("GuiIcon ".concat(i, " destroyed."));
          return;
        }
        a.attr("img", f), n.addShape("image", a);
      }).catch(function(f) {
        if (f instanceof TypeError) {
          console.warn("GuiIcon ".concat(i, " destroyed:"), f);
          return;
        }
        console.error("GuiIcon ".concat(i, " load failed:"), f);
      });
    }, r.type = "__GUI_ICON__", r;
  }(_i)
), Kt;
(function(e) {
  e.TOP = "TOP", e.BOTTOM = "BOTTOM", e.LEFT = "LEFT", e.RIGHT = "RIGHT";
})(Kt || (Kt = {}));
var ka;
(function(e) {
  e.SUM = "SUM", e.MIN = "MIN", e.MAX = "MAX", e.AVG = "AVG";
})(ka || (ka = {}));
var Ln;
(function(e) {
  e.Row = "row", e.Col = "col", e.Series = "series";
})(Ln || (Ln = {}));
var BK = (
  /** @class */
  function() {
    function e() {
      this.store = /* @__PURE__ */ new Map();
    }
    return e.prototype.set = function(r, t) {
      return this.store.set(r, t);
    }, e.prototype.get = function(r, t) {
      var n, i = this.store.get(r);
      return (n = i) !== null && n !== void 0 ? n : t;
    }, e.prototype.clear = function() {
      this.store.clear();
    }, e.prototype.size = function() {
      return this.store.size;
    }, e;
  }()
), mf = function(e) {
  var r, t, n = e.facetCfg, i = e.level, o = e.fields, a = n.colCfg, l = n.spreadsheet, s = n.dataSet, f = s.moreThanOneValue(), h = (t = (r = l.dataCfg.fields) === null || r === void 0 ? void 0 : r.valueInCols) !== null && t !== void 0 ? t : !0, d = (a == null ? void 0 : a.hideMeasureColumn) && h && !f && Or(o, Ne), v = d ? 2 : 1;
  return i === o.length - v;
}, yb = function(e, r, t, n) {
  return r.layoutArrange ? r.layoutArrange(r.spreadsheet, t, n, e) : e;
}, K0 = function(e, r, t, n) {
  var i, o, a = (o = (i = e.spreadsheet) === null || i === void 0 ? void 0 : i.facet) === null || o === void 0 ? void 0 : o.getHiddenColumnsInfo(t);
  if (a && // fix: Only hiding the column headers is supported to prevent the row subtotals from being hidden when the IDs of the row totals and column totals are the same.
  e.columns.find(function(C) {
    return C === t.field;
  }))
    return !1;
  var l = !0, s = function(C, m, w) {
    m === void 0 && (m = -1), w === void 0 && (w = -1), m === -1 ? (r.children.push(C), n.pushNode(C)) : (r.children.splice(m, 0, C), n.pushNode(C, w));
  };
  if (e.layoutHierarchy) {
    var f = e.layoutHierarchy(e.spreadsheet, t);
    if (f) {
      var h = ui(f == null ? void 0 : f.delete) ? f == null ? void 0 : f.delete : !1;
      l = !h;
      var d = f.push, v = f.unshift, g = r.children.length, y = n.getNodes().length;
      ne(v) || (Oe(v, function(C) {
        s(C);
      }), g = r.children.length, y = n.getNodes().length), ne(d) || Oe(d, function(C) {
        s(C);
      }), h || s(t, g, y);
    } else
      s(t);
  } else
    s(t);
  return l;
}, Vv = function(e, r, t) {
  e != null && e.layoutCoordinate && (r != null && r.isLeaf || t != null && t.isLeaf) && (e == null || e.layoutCoordinate(e.spreadsheet, r, t));
}, DK = function(e, r) {
  var t = e == null ? void 0 : e.layoutDataPosition;
  if (t) {
    var n = r.getCellMeta, i = t(e.spreadsheet, n);
    return F(F({}, r), { getCellMeta: i });
  }
  return r;
}, Cb = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(r) {
      this.label = r;
    }
    return e;
  }()
), _b = function(e) {
  var r = e.addTotalMeasureInTotal, t = e.parentNode, n = e.currentField, i = e.fields, o = e.facetCfg, a = e.hierarchy, l = i.indexOf(n), s = o.dataSet, f = o.values, h = o.spreadsheet, d = [], v = {}, g = h.getTotalsConfig(n), y = t.isGrandTotals ? g.totalsGroupDimensions : g.subTotalsGroupDimensions;
  if (y != null && y.includes(n)) {
    v = Xv(t);
    var C = s.getDimensionValues(n, v);
    d.push.apply(d, Q([], U((C || []).map(function(w) {
      return new al({
        label: w,
        isSubTotals: t.isSubTotals,
        isGrandTotals: t.isGrandTotals,
        isTotalRoot: !1
      });
    })), !1)), ne(d) && n && d.push(dl);
  } else if (r && n === Ne)
    v = Xv(t), d.push.apply(d, Q([], U(f.map(function(w) {
      return new Cb(w);
    })), !1));
  else if (mf({ facetCfg: o, level: l, fields: i })) {
    t.isLeaf = !0, a.pushIndexNode(t), t.rowIndex = a.getIndexNodes().length - 1;
    return;
  } else {
    _b(F(F({}, e), { currentField: i[l + 1] }));
    return;
  }
  var m = d.filter(function(w) {
    return !bc(w);
  });
  j0(F(F({}, e), { fieldValues: m, level: l, parentNode: t, query: v }));
}, PK = function(e) {
  var r, t = e.parentNode, n = e.currentField, i = e.fields, o = e.facetCfg, a = i.indexOf(n), l = o.dataSet, s = o.spreadsheet, f = [], h = {};
  h = Xv(t, !0);
  var d = l.getDimensionValues(n, h), v = yb(d, o, t, n);
  f.push.apply(f, Q([], U(v || []), !1)), ne(f) && n && (n === Ne ? f.push.apply(f, Q([], U((r = l.fields) === null || r === void 0 ? void 0 : r.values), !1)) : f.push(dl)), uK({
    currentField: n,
    lastField: i[a - 1],
    isFirstField: a === 0,
    fieldValues: f,
    spreadsheet: s
  });
  var g = f.filter(function(y) {
    return !bc(y);
  });
  j0(F(F({}, e), { fieldValues: g, level: a, parentNode: t, query: h }));
}, mb = function(e) {
  e.parentNode.isTotals ? _b(e) : PK(e);
}, Os = function(e, r) {
  return "".concat(e).concat(lr).concat(r);
}, j0 = function(e) {
  var r, t, n, i, o, a, l, s, f, h, d = e.currentField, v = e.fields, g = e.fieldValues, y = e.facetCfg, C = e.hierarchy, m = e.parentNode, w = e.level, S = e.query, x = e.addMeasureInTotalQuery, b = e.addTotalMeasureInTotal, O = y.spreadsheet, D = y.collapsedCols;
  try {
    for (var N = Yr(g.entries()), W = N.next(); !W.done; W = N.next()) {
      var k = U(W.value, 2), ee = k[0], J = k[1], te = J instanceof al, ae = J instanceof Cb, fe = void 0, j = void 0, ie = !1, Ie = !1, we = !1, Te = !1, he = d;
      if (te) {
        var be = J;
        Ie = be.isGrandTotals, we = be.isSubTotals, Te = be.isTotalRoot, fe = Mt(J.label), Te ? j = S : j = F(F({}, S), (n = {}, n[d] = fe, n)), x && (j[Ne] = (l = O == null ? void 0 : O.dataSet) === null || l === void 0 ? void 0 : l.fields.values[0]), ie = mf({ facetCfg: y, level: w, fields: v });
      } else
        ae ? (fe = Mt(J.label), j = F(F({}, S), (i = {}, i[Ne] = fe, i)), he = Ne, Ie = m.isGrandTotals, we = m.isSubTotals, ie = mf({ facetCfg: y, level: w, fields: v })) : O.isTableMode() ? (fe = J, he = v[ee], j = F(F({}, S), (o = {}, o[he] = fe, o)), ie = !0) : (fe = J, j = fe === dl ? F({}, S) : F(F({}, S), (a = {}, a[d] = fe, a)), ie = mf({ facetCfg: y, level: w, fields: v }));
      var Ae = Os(m.id, fe);
      if (!Ae)
        return;
      var mt = ui(D == null ? void 0 : D[Ae]) ? D == null ? void 0 : D[Ae] : !1, Xe = new ir({
        id: Ae,
        key: he,
        value: fe,
        level: w,
        field: he,
        parent: m,
        isTotals: te || ae,
        isGrandTotals: Ie,
        isSubTotals: we,
        isTotalMeasure: ae,
        isCollapsed: mt,
        isTotalRoot: Te,
        hierarchy: C,
        query: j,
        spreadsheet: O,
        isLeaf: ie || mt
      }), ze = K0(y, m, Xe, C), lt = (s = O == null ? void 0 : O.facet) === null || s === void 0 ? void 0 : s.getHiddenColumnsInfo(Xe);
      lt && m && (m.hiddenChildNodeInfo = lt), w > C.maxLevel && !Ie && !m.isGrandTotals && !m.isSubTotals && !Xe.isSubTotals && (C.sampleNodesForAllLevels.push(Xe), C.maxLevel = w, C.sampleNodeForLastLevel = lt ? ((f = lt == null ? void 0 : lt.displaySiblingNode) === null || f === void 0 ? void 0 : f.next) || ((h = lt == null ? void 0 : lt.displaySiblingNode) === null || h === void 0 ? void 0 : h.prev) : Xe);
      var fr = ie || mt || !ze;
      fr ? (Xe.isLeaf = !0, C.pushIndexNode(Xe), Xe.rowIndex = C.getIndexNodes().length - 1) : mb({
        addTotalMeasureInTotal: b,
        addMeasureInTotalQuery: x,
        parentNode: Xe,
        currentField: v[w + 1],
        fields: v,
        facetCfg: y,
        hierarchy: C
      });
    }
  } catch (wr) {
    r = { error: wr };
  } finally {
    try {
      W && !W.done && (t = N.return) && t.call(N);
    } finally {
      if (r)
        throw r.error;
    }
  }
}, wb = function(e, r, t, n) {
  var i = r.facetCfg, o = r.hierarchy, a = r.parentNode, l = i.dataSet;
  e.forEach(function(s, f) {
    typeof s == "string" && (s = { key: s });
    var h = s.key, d = h === aa ? Mt("序号") : l.getFieldName(h), v = n || a;
    if (j0({
      currentField: h,
      fields: [h],
      fieldValues: [d],
      facetCfg: i,
      hierarchy: o,
      parentNode: v,
      level: t,
      query: {},
      addMeasureInTotalQuery: !1,
      addTotalMeasureInTotal: !1
    }), s.children && s.children.length) {
      var g = v.children[f];
      g.isLeaf = !1, wb(s.children, r, t + 1, g);
    }
  });
}, ta = function(e, r) {
  return r > 0 && e < r;
}, ra = function(e, r, t) {
  return r > 0 && e >= t - r;
}, Mc = function(e, r, t) {
  return t > 0 && e < r + t;
}, Qs = function(e, r, t) {
  return t > 0 && e >= r + 1 - t;
}, Z0 = function(e, r, t, n, i, o) {
  var a = il(t, function(d, v) {
    var g = e - (Yt(o) ? 0 : o) + i.x;
    return g >= d && g < t[v + 1];
  }, 0);
  a = Math.max(a, 0);
  var l = il(t, function(d, v) {
    var g = i.width + e + i.x;
    return g >= d && g < t[v + 1];
  }, a);
  l = Math.min(l === -1 ? 1 / 0 : l, t.length - 2);
  var s = n.getIndexRange(r + i.y, i.height + r + i.y), f = s.start, h = s.end;
  return [a, l, f, h];
}, FK = function(e, r, t) {
  var n = 2, i = Math.abs(e / r), o = i <= 1 / n ? 0 : e, a = i > n ? 0 : r;
  return [o * t.horizontal, a * t.vertical];
}, $i = function(e, r, t) {
  var n, i, o = e == null ? void 0 : e.getMatrix(), a = (n = o == null ? void 0 : o[6]) !== null && n !== void 0 ? n : 0, l = (i = o == null ? void 0 : o[7]) !== null && i !== void 0 ? i : 0;
  e == null || e.translate(r - a, t - l);
}, Bc = function(e, r) {
  var t, n = e == null ? void 0 : e.getMatrix(), i = (t = n == null ? void 0 : n[6]) !== null && t !== void 0 ? t : 0;
  e == null || e.translate(r - i, 0);
}, $K = function(e, r) {
  var t, n = e == null ? void 0 : e.getMatrix(), i = (t = n == null ? void 0 : n[7]) !== null && t !== void 0 ? t : 0;
  e == null || e.translate(0, r - i);
}, NK = function(e, r, t, n) {
  var i = r.frozenColCount, o = r.frozenRowCount, a = r.frozenTrailingColCount, l = r.frozenTrailingRowCount, s = e.colIndex, f = e.rowIndex;
  return Mc(f, n.start, o) ? Ut.ROW : Qs(f, n.end, l) ? Ut.TRAILING_ROW : ta(s, i) ? Ut.COL : ra(s, a, t) ? Ut.TRAILING_COL : Ut.SCROLL;
}, HK = function(e, r, t) {
  for (var n, i = e.frozenColCount, o = e.frozenRowCount, a = e.frozenTrailingColCount, l = e.frozenTrailingRowCount, s = (n = {}, n[Ut.TOP] = [], n[Ut.BOTTOM] = [], n), f = 0; f < i; f++) {
    for (var h = t.start; h < t.start + o; h++)
      s[Ut.TOP].push({
        x: f,
        y: h
      });
    if (l > 0)
      for (var h = 0; h < l; h++) {
        var d = t.end - h;
        s[Ut.BOTTOM].push({
          x: f,
          y: d
        });
      }
  }
  for (var f = 0; f < a; f++) {
    for (var v = r - 1 - f, h = t.start; h < t.start + o; h++)
      s[Ut.TOP].push({
        x: v,
        y: h
      });
    if (l > 0)
      for (var h = 0; h < l; h++) {
        var d = t.end - h;
        s[Ut.BOTTOM].push({
          x: v,
          y: d
        });
      }
  }
  return s;
}, zK = function(e, r, t, n) {
  var i = r.frozenColCount, o = r.frozenRowCount, a = r.frozenTrailingColCount, l = r.frozenTrailingRowCount, s = Q([], U(e), !1);
  ta(s[0], i) && (s[0] = i), ra(s[1], a, t) && (s[1] = t - a - 1), Mc(s[2], n.start, o) && (s[2] = n.start + o), Qs(s[3], n.end, l) && (s[3] = n.end - l);
  var f = Q([], U(s), !1);
  f[2] = n.start, f[3] = n.start + o - 1;
  var h = Q([], U(s), !1);
  h[0] = 0, h[1] = i - 1;
  var d = Q([], U(s), !1);
  d[2] = n.end + 1 - l, d[3] = n.end;
  var v = Q([], U(s), !1);
  return v[0] = t - a, v[1] = t - 1, {
    center: s,
    frozenRow: f,
    frozenCol: h,
    frozenTrailingCol: v,
    frozenTrailingRow: d
  };
}, WK = function(e, r) {
  var t = e, n = 0, i = t.getTotalLength() - 1;
  if (r) {
    var o = r.current, a = o === void 0 ? Yv : o, l = r.pageSize;
    n = Math.max((a - 1) * l, 0), i = Math.min(a * l - 1, t.getTotalLength() - 1);
  }
  return {
    start: n,
    end: i
  };
}, Is = function(e, r, t) {
  var n = r, i = t, o = function(a) {
    return a.isLeaf ? 1 : a.children ? a.children.reduce(function(l, s) {
      return l += o(s), l;
    }, 0) : 0;
  };
  return r && (n = e.slice(0, r).reduce(function(a, l) {
    return a += o(l), a;
  }, 0)), t && (i = e.slice(e.length - t).reduce(function(a, l) {
    return a += o(l), a;
  }, 0)), { colCount: n, trailingColCount: i };
}, xb = function(e, r) {
  return e.reduce(function(t, n) {
    typeof n == "string" && (n = { key: n });
    var i = F({}, n);
    return i.children ? (i.children = xb(i.children, r), t.push(i), t) : (r[i.key] && t.push(i), t);
  }, []);
}, Gn = function(e) {
  return e.parent.id === "root";
}, GK = function(e) {
  for (; !Gn(e); )
    e = e.parent;
  return e;
}, kK = function(e) {
  var r = [], t = function(n) {
    n.forEach(function(i) {
      typeof i == "string" || !i.children ? r.push(i) : t(i.children);
    });
  };
  return t(e), r;
}, wa = function(e) {
  var r = kK(e);
  return r.map(function(t) {
    return typeof t == "string" ? t : t.key;
  });
}, ns = function(e) {
  var r = e.children[0];
  return r ? r.isLeaf ? r : ns(r) : e;
}, UK = function(e) {
  return ne(e.rows) && ne(e.columns) && ne(e.values) && ne(e.customTreeItems);
}, ll = function(e, r) {
  var t, n = e.pagination, i = e.frozenFirstRow, o = e.hierarchyType, a = e.showSeriesNumber, l = n && n.pageSize, s = !1, f = r == null ? void 0 : r[0];
  if (!l && i) {
    s = ((t = f == null ? void 0 : f.children) === null || t === void 0 ? void 0 : t.length) === 0;
    var h = o === "tree" || o === "customTree";
    h && !s && (s = !a);
  }
  var d = s && !!f;
  return {
    frozenRowCount: d ? 1 : 0,
    frozenColCount: 0,
    frozenTrailingColCount: 0,
    frozenTrailingRowCount: 0,
    enableFrozenFirstRow: s,
    frozenRowHeight: d ? f.height : 0
  };
}, YK = function(e) {
  var r = e.facetCfg, t = r.columns, n = r.spreadsheet, i = n.store.get("hiddenColumnsDetail"), o = r == null ? void 0 : r.showSeriesNumber, a = wa(t), l = a.filter(function(d) {
    return i ? i.every(function(v) {
      return v.hideColumnNodes.every(function(g) {
        return g.field !== d;
      });
    }) : !0;
  }), s = Q([], U(l), !1), f = Q([], U(t), !1), h = {};
  o && (f.unshift({
    key: aa
  }), h[aa] = !0), s.reduce(function(d, v) {
    return d[v] = !0, d;
  }, h), wb(xb(f, h), e, 0, null);
}, Ua = function(e) {
  return Number.parseFloat((sn(e) || 0).toPrecision(SS));
}, mo = function(e, r, t) {
  if (t === void 0 && (t = 0), !Object.values(e).find(function(a) {
    return a > 0;
  }))
    return e;
  var n = F({}, e);
  n.frozenColCount >= r && (n.frozenColCount = r);
  var i = r - n.frozenColCount;
  n.frozenTrailingColCount > i && (n.frozenTrailingColCount = i), n.frozenRowCount >= t && (n.frozenRowCount = t);
  var o = t - n.frozenRowCount;
  return n.frozenTrailingRowCount > o && (n.frozenTrailingRowCount = o), n;
};
function un(e, r, t) {
  var n;
  return (n = e == null ? void 0 : e.addShape) === null || n === void 0 ? void 0 : n.call(e, "rect", F({ zIndex: 1, attrs: r }, t || {}));
}
function XK(e, r) {
  var t;
  return (t = e == null ? void 0 : e.addShape) === null || t === void 0 ? void 0 : t.call(e, "polygon", {
    attrs: r
  });
}
function VK(e, r) {
  var t;
  return (t = e == null ? void 0 : e.addShape) === null || t === void 0 ? void 0 : t.call(e, "polyline", {
    attrs: r
  });
}
function Sb(e, r) {
  var t;
  return (t = e == null ? void 0 : e.addShape) === null || t === void 0 ? void 0 : t.call(e, "circle", {
    attrs: r
  });
}
function ha(e, r, t, n, i, o, a, l) {
  var s;
  return !ne(r) && e && Oe(r, function(f) {
    e.contain(f) && e.removeChild(f, !0);
  }), (s = e == null ? void 0 : e.addShape) === null || s === void 0 ? void 0 : s.call(e, "text", {
    attrs: F(F({ x: t, y: n, text: i, originalText: l }, o), a)
  });
}
function or(e, r, t) {
  var n;
  return (n = e == null ? void 0 : e.addShape) === null || n === void 0 ? void 0 : n.call(e, "line", {
    zIndex: 100,
    attrs: F(F({}, r), t)
  });
}
function Sn(e, r, t) {
  if (!ne(e)) {
    var n = ve(e) ? e : [e];
    n.forEach(function(i) {
      Ls(i, "attrs.".concat(r), t);
    });
  }
}
function Q0(e, r) {
  var t = new Rs(r);
  return e == null || e.add(t), t;
}
function Tb(e, r, t, n, i) {
  var o = new Rs(F(F({ name: n ? "Plus" : "Minus" }, r), { fill: t }));
  return Jt(i) && o.on("click", i), e == null || e.add(o), o;
}
var qv = "s2-offscreen-canvas", qK = function() {
  var e = document.getElementById(qv);
  return e || (e = document.createElement("canvas"), e.id = qv, e.style.display = "none", document.body.appendChild(e), e);
}, KK = function() {
  var e;
  (e = document.getElementById(qv)) === null || e === void 0 || e.remove();
}, jK = function(e) {
  var r;
  return (r = e == null ? void 0 : e.position) !== null && r !== void 0 ? r : "right";
}, ZK = function(e, r) {
  e === void 0 && (e = 0), r === void 0 && (r = 0), e = Ua(e), r = Ua(r);
  var t = e >= 0, n = r >= 0 && e <= 0, i = t ? e : r, o = n ? 0 : i, a = r - e;
  return function(l) {
    var s = t ? 0 : 1, f = n ? Gf(Math.abs(0 - e) / a, 0, 1) : s, h = Gf((l - o) / a, -1, 1);
    return { zeroScale: f, scale: h };
  };
}, bb = function(e, r) {
  var t, n, i, o = e.data, a = e.encode, l = e.type, s = r.getMeta(), f = s.x, h = s.y, d = s.height, v = s.width, g = r.getStyle(re.DATA_CELL), y = g.cell, C = g.miniChart, m = [], w = Ke(o, function(ae) {
    return m.push(ae == null ? void 0 : ae[a.y]), {
      x: ae[a.x],
      y: ae[a.y]
    };
  }), S = Wi(m), x = O0(m), b = S - x, O = f + y.padding.left, D = f + v - y.padding.right, N = h + y.padding.top, W = h + d - y.padding.bottom, k = W - N, ee = l === nl.Bar ? (D - O - (m.length - 1) * ((t = C == null ? void 0 : C.bar) === null || t === void 0 ? void 0 : t.intervalPadding)) / m.length + ((n = C == null ? void 0 : C.bar) === null || n === void 0 ? void 0 : n.intervalPadding) : (i = (D - O) / (m.length - 1)) !== null && i !== void 0 ? i : 0, J = [], te = Ke(w, function(ae, fe) {
    var j, ie = O + fe * ee, Ie;
    if (b !== 0 ? Ie = W - ((ae == null ? void 0 : ae.y) - x) / b * k : Ie = x > 0 ? N : W, l === nl.Bar) {
      var we = void 0, Te = void 0;
      x < 0 && S > 0 && b !== 0 ? (we = W - (0 - x) / b * k, Te = Math.abs(Ie - we), (ae == null ? void 0 : ae.y) < 0 && (Ie = we)) : (we = x < 0 ? N : W, b = Wi([Math.abs(S), Math.abs(x)]), Te = b === 0 ? k : Math.abs((ae == null ? void 0 : ae.y) - 0) / b * k, Ie = we);
      var he = ee - ((j = C == null ? void 0 : C.bar) === null || j === void 0 ? void 0 : j.intervalPadding);
      J.push([he, Te]);
    }
    return [ie, Ie];
  });
  return {
    points: te,
    box: J
  };
}, QK = function(e, r) {
  if (!(ne(e == null ? void 0 : e.data) || ne(r))) {
    var t = r.getStyle(re.DATA_CELL), n = t.miniChart, i = n.line, o = i.point, a = i.linkLine, l = bb(e, r).points;
    VK(r, {
      points: l,
      stroke: a.fill,
      lineWidth: a.size,
      opacity: a.opacity
    });
    for (var s = 0; s < l.length; s++)
      Sb(r, {
        x: l[s][0],
        y: l[s][1],
        r: o.size,
        fill: o.fill,
        fillOpacity: o.opacity
      });
  }
}, JK = function(e, r) {
  if (!(ne(e == null ? void 0 : e.data) || ne(r)))
    for (var t = r.getStyle(re.DATA_CELL), n = t.miniChart, i = n.bar, o = bb(e, r), a = o.points, l = o.box, s = 0; s < a.length; s++)
      un(r, {
        x: a[s][0],
        y: a[s][1],
        width: l[s][0],
        height: l[s][1],
        fill: i.fill,
        fillOpacity: i.opacity
      });
}, ej = function(e, r, t) {
  var n = Number(r) - Number(e);
  return Number.isNaN(n) || Number(e) < 0 ? t.bad : n <= 0.1 ? t.good : n > 0.1 && n <= 0.2 ? t.satisfactory : t.bad;
}, tj = function(e, r) {
  var t, n;
  r === void 0 && (r = { min: 0, max: 0 });
  var i = Number(e);
  if (Number.isNaN(i))
    return e;
  var o = (t = r == null ? void 0 : r.min) !== null && t !== void 0 ? t : r, a = (n = r == null ? void 0 : r.max) !== null && n !== void 0 ? n : r, l = new Intl.NumberFormat("en-US", {
    minimumFractionDigits: o,
    maximumFractionDigits: a,
    // 禁用自动分组: "12220%" => "12,220%"
    useGrouping: !1,
    style: "percent"
  });
  return l.format(i);
}, rj = function(e) {
  var r, t, n, i, o, a;
  if (!ne(e)) {
    var l = e.getCellArea(), s = l.x, f = l.y, h = l.height, d = l.width, v = e.findFieldCondition((r = e.cellConditions) === null || r === void 0 ? void 0 : r.interval);
    if (v && v.mapping) {
      var g = e.mappingValue(v);
      if (!g)
        return;
      var y = g.isCompare ? g : e.valueRangeByField, C = Ua(y.minValue), m = Ua(y.maxValue), w = Yt(g == null ? void 0 : g.fieldValue) ? Ua(e.getMeta().fieldValue) : Ua(g == null ? void 0 : g.fieldValue);
      if (w < C || w > m)
        return;
      var S = (n = (t = e.getStyle().miniChart.interval) === null || t === void 0 ? void 0 : t.height) !== null && n !== void 0 ? n : e.getStyle().cell.miniBarChartHeight, x = (o = (i = e.getStyle().miniChart.interval) === null || i === void 0 ? void 0 : i.fill) !== null && o !== void 0 ? o : e.getStyle().cell.miniBarChartFillColor, b = ZK(C, m), O = b(w), D = O.zeroScale, N = O.scale, W = (a = g.fill) !== null && a !== void 0 ? a : x;
      return un(e, {
        x: s + d * D,
        y: f + h / 2 - S / 2,
        width: d * N,
        height: S,
        fill: W
      });
    }
  }
}, nj = function(e, r) {
  var t, n = r.getStyle(re.DATA_CELL), i = r.getMeta(), o = i.x, a = i.y, l = i.height, s = i.width, f = i.spreadsheet;
  if (ne(e)) {
    ha(r, [], o + s - n.cell.padding.right, a + l / 2, bl(r, f.options.placeholder), n.text);
    return;
  }
  var h = n.miniChart.bullet, d = h.progressBar, v = h.comparativeMeasure, g = h.rangeColors, y = h.backgroundColor, C = e.measure, m = e.target, w = Math.max(Number(C), 0), S = Math.max(Number(m), 0), x = tj(C, 2), b = (d == null ? void 0 : d.widthPercent) > 1 ? (d == null ? void 0 : d.widthPercent) / 100 : d == null ? void 0 : d.widthPercent, O = n.cell.padding, D = s - O.left - O.right, N = b * D, W = D - N, k = o + s - O.right - N, ee = a + l / 2 - d.height / 2;
  un(r, {
    x: k,
    y: ee,
    width: N,
    height: d.height,
    fill: y,
    textBaseline: n.text.textBaseline
  });
  var J = _e(r.getMeta(), "spreadsheet.options.bullet.getRangeColor"), te = Math.max(Math.min(N * w, N), 0);
  un(r, {
    x: k,
    y: ee + (d.height - d.innerHeight) / 2,
    width: te,
    height: d.innerHeight,
    fill: (t = J == null ? void 0 : J(w, S)) !== null && t !== void 0 ? t : ej(w, S, g)
  });
  var ae = k + N * S;
  or(r, {
    x1: ae,
    y1: a + (l - v.height) / 2,
    x2: ae,
    y2: a + (l - v.height) / 2 + v.height
  }, {
    stroke: (v == null ? void 0 : v.fill) || (v == null ? void 0 : v.color),
    lineWidth: v.width,
    opacity: v == null ? void 0 : v.opacity
  }), ha(r, [], k - O.right, a + l / 2, sl({
    measureTextWidth: f.measureTextWidth,
    text: x,
    maxWidth: W - O.right,
    fontParam: n.text
  }), n.text);
}, ij = function(e, r) {
  switch (r == null ? void 0 : r.type) {
    case nl.Line:
      QK(r, e);
      break;
    case nl.Bar:
      JK(r, e);
      break;
    default:
      nj(r, e);
      break;
  }
}, Eb = function(e, r) {
  var t = e.x, n = e.y, i = e.width, o = e.height, a = i - (r == null ? void 0 : r.left) - (r == null ? void 0 : r.right), l = o - (r == null ? void 0 : r.top) - (r == null ? void 0 : r.bottom);
  return {
    x: t + (r == null ? void 0 : r.left),
    y: n + (r == null ? void 0 : r.top),
    width: a,
    height: l
  };
}, Lb = function(e) {
  return Lc({
    size: 0,
    position: "right",
    margin: {
      left: 0,
      right: 0
    }
  }, e);
}, Ab = function(e, r) {
  return r = Lb(r), e - r.size - r.margin.right - r.margin.left;
}, Yf = function(e, r, t) {
  var n = e.y, i = e.height;
  t === void 0 && (t = 0);
  var o = 0;
  switch (r) {
    case "top":
      o = n;
      break;
    case "middle":
      o = n + i / 2 - t / 2;
      break;
    default:
      o = n + i - t;
      break;
  }
  return o;
}, Js = function(e, r, t, n, i) {
  t === void 0 && (t = 0), i === void 0 && (i = 1);
  var o = e.x, a = e.width, l = r.textAlign, s = r.textBaseline, f = Lb(n), h = f.size, d = f.margin, v = f.position, g = i * (h + d.left) + (i ? d.right : 0), y, C;
  switch (l) {
    case "left":
      y = o + (v === "left" ? g : 0), C = o + (v === "left" ? d.left : t + d.left);
      break;
    case "center": {
      var m = g - (v === "left" ? d.left : d.right) + t, w = o + a / 2 - m / 2;
      y = w + t / 2 + (v === "left" ? g - d.left : 0), C = w + (v === "left" ? 0 : t + d.left);
      break;
    }
    default: {
      y = o + a - (v === "right" ? g : 0), C = o + a - (v === "right" ? g - d.left : t + g - d.left);
      break;
    }
  }
  var S = Yf(e, s, 0), x = Yf(e, s, h);
  return {
    text: { x: y, y: S },
    icon: { x: C, y: x }
  };
}, oj = function(e, r) {
  return Js(e, r).text;
}, aj = function(e, r, t) {
  var n = r.start + r.width, i = e.start + e.width, o, a;
  if (r.start <= e.start && n >= i)
    o = e.start + e.width / 2, a = e.width;
  else if (r.start <= e.start) {
    var l = r.width - (e.start - r.start);
    o = l < t ? n - t / 2 : n - l / 2, a = l;
  } else if (n >= i) {
    var l = r.width - (n - i);
    o = l < t ? r.start + t / 2 : r.start + l / 2, a = l;
  } else
    o = r.start + r.width / 2, a = r.width;
  return { start: o, width: a };
}, da = function(e, r, t) {
  var n = r.x, i = r.y, o = r.width, a = r.height, l = t.horizontalBorderWidth, s = t.horizontalBorderColorOpacity, f = t.horizontalBorderColor, h = t.verticalBorderWidth, d = t.verticalBorderColor, v = t.verticalBorderColorOpacity, g = t.borderDash, y, C, m, w, S;
  if (e === Kt.TOP || e === Kt.BOTTOM) {
    var x = i;
    e === Kt.TOP ? x = i + h / 2 : x = i + a - h / 2, C = x, w = x, y = n, m = n + o, S = {
      lineWidth: l,
      stroke: f,
      strokeOpacity: s,
      lineDash: g
    };
  }
  if (e === Kt.LEFT || e === Kt.RIGHT) {
    var b = n;
    e === Kt.LEFT ? b = n + l / 2 : b = n + o - l / 2, y = b, m = b, C = i, w = i + a, S = {
      lineWidth: h,
      stroke: d,
      strokeOpacity: v,
      lineDash: g
    };
  }
  return {
    position: {
      x1: y,
      x2: m,
      y1: C,
      y2: w
    },
    style: S
  };
}, lj = function(e, r, t) {
  t === void 0 && (t = { left: 0, right: 0 });
  var n = F({}, e);
  return r === "left" ? (n.start += t.left, n.width -= t.left) : r === "right" && (n.width -= t.right), n;
}, sj = function(e, r, t, n) {
  var i = r + t, o = e.start;
  if (n === "center")
    return o - t / 2;
  var a = e.width - i > 0, l = a ? e.width / 2 : i / 2;
  return n === "left" ? o - l : o + l - t;
};
Ca(function(e, r) {
  if (e === void 0 && (e = ""), !r)
    return 0;
  var t = qK().getContext("2d"), n = r, i = n.fontSize, o = n.fontFamily, a = n.fontWeight, l = n.fontStyle, s = n.fontVariant;
  return t.font = [l, s, a, "".concat(i, "px"), o].join(" ").trim(), t.measureText("".concat(e)).width;
}, function(e, r) {
  return Q([e], U(Qi(r)), !1).join("");
});
var Wm = function(e, r, t, n) {
  var i = 16, o = e(Va, n), a;
  Sl(r) ? a = r : a = ct(r);
  var l = t, s = [], f, h;
  if (e(r, n) <= t)
    return r;
  for (var d = !0; d; ) {
    if (f = a.substr(0, i), h = e(f, n), h + o > l && h > l) {
      d = !1;
      break;
    }
    if (s.push(f), l -= h, a = a.substr(i), !a)
      return s.join("");
  }
  for (var v = !0; v; ) {
    if (f = a.substr(0, 1), h = e(f, n), h + o > l) {
      v = !1;
      break;
    }
    if (s.push(f), l -= h, a = a.substr(1), !a)
      return s.join("");
  }
  return "".concat(s.join(""), "...");
}, sl = function(e) {
  var r = e.measureTextWidth, t = e.text, n = e.maxWidth, i = e.fontParam, o = e.priorityParam, a = e.placeholder, l = {}, s = a ?? rl, f = Yt(t) || t === "" || t === dl, h = f ? s : "".concat(t), d = o;
  if (i && ve(i) ? d = i : l = i || {}, !d || !d.length)
    return Wm(r, h, n, l);
  var v = [], g = [h];
  d.forEach(function(w) {
    g.forEach(function(S, x) {
      var b = -1, O = S.match(new RegExp(w));
      if (O) {
        var D = O[0];
        b = O.index, v.push(D);
        var N = b + D.length, W = S.slice(0, b), k = S.slice(N), ee = [W, k].filter(function(J) {
          return !!J;
        });
        g.splice.apply(g, Q([x, 1], U(ee), !1));
      }
    });
  }), g = v.concat(g);
  var y = h, C = r(Va, l), m = n;
  return g.forEach(function(w) {
    if (m <= 0) {
      var S = y.indexOf(w), x = y.slice(S - 3, S);
      if (x && x !== Va) {
        var b = r(w, l);
        y = y.replace(w, b > C ? Va : w);
      } else
        y = y.replace(w, "");
      m -= C;
    } else {
      var b = r(w, l);
      if (m < b && b > C) {
        var O = Wm(r, w, m, l);
        y = y.replace(w, O), m = 0;
      } else
        m -= b;
    }
  }), y;
}, uj = function(e, r, t, n) {
  n === void 0 && (n = "left");
  var i = r.right, o = r.left, a = t || 0;
  return n === "left" ? e + i / 2 + a : n === "right" ? e - i / 2 - a : e + o / 2 + a;
}, fj = function(e) {
  var r, t, n = e.getMeta().isTotals, i = (t = (r = e).isMeasureField) === null || t === void 0 ? void 0 : t.call(r), o = e.getStyle(e.cellType || re.DATA_CELL), a;
  return i ? a = o.measureText : n ? a = o.bolderText : a = o.text, {
    cellStyle: o,
    textStyle: a
  };
}, cj = function(e) {
  var r = e.rowIndex, t = e.colIndex, n = e.meta, i = e.data, o = e.textStyle, a = e.textCondition, l = o.fill;
  return a != null && a.mapping && (l = a == null ? void 0 : a.mapping(i, {
    rowIndex: r,
    colIndex: t,
    meta: n
  }).fill), F(F({}, o), { fill: l });
}, bl = function(e, r) {
  return Jt(r) ? r(e) : r;
}, hj = function(e, r, t) {
  for (var n = e.x, i = e.y, o = e.width, a = e.height, l = a / Qo(r), s = [], f, h, d, v = 0, g = Ke(t, function(w) {
    return w > 1 ? w / 100 : w;
  }), y = 0; y < Qo(r); y++) {
    h = i + l * y;
    var C = [];
    f = n, v = 0;
    for (var m = 0; m < Qo(r[y]); m++)
      d = ne(g) ? o / Qo(r[0]) : o * g[m], f = uj(n, { left: 0, right: 0 }, v, "left"), v += d, C.push({
        x: f,
        y: h,
        width: d,
        height: l
      });
    s.push(C);
  }
  return s;
}, dj = function(e, r, t) {
  var n, i, o, a;
  t === void 0 && (t = !0);
  var l = e.getContentArea(), s = l.x, f = l.y, h = l.height, d = l.width, v = r || e.getMeta().fieldValue, g = v.values, y = e.getMeta().spreadsheet, C = y.options, m = y.measureTextWidth, w = C.style.cellCfg.valuesCfg, S = (i = (n = C == null ? void 0 : C.conditions) === null || n === void 0 ? void 0 : n.text) === null || i === void 0 ? void 0 : i[0], x = (a = (o = C == null ? void 0 : C.conditions) === null || o === void 0 ? void 0 : o.icon) === null || a === void 0 ? void 0 : a[0];
  if (!ve(g)) {
    ij(e, g);
    return;
  }
  var b = w == null ? void 0 : w.widthPercent, O = 0;
  if (v != null && v.label) {
    var D = e.getStyle(re.DATA_CELL), N = D.bolderText;
    O = h / (g.length + 1);
    var W = ha(e, [], s, f + O / 2, sl({
      measureTextWidth: m,
      text: v.label,
      maxWidth: d,
      fontParam: N
    }), N);
    e.addTextShape(W);
  }
  for (var k = fj(e), ee = k.cellStyle, J = k.textStyle, te = ee == null ? void 0 : ee.icon, ae = x && x.mapping && {
    size: te == null ? void 0 : te.size,
    margin: te == null ? void 0 : te.margin,
    position: x == null ? void 0 : x.position
  }, fe, j = hj({
    x: s,
    y: f + O,
    height: h - O,
    width: d
  }, g, b), ie = 0; ie < g.length; ie++)
    for (var Ie = wl(g[ie]), we = 0; we < Ie.length; we++) {
      fe = Ie[we];
      var Te = t ? cj({
        rowIndex: ie,
        colIndex: we,
        meta: e == null ? void 0 : e.getMeta(),
        data: fe,
        textStyle: J,
        textCondition: S
      }) : J, he = (e == null ? void 0 : e.getMeta().spreadsheet.options).placeholder, be = bl(e == null ? void 0 : e.getMeta(), he), Ae = Ab(j[ie][we].width, te), mt = sl({
        measureTextWidth: m,
        text: fe,
        maxWidth: Ae,
        fontParam: Te,
        placeholder: be
      }), Xe = m(mt, J), ze = Js(j[ie][we], J, Xe, ae, x ? 1 : 0), W = ha(e, [], ze.text.x, ze.text.y, mt, Te, {}, fe == null ? void 0 : fe.toString());
      if (e.addTextShape(W), x && t) {
        var lt = x == null ? void 0 : x.mapping(fe, {
          rowIndex: ie,
          colIndex: we,
          meta: e == null ? void 0 : e.getMeta()
        });
        if (lt) {
          var fr = Q0(e, F(F({}, ze.icon), { name: lt.icon, width: te == null ? void 0 : te.size, height: te == null ? void 0 : te.size, fill: lt.fill }));
          e.addConditionIconShape(fr);
        }
      }
    }
}, $d = function(e, r) {
  return r === void 0 && (r = 1), (e == null ? void 0 : e.width) * r;
}, Rb = function(e) {
  try {
    return JSON.parse(e);
  } catch {
    return null;
  }
}, vj = function(e, r, t) {
  return e.sort(function(n, i) {
    t && (n = t(n), i = t(i));
    var o = r.indexOf(n), a = r.indexOf(i);
    return o === -1 && a === -1 ? 0 : o === -1 ? 1 : a === -1 ? -1 : o - a;
  });
}, pj = function(e) {
  return e === void 0 && (e = []), e.filter(function(r) {
    return r !== ki && r !== Hp;
  });
}, gj = function(e) {
  return ve(e) ? dT(e) : [e];
}, yj = function(e, r) {
  var t;
  return (t = e == null ? void 0 : e.filter(function(n) {
    return !(r != null && r.includes(n));
  })) === null || t === void 0 ? void 0 : t.concat(r);
};
function Cj(e, r) {
  var t = e.isRowTotal, n = e.isRowSubTotal, i = e.isColTotal, o = e.isColSubTotal, a = r || {}, l = a.row, s = a.col, f = l || {}, h = f.calcTotals, d = h === void 0 ? {} : h, v = f.calcSubTotals, g = v === void 0 ? {} : v, y = s || {}, C = y.calcTotals, m = C === void 0 ? {} : C, w = y.calcSubTotals, S = w === void 0 ? {} : w, x = function(b, O) {
    if ((b.aggregation || b.calcFunc) && O)
      return {
        aggregation: b.aggregation,
        calcFunc: b.calcFunc
      };
  };
  return x(m, i) || x(S, o) || x(d, t) || x(g, n);
}
function Ms(e) {
  return e === gf;
}
function qo(e, r, t) {
  return e === void 0 && (e = {}), r === void 0 && (r = []), t === void 0 && (t = ki), r.reduce(function(n, i) {
    var o = e[i];
    return i in e ? n.push(String(o)) : n.push(t), n;
  }, []);
}
function Ob(e, r) {
  var t = r.filter(function(n) {
    return n in e;
  });
  return ne(t) && t.push(Hp), t;
}
function Gm(e, r, t) {
  e === void 0 && (e = {}), r === void 0 && (r = []);
  var n = [];
  function i(o, a, l) {
    return a.reduce(function(s, f) {
      var h = o[f];
      return f in o ? s.push(String(h)) : f === Ne && l ? s.push(l) : s.push(ki), s;
    }, []);
  }
  return t ? t.forEach(function(o) {
    n.push(i(e, r, o));
  }) : n.push(i(e, r)), n;
}
function _j(e, r, t) {
  var n, i = r.slice(0, r.indexOf(e) + 1);
  return (n = t.map(function(o) {
    return i.map(function(a) {
      return o[a];
    }).join("".concat(lr));
  })) === null || n === void 0 ? void 0 : n.filter(function(o) {
    return o;
  });
}
function Xf(e, r) {
  return e.concat(r).filter(function(t) {
    return t !== Ne;
  }).join(lr);
}
function Vf(e) {
  var r = e.rowDimensionValues, t = e.colDimensionValues, n = e.isFirstCreate, i = e.onFirstCreate, o = e.rowFields, a = e.colFields, l = e.rowPivotMeta, s = e.colPivotMeta, f = e.prefix, h = f === void 0 ? "" : f, d = function(y, C, m, w) {
    for (var S = m, x = [], b = 0; b < C.length; b++) {
      var O = C[b];
      if (n && S && !(S != null && S.has(O))) {
        var D = C.slice(0, b + 1).map(function(J) {
          return String(J);
        }).join(lr), N = O === ki, W = void 0;
        N ? W = 0 : S.has(ki) ? W = S.size : W = S.size + 1, S.set(O, {
          id: D,
          value: O,
          level: W,
          children: /* @__PURE__ */ new Map()
        }), i == null || i({
          dimension: y == null ? void 0 : y[b],
          dimensionPath: D,
          careRepeated: w
        });
      }
      var k = S == null ? void 0 : S.get(O);
      if (x.push(Ms(O) ? O : k == null ? void 0 : k.level), k) {
        var ee = y == null ? void 0 : y[b + 1];
        n && k.childField !== ee && (k.childField = ee), S = k == null ? void 0 : k.children;
      }
    }
    return x;
  }, v = d(o, r, l, !1), g = d(a, t, s, !0);
  return Q(Q([h], U(v), !1), U(g), !1);
}
function mj(e) {
  var r = e.rows, t = e.columns, n = e.values, i = e.valueInCols, o = e.data, a = o === void 0 ? [] : o, l = e.indexesData, s = l === void 0 ? {} : l, f = e.sortedDimensionValues, h = e.rowPivotMeta, d = e.colPivotMeta, v = e.getExistValuesByDataItem, g = [], y = new Set(gT(r, t)), C = function(w) {
    var S = w.dimension, x = w.dimensionPath, b = w.careRepeated, O = b === void 0 ? !0 : b;
    O && y.has(S) || (f[S] || (f[S] = [])).push(x);
  }, m = Xf(r, t);
  return a.forEach(function(w) {
    var S, x, b, O;
    if (!(!w || ne(w))) {
      var D = v ? v(w, n) : Ob(w, n), N = Gm(w, r, i ? null : D), W = Gm(w, t, i ? D : null);
      try {
        for (var k = Yr(N), ee = k.next(); !ee.done; ee = k.next()) {
          var J = ee.value;
          try {
            for (var te = (b = void 0, Yr(W)), ae = te.next(); !ae.done; ae = te.next()) {
              var fe = ae.value, j = Vf({
                rowDimensionValues: J,
                colDimensionValues: fe,
                rowPivotMeta: h,
                colPivotMeta: d,
                rowFields: r,
                colFields: t,
                isFirstCreate: !0,
                onFirstCreate: C,
                prefix: m
              });
              g.push(j), Ls(s, j, w);
            }
          } catch (ie) {
            b = { error: ie };
          } finally {
            try {
              ae && !ae.done && (O = te.return) && O.call(te);
            } finally {
              if (b)
                throw b.error;
            }
          }
        }
      } catch (ie) {
        S = { error: ie };
      } finally {
        try {
          ee && !ee.done && (x = k.return) && x.call(k);
        } finally {
          if (S)
            throw S.error;
        }
      }
    }
  }), {
    paths: g,
    indexesData: s,
    rowPivotMeta: h,
    colPivotMeta: d,
    sortedDimensionValues: f
  };
}
function km(e, r) {
  if (!(!e || !r)) {
    var t = r.split(lr), n = gt(t), i = e;
    Oe(t, function(o, a) {
      var l = i.get(o);
      return l ? (o === n ? (l.children = /* @__PURE__ */ new Map(), l.childField = void 0) : i = l.children, !0) : a === 0 && o === zp;
    });
  }
}
function wj(e, r, t) {
  var n = function(a) {
    var l = Cr(e, function(s) {
      var f = s.field;
      return f === a;
    });
    return _e(l, "name", a);
  }, i = r || t, o = {
    field: Ne,
    name: i,
    formatter: function(a) {
      return n(a);
    }
  };
  return o;
}
function us(e, r) {
  return {
    isRowTotal: e.isGrandTotals,
    isRowSubTotal: e.isSubTotals,
    isColTotal: r.isGrandTotals,
    isColSubTotal: r.isSubTotals
  };
}
function xj(e) {
  for (var r = null, t = 0; t < e.length; t++) {
    var n = e[t];
    if (Ms(n))
      r = t;
    else if (!xT(r) && r < t)
      return !0;
  }
  return !1;
}
function Ib(e) {
  var r = e.pivotMeta, t = e.dimensionValues, n = e.fieldIdx, i = e.queryType, o = e.fields, a = e.sortedDimensionValues, l = {
    children: r
  }, s = [l];
  function f(v, g) {
    var y, C = Xs(v, function(w) {
      var S = Q([], U(w.children.values()), !1);
      return S.filter(function(x) {
        return x.value !== Hp && (i === En.All ? !0 : x.value !== ki);
      });
    });
    if (v.length > 1) {
      var m = (y = a[g]) !== null && y !== void 0 ? y : [];
      return z0(C, function(w) {
        return Vs(m, w.id);
      });
    }
    return C;
  }
  for (var h = function(v) {
    var g = t[v], y = o[v];
    Ms(g) ? s = f(s, y) : s = s.map(function(C) {
      return C.children.get(g);
    }).filter(Boolean);
  }, d = 0; d <= n; d++)
    h(d);
  return s;
}
function Um(e) {
  var r = e.dimensionValues, t = e.pivotMeta, n = e.fields, i = e.sortedDimensionValues, o = e.queryType, a = o === void 0 ? En.All : o;
  if (!xj(r))
    return [r];
  var l = Ib({
    pivotMeta: t,
    dimensionValues: r,
    fieldIdx: r.length - 1,
    queryType: a,
    fields: n,
    sortedDimensionValues: i
  });
  return l.map(function(s) {
    return s.id.split(lr);
  });
}
function Sj(e) {
  var r = e.rowFields, t = e.rowDimensionValues, n = e.rowPivotMeta, i = e.colFields, o = e.colDimensionValues, a = e.colPivotMeta, l = e.queryType, s = e.sortedDimensionValues, f = Um({
    dimensionValues: t,
    pivotMeta: n,
    fields: r,
    sortedDimensionValues: s,
    queryType: l
  }), h = Um({
    dimensionValues: o,
    pivotMeta: a,
    fields: i,
    sortedDimensionValues: s,
    queryType: l
  });
  return {
    rowQueries: f,
    colQueries: h
  };
}
function Tj(e, r) {
  return e ? ve(e) ? Xs(e, function(t) {
    if (!ve(t))
      return [t];
    var n = r === En.DetailOnly ? 1 : 0;
    return t.slice(n).filter(Boolean);
  }) : [e] : [];
}
var sf;
function Ym(e, r) {
  return !e || !r ? !1 : String(e).toLowerCase() === String(r).toLowerCase();
}
var bj = `\r
`, Ej = "	", qf = function(e, r) {
  var t = e.getColumnNodes().find(function(n) {
    return n.id === r;
  });
  return e.isPivotMode() ? t == null ? void 0 : t.value : t == null ? void 0 : t.field;
}, Lj = function(e, r) {
  var t = r.getColumnNodes().find(function(n) {
    return n.colIndex === e;
  });
  return qf(r, t.id);
}, Aj = function(e, r) {
  var t = e.rowIndex, n = e.colIndex;
  return [
    r.getRowNodes().find(function(i) {
      return i.rowIndex === t;
    }),
    r.getColumnNodes().find(function(i) {
      return i.colIndex === n;
    })
  ];
}, Bs = function(e, r) {
  var t = r.getColumnNodes().find(function(i) {
    return i.colIndex === e;
  }), n = qf(r, t.id);
  return r.options.interaction.copyWithFormat ? r.dataSet.getFieldFormatter(n) : function(i) {
    return i;
  };
}, Rj = function(e) {
  var r, t, n, i, o = ((i = (n = (t = e.options) === null || t === void 0 ? void 0 : t.style) === null || n === void 0 ? void 0 : n.colCfg) === null || i === void 0 ? void 0 : i.hideMeasureColumn) && e.isValueInCols();
  return o ? (r = {}, r[Ne] = e.dataCfg.fields.values[0], r) : {};
}, Oj = function(e, r, t) {
  var n, i;
  if (t.isPivotMode()) {
    var o = U(Aj(e, t), 2), a = o[0], l = o[1], s = Rj(t), f = t.dataSet.getCellData({
      query: F(F(F({}, a.query), l.query), s),
      rowNode: a,
      isTotals: a.isTotals || a.isTotalMeasure || l.isTotals || l.isTotalMeasure,
      totalStatus: us(a, l)
    });
    return (n = f == null ? void 0 : f[Gr]) !== null && n !== void 0 ? n : "";
  }
  var h = Lj(e.colIndex, t);
  return (i = r[e.rowIndex]) === null || i === void 0 ? void 0 : i[h];
}, Mb = function(e, r, t) {
  var n = Bs(e.colIndex, t);
  return n(Oj(e, r, t));
}, J0 = function(e) {
  return /\n/.test(e) ? '"' + e.replace(/\r\n?/g, `
`) + '"' : e;
}, Ds = function(e, r) {
  var t = e.split(lr);
  return r ? t.slice(t.length - r) : (t.shift(), t);
}, Kv = function(e, r) {
  return Ke(e, function(t) {
    return r.dataSet.getFieldName(t);
  });
}, Bt;
(function(e) {
  e.PLAIN = "text/plain", e.HTML = "text/html";
})(Bt || (Bt = {}));
var Ij = function(e) {
  return {
    type: Bt.PLAIN,
    content: Ke(e, function(r) {
      return r.join(Ej);
    }).join(bj)
  };
}, Mj = function(e) {
  function r(n, i) {
    return n.map(function(o) {
      return "<".concat(i, ">").concat(m0(o), "</").concat(i, ">");
    }).join("");
  }
  function t(n, i) {
    return n.map(function(o) {
      return "<".concat(i, ">").concat(r(o, "td"), "</").concat(i, ">");
    }).join("");
  }
  return {
    type: Bt.HTML,
    content: '<meta charset="utf-8"><table><tbody>'.concat(t(e, "tr"), "</tbody></table>")
  };
}, Bj = (sf = {}, sf[Bt.PLAIN] = Ij, sf[Bt.HTML] = Mj, sf);
function Xr(e) {
  return Bj[e];
}
function Dj(e, r) {
  return r === void 0 && (r = Bt.PLAIN), Array.isArray(r) ? [].concat(e).filter(function(t) {
    return r.includes(t.type);
  }).map(function(t) {
    return t.content;
  }) : [].concat(e).filter(function(t) {
    return (t == null ? void 0 : t.type) === r;
  }).map(function(t) {
    return t.content;
  })[0] || "";
}
var Bb = function(e, r, t) {
  var n, i, o, a, l, s, f = (i = (n = e[0]) === null || n === void 0 ? void 0 : n.length) !== null && i !== void 0 ? i : 0, h = (o = r == null ? void 0 : r.length) !== null && o !== void 0 ? o : 0, d = (l = (a = t[0]) === null || a === void 0 ? void 0 : a.length) !== null && l !== void 0 ? l : 0, v = (s = t.length) !== null && s !== void 0 ? s : 0, g = f + d, y = h + v, C = Array.from(Array(y), function() {
    return new Array(g);
  });
  return C = Ke(C, function(m, w) {
    return Ke(m, function(S, x) {
      if (x >= 0 && x < f && w >= 0 && w < h)
        return "";
      if (x >= f && x <= g && w >= 0 && w < h)
        return r[w][x - f];
      if (x >= 0 && x < f && w >= h && w < y)
        return e[w - h][x];
      if (x >= f && x <= g && w >= h && w < y)
        return t[w - h][x - f];
    });
  }), [
    Xr(Bt.PLAIN)(C),
    Xr(Bt.HTML)(C)
  ];
}, Pj = function(e, r, t) {
  var n = r.map(function(i) {
    return i.map(function(o) {
      return o ? J0(Mb(o, e, t)) : "";
    });
  });
  return [
    Xr(Bt.PLAIN)(n),
    Xr(Bt.HTML)(n)
  ];
}, Fj = function(e) {
  if (!(e != null && e.length))
    return [];
  var r = U([
    { row: 1 / 0, col: 1 / 0 },
    { row: 0, col: 0 }
  ], 2), t = r[0], n = r[1];
  e.forEach(function(s) {
    var f = s.rowIndex, h = s.colIndex;
    t.col = Math.min(h, t.col), t.row = Math.min(f, t.row), n.col = Math.max(h, n.col), n.row = Math.max(f, n.row);
  });
  var i = U([
    n.row - t.row + 1,
    n.col - t.col + 1
  ], 2), o = i[0], a = i[1], l = new Array(o).fill("").map(function() {
    return new Array(a).fill("");
  });
  return e.forEach(function(s) {
    var f = s.rowIndex, h = s.colIndex, d = U([f - t.row, h - t.col], 2), v = d[0], g = d[1];
    l[v][g] = s;
  }), l;
}, $j = function(e, r) {
  var t = e.dataSet.getDisplayDataSet(), n = r.length ? r.map(function(o) {
    return {
      field: qf(e, o.id),
      formatter: Bs(o.colIndex, e)
    };
  }) : e.dataCfg.fields.columns.map(function(o) {
    return e.getColumnNodes().find(function(a) {
      return a.field === o;
    });
  }).map(function(o) {
    return {
      field: qf(e, o.id),
      formatter: Bs(o.colIndex, e)
    };
  }), i = t.map(function(o) {
    return n.map(function(a) {
      var l = a.field, s = a.formatter;
      return J0(s(o[l]));
    });
  });
  return [
    Xr(Bt.PLAIN)(i),
    Xr(Bt.HTML)(i)
  ];
}, Db = function(e, r, t) {
  return Ke(e, function(n) {
    return r.map(function(i) {
      var o, a = t.dataSet.getCellData({
        query: F(F({}, n.query), i.query),
        rowNode: n,
        isTotals: n.isTotals || n.isTotalMeasure || i.isTotals || i.isTotalMeasure,
        totalStatus: us(n, i)
      });
      return Bs(i.colIndex, t)((o = a == null ? void 0 : a[Gr]) !== null && o !== void 0 ? o : "");
    });
  });
}, Nj = function(e, r, t) {
  var n = Db(r, t, e);
  return [
    Xr(Bt.PLAIN)(n),
    Xr(Bt.HTML)(n)
  ];
}, Hj = function(e, r, t) {
  var n = Ke(r, function(a) {
    return Ds(a.id);
  }), i = Ic.apply(void 0, Q([], U(Ke(t, function(a) {
    return Ds(a.id);
  })), !1)), o = Db(r, t, e);
  return Bb(n, i, o);
};
function Pb(e, r, t) {
  var n = e.options.interaction.copyWithHeader;
  return n ? Hj(e, r, t) : Nj(e, r, t);
}
var zj = function(e, r) {
  var t = e.getRowNodes().filter(function(o) {
    return o.isLeaf || e.isHierarchyTreeType();
  }), n = e.getColumnNodes().filter(function(o) {
    return o.isLeaf;
  }), i = r.length ? r.reduce(function(o, a) {
    return o.push.apply(o, Q([], U(n.filter(function(l) {
      return l.id.startsWith(a.id);
    })), !1)), o;
  }, []) : n;
  return Pb(e, t, i);
}, Xm = function(e, r, t) {
  return r.isPivotMode() ? zj(r, t) : $j(r, t);
}, Wj = function(e, r) {
  var t = e.dataSet.getDisplayDataSet(), n = t.filter(function(i, o) {
    return r.map(function(a) {
      return a.rowIndex;
    }).includes(o);
  }).map(function(i) {
    var o = e.getColumnNodes().reduce(function(a, l, s) {
      return a[l.field] = s, a;
    }, {});
    return Object.keys(i).sort(function(a, l) {
      return o[a] - o[l];
    }).map(function(a) {
      return e.getColumnNodes().find(function(l) {
        return l.field === a;
      });
    }).filter(Boolean).map(function(a) {
      return J0(Bs(a.colIndex, e)(i[a.field]));
    });
  });
  return [
    Xr(Bt.PLAIN)(n),
    Xr(Bt.HTML)(n)
  ];
}, Gj = function(e, r) {
  var t = e.getRowNodes().filter(function(o) {
    return o.isLeaf || e.isHierarchyTreeType();
  }), n = e.getColumnNodes().filter(function(o) {
    return o.isLeaf;
  }), i = r.reduce(function(o, a) {
    return o.push.apply(o, Q([], U(t.filter(function(l) {
      return l.id.startsWith(a.id);
    })), !1)), o;
  }, []);
  return Pb(e, i, n);
}, kj = function(e, r, t) {
  return r.isPivotMode() ? Gj(r, t) : Wj(r, t);
}, Uj = function(e, r, t) {
  var n = Ic.apply(void 0, Q([], U(Ke(e[0], function(a) {
    var l, s, f = (s = (l = a.id.split(rl)) === null || l === void 0 ? void 0 : l[1]) !== null && s !== void 0 ? s : "";
    return Kv(Ds(f), t);
  })), !1)), i = Ke(e, function(a) {
    var l, s, f = (s = (l = a[0].id.split(rl)) === null || l === void 0 ? void 0 : l[0]) !== null && s !== void 0 ? s : "";
    return Kv(Ds(f), t);
  }), o = Ke(e, function(a) {
    return Ke(a, function(l) {
      return Mb(l, r, t);
    });
  });
  return Bb(i, n, o);
};
function Yj(e) {
  var r = /* @__PURE__ */ new Set();
  return Oe(e, function(t) {
    var n = t.getMeta().level;
    r.has(n) || r.add(n);
  }), r;
}
function Xj(e, r) {
  return Zi(e, function(t) {
    var n = t.getMeta(), i = n.level === r, o = n.isTotals && ne(n.children);
    return i || o;
  });
}
function Vj(e, r) {
  for (var t = e, n = { level: r }, i = t.label; t.level >= 0; ) {
    for (var o = n.level - t.level; o > 0; )
      i = "".concat(t.label).concat(lr).concat(i), o--;
    n = t, t = t.parent;
  }
  return i;
}
function qj(e, r, t) {
  return Ke(e, function(n) {
    var i = n.getMeta(), o = i.id, a = i.isTotals, l = i.spreadsheet, s = a ? Vj(i, r) : o, f = Ds(s, t.size);
    return Kv(f, l);
  });
}
function Kj(e) {
  var r, t = Yj(e), n = (r = Wi(Array.from(t))) !== null && r !== void 0 ? r : 0, i = Xj(e, n), o = e[0].cellType === re.COL_CELL, a = qj(i, n, t);
  return o && (a = Ic.apply(void 0, Q([], U(a), !1))), [
    Xr(Bt.PLAIN)(a),
    Xr(Bt.HTML)(a)
  ];
}
var jj = function(e, r, t) {
  return Ke(r, function(n) {
    var i;
    return (i = e[n]) !== null && i !== void 0 ? i : t;
  });
}, Zj = function(e, r) {
  var t = e.options.placeholder, n = e.dataCfg.fields, i = n.rows, o = n.columns, a = n.values, l = bl(e, t), s = e.getColumnLeafNodes(), f = [];
  if (e.isTableMode()) {
    var h = Zi(s, function(y) {
      return y.field !== aa;
    });
    f = Ke(r, function(y) {
      return Ke(h, function(C) {
        var m;
        return (m = y == null ? void 0 : y[C.field]) !== null && m !== void 0 ? m : l;
      });
    });
  } else if (e.isPivotMode()) {
    var d = Q(Q(Q([], U(i), !1), U(o), !1), U(a), !1), v = gj(r), g = v.filter(function(y) {
      return Q(Q([], U(i), !1), U(o), !1).every(function(C) {
        return !Yt(y[C]);
      });
    });
    f = Ac(g, function(y, C) {
      return Q(Q([], U(y), !1), [jj(C, d, l)], !1);
    }, []);
  }
  return [
    Xr(Bt.PLAIN)(f),
    Xr(Bt.HTML)(f)
  ];
};
function Qj(e, r) {
  var t, n, i = r.filter(function(h) {
    var d = h.type;
    return d === re.COL_CELL;
  }), o = r.filter(function(h) {
    var d = h.type;
    return d === re.ROW_CELL;
  }), a = e.dataSet.getDisplayDataSet();
  if (e.interaction.getCurrentStateName() === de.ALL_SELECTED)
    n = Xm(a, e, []);
  else if (i.length)
    n = Xm(a, e, i);
  else if (o.length)
    n = kj(a, e, o);
  else {
    if (!r.length)
      return;
    var l = Fj(r), s = e.interaction.getSelectedCellHighlight().currentRow;
    if (s) {
      var f = D0(r, "rowIndex", "asc").map(function(h) {
        return e.dataSet.getRowData(h);
      });
      n = Zj(e, f);
    } else
      !((t = e.options.interaction) === null || t === void 0) && t.copyWithHeader ? n = Uj(l, a, e) : n = Pj(a, l, e);
  }
  return n;
}
var Jj = function(e) {
  var r, t = e.interaction, n = t.getState().cells || [], i, o = (r = t.getInteractedCells()) !== null && r !== void 0 ? r : [], a = ne(o) ? !1 : wc(o, function(l) {
    return l.cellType === re.ROW_CELL || l.cellType === re.COL_CELL;
  });
  return a ? i = Kj(o) : i = Qj(e, n), i && tZ(i), Dj(i, Bt.PLAIN);
};
function fs(e) {
  if (!e)
    return e;
  if (typeof e == "string") {
    var r = e;
    return '"'.concat(r.replace(/"/g, '""'), '"');
  }
  return '"'.concat(e, '"');
}
var Fb = function(e) {
  return new Promise(function(r, t) {
    var n;
    Array.isArray(e) ? n = _e(e.filter(function(a) {
      return a.type === Bt.PLAIN;
    }), "[0].content", "") : n = e.content || "";
    var i = document.createElement("textarea");
    i.value = n, document.body.appendChild(i), i.focus({ preventScroll: !0 }), i.select();
    var o = document.execCommand("copy");
    document.body.removeChild(i), o ? r() : t();
  });
}, eZ = function(e) {
  return navigator.clipboard.write([
    new ClipboardItem([].concat(e).reduce(function(r, t) {
      var n, i = t.type, o = t.content, a = o.replace(/\x00/g, "");
      return F(F({}, r), (n = {}, n[i] = new Blob([a], { type: i }), n));
    }, {}))
  ]).catch(function() {
    return Fb(e);
  });
}, tZ = function(e, r) {
  r === void 0 && (r = !1);
  var t;
  return typeof e == "string" ? t = {
    content: e,
    type: Bt.PLAIN
  } : t = e, !navigator.clipboard || !window.ClipboardItem || r ? Fb(t) : eZ(t);
}, rZ = function(e, r) {
  try {
    var t = document.createElement("a");
    t.download = "".concat(r, ".csv");
    var n = new Blob(["\uFEFF".concat(e)], {
      type: "text/csv;charset=utf-8"
    });
    t.href = URL.createObjectURL(n), t.click(), URL.revokeObjectURL(t.href);
  } catch (i) {
    console.error(i);
  }
}, nZ = function(e) {
  var r = e != null && e.label ? [e == null ? void 0 : e.label] : [], t = e == null ? void 0 : e.values;
  return ne(t) || Oe(t, function(n) {
    r.push(n.join(" "));
  }), r.join("$");
}, iZ = function(e, r) {
  var t, n, i, o;
  return r ? (o = e == null ? void 0 : e.values) === null || o === void 0 ? void 0 : o[0] : (n = (t = e == null ? void 0 : e.originalValues) === null || t === void 0 ? void 0 : t[0]) !== null && n !== void 0 ? n : (i = e == null ? void 0 : e.values) === null || i === void 0 ? void 0 : i[0];
}, oZ = function(e, r, t) {
  var n, i, o, a = e.dataSet.getDisplayDataSet(), l = ((o = e.dataCfg) === null || o === void 0 ? void 0 : o.fields).columns, s = wa(l || []), f = [], h = function(m, w) {
    var S = [];
    t ? S = s.map(function(x) {
      var b = e.dataSet.getFieldFormatter(x);
      return fs(b(w[x], w));
    }) : S = s.map(function(x) {
      return fs(w[x]);
    }), e.options.showSeriesNumber && (S = [fs(m + 1)].concat(S)), f.push(S.join(r));
  };
  try {
    for (var d = Yr(a.entries()), v = d.next(); !v.done; v = d.next()) {
      var g = U(v.value, 2), y = g[0], C = g[1];
      h(y, C);
    }
  } catch (m) {
    n = { error: m };
  } finally {
    try {
      v && !v.done && (i = d.return) && i.call(d);
    } finally {
      if (n)
        throw n.error;
    }
  }
  return f;
}, aZ = function(e, r, t) {
  if (!e)
    return "";
  var n = e.fieldValue, i = e.valueField, o = e.data;
  if (ft(n))
    return nZ(n);
  if (!t)
    return "".concat(n);
  var a = r.dataSet.getFieldFormatter(i);
  return a(n, o);
}, lZ = function(e, r, t, n) {
  var i = [];
  if (e) {
    var o = e.fieldValue, a = e.valueField, l = e.data;
    if (ft(o))
      return i = iZ(o, n), i;
    if (Yt(o) && t.length > 1)
      return i.push.apply(i, Q([], U(t), !1)), i;
    if (!n)
      i.push(o);
    else {
      var s = r.dataSet.getFieldFormatter(a);
      i.push(s(o, l));
    }
  } else
    i.push.apply(i, Q([], U(t), !1));
  return i.join("    ");
}, $b = function(e) {
  var r = Rb(e);
  return ve(r) ? r : e;
}, sZ = function(e, r, t) {
  var n = $b(r.label), i = ve(n) ? n.length : 1, o = t.options.placeholder, a = Jt(o) ? o(e) : o;
  return Array(i).fill(a);
}, uZ = function(e) {
  var r = e.map(function(t) {
    return t.map(function(n) {
      return ve(n) ? n : ve(t[0]) ? Q([n], U(new Array(t[0].length - 1)), !1) : n;
    });
  });
  return r;
}, Nb = function(e) {
  var r, t, n, i, o = (n = (t = (r = e.spreadsheet) === null || r === void 0 ? void 0 : r.dataSet) === null || t === void 0 ? void 0 : t.getFieldFormatter) === null || n === void 0 ? void 0 : n.call(t, e.field);
  return (i = o == null ? void 0 : o(e.label)) !== null && i !== void 0 ? i : e.label;
}, fZ = function(e) {
  var r = [], t = function(n) {
    if (n.id !== zp) {
      var i = Nb(n);
      if (r.unshift(i), n != null && n.parent)
        return t(n.parent);
    }
  };
  return t(e), r;
}, cZ = function(e) {
  var r, t;
  return typeof e == "object" ? {
    isFormatHeader: (r = e.isFormatHeader) !== null && r !== void 0 ? r : !1,
    isFormatData: (t = e.isFormatData) !== null && t !== void 0 ? t : !1
  } : {
    isFormatHeader: e ?? !1,
    isFormatData: e ?? !1
  };
}, hZ = function(e, r, t) {
  var n, i, o, a, l, s = cZ(t), f = s.isFormatHeader, h = s.isFormatData, d = (l = e == null ? void 0 : e.facet) === null || l === void 0 ? void 0 : l.layoutResult, v = d.rowsHierarchy, g = d.rowLeafNodes, y = d.colLeafNodes, C = d.getCellMeta, m = v.maxLevel, w = e.dataCfg.fields.valueInCols, S = v.sampleNodesForAllLevels.map(function(R) {
    return e.dataSet.getFieldName(R.key);
  }), x = g.reduce(function(R, $) {
    var I, K = ((I = $.level) !== null && I !== void 0 ? I : 0) + 1;
    return K > R ? K : R;
  }, 0), b = [], O = 0;
  if (!e.isPivotMode())
    b = oZ(e, r, h);
  else {
    var D = g.filter(function(R) {
      return R.height !== 0;
    });
    try {
      for (var N = Yr(D), W = N.next(); !W.done; W = N.next()) {
        var k = W.value, ee = [];
        if (f)
          ee = fZ(k);
        else {
          k.label = eb(k == null ? void 0 : k.label);
          var J = k.id.replace(DD, "");
          ee = J.split(lr);
        }
        var te = m + 1, ae = te - ee.length;
        ae > 0 && ee.push.apply(ee, Q([], U(new Array(ae)), !1));
        var fe = e.dataSet.getFieldName(gt(ee));
        ee[ee.length - 1] = fe;
        try {
          for (var j = (o = void 0, Yr(y)), ie = j.next(); !ie.done; ie = j.next()) {
            var Ie = ie.value;
            if (w) {
              var we = C(k.rowIndex, Ie.colIndex);
              ee.push(aZ(we, e, h));
            } else {
              var we = C(k.rowIndex, Ie.colIndex), Te = sZ(we, Ie, e), he = lZ(we, e, Te, h);
              ve(he) ? ee = ee.concat.apply(ee, Q([], U(he), !1)) : ee.push(he);
            }
          }
        } catch (R) {
          o = { error: R };
        } finally {
          try {
            ie && !ie.done && (a = j.return) && a.call(j);
          } finally {
            if (o)
              throw o.error;
          }
        }
        O = Wi([ee.length, O]);
        var be = ee.map(function(R) {
          return fs(R);
        }).join(r);
        b.push(be);
      }
    } catch (R) {
      n = { error: R };
    } finally {
      try {
        W && !W.done && (i = N.return) && i.call(N);
      } finally {
        if (n)
          throw n.error;
      }
    }
  }
  var Ae = [];
  if (ne(y) && !e.isPivotMode())
    Ae = [S];
  else {
    var mt = 0, Xe = wl(y).map(function(R) {
      for (var $ = R, I = []; $.level !== void 0; ) {
        var K = $b($.label);
        ve(K) ? mt = Wi([mt, Qo(K)]) : K = f && e.isPivotMode() ? Nb($) : K, I.push(K), $ = $.parent;
      }
      return I;
    });
    mt > 1 && (Xe = uZ(Xe));
    for (var ze = Xe.map(function(R) {
      return R.length;
    }), lt = Wi(ze), fr = [], wr = function(R) {
      var $ = Xe.map(function(I) {
        return I.length < lt ? Q(Q([], U(new Array(lt - I.length)), !1), U(I), !1) : I;
      }).map(function(I) {
        return I[R];
      }).map(function(I) {
        return e.dataSet.getFieldName(I);
      });
      fr.push(Zp($));
    }, wt = lt - 1; wt >= 0; wt -= 1)
      wr(wt);
    Ae = fr.map(function(R, $) {
      var I, K;
      if (e.isPivotMode()) {
        var oe = e.facet.cornerHeader.cfg, se = oe.columns, Qe = oe.rows, st = oe.data, Je = st.filter(function(cr) {
          var tr = cr.cornerType;
          return tr === Ln.Col;
        });
        if ($ < fr.length - 1)
          return Q(Q(Q([], U(Array(m).fill("")), !1), [
            ((K = Je.find(function(cr) {
              var tr = cr.field;
              return tr === se[$];
            })) === null || K === void 0 ? void 0 : K.label) || ""
          ], !1), U(R), !1);
        var Rt = Qe.slice(0, x);
        return Rt.length < x && Rt.unshift.apply(Rt, Q([], U(Array(x - Rt.length).fill("")), !1)), Q(Q([], U(Rt.map(function(cr) {
          return e.dataSet.getFieldName(cr) || "";
        })), !1), U(R), !1);
      }
      return $ < fr.length ? (I = Array(x).fill("")).concat.apply(I, Q([], U(R), !1)) : S.concat.apply(S, Q([], U(R), !1));
    });
  }
  var xr = Ae.map(function(R) {
    var $ = O - R.length;
    return $ > 0 && R.unshift.apply(R, Q([], U(new Array($)), !1)), R.map(function(I) {
      return fs(I);
    }).join(r);
  }).join(`\r
`), ei = [xr].concat(b), ro = ei.join(`\r
`);
  return ro;
}, dZ = function(e) {
  var r, t, n, i, o, a, l = (n = (t = (r = e.target) === null || r === void 0 ? void 0 : r.attrs) === null || t === void 0 ? void 0 : t.appendInfo) === null || n === void 0 ? void 0 : n.cellData, s = (o = (i = e.target).get) === null || o === void 0 ? void 0 : o.call(i, "parent"), f = ((a = s == null ? void 0 : s.getMeta) === null || a === void 0 ? void 0 : a.call(s)) || l;
  return {
    target: s,
    viewMeta: f,
    event: e
  };
}, eg = function(e, r, t) {
  var n, i = e.split(lr);
  if (t)
    n = [e];
  else {
    n = [Os(i[0], i[1])];
    for (var o = 2; o < i.length; o += 1)
      n.push(Os(n[o - 2], i[o]));
  }
  var a = Zi(r, function(l) {
    var s;
    return n.includes((s = l.getMeta()) === null || s === void 0 ? void 0 : s.id);
  });
  return a;
}, Hb = function(e, r, t) {
  if (e) {
    var n = eg(e, r);
    Oe(n, function(i) {
      i.updateByState(t);
    });
  }
}, vZ = function(e, r) {
  return typeof e == "function" ? e(r) : e.some(function(t) {
    return t === r.key || t === r.id || t === r.valueField;
  });
}, Dc = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t, n) {
      for (var i = [], o = 2; o < arguments.length; o++)
        i[o - 2] = arguments[o];
      var a = e.call(this, {}) || this;
      return a.textShapes = [], a.actualTextWidth = 0, a.conditionIconShapes = [], a.stateShapes = /* @__PURE__ */ new Map(), a.meta = t, a.spreadsheet = n, a.theme = n.theme, a.conditions = a.spreadsheet.options.conditions, a.handleRestOptions.apply(a, Q([], U(i), !1)), a.shouldInit() && a.initCell(), a;
    }
    return r.prototype.getMeta = function() {
      return this.meta;
    }, r.prototype.setMeta = function(t) {
      this.meta = t;
    }, r.prototype.getIconStyle = function() {
      return this.theme[this.cellType].icon;
    }, r.prototype.getTextAndIconPosition = function(t) {
      t === void 0 && (t = 1);
      var n = this.getTextStyle(), i = this.getIconStyle();
      return Js(this.getContentArea(), n, this.actualTextWidth, i, t);
    }, r.prototype.getActualText = function() {
      return this.actualText;
    }, r.prototype.isTextOverflowing = function() {
      var t = this.getActualText();
      return t ? Or(t, Va) : t !== this.getFieldValue();
    }, r.prototype.getFieldValue = function() {
      var t = this.getFormattedFieldValue().formattedValue;
      return t === dl ? this.getActualText() : t;
    }, r.prototype.handleRestOptions = function() {
    }, r.prototype.shouldInit = function() {
      var t = this.meta, n = t.width, i = t.height;
      return n > 0 && i > 0;
    }, r.prototype.getStyle = function(t) {
      return _e(this.theme, t || this.cellType);
    }, r.prototype.getResizeAreaStyle = function() {
      return this.getStyle("resizeArea");
    }, r.prototype.shouldDrawResizeAreaByType = function(t, n) {
      var i = this.spreadsheet.options.interaction.resize;
      return ui(i) ? i : Jt(i.visible) ? i.visible(n) : i[t];
    }, r.prototype.getCellArea = function() {
      var t = this.meta, n = t.x, i = t.y, o = t.height, a = t.width;
      return { x: n, y: i, height: o, width: a };
    }, r.prototype.getContentArea = function() {
      var t = this.getStyle() || this.theme.dataCell, n = (t == null ? void 0 : t.cell).padding;
      return Eb(this.getCellArea(), n);
    }, r.prototype.getIconPosition = function(t) {
      return t === void 0 && (t = 1), this.getTextAndIconPosition(t).icon;
    }, r.prototype.drawTextShape = function() {
      var t = this.getFormattedFieldValue().formattedValue, n = this.getMaxTextWidth(), i = this.getTextStyle(), o = this.spreadsheet, a = o.options.placeholder, l = o.measureTextWidth, s = bl(this, a), f = sl({
        measureTextWidth: l,
        text: t,
        maxWidth: n,
        fontParam: i,
        placeholder: s
      });
      this.actualText = f, this.actualTextWidth = l(f, i);
      var h = this.getTextPosition();
      this.textShape = ha(this, [this.textShape], h.x, h.y, f, i), this.textShapes.push(this.textShape);
    }, r.prototype.drawLinkFieldShape = function(t, n) {
      if (t) {
        var i = this.spreadsheet.options.style.device;
        if (!Qt(i)) {
          var o = this.getTextStyle(), a = this.getTextPosition(), l = a.x;
          o.textAlign === "center" ? l -= this.actualTextWidth / 2 : o.textAlign === "right" && (l -= this.actualTextWidth);
          var s = this.textShape.getBBox().maxY;
          this.linkFieldShape = or(this, {
            x1: l,
            y1: s + 1,
            x2: l + this.actualTextWidth,
            y2: s + 1
          }, { stroke: n, lineWidth: 1 });
        }
        this.textShape.attr({
          fill: n,
          cursor: "pointer",
          appendInfo: {
            isLinkFieldText: !0,
            cellData: this.meta
          }
        });
      }
    }, r.prototype.getLinkFieldStyle = function() {
      return this.getTextStyle().linkTextFill;
    }, r.prototype.drawLinkField = function(t) {
      var n = this.spreadsheet.options.interaction.linkFields, i = n === void 0 ? [] : n, o = this.getLinkFieldStyle(), a = vZ(i, t);
      this.drawLinkFieldShape(a, o);
    }, r.prototype.updateByState = function(t, n) {
      var i = this;
      this.spreadsheet.interaction.setInteractedCells(n);
      var o = _e(this.theme, "".concat(this.cellType, ".cell.interactionState.").concat(t));
      Oe(o, function(a, l) {
        var s = Ft(B0($D, function(f) {
          return Or(f, l);
        }));
        s.forEach(function(f) {
          var h = i.stateShapes.has(f), d = h ? i.stateShapes.get(f) : i[f], v = ve(d) ? d : [d];
          if (h && v.forEach(function(y) {
            y.set("visible", !0);
          }), f === "interactiveBorderShape" && l === "borderWidth" && ln(a)) {
            var g = i.getInteractiveBorderShapeStyle(a);
            Oe(g, function(y, C) {
              Sn(v, C, y);
            });
          }
          Sn(v, on[l], a);
        });
      });
    }, r.prototype.getInteractiveBorderShapeStyle = function(t) {
      var n = this.getCellArea(), i = n.x, o = n.y, a = n.height, l = n.width, s = this.theme.dataCell.cell, f = s.horizontalBorderWidth, h = s.verticalBorderWidth;
      return {
        x: i + h / 2 + t / 2,
        y: o + f / 2 + t / 2,
        width: l - h - t,
        height: a - f - t
      };
    }, r.prototype.hideInteractionShape = function() {
      this.stateShapes.forEach(function(t) {
        Sn(t, on.backgroundOpacity, 0), Sn(t, on.backgroundColor, "transparent"), Sn(t, on.borderOpacity, 0), Sn(t, on.borderWidth, 1), Sn(t, on.borderColor, "transparent");
      });
    }, r.prototype.clearUnselectedState = function() {
      Sn(this.backgroundShape, on.backgroundOpacity, 1), Sn(this.textShapes, on.textOpacity, 1), Sn(this.linkFieldShape, on.opacity, 1);
    }, r.prototype.getTextShape = function() {
      return this.textShape;
    }, r.prototype.getTextShapes = function() {
      return this.textShapes || [this.textShape];
    }, r.prototype.addTextShape = function(t) {
      t && this.textShapes.push(t);
    }, r.prototype.getConditionIconShape = function() {
      return this.conditionIconShape;
    }, r.prototype.getConditionIconShapes = function() {
      return this.conditionIconShapes || [this.conditionIconShape];
    }, r.prototype.addConditionIconShape = function(t) {
      t && this.conditionIconShapes.push(t);
    }, r.prototype.resetTextAndConditionIconShapes = function() {
      this.textShapes = [], this.conditionIconShapes = [];
    }, Object.defineProperty(r.prototype, "cellConditions", {
      get: function() {
        return this.conditions;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.drawConditionIconShapes = function() {
      var t, n = this.findFieldCondition((t = this.conditions) === null || t === void 0 ? void 0 : t.icon);
      if (n && n.mapping) {
        var i = this.mappingValue(n), o = this.getIconPosition(), a = this.theme.dataCell.icon.size;
        ne(i == null ? void 0 : i.icon) || (this.conditionIconShape = Q0(this, F(F({}, o), { name: i.icon, width: a, height: a, fill: i.fill })), this.addConditionIconShape(this.conditionIconShape));
      }
    }, r.prototype.getTextConditionFill = function(t) {
      var n, i, o = t.fill, a = this.findFieldCondition((n = this.conditions) === null || n === void 0 ? void 0 : n.text);
      return a != null && a.mapping && (o = ((i = this.mappingValue(a)) === null || i === void 0 ? void 0 : i.fill) || t.fill), o;
    }, r.prototype.getCrossBackgroundColor = function(t) {
      var n = this.getStyle().cell, i = n.crossBackgroundColor, o = n.backgroundColorOpacity;
      return i && t % 2 === 0 ? { backgroundColorOpacity: o, backgroundColor: i } : {
        backgroundColorOpacity: o,
        backgroundColor: this.getStyle().cell.backgroundColor
      };
    }, r;
  }(_i)
), zb = function(e, r) {
  return r ? r(e[Ne], e[Gr]) : e[Gr];
}, Jo = function(e, r) {
  var t = r.getMeta().id;
  return e.some(function(n) {
    return sr(n.id, t);
  });
}, Pc = function(e, r) {
  return "".concat(e).concat(rl).concat(r);
}, pZ = function(e) {
  var r = e.interaction.getSelectedCellHighlight(), t = r.currentRow, n = r.currentCol, i = r.rowHeader, o = r.colHeader;
  return t || n || i || o;
}, tg = function(e) {
  return e.type === re.DATA_CELL;
}, gZ = function(e, r) {
  Oe(e, function(t) {
    tg(t) && t.rowIndex === r.getMeta().rowIndex && r.updateByState(de.SELECTED);
  });
}, yZ = function(e, r) {
  Oe(e, function(t) {
    tg(t) && t.colIndex === r.getMeta().colIndex && r.updateByState(de.SELECTED);
  });
}, CZ = function(e, r) {
  Oe(e, function(t) {
    tg(t) && t.rowIndex === r.getMeta().rowIndex && t.colIndex === r.getMeta().colIndex && r.updateByState(de.SELECTED);
  });
}, _Z = function(e, r, t) {
  var n = t.interaction.getSelectedCellHighlight(), i = n.rowHeader, o = n.colHeader, a = n.currentRow, l = n.currentCol, s = r.cellType === re.ROW_CELL, f = t.isTableMode() && t.options.showSeriesNumber && i && s;
  (a || f) && gZ(e, r), l && yZ(e, r), (i || o) && CZ(e, r);
}, Bo = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return Object.defineProperty(r.prototype, "cellType", {
      get: function() {
        return re.DATA_CELL;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(r.prototype, "valueRangeByField", {
      get: function() {
        return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField);
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.handleByStateName = function(t, n) {
      Jo(t, this) && this.updateByState(n);
    }, r.prototype.handleSearchResult = function(t) {
      if (Jo(t, this)) {
        var n = Cr(t, function(i) {
          return i == null ? void 0 : i.isTarget;
        });
        n.id === this.getMeta().id ? this.updateByState(de.HIGHLIGHT) : this.updateByState(de.SEARCH_RESULT);
      }
    }, r.prototype.handleSelect = function(t) {
      var n, i = (n = t == null ? void 0 : t[0]) === null || n === void 0 ? void 0 : n.type;
      switch (i) {
        case re.COL_CELL:
          this.changeRowColSelectState("colIndex");
          break;
        case re.ROW_CELL:
          this.changeRowColSelectState("rowIndex");
          break;
        case re.DATA_CELL:
          pZ(this.spreadsheet) ? _Z(t, this, this.spreadsheet) : Jo(t, this) ? this.updateByState(de.SELECTED) : this.spreadsheet.options.interaction.selectedCellsSpotlight && this.updateByState(de.UNSELECTED);
          break;
      }
    }, r.prototype.handleHover = function(t) {
      var n = ol(t);
      if (n.type !== re.DATA_CELL) {
        this.hideInteractionShape();
        return;
      }
      var i = this.spreadsheet.interaction.getHoverHighlight(), o = i.currentRow, a = i.currentCol;
      if (o || a) {
        var l = this.meta.colIndex, s = this.meta.rowIndex;
        a && l === (n == null ? void 0 : n.colIndex) || o && s === (n == null ? void 0 : n.rowIndex) ? this.updateByState(de.HOVER) : this.hideInteractionShape();
      }
      var f = this.getMeta(), h = f.id, d = f.rowIndex, v = f.colIndex;
      sr(n.id, h) && sr(n.rowIndex, d) && sr(n.colIndex, v) && this.updateByState(de.HOVER_FOCUS);
    }, r.prototype.update = function() {
      var t = this.spreadsheet.interaction.getCurrentStateName(), n = this.spreadsheet.interaction.getCells();
      if (t === de.ALL_SELECTED) {
        this.updateByState(de.SELECTED);
        return;
      }
      if (!(ne(n) || !t))
        switch (t) {
          case de.SELECTED:
            this.handleSelect(n);
            break;
          case de.HOVER_FOCUS:
          case de.HOVER:
            this.handleHover(n);
            break;
          case de.SEARCH_RESULT:
            this.handleSearchResult(n);
            break;
          default:
            this.handleByStateName(n, t);
            break;
        }
    }, r.prototype.setMeta = function(t) {
      e.prototype.setMeta.call(this, t), this.initCell();
    }, r.prototype.drawTextShape = function() {
      e.prototype.drawTextShape.call(this), this.drawLinkField(this.meta);
    }, r.prototype.initCell = function() {
      this.resetTextAndConditionIconShapes(), this.drawBackgroundShape(), this.drawInteractiveBgShape(), this.shouldHideRowSubtotalData() || (this.drawConditionIntervalShape(), this.drawTextShape(), this.drawConditionIconShapes()), this.drawInteractiveBorderShape(), this.meta.isFrozenCorner && this.drawBorderShape(), this.update();
    }, r.prototype.getDefaultTextFill = function(t) {
      var n = t.fill, i = this.getBackgroundColor(), o = i.backgroundColor, a = i.intelligentReverseTextColor;
      return ub(o) && t.fill === TS && a && (n = xv), n;
    }, r.prototype.getTextStyle = function() {
      var t = this.meta.isTotals, n = t ? this.theme.dataCell.bolderText : this.theme.dataCell.text, i = this.getTextConditionFill(F(F({}, n), { fill: this.getDefaultTextFill(n) }));
      return F(F({}, n), { fill: i });
    }, r.prototype.getIconStyle = function() {
      var t, n = this.theme.dataCell.icon, i = n.size, o = n.margin, a = this.findFieldCondition((t = this.conditions) === null || t === void 0 ? void 0 : t.icon), l = a && a.mapping && {
        size: i,
        margin: o,
        position: jK(a)
      };
      return l;
    }, r.prototype.drawConditionIntervalShape = function() {
      this.conditionIntervalShape = rj(this);
    }, r.prototype.shouldHideRowSubtotalData = function() {
      var t, n = this.meta, i = n.rowId, o = n.rowIndex, a = this.spreadsheet.store.get("drillDownIdPathMap");
      if (a != null && a.has(i))
        return !1;
      var l = ((t = this.spreadsheet.options.totals) !== null && t !== void 0 ? t : {}).row, s = l === void 0 ? {} : l, f = this.spreadsheet.facet.layoutResult.rowLeafNodes[o], h = !(f != null && f.isGrandTotals) && (f == null ? void 0 : f.isTotals);
      return this.spreadsheet.options.hierarchyType === "tree" && !s.showSubTotals && h;
    }, r.prototype.getFormattedFieldValue = function() {
      if (this.shouldHideRowSubtotalData())
        return {
          value: null,
          // 这里使用默认的placeholder，而不是空字符串，是为了防止后续使用用户自定义的placeholder
          // 比如用户自定义 placeholder 为 0, 那行小计也会显示0，也很有迷惑性，显示 - 更为合理
          formattedValue: rl
        };
      var t = this.meta, n = t.rowId, i = t.valueField, o = t.fieldValue, a = t.data, l = this.spreadsheet.dataSet.getFieldMeta(n), s = l ? n : i, f = this.spreadsheet.dataSet.getFieldFormatter(s), h = f(o, a, this.meta);
      return {
        value: o,
        formattedValue: h
      };
    }, r.prototype.getMaxTextWidth = function() {
      var t = this.getContentArea().width;
      return Ab(t, this.getIconStyle());
    }, r.prototype.getTextPosition = function() {
      return this.getTextAndIconPosition().text;
    }, r.prototype.getBackgroundColor = function() {
      var t, n = this.getCrossBackgroundColor(this.meta.rowIndex), i = n.backgroundColor, o = n.backgroundColorOpacity;
      if (this.shouldHideRowSubtotalData())
        return { backgroundColor: i, backgroundColorOpacity: o };
      var a = this.findFieldCondition((t = this.conditions) === null || t === void 0 ? void 0 : t.background), l = !1;
      if (a && a.mapping) {
        var s = this.mappingValue(a);
        s && (i = s.fill, l = s.intelligentReverseTextColor);
      }
      return {
        backgroundColor: i,
        backgroundColorOpacity: o,
        intelligentReverseTextColor: l
      };
    }, r.prototype.drawBackgroundShape = function() {
      var t = this.getBackgroundColor(), n = t.backgroundColor, i = t.backgroundColorOpacity;
      this.backgroundShape = un(this, F(F({}, this.getCellArea()), { fill: n, fillOpacity: i }));
    }, r.prototype.drawInteractiveBorderShape = function() {
      var t = 1, n = this.getCellArea(), i = n.x, o = n.y, a = n.height, l = n.width;
      this.stateShapes.set("interactiveBorderShape", un(this, {
        x: i + t,
        y: o + t,
        width: l - t * 2,
        height: a - t * 2
      }, {
        capture: !1,
        visible: !1
      }));
    }, r.prototype.drawInteractiveBgShape = function() {
      this.stateShapes.set("interactiveBgShape", un(this, F({}, this.getCellArea()), {
        visible: !1
      }));
    }, r.prototype.changeRowColSelectState = function(t) {
      var n = this.spreadsheet.interaction, i = _e(this.meta, t), o = n.getState(), a = o.nodes, l = a === void 0 ? [] : a, s = o.cells, f = s === void 0 ? [] : s, h = !1;
      if (this.spreadsheet.isTableMode() && l.length) {
        var d = l[0].hierarchy.getLeaves();
        h = d.some(function(v, g) {
          return l.some(function(y) {
            return y === v;
          }) ? g === i : !1;
        });
      } else
        h = Q(Q([], U(l), !1), U(f), !1).some(function(v) {
          return _e(v, t) === i;
        });
      h ? this.updateByState(de.SELECTED) : this.spreadsheet.options.interaction.selectedCellsSpotlight ? this.updateByState(de.UNSELECTED) : this.hideInteractionShape();
    }, r.prototype.drawBorderShape = function() {
      var t = this;
      [Kt.BOTTOM, Kt.RIGHT].forEach(function(n) {
        var i = da(n, t.getCellArea(), t.getStyle().cell), o = i.position, a = i.style;
        or(t, o, a);
      });
    }, r.prototype.findFieldCondition = function(t) {
      var n = this;
      return xc(t, function(i) {
        return i.field instanceof RegExp ? i.field.test(n.meta.valueField) : i.field === n.meta.valueField;
      });
    }, r.prototype.mappingValue = function(t) {
      var n = this.meta.fieldValue, i = this.spreadsheet.isTableMode() ? this.spreadsheet.dataSet.getCellData({
        query: { rowIndex: this.meta.rowIndex }
      }) : this.meta.data;
      return t == null ? void 0 : t.mapping(n, i);
    }, r.prototype.updateByState = function(t) {
      if (e.prototype.updateByState.call(this, t, this), t === de.UNSELECTED) {
        var n = _e(this.theme, "".concat(this.cellType, ".cell.interactionState.").concat(t));
        n && this.toggleConditionIntervalShapeOpacity(n.opacity);
      }
    }, r.prototype.clearUnselectedState = function() {
      e.prototype.clearUnselectedState.call(this), this.toggleConditionIntervalShapeOpacity(1);
    }, r.prototype.toggleConditionIntervalShapeOpacity = function(t) {
      Sn(this.conditionIntervalShape, on.backgroundOpacity, t), Sn(this.conditionIconShapes, on.opacity, t);
    }, r.prototype.drawLeftBorder = function() {
      var t = da(Kt.LEFT, this.getCellArea(), this.getStyle().cell), n = t.position, i = t.style;
      or(this, n, i);
    }, r;
  }(Dc)
), mZ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t, n, i) {
      return e.call(this, i, t, n) || this;
    }
    return r.prototype.handleRestOptions = function() {
      for (var t = [], n = 0; n < arguments.length; n++)
        t[n] = arguments[n];
      var i = U(t, 1), o = i[0];
      this.cells = o;
    }, Object.defineProperty(r.prototype, "cellType", {
      get: function() {
        return re.MERGED_CELL;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.update = function() {
    }, r.prototype.initCell = function() {
      this.resetTextAndConditionIconShapes(), this.conditions = this.spreadsheet.options.conditions, this.drawBackgroundShape(), this.drawTextShape();
    }, r.prototype.drawBackgroundShape = function() {
      var t = TZ(this.cells), n = this.theme.dataCell.cell;
      this.backgroundShape = XK(this, {
        points: t,
        stroke: n.horizontalBorderColor,
        fill: n.backgroundColor,
        lineHeight: n.horizontalBorderWidth
      });
    }, r.prototype.drawTextShape = function() {
      ne(this.meta) || (ft(this.meta.fieldValue) ? dj(this) : e.prototype.drawTextShape.call(this));
    }, r;
  }(Bo)
), wZ = function(e, r, t, n) {
  var i = [e, r], o = [e + t, r], a = [e + t, r + n], l = [e, r + n];
  return [
    [i, o],
    [o, a],
    [a, l],
    [l, i]
  ];
}, xZ = function(e) {
  var r = [];
  return Oe(e, function(t) {
    var n = [t[1], t[0]];
    JSON.stringify(e).includes(JSON.stringify(n)) || r.push(t);
  }), r;
}, SZ = function(e, r) {
  return Cr(r, function(t) {
    return sr(t[0], e[1]);
  });
}, TZ = function(e) {
  var r = [];
  e.forEach(function(a) {
    var l = a.getMeta(), s = l.x, f = l.y, h = l.width, d = l.height;
    r = r.concat(wZ(s, f, h, d));
  }), r = xZ(r);
  for (var t = [], n = r[0], i = n, o = []; !sr(n, o); )
    t = t.concat(i), o = SZ(i, r), i = o;
  return t;
}, bZ = function(e, r) {
  var t = [], n;
  return Oe(e, function(i) {
    var o, a, l, s = (a = (o = r == null ? void 0 : r.facet) === null || o === void 0 ? void 0 : o.layoutResult) === null || a === void 0 ? void 0 : a.getCellMeta(i.rowIndex, i.colIndex);
    if (s) {
      var f = (l = r == null ? void 0 : r.facet) === null || l === void 0 ? void 0 : l.cfg.dataCell(s);
      n = i != null && i.showText ? s : n, t.push(f);
    }
  }), { cells: t, cellsMeta: n };
}, EZ = function(e, r) {
  var t = [], n = [], i;
  return Oe(e, function(o) {
    var a = Cr(r, function(l) {
      var s, f = (s = l == null ? void 0 : l.getMeta) === null || s === void 0 ? void 0 : s.call(l);
      if ((f == null ? void 0 : f.colIndex) === (o == null ? void 0 : o.colIndex) && (f == null ? void 0 : f.rowIndex) === (o == null ? void 0 : o.rowIndex))
        return l;
    });
    a ? (t.push(a), i = o != null && o.showText ? a == null ? void 0 : a.getMeta() : i) : n.push(o);
  }), { cells: t, invisibleCellInfo: n, cellsMeta: i };
}, Wb = function(e, r, t) {
  var n;
  t === void 0 && (t = []);
  var i = EZ(t, e), o = i.cellsMeta, a = i.cells, l = i.invisibleCellInfo, s = o, f = a, h = (l == null ? void 0 : l.length) > 0 && l.length < t.length;
  if (h) {
    var d = bZ(l, r), v = d.cells, g = d.cellsMeta;
    s = s || g, f = a.concat(v);
  }
  return !ne(a) && !s && (s = (n = f[0]) === null || n === void 0 ? void 0 : n.getMeta()), {
    cells: f,
    viewMeta: s
  };
}, LZ = function(e) {
  var r = e.interaction, t = r.getActiveCells(), n = [];
  return Oe(t, function(i, o) {
    var a = i.getMeta(), l = o === 0 ? { showText: !0 } : {};
    n.push(F(F({}, l), { colIndex: a == null ? void 0 : a.colIndex, rowIndex: a == null ? void 0 : a.rowIndex }));
  }), n;
}, Gb = function(e, r, t) {
  return e.options.mergedCell ? e.options.mergedCell(e, r, t) : new mZ(e, r, t);
}, AZ = function(e, r, t) {
  var n, i = r || LZ(e);
  if ((i == null ? void 0 : i.length) <= 1) {
    console.error("then merged cells must be more than one");
    return;
  }
  var o = e.interaction.getPanelGroupAllDataCells(), a = Wb(o, e, i), l = a.cells, s = a.viewMeta;
  if (!ne(l)) {
    var f = ((n = e.options) === null || n === void 0 ? void 0 : n.mergedCellsInfo) || [];
    f.push(i), e.setOptions({
      mergedCellsInfo: f
    });
    var h = t ? void 0 : s;
    e.panelScrollGroup.addMergeCell(Gb(e, l, h));
  }
}, RZ = function(e, r) {
  var t = Ke(e.cells, function(n) {
    return {
      colIndex: n.getMeta().colIndex,
      rowIndex: n.getMeta().rowIndex
    };
  });
  return Zi(r, function(n) {
    var i = n.map(function(o) {
      return o.showText ? {
        colIndex: o.colIndex,
        rowIndex: o.rowIndex
      } : o;
    });
    return !sr(i, t);
  });
}, OZ = function(e, r) {
  var t, n, i;
  if (!r || r.cellType !== re.MERGED_CELL) {
    console.error("unmergeCell: the ".concat(r, " is not a MergedCell"));
    return;
  }
  var o = RZ(r, (t = e.options) === null || t === void 0 ? void 0 : t.mergedCellsInfo);
  (o == null ? void 0 : o.length) !== ((i = (n = e.options) === null || n === void 0 ? void 0 : n.mergedCellsInfo) === null || i === void 0 ? void 0 : i.length) && (e.setOptions({
    mergedCellsInfo: o
  }), r.remove(!0));
}, IZ = function(e) {
  return Ke(e, function(r) {
    return {
      cells: r.cells,
      viewMeta: r.getMeta()
    };
  });
}, Vm = function(e, r) {
  return J2(e, r, function(t, n) {
    return sr(t.viewMeta.id, n.viewMeta.id);
  });
}, MZ = function(e, r) {
  var t, n = (t = e.options) === null || t === void 0 ? void 0 : t.mergedCellsInfo;
  if (!ne(n)) {
    var i = e.interaction.getPanelGroupAllDataCells();
    if (!ne(i)) {
      var o = [];
      n.forEach(function(h) {
        var d = Wb(i, e, h);
        d.cells.length > 0 && o.push(d);
      });
      var a = r.getChildren(), l = IZ(a), s = Vm(l, o), f = Vm(o, l);
      Oe(s, function(h) {
        var d = Cr(a, function(v) {
          return sr(v.getMeta().id, h.viewMeta.id);
        });
        d == null || d.remove(!0);
      }), Oe(f, function(h) {
        var d = h.cells, v = h.viewMeta;
        r.add(Gb(e, d, v));
      });
    }
  }
}, kb = function(e) {
  var r = e.includes(lr) ? "id" : "field";
  return r;
}, jv = function(e, r) {
  r === void 0 && (r = []);
  var t = e.getInitColumnLeafNodes();
  return xl(r.map(function(n) {
    var i = kb(n);
    return t.find(function(o) {
      return o[i] === n;
    });
  }));
}, BZ = function(e, r) {
  if (r === void 0 && (r = []), ne(r))
    return {
      prev: null,
      next: null
    };
  var t = e.getInitColumnLeafNodes(), n = jv(e, r).map(function(s) {
    return s == null ? void 0 : s.colIndex;
  }), i = Math.max.apply(Math, Q([], U(n), !1)), o = Math.min.apply(Math, Q([], U(n), !1)), a = t.find(function(s) {
    return s.colIndex === i + 1;
  }), l = t.find(function(s) {
    return s.colIndex === o - 1;
  });
  return {
    prev: l || null,
    next: a || null
  };
}, DZ = function(e, r) {
  if (ne(r))
    return [];
  var t = Number.NEGATIVE_INFINITY;
  return e.reduce(function(n, i, o) {
    if (!r.includes(i))
      return n;
    if (o === t + 1) {
      var a = gt(n);
      a.push(i);
    } else {
      var l = [i];
      n.push(l);
    }
    return t = o, n;
  }, []);
}, qm = function(e, r, t) {
  r === void 0 && (r = []), t === void 0 && (t = !1);
  var n = function(d, v) {
    d === void 0 && (d = []), v === void 0 && (v = []), e.setOptions({
      interaction: {
        hiddenColumnFields: d
      }
    }), e.interaction.reset(), e.store.set("hiddenColumnsDetail", v), e.render(!1, { reBuildHiddenColumnsDetail: !1 });
  };
  if (ne(r) && t) {
    n();
    return;
  }
  var i = e.store.get("hiddenColumnsDetail", []), o = e.options.interaction.hiddenColumnFields;
  if (!(sr(r, o) && !t)) {
    var a = Fi(Q(Q([], U(r), !1), U(o), !1)), l = jv(e, a).every(function(d, v, g) {
      var y = g[v + 1];
      return !y || Math.abs(d.colIndex - y.colIndex) === 1;
    }), s = BZ(e, l ? a : r), f = {
      hideColumnNodes: jv(e, r),
      displaySiblingNode: s
    }, h = Q(Q([], U(i), !1), [
      f
    ], !1);
    e.emit(B.LAYOUT_COLS_HIDDEN, f, h), n(a, h);
  }
}, PZ = function(e) {
  var r = e.dataCfg.fields.columns, t = r === void 0 ? [] : r;
  return e.isTableMode() ? t : e.getInitColumnLeafNodes().map(function(n) {
    var i = n.id;
    return i;
  });
}, rg = function(e, r, t) {
  r === void 0 && (r = []), t === void 0 && (t = !1), ne(r) && t && qm(e, r, !0);
  var n = PZ(e), i = wa(n), o = DZ(i, r);
  o.forEach(function(a) {
    qm(e, a, t);
  });
}, FZ = function(e, r) {
  var t = e.getColumnLeafNodes(), n = e.getInitColumnLeafNodes(), i = kb(r);
  return _e(gt(t), i) === r && _e(gt(n), i) !== r;
}, $Z = function(e) {
  return (e == null ? void 0 : e.next) || (e == null ? void 0 : e.prev);
}, NZ = function(e) {
  var r = $Z(e);
  return r == null ? void 0 : r.id;
}, Zv = function(e, r) {
  return NZ(e) === r;
}, Ps = function(e) {
  var r = e.type, t = e.id, n = e.theme, i = e.width, o = e.height, a = kp(e, ["type", "id", "theme", "width", "height"]), l = r === An.Horizontal ? n.size : null, s = r === An.Vertical ? n.size : null;
  return {
    fill: n.background,
    fillOpacity: n.backgroundOpacity,
    cursor: "".concat(r, "-resize"),
    width: l,
    height: s,
    appendInfo: F(F({}, a), { isResizeArea: !0, type: r, id: t, width: i, height: o, size: n.size })
  };
}, eu = function(e, r) {
  if (e.foregroundGroup) {
    var t = e.foregroundGroup.findById(r);
    return t || e.foregroundGroup.addGroup({
      id: r,
      zIndex: gD
    });
  }
}, ng = function(e, r, t) {
  var n = t ?? {}, i = n.scrollX, o = i === void 0 ? 0 : i, a = n.scrollY, l = a === void 0 ? 0 : a, s = !(e.x - o > r.x + r.width || e.x + e.width - o < r.x), f = !(e.y - l > r.y + r.height || e.y + e.height - l < r.y);
  return s && f;
}, HZ = function(e, r, t) {
  if (!e)
    return !1;
  var n = e.iconNames, i = e.displayCondition, o = e.belongsCell;
  return ne(n) || o !== t ? !1 : i ? n.some(function(a) {
    return i(r, a);
  }) : !0;
}, ig = function(e, r, t) {
  var n = Cr(e, function(o) {
    return HZ(o, r, t);
  });
  if (n) {
    var i = n.iconNames;
    return n.displayCondition && (i = i.filter(function(o) {
      return n.displayCondition(r, o);
    })), F(F({}, n), { iconNames: i });
  }
}, Ub = function(e, r) {
  var t = e.label, n = e.field;
  return sr(n, Ne) ? {
    formattedValue: r || t,
    value: t
  } : {
    formattedValue: t,
    value: t
  };
}, El = function(e) {
  return As(e) === "ASC";
}, og = function(e) {
  return As(e) === "DESC";
}, Km = function(e) {
  return !wT(Number(e));
}, jm = function(e, r, t) {
  var n = El(r) ? 1 : -1, i = ["-", void 0];
  return e == null ? void 0 : e.sort(function(o, a) {
    var l = o, s = a;
    if (t) {
      if (l = o[t], s = a[t], Km(l) && Km(s))
        return (Number(l) - Number(s)) * n;
      if (l && (i != null && i.includes(l == null ? void 0 : l.toString())))
        return -n;
      if (Number(l) && (i != null && i.includes(s == null ? void 0 : s.toString())))
        return n;
    }
    return !Yt(l) && !Yt(s) ? l.toString().localeCompare(s.toString(), "zh") * n : l ? n : -n;
  });
}, Yb = function(e, r, t) {
  return t ? yj(r, Fi(e)) : Q([], U(new Set(Q(Q([], U(e), !1), U(r), !1))), !1);
}, Xb = function(e) {
  var r = e.sortByValues, t = e.originValues, n = t.filter(function(l) {
    return r.find(function(s) {
      return rT(l, s);
    });
  }), i = n.map(function(l) {
    var s = l.split(lr);
    if (s.length > 1) {
      var f = s.slice(0, s.length - 1).join(lr);
      return [f, s[s.length - 1]];
    }
    return s;
  }), o = Array.from(new Set(i.map(function(l) {
    return l[0];
  })));
  i.sort(function(l, s) {
    var f = l.slice(0, l.length - 1), h = s.slice(0, s.length - 1);
    if (f.join() !== h.join()) {
      var d = o.indexOf(f[0]), v = o.indexOf(h[0]);
      return d - v;
    }
    var g = r.indexOf(l[l.length - 1]), y = r.indexOf(s[s.length - 1]);
    return g - y;
  });
  var a = i.map(function(l) {
    return l.join(lr);
  });
  return vj(t, a);
}, zZ = function(e) {
  var r = e.originValues, t = e.measureValues, n = e.sortParam, i = e.dataSet, o = n.sortFunc, a = n.sortFieldId, l = n.sortMethod, s = o(F({ data: t }, n));
  return s != null && s.length ? (i.fields.rows.indexOf(a) > 0 || i.fields.columns.indexOf(a) > 0) && !Or(s[0], lr) ? Xb({
    sortByValues: s,
    originValues: r
  }) : Yb(s, r, El(l)) : r;
}, WZ = function(e) {
  var r = e.sortParam, t = e.measureValues, n = e.originValues, i = e.dataSet, o = r.sortByMeasure, a = r.query, l = r.sortFieldId, s = r.sortMethod, f = i.fields, h = f.rows, d = f.columns, v = h.includes(l), g;
  if (o) {
    var y = jm(t, s, o === ki ? a[Ne] : o);
    g = _j(l, v ? h : wa(d), y);
  } else
    g = Ke(jm(t, s));
  return Yb(g, n, El(s));
}, GZ = function(e) {
  var r = e.sortParam, t = e.originValues, n = e.measureValues, i = e.dataSet, o = r.sortFunc, a = r.sortMethod, l = r.sortBy, s = t, f = {
    originValues: t,
    measureValues: n,
    sortParam: r,
    dataSet: i
  };
  return o ? s = zZ(f) : l ? s = Xb({ sortByValues: l, originValues: t }) : (El(a) || og(a)) && (s = WZ(f)), s;
}, kZ = function(e, r, t) {
  var n, i = {}, o = Or(e, lr);
  if (o)
    for (var a = XT(e, lr), l = !((n = r == null ? void 0 : r.rows) === null || n === void 0) && n.includes(t) ? r.rows : wa(r.columns), s = 0; s <= Vs(l, t); s++)
      i[l[s]] = a[s];
  else
    i[t] = e;
  return i;
}, Zm = function(e) {
  return e.filter(function(r) {
    return r !== Ne;
  });
}, UZ = function(e) {
  var r = e.dataSet, t = e.sortParam, n = e.originValues, i = r.fields, o = t.sortByMeasure, a = t.query, l = t.sortFieldId;
  if (o !== ki) {
    var s = r.getMultiData(a, {
      queryType: En.DetailOnly
    });
    return s;
  }
  var f = r.getMultiData(a, {
    queryType: En.All
  }), h = wa(i.columns), d = Or(i.rows, l), v = Zm(d ? i.rows : h), g = Zm(d ? h : i.rows), y = v[v.indexOf(l) + 1], C = Ft(a), m = g.filter(function(S) {
    return !C.includes(S);
  }), w = f.filter(function(S) {
    var x = new Set(Object.keys(S[Np]));
    if (!x.has(l) || x.has(y))
      return !1;
    var b = m.every(function(O) {
      return !x.has(O);
    });
    return b;
  });
  return ne(w) ? xl(Ke(n, function(S) {
    var x = kZ(S, i, l);
    return r.getTotalValue(F(F({}, a), x));
  })) : w;
}, YZ = function(e) {
  var r = e.dataSet, t = e.sortParam, n = e.originValues, i = e.isSortByMeasure, o;
  return i ? o = UZ(e) : o = n, GZ({
    sortParam: t,
    originValues: n,
    measureValues: o,
    dataSet: r
  });
}, Vb = function(e, r) {
  if (e != null && e.sortMethod) {
    if (El(e == null ? void 0 : e.sortMethod))
      return "groupAsc";
    if (og(e == null ? void 0 : e.sortMethod))
      return "groupDesc";
  }
  if (r)
    return "SortDown";
}, Qm = function(e) {
  var r, t, n = e.pivotMeta, i = e.dimensions, o = e.sortedDimensionValues, a = e.sortFieldId, l = {
    children: n
  }, s = [l];
  try {
    for (var f = Yr(i), h = f.next(); !h.done; h = f.next()) {
      var d = h.value;
      if (d !== a)
        s = Xs(s, function(v) {
          return Q([], U(v.children.values()), !1);
        });
      else {
        s.forEach(function(v) {
          var g = Q([], U(v.children.values()), !1), y = z0(g, function(C) {
            return Vs(o, C.id);
          }).map(function(C) {
            return [C.value, C];
          });
          v.children = new Map(y);
        });
        break;
      }
    }
  } catch (v) {
    r = { error: v };
  } finally {
    try {
      h && !h.done && (t = f.return) && t.call(f);
    } finally {
      if (r)
        throw r.error;
    }
  }
  return l.children;
}, ag = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.handleRestOptions = function() {
      for (var t = [], n = 0; n < arguments.length; n++)
        t[n] = arguments[n];
      var i = U(t, 1), o = i[0];
      this.headerConfig = F({}, o);
      var a = this.meta, l = a.value, s = a.query, f = this.spreadsheet.dataCfg.sortParams, h = this.isSortCell(), d = Cr(Q([], U(f), !1).reverse(), function(g) {
        return h && (g == null ? void 0 : g.sortByMeasure) === l && sr(_e(g, "query"), s);
      }), v = Vb(d, h);
      this.headerConfig.sortParam = F(F(F({}, this.headerConfig.sortParam), d || { query: s }), { type: v });
    }, r.prototype.initCell = function() {
      this.resetTextAndConditionIconShapes(), this.actionIcons = [], this.hasDefaultHiddenIcon = !1;
    }, r.prototype.getTreeIcon = function() {
      return this.treeIcon;
    }, r.prototype.getInteractiveBorderShapeStyle = function(t) {
      var n = this.getCellArea(), i = n.x, o = n.y, a = n.height, l = n.width;
      return {
        x: i + t,
        y: o + t,
        width: l - t * 2,
        height: a - t * 2
      };
    }, r.prototype.getFormattedFieldValue = function() {
      var t = this.meta, n = t.label, i = t.isTotalRoot, o = t.isGrandTotals, a = this.spreadsheet.dataSet.getFieldFormatter(this.meta.field), l = !0;
      this.spreadsheet.isTableMode() ? l = !1 : this.spreadsheet.isHierarchyTreeType() ? l = !(o && i) : l = !i;
      var s = l && a ? a(n, void 0, this.meta) : n;
      return {
        formattedValue: s,
        value: n
      };
    }, r.prototype.getActionIconCfg = function() {
      return ig(this.spreadsheet.options.headerActionIcons, this.meta, this.cellType);
    }, r.prototype.showSortIcon = function() {
      var t = this.spreadsheet, n = t.options, i = t.dataCfg, o = ne(i.fields.values);
      if (n.showDefaultHeaderActionIcon && !o) {
        var a = this.headerConfig.sortParam, l = this.meta.query;
        return l && sr(a == null ? void 0 : a.query, l) && (a == null ? void 0 : a.type) && (a == null ? void 0 : a.type) !== "none";
      }
      return !1;
    }, r.prototype.getActionIconsCount = function() {
      if (this.showSortIcon())
        return 1;
      var t = this.getActionIconCfg();
      if (t) {
        var n = t.iconNames;
        return n.length;
      }
      return 0;
    }, r.prototype.getActionIconsWidth = function() {
      var t = this.getStyle().icon, n = t.size, i = t.margin;
      return (n + i.left) * this.getActionIconsCount();
    }, r.prototype.drawSortIcons = function() {
      var t = this;
      if (this.showSortIcon()) {
        var n = this.getStyle(), i = n.icon, o = n.text, a = this.getTextConditionFill(o), l = this.headerConfig.sortParam, s = this.getIconPosition(), f = new Rs(F(F({ name: _e(l, "type", "none") }, s), { width: i.size, height: i.size, fill: a }));
        f.on("click", function(h) {
          t.spreadsheet.emit(B.GLOBAL_ACTION_ICON_CLICK, h), t.spreadsheet.handleGroupSort(h, t.meta);
        }), this.add(f), this.actionIcons.push(f);
      }
    }, r.prototype.hasDefaultHideActionIcon = function() {
      return this.hasDefaultHiddenIcon;
    }, r.prototype.addActionIcon = function(t) {
      var n = this, i = t.x, o = t.y, a = t.iconName, l = t.defaultHide, s = t.action, f = t.onClick, h = t.onHover, d = this.getStyle(), v = d.icon, g = d.text, y = this.getTextConditionFill(g), C = (v == null ? void 0 : v.fill) || y, m = new Rs({
        name: a,
        x: i,
        y: o,
        width: v == null ? void 0 : v.size,
        height: v == null ? void 0 : v.size,
        fill: C
      });
      m.set("visible", !l), m.on("mouseover", function(w) {
        n.spreadsheet.emit(B.GLOBAL_ACTION_ICON_HOVER, w), h == null || h({
          hovering: !0,
          iconName: a,
          meta: n.meta,
          event: w
        });
      }), m.on("mouseleave", function(w) {
        n.spreadsheet.emit(B.GLOBAL_ACTION_ICON_HOVER_OFF, w), h == null || h({
          hovering: !1,
          iconName: a,
          meta: n.meta,
          event: w
        });
      }), m.on("click", function(w) {
        var S;
        n.spreadsheet.emit(B.GLOBAL_ACTION_ICON_CLICK, w), (S = f || s) === null || S === void 0 || S({
          iconName: a,
          meta: n.meta,
          event: w
        });
      }), this.actionIcons.push(m), this.add(m);
    }, r.prototype.drawActionIcons = function() {
      var t = this;
      if (this.showSortIcon()) {
        this.drawSortIcons();
        return;
      }
      var n = this.getActionIconCfg();
      if (n) {
        var i = n.iconNames, o = n.action, a = n.onClick, l = n.onHover, s = n.defaultHide, f = this.getIconPosition(i.length), h = this.getStyle().icon, d = h.size, v = h.margin;
        Oe(i, function(g, y) {
          var C = f.x + y * d + y * v.left, m = f.y, w = typeof s == "function" ? s(t.meta, g) : s;
          w && (t.hasDefaultHiddenIcon = !0), t.addActionIcon({
            iconName: g,
            x: C,
            y: m,
            defaultHide: w,
            action: o,
            onClick: a,
            onHover: l
          });
        });
      }
    }, r.prototype.drawBackgroundShape = function() {
      var t = this.getBackgroundColor(), n = t.backgroundColor, i = t.backgroundColorOpacity;
      this.backgroundShape = un(this, F(F({}, this.getCellArea()), { fill: n, fillOpacity: i }));
    }, r.prototype.isSortCell = function() {
      var t, n, i, o = (n = (t = this.meta.spreadsheet) === null || t === void 0 ? void 0 : t.isValueInCols) === null || n === void 0 ? void 0 : n.call(t), a = this.meta.level === ((i = this.meta.hierarchy) === null || i === void 0 ? void 0 : i.maxLevel);
      return o ? a && this.cellType === re.COL_CELL : a && this.cellType === re.ROW_CELL;
    }, r.prototype.handleByStateName = function(t, n) {
      Jo(t, this) && this.updateByState(n);
    }, r.prototype.handleSearchResult = function(t) {
      if (Jo(t, this)) {
        var n = Cr(t, function(i) {
          return i == null ? void 0 : i.isTarget;
        });
        n.id === this.getMeta().id ? this.updateByState(de.HIGHLIGHT) : this.updateByState(de.SEARCH_RESULT);
      }
    }, r.prototype.handleHover = function(t) {
      var n;
      Jo(t, this) && (this.updateByState(de.HOVER), this.hasDefaultHideActionIcon() && this.toggleActionIcon((n = t == null ? void 0 : t[0]) === null || n === void 0 ? void 0 : n.id));
    }, r.prototype.handleSelect = function(t, n) {
      Jo(t, this) && this.updateByState(de.SELECTED);
      var i = Ke(n, "id");
      Or(i, this.meta.id) && this.updateByState(de.SELECTED);
    }, r.prototype.getTextStyle = function() {
      var t = this.getStyle(), n = t.text, i = t.bolderText, o = t.measureText, a;
      this.isMeasureField() ? a = o || n : this.isBolderText() ? a = i : a = n;
      var l = this.getTextConditionFill(a);
      return F(F({}, a), { fill: l });
    }, r.prototype.getBackgroundColor = function() {
      var t, n = ((t = this.getStyle()) === null || t === void 0 ? void 0 : t.cell) || {}, i = n.backgroundColor, o = n.backgroundColorOpacity;
      return this.getBackgroundColorByCondition(i, o);
    }, r.prototype.getBackgroundColorByCondition = function(t, n) {
      var i, o = t, a = this.findFieldCondition((i = this.conditions) === null || i === void 0 ? void 0 : i.background);
      if (a && a.mapping) {
        var l = this.mappingValue(a);
        l && (o = l.fill);
      }
      return { backgroundColor: o, backgroundColorOpacity: n };
    }, r.prototype.toggleActionIcon = function(t) {
      if (this.getMeta().id === t) {
        var n = [];
        Oe(this.actionIcons, function(i) {
          i.get("visible") || (i.set("visible", !0), n.push(i));
        }), this.spreadsheet.store.set("visibleActionIcons", n);
      }
    }, r.prototype.update = function() {
      var t = this.spreadsheet.interaction, n = t == null ? void 0 : t.getState(), i = t == null ? void 0 : t.getCells([
        re.CORNER_CELL,
        re.COL_CELL,
        re.ROW_CELL
      ]);
      if (ol(i))
        switch (n == null ? void 0 : n.stateName) {
          case de.SELECTED:
          case de.BRUSH_SELECTED:
            this.handleSelect(i, n == null ? void 0 : n.nodes);
            break;
          case de.HOVER_FOCUS:
          case de.HOVER:
            this.handleHover(i);
            break;
          case de.SEARCH_RESULT:
            this.handleSearchResult(i);
            break;
          default:
            this.handleByStateName(i, n == null ? void 0 : n.stateName);
            break;
        }
    }, r.prototype.updateByState = function(t) {
      e.prototype.updateByState.call(this, t, this);
    }, r.prototype.hideInteractionShape = function() {
      e.prototype.hideInteractionShape.call(this);
    }, r.prototype.isMeasureField = function() {
      return [Ne, dD].includes(this.meta.field);
    }, r.prototype.mappingValue = function(t) {
      var n = this.getMeta().label;
      return t == null ? void 0 : t.mapping(n, this.meta);
    }, r.prototype.findFieldCondition = function(t) {
      var n = this;
      return xc(t, function(i) {
        return i.field instanceof RegExp ? i.field.test(n.meta.field) : i.field === n.meta.field;
      });
    }, r;
  }(Dc)
), Fc = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return Object.defineProperty(r.prototype, "cellType", {
      get: function() {
        return re.COL_CELL;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.initCell = function() {
      e.prototype.initCell.call(this), this.drawBackgroundShape(), this.drawInteractiveBgShape(), this.drawInteractiveBorderShape(), this.drawTextShape(), this.drawConditionIconShapes(), this.drawActionIcons(), this.drawBorders(), this.drawResizeArea(), this.addExpandColumnIconShapes(), this.update();
    }, r.prototype.drawInteractiveBgShape = function() {
      this.stateShapes.set("interactiveBgShape", un(this, F({}, this.getCellArea()), {
        visible: !1
      }));
    }, r.prototype.drawInteractiveBorderShape = function() {
      var t = 2;
      this.stateShapes.set("interactiveBorderShape", un(this, this.getInteractiveBorderShapeStyle(t), {
        visible: !1
      }));
    }, r.prototype.getMaxTextWidth = function() {
      var t = this.getContentArea().width;
      return t - this.getActionIconsWidth();
    }, r.prototype.getIconPosition = function() {
      if (this.meta.isLeaf)
        return e.prototype.getIconPosition.call(this, this.getActionIconsCount());
      var t = this.getIconStyle(), n = t.margin.left, i = this.getTextStyle(), o = this.textPosition, a = o.x, l = o.y - t.size / 2;
      return i.textAlign === "left" ? {
        x: a + this.actualTextWidth + n,
        y: l
      } : i.textAlign === "right" ? {
        x: a + n,
        y: l
      } : {
        x: a + this.actualTextWidth / 2 + n,
        y: l
      };
    }, r.prototype.isBolderText = function() {
      var t = this.meta, n = t.isLeaf, i = t.isTotals;
      return !!(i || !n);
    }, r.prototype.getTextPosition = function() {
      var t, n = this.meta.isLeaf, i = this.headerConfig, o = i.width, a = i.scrollContainsRowHeader, l = i.cornerWidth, s = i.scrollX, f = this.getTextStyle(), h = this.getContentArea(), d = this.getIconStyle();
      if (n)
        return Js(h, f, this.actualTextWidth, d, this.getActionIconsCount()).text;
      var v = {
        start: s - (a ? l : 0),
        width: o + (a ? l : 0)
      }, g = this.getTextStyle().textAlign, y = lj(v, g, (t = this.getStyle().cell) === null || t === void 0 ? void 0 : t.padding), C = this.getActionIconsWidth(), m = this.actualTextWidth + C, w = aj(y, { start: h.x, width: h.width }, m), S = sj(w, this.actualTextWidth, C, g), x = h.y + h.height / 2;
      return this.textPosition = { x: S, y: x }, this.textPosition;
    }, r.prototype.getActionIconsWidth = function() {
      var t = this.getStyle().icon, n = t.size, i = t.margin, o = this.getActionIconsCount();
      return (n + i.left) * o + (o > 0 ? i.right : 0);
    }, r.prototype.getColResizeAreaKey = function() {
      return this.meta.key;
    }, r.prototype.getColResizeArea = function() {
      return eu(this.spreadsheet, mS);
    }, r.prototype.getHorizontalResizeAreaName = function() {
      return "".concat(xS).concat(this.meta.key);
    }, r.prototype.drawHorizontalResizeArea = function() {
      var t, n, i = ((n = (t = this.spreadsheet.options.style) === null || t === void 0 ? void 0 : t.colCfg) === null || n === void 0 ? void 0 : n.height) === 0;
      if (!(i || !this.shouldDrawResizeAreaByType("colCellVertical", this))) {
        var o = this.headerConfig, a = o.cornerWidth, l = o.viewportWidth, s = this.meta, f = s.y, h = s.height, d = this.getResizeAreaStyle(), v = this.getColResizeArea(), g = this.getHorizontalResizeAreaName(), y = v.find(function(m) {
          return m.attrs.name === g;
        });
        if (!y) {
          var C = a + l;
          v.addShape("rect", {
            attrs: F(F({}, Ps({
              theme: d,
              type: An.Vertical,
              id: this.getColResizeAreaKey(),
              effect: Ar.Field,
              offsetX: 0,
              offsetY: f,
              width: C,
              height: h,
              meta: this.meta
            })), { name: g, x: 0, y: f + h - d.size / 2, width: C })
          });
        }
      }
    }, r.prototype.shouldAddVerticalResizeArea = function() {
      var t = this.meta, n = t.x, i = t.y, o = t.width, a = t.height, l = this.headerConfig, s = l.scrollX, f = l.scrollY, h = l.scrollContainsRowHeader, d = l.cornerWidth, v = l.height, g = l.width, y = this.getResizeAreaStyle(), C = {
        x: n + o - y.size / 2,
        y: i,
        width: y.size,
        height: a
      }, m = {
        x: h ? -d : 0,
        y: 0,
        width: h ? d + g : g,
        height: v
      };
      return ng(C, m, {
        scrollX: s,
        scrollY: f
      });
    }, r.prototype.getVerticalResizeAreaOffset = function() {
      var t = this.meta, n = t.x, i = t.y, o = this.headerConfig, a = o.scrollX, l = o.position;
      return {
        x: l.x + n - a,
        y: l.y + i
      };
    }, r.prototype.drawVerticalResizeArea = function() {
      if (!(!this.meta.isLeaf || !this.shouldDrawResizeAreaByType("colCellHorizontal", this))) {
        var t = this.meta, n = t.label, i = t.width, o = t.height, a = this.getResizeAreaStyle(), l = this.getColResizeArea();
        if (this.shouldAddVerticalResizeArea()) {
          var s = this.getVerticalResizeAreaOffset(), f = s.x, h = s.y;
          l.addShape("rect", {
            attrs: F(F({}, Ps({
              theme: a,
              type: An.Horizontal,
              effect: Ar.Cell,
              id: n,
              offsetX: f,
              offsetY: h,
              width: i,
              height: o,
              meta: this.meta
            })), { x: f + i - a.size / 2, y: h, height: o })
          });
        }
      }
    }, r.prototype.drawResizeArea = function() {
      this.drawHorizontalResizeArea(), this.drawVerticalResizeArea();
    }, r.prototype.drawHorizontalBorder = function() {
      var t = da(Kt.TOP, this.meta, this.theme.colCell.cell), n = t.position, i = t.style;
      or(this, n, i);
    }, r.prototype.drawVerticalBorder = function(t) {
      var n = da(t, this.meta, this.theme.colCell.cell), i = n.position, o = n.style;
      or(this, i, o);
    }, r.prototype.drawBorders = function() {
      var t = this.spreadsheet, n = t.options, i = t.isTableMode;
      this.meta.colIndex === 0 && i() && !n.showSeriesNumber && this.drawVerticalBorder(Kt.LEFT), this.drawHorizontalBorder(), this.drawVerticalBorder(Kt.RIGHT);
    }, r.prototype.hasHiddenColumnCell = function() {
      var t = this, n = this.spreadsheet.options, i = n.interaction.hiddenColumnFields, o = i === void 0 ? [] : i, a = n.tooltip.operation, l = this.spreadsheet.store.get("hiddenColumnsDetail", []);
      return ne(l) || ne(o) || !a.hiddenColumns ? !1 : !!l.find(function(s) {
        return Zv(s == null ? void 0 : s.displaySiblingNode, t.meta.id);
      });
    }, r.prototype.getExpandIconTheme = function() {
      var t = this.getStyle();
      return t.icon;
    }, r.prototype.addExpandColumnSplitLine = function() {
      var t = this.meta, n = t.x, i = t.y, o = t.width, a = t.height, l = this.theme.splitLine, s = l.horizontalBorderColor, f = l.horizontalBorderWidth, h = l.horizontalBorderColorOpacity, d = l.borderDash, v = this.isLastColumn() ? n + o - f : n;
      or(this, {
        x1: v,
        y1: i,
        x2: v,
        y2: i + a
      }, {
        stroke: s,
        lineWidth: f,
        strokeOpacity: h,
        lineDash: d
      });
    }, r.prototype.addExpandColumnIconShapes = function() {
      this.hasHiddenColumnCell() && (this.addExpandColumnSplitLine(), this.addExpandColumnIcons());
    }, r.prototype.addExpandColumnIcons = function() {
      var t = this.isLastColumn();
      this.addExpandColumnIcon(t), this.isAllDisplaySiblingNodeHidden() && t && this.addExpandColumnIcon(!1);
    }, r.prototype.addExpandColumnIcon = function(t) {
      var n = this, i = this.getExpandColumnIconConfig(t), o = Q0(this, F(F({}, i), { name: "ExpandColIcon", cursor: "pointer" }));
      o.on("click", function() {
        n.spreadsheet.emit(B.LAYOUT_COLS_EXPANDED, n.meta);
      });
    }, r.prototype.getExpandColumnIconConfig = function(t) {
      var n = this.getExpandIconTheme().size, i = this.getCellArea(), o = i.x, a = i.y, l = i.width, s = i.height, f = o - n, h = t ? f + l : f, d = a + s / 2 - n / 2;
      return {
        x: h,
        y: d,
        width: n * 2,
        height: n
      };
    }, r.prototype.isLastColumn = function() {
      return FZ(this.spreadsheet, this.meta.id);
    }, r.prototype.isAllDisplaySiblingNodeHidden = function() {
      var t = this.meta.id, n = this.spreadsheet.store.get("hiddenColumnsDetail", []), i = n.find(function(a) {
        var l, s = a.displaySiblingNode;
        return ((l = s == null ? void 0 : s.next) === null || l === void 0 ? void 0 : l.id) === t;
      }), o = n.find(function(a) {
        var l, s = a.displaySiblingNode;
        return ((l = s == null ? void 0 : s.prev) === null || l === void 0 ? void 0 : l.id) === t;
      });
      return o && i;
    }, r;
  }(ag)
), XZ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.isBolderText = function() {
      var t = this.meta.cornerType;
      return t === Ln.Col;
    }, Object.defineProperty(r.prototype, "cellType", {
      get: function() {
        return re.CORNER_CELL;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.initCell = function() {
      e.prototype.initCell.call(this), this.resetTextAndConditionIconShapes(), this.drawBackgroundShape(), this.drawTreeIcon(), this.drawCellText(), this.drawConditionIconShapes(), this.drawActionIcons(), this.drawBorderShape(), this.drawResizeArea(), this.update();
    }, r.prototype.drawCellText = function() {
      this.drawTextShape();
    }, r.prototype.drawTextShape = function() {
      var t = this.getContentArea().x, n = this.getCellArea(), i = n.y, o = n.height, a = this.getTextStyle(), l = this.getCornerText(), s = this.getMaxTextWidth(), f = bl(this.meta, this.spreadsheet.options.placeholder), h = this.spreadsheet.measureTextWidth, d = sl({
        measureTextWidth: h,
        text: l,
        maxWidth: s,
        fontParam: a,
        placeholder: f
      });
      this.actualText = d;
      var v = d.indexOf(Va), g = d, y = "";
      if (v !== -1 && this.spreadsheet.isHierarchyTreeType()) {
        var C = v + (aK() ? 1 : 0);
        g = l.substr(0, C), y = l.slice(C), y = sl({
          measureTextWidth: h,
          text: y,
          maxWidth: s,
          fontParam: a
        });
      }
      var m = oj({
        x: t + this.getTreeIconWidth(),
        y: i,
        width: s,
        height: o
      }, a).x, w = i + (ne(y) ? o / 2 : o / 4);
      this.addTextShape(ha(this, [this.textShapes[0]], m, w, g, a)), ne(y) || this.addTextShape(ha(this, [this.textShapes[1]], m, i + o * 0.75, y, a)), this.actualTextWidth = Wi([
        h(g, a),
        h(y, a)
      ]);
    }, r.prototype.drawTreeIcon = function() {
      var t = this;
      if (!(!this.showTreeIcon() || this.meta.cornerType === Ln.Col)) {
        var n = this.headerConfig.hierarchyCollapse, i = this.getStyle().icon.size, o = this.getTextStyle(), a = o.textBaseline, l = o.fill, s = this.getContentArea();
        this.treeIcon = Tb(this, {
          x: s.x,
          y: Yf(s, a, i),
          width: i,
          height: i
        }, l, n, function() {
          t.headerConfig.spreadsheet.store.set("scrollY", 0), t.headerConfig.spreadsheet.emit(B.LAYOUT_TREE_ROWS_COLLAPSE_ALL, n);
        });
      }
    }, r.prototype.drawBorderShape = function() {
      var t = this;
      [Kt.TOP, Kt.LEFT].forEach(function(n) {
        var i = da(n, t.getCellArea(), t.getStyle().cell), o = i.position, a = i.style;
        or(t, o, a);
      });
    }, r.prototype.isLastRowCornerCell = function() {
      var t = this.meta, n = t.cornerType, i = t.field, o = this.headerConfig.rows;
      return n === Ln.Row && (this.spreadsheet.isHierarchyTreeType() || gt(o) === i);
    }, r.prototype.getResizeAreaEffect = function() {
      var t = this.meta.cornerType;
      return t === Ln.Series ? Ar.Series : this.isLastRowCornerCell() && this.spreadsheet.isHierarchyTreeType() ? Ar.Tree : Ar.Field;
    }, r.prototype.drawResizeArea = function() {
      if (this.shouldDrawResizeAreaByType("cornerCellHorizontal", this)) {
        var t = this.getResizeAreaStyle(), n = eu(this.spreadsheet, wv), i = this.headerConfig, o = i.position, a = i.scrollX, l = i.scrollY, s = i.width, f = i.height, h = this.meta, d = h.x, v = h.y, g = h.width, y = h.height, C = h.field, m = h.cornerType, w = {
          x: d + g - t.size / 2,
          y: v,
          width: t.size,
          height: y
        }, S = {
          x: 0,
          y: 0,
          width: s,
          height: f
        };
        if (!(m === Ln.Col || !ng(w, S, {
          scrollX: a,
          scrollY: l
        }))) {
          var x = o.x + d - a, b = o.y + (this.isLastRowCornerCell() ? 0 : v);
          n.addShape("rect", {
            attrs: F(F({}, Ps({
              theme: t,
              id: C,
              type: An.Horizontal,
              effect: this.getResizeAreaEffect(),
              offsetX: x,
              offsetY: b,
              width: g,
              height: y,
              meta: this.meta
            })), { x: x + g - t.size / 2, y: b, height: this.isLastRowCornerCell() ? f : y })
          });
        }
      }
    }, r.prototype.showTreeIcon = function() {
      var t;
      return this.spreadsheet.isHierarchyTreeType() && ((t = this.meta) === null || t === void 0 ? void 0 : t.x) === 0;
    }, r.prototype.getIconPosition = function() {
      var t, n, i = (n = (t = this.textShapes) === null || t === void 0 ? void 0 : t[0]) === null || n === void 0 ? void 0 : n.cfg.attrs, o = this.getTextStyle(), a = o.textBaseline, l = o.textAlign, s = this.getStyle().icon, f = s.size, h = s.margin, d = (i == null ? void 0 : i.x) + U2([
        [$v("center"), Ka(this.actualTextWidth / 2)],
        [$v("right"), Ka(0)],
        [VT, Ka(this.actualTextWidth)]
      ])(l) + h.left, v = Yf(this.getContentArea(), a, f);
      return { x: d, y: v };
    }, r.prototype.getTreeIconWidth = function() {
      var t = this.getStyle().icon, n = t.size, i = t.margin;
      return this.showTreeIcon() ? n + i.right : 0;
    }, r.prototype.getTextStyle = function() {
      var t = this.getStyle(), n = t.text, i = t.bolderText, o = this.isBolderText() ? n : i, a = this.getTextConditionFill(o);
      return F(F({}, o), { fill: a });
    }, r.prototype.getMaxTextWidth = function() {
      var t = this.getContentArea().width;
      return t - this.getTreeIconWidth() - this.getActionIconsWidth();
    }, r.prototype.getTextPosition = function() {
      return {
        x: 0,
        y: 0
      };
    }, r.prototype.getFormattedFieldValue = function() {
      return Ub(this.meta, this.spreadsheet.dataSet.getFieldName(this.meta.label));
    }, r.prototype.getCornerText = function() {
      var t = this.getFormattedFieldValue().formattedValue;
      return t;
    }, r;
  }(ag)
), VZ = function(e, r, t, n) {
  var i, o, a = _e(n, "size"), l = _e(n, "margin"), s = 0;
  return e.options.showDefaultHeaderActionIcon ? s = 1 : s = (o = (i = ig(e.options.headerActionIcons, r, t)) === null || i === void 0 ? void 0 : i.iconNames.length) !== null && o !== void 0 ? o : 0, s * (a + l.left) + (s > 0 ? l.right : 0);
}, qb = function(e, r, t) {
  var n, i, o = ((n = t.icon.margin) === null || n === void 0 ? void 0 : n.left) || 0, a = ((i = t.icon.margin) === null || i === void 0 ? void 0 : i.right) || 0, l = e.store.get("hiddenColumnsDetail", []), s = !1, f = !1;
  l.forEach(function(d) {
    var v, g, y, C;
    ((g = (v = d == null ? void 0 : d.displaySiblingNode) === null || v === void 0 ? void 0 : v.prev) === null || g === void 0 ? void 0 : g.field) === r && (s = !0), ((C = (y = d == null ? void 0 : d.displaySiblingNode) === null || y === void 0 ? void 0 : y.next) === null || C === void 0 ? void 0 : C.field) === r && (f = !0);
  });
  var h = _e(t, "icon.size");
  return {
    left: f ? h + a : 0,
    right: s ? h + o : 0
  };
}, qZ = function(e, r, t) {
  var n = _e(t, "cell.padding"), i = qb(e, r.field, t);
  return n.left + n.right + VZ(e, r, re.COL_CELL, _e(t, "icon")) + i.left + i.right;
}, Kb = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.handleRestOptions = function() {
      for (var t = [], n = 0; n < arguments.length; n++)
        t[n] = arguments[n];
      var i = U(t, 1), o = i[0];
      this.headerConfig = F({}, o);
      var a = this.meta.field, l = this.spreadsheet.dataCfg.sortParams, s = Cr(l, function(h) {
        return (h == null ? void 0 : h.sortFieldId) === a;
      }), f = Vb(s, !0);
      this.headerConfig.sortParam = F(F(F({}, this.headerConfig.sortParam), s || {}), { type: f });
    }, r.prototype.isFrozenCell = function() {
      var t = this.spreadsheet.options, n = t.frozenColCount, i = t.frozenTrailingColCount, o = this.spreadsheet.facet.layoutResult.colNodes.filter(function(l) {
        return Gn(l);
      }), a = GK(this.meta).colIndex;
      return ta(a, n) || ra(a, i, o.length);
    }, r.prototype.getFormattedFieldValue = function() {
      return Ub(this.meta, this.spreadsheet.dataSet.getFieldName(this.meta.label));
    }, r.prototype.shouldAddVerticalResizeArea = function() {
      return this.isFrozenCell() ? !0 : e.prototype.shouldAddVerticalResizeArea.call(this);
    }, r.prototype.getVerticalResizeAreaOffset = function() {
      var t = this.meta, n = t.x, i = t.y, o = this.headerConfig, a = o.scrollX, l = o.position;
      return this.isFrozenCell() ? {
        x: n,
        y: i
      } : {
        x: l.x + n - a,
        y: l.y + i
      };
    }, r.prototype.getColResizeArea = function() {
      var t = this.isFrozenCell();
      return t ? eu(this.spreadsheet, wS) : e.prototype.getColResizeArea.call(this);
    }, r.prototype.isSortCell = function() {
      return !0;
    }, r.prototype.showSortIcon = function() {
      return this.spreadsheet.options.showDefaultHeaderActionIcon;
    }, r.prototype.getTextStyle = function() {
      var t = this.getStyle();
      return t == null ? void 0 : t.bolderText;
    }, r.prototype.getContentArea = function() {
      var t, n = (((t = this.getStyle()) === null || t === void 0 ? void 0 : t.cell) || this.theme.dataCell.cell).padding, i = F({}, n), o = qb(this.spreadsheet, this.meta.field, this.getStyle());
      return o.left && (i.left = (i.left || 0) + o.left), o.right && (i.right = (i.right || 0) + o.right), Eb(this.getCellArea(), i);
    }, r.prototype.getHorizontalResizeAreaName = function() {
      return "".concat(xS).concat("table-col-cell");
    }, r.prototype.drawBackgroundShape = function() {
      var t = this.getStyle().cell.backgroundColor;
      this.backgroundShape = un(this, F(F({}, this.getCellArea()), { fill: t }));
    }, r;
  }(Fc)
), KZ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getStyle = function(t) {
      return t ? this.theme[t] : _e(this, "theme.cornerCell");
    }, r.prototype.showSortIcon = function() {
      return !1;
    }, r.prototype.drawLeftBorder = function() {
      var t = da(Kt.LEFT, this.getCellArea(), this.getStyle().cell), n = t.position, i = t.style;
      or(this, n, i);
    }, r.prototype.drawBorders = function() {
      e.prototype.drawBorders.call(this), this.meta.colIndex === 0 && this.drawLeftBorder();
    }, r;
  }(Kb)
), $c = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getLinkFieldStyle = function() {
      return this.theme.rowCell.text.linkTextFill;
    }, r.prototype.drawBorderShape = function() {
      e.prototype.drawBorderShape.call(this), this.meta.colIndex === 0 && this.drawLeftBorder();
    }, r.prototype.shouldDrawResizeArea = function() {
      return this.meta.colIndex === 0;
    }, r.prototype.drawResizeArea = function() {
      if (this.shouldDrawResizeArea()) {
        var t = this.getCellArea(), n = t.x, i = t.y, o = t.width, a = t.height, l = this.meta.rowIndex, s = this.getResizeAreaStyle(), f = this.spreadsheet.options, h = f.frozenRowCount, d = f.frozenTrailingRowCount, v = this.spreadsheet.facet.getCellRange(), g = Mc(l, v.start, h), y = Qs(l, v.end, d), C = g || y, m = C ? _S : tl, w = eu(this.spreadsheet, m), S = this.spreadsheet.facet.layoutResult.colsHierarchy.height, x = this.spreadsheet.facet.getScrollOffset().scrollY, b = this.spreadsheet.facet.getPaginationScrollY(), O = x + b, D = i + (y ? 0 : S);
        y || (D -= g ? b : O), w.addShape("rect", {
          attrs: F(F({}, Ps({
            id: String(this.meta.rowIndex),
            theme: s,
            type: An.Vertical,
            effect: Ar.Cell,
            offsetX: n,
            offsetY: D,
            width: o,
            height: a,
            meta: this.meta
          })), { x: n, y: D + a - s.size / 2, width: o })
        });
      }
    }, r;
  }(Bo)
), jb = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return Object.defineProperty(r.prototype, "cellType", {
      get: function() {
        return re.ROW_CELL;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.getTextStyle = function() {
      return this.theme.rowCell.seriesText;
    }, r;
  }($c)
), Nc = (
  /** @class */
  function() {
    function e(r) {
      this.EVENT = "gesture", this.gm = r;
    }
    return e.prototype.do = function(r) {
      var t = r.type;
      switch (t) {
        case "touchstart":
          this.onTouchStart(r);
          break;
        case "touchmove":
          this.onTouchMove(r);
          break;
        case "touchend":
          this.onTouchEnd(r);
          break;
        case "touchcancel":
          this.onTouchCancel(r);
          break;
        default:
          return;
      }
    }, e.prototype.emit = function(r) {
      this.gm.emit(this.EVENT, r);
    }, e;
  }()
), jZ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.EVENT = "pan", t;
    }
    return r.prototype.onTouchCancel = function(t) {
    }, r.prototype.onTouchEnd = function(t) {
    }, r.prototype.onTouchMove = function(t) {
      var n = t.x, i = t.y, o = n - this.preX, a = i - this.preY;
      this.preX = n, this.preY = i, this.emit({ x: n, y: i, deltaX: o, deltaY: a, event: t });
    }, r.prototype.onTouchStart = function(t) {
      var n = t.x, i = t.y;
      this.preX = n, this.preY = i;
    }, r;
  }(Nc)
), wo = typeof performance == "object" && performance.now ? performance : Date, ZZ = 300, Jm = 10, QZ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.EVENT = "press", t;
    }
    return r.prototype.onTouchCancel = function(t) {
      this.clearTimeout();
    }, r.prototype.onTouchEnd = function(t) {
      this.clearTimeout();
    }, r.prototype.onTouchMove = function(t) {
      var n = t.x, i = t.y;
      (n - this.touchStartX > Jm || i - this.touchStartY > Jm) && this.clearTimeout();
    }, r.prototype.onTouchStart = function(t) {
      var n = this;
      this.clearTimeout();
      var i = t.x, o = t.y;
      this.touchStartTime = wo.now(), this.touchStartX = i, this.touchStartY = o, this.pressTimeout = window.setTimeout(function() {
        n.emit({ x: i, y: o, event: t });
      }, ZZ);
    }, r.prototype.clearTimeout = function() {
      window.clearTimeout(this.pressTimeout);
    }, r;
  }(Nc)
), JZ = 100, eQ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.EVENT = "swipe", t.latestMoveTime = 0, t.ms = 0, t.speedX = 0, t.speedY = 0, t.preX = 0, t.preY = 0, t;
    }
    return r.prototype.onTouchCancel = function(t) {
    }, r.prototype.onTouchEnd = function(t) {
      var n = this.speedX, i = this.speedY;
      if (wo.now() - this.latestMoveTime < JZ) {
        var o = t.x, a = t.y;
        this.emit({ x: o, y: a, speedX: n, speedY: i, event: t });
      }
    }, r.prototype.onTouchMove = function(t) {
      var n = t.x, i = t.y, o = wo.now(), a = n - this.preX, l = i - this.preY, s = o - this.ms;
      this.speedX = a / s, this.speedY = l / s, this.latestMoveTime = o;
    }, r.prototype.onTouchStart = function(t) {
      var n = t.x, i = t.y;
      this.speedX = this.speedY = 0, this.preX = n, this.preY = i, this.ms = wo.now();
    }, r;
  }(Nc)
), tQ = 300, ew = 2, rQ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.EVENT = "tap", t;
    }
    return r.prototype.onTouchCancel = function(t) {
    }, r.prototype.onTouchEnd = function(t) {
      var n = t.x, i = t.y;
      n - this.touchStartX < ew && i - this.touchStartY < ew && wo.now() - this.touchStartTime < tQ && this.emit({ x: n, y: i, event: t });
    }, r.prototype.onTouchMove = function(t) {
    }, r.prototype.onTouchStart = function(t) {
      var n = t.x, i = t.y;
      this.touchStartTime = wo.now(), this.touchStartX = n, this.touchStartY = i;
    }, r;
  }(Nc)
), nQ = {
  Pan: jZ,
  Press: QZ,
  Swipe: eQ,
  Tap: rQ
}, iQ = function(e) {
  return nQ[e];
}, Zb = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t, n) {
      n === void 0 && (n = {});
      var i = e.call(this) || this;
      return i.onTouchStart = function(o) {
        i.preventEvent(o), i.element.on("touchmove", i.onTouchMove), i.element.on("touchend", i.onTouchEnd), i.element.on("touchcancel", i.onTouchCancel), i.emit("touchdown", o), i.doGestures(o);
      }, i.onTouchMove = function(o) {
        i.preventEvent(o), i.emit("touchmove", o), i.doGestures(o);
      }, i.onTouchEnd = function(o) {
        i.preventEvent(o), i.emit("touchend", o), i.element.off("touchmove", i.onTouchMove), i.element.off("touchend", i.onTouchEnd), i.element.off("touchcancel", i.onTouchCancel), i.doGestures(o);
      }, i.onTouchCancel = function(o) {
        i.preventEvent(o), i.emit("touchcancel", o), i.element.off("touchmove", i.onTouchMove), i.element.off("touchend", i.onTouchEnd), i.element.off("touchcancel", i.onTouchCancel), i.doGestures(o);
      }, i.element = t, i.options = n, i.initialGestures(), i.bindTouchStart(), i;
    }
    return r.prototype.destroy = function() {
      this.element.off("touchstart", this.onTouchStart), this.off();
    }, r.prototype.initialGestures = function() {
      var t = this, n = this.options.gestures || ["Pan", "Press", "Swipe", "Tap"];
      this.gestures = n.map(function(i) {
        var o = iQ(i);
        return new o(t);
      });
    }, r.prototype.bindTouchStart = function() {
      this.element.on("touchstart", this.onTouchStart);
    }, r.prototype.preventEvent = function(t) {
      var n = t.type, i = this.options.prevents || [];
      i.includes(n) && t.preventDefault();
    }, r.prototype.doGestures = function(t) {
      this.gestures.forEach(function(n) {
        n.do(t);
      });
    }, r;
  }(nc)
), oQ = zx, aQ = 800, lQ = "swipe", sQ = "pan", tw = "wheel", uQ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this) || this;
      return n.rafMs = 0, n.onPan = function(i) {
        n.raf && cancelAnimationFrame(n.raf);
        var o = i.deltaX, a = i.deltaY, l = n.getWrapperEvent(i, o, a);
        n.emit(tw, l);
      }, n.onSwipe = function(i) {
        var o = i.speedX, a = i.speedY;
        n.rafMs = wo.now(), n.ms = n.rafMs, (o !== 0 || a !== 0) && n.rafInertia(i);
      }, n.element = t, n.gm = new Zb(t, { gestures: ["Pan", "Swipe"] }), n.gm.on(lQ, n.onSwipe), n.gm.on(sQ, n.onPan), n;
    }
    return r.prototype.destroy = function() {
      window.cancelAnimationFrame(this.raf), this.gm.destroy(), this.off();
    }, r.prototype.rafInertia = function(t) {
      var n = this, i = t.speedX, o = t.speedY;
      this.raf = window.requestAnimationFrame(function() {
        var a = wo.now(), l = (a - n.ms) / aQ;
        if (l < 1) {
          l = oQ(1 - l);
          var s = a - n.rafMs, f = i * l * s, h = o * l * s, d = n.getWrapperEvent(t, f, h);
          n.emit(tw, d), n.rafMs = a, n.rafInertia(t);
        }
      });
    }, r.prototype.getWrapperEvent = function(t, n, i) {
      return F(F({}, t), { deltaX: -n, deltaY: -i });
    }, r;
  }(nc)
), fQ = function(e) {
  var r = 0, t = e.children;
  return t == null || t.forEach(function(n) {
    r += n.height || 0;
  }), r;
}, Qb = function(e, r, t, n, i) {
  var o = 0, a = e + (r - i) / 2, l = e + (r + i) / 2, s = t + n;
  return e + i >= s ? o = e : s < l ? o = t + n - i : t > a ? e + r - t > i ? o = t : o = e + r - i : o = e + (r - i) / 2, o;
}, cQ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return Object.defineProperty(r.prototype, "cellType", {
      get: function() {
        return re.ROW_CELL;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.destroy = function() {
      var t;
      e.prototype.destroy.call(this), (t = this.gm) === null || t === void 0 || t.destroy();
    }, r.prototype.initCell = function() {
      e.prototype.initCell.call(this), this.drawBackgroundShape(), this.drawInteractiveBgShape(), this.drawInteractiveBorderShape(), this.drawTextShape(), this.drawConditionIconShapes(), this.drawTreeIcon(), this.drawTreeLeafNodeAlignDot(), this.drawRectBorder(), this.drawResizeAreaInLeaf(), this.drawActionIcons(), this.update();
    }, r.prototype.getBackgroundColor = function() {
      var t = this.getCrossBackgroundColor(this.meta.rowIndex), n = t.backgroundColor, i = t.backgroundColorOpacity;
      return this.getBackgroundColorByCondition(n, i);
    }, r.prototype.drawInteractiveBorderShape = function() {
      var t = 2;
      this.stateShapes.set("interactiveBorderShape", un(this, this.getInteractiveBorderShapeStyle(t), {
        visible: !1
      }));
    }, r.prototype.drawInteractiveBgShape = function() {
      this.stateShapes.set("interactiveBgShape", un(this, F({}, this.getCellArea()), {
        visible: !1
      }));
    }, r.prototype.showTreeIcon = function() {
      return this.spreadsheet.isHierarchyTreeType() && !this.meta.isLeaf;
    }, r.prototype.showTreeLeafNodeAlignDot = function() {
      var t;
      return ((t = this.spreadsheet.options.style) === null || t === void 0 ? void 0 : t.showTreeLeafNodeAlignDot) && this.spreadsheet.isHierarchyTreeType();
    }, r.prototype.getParentTreeIconCfg = function() {
      if (!(!this.showTreeLeafNodeAlignDot() || !this.spreadsheet.isHierarchyTreeType() || !this.meta.isLeaf))
        return _e(this.meta, "parent.belongsCell.treeIcon.cfg");
    }, r.prototype.drawTreeIcon = function() {
      var t = this;
      if (this.showTreeIcon()) {
        var n = this.meta, i = n.isCollapsed, o = n.id, a = n.hierarchy, l = this.getContentArea().x, s = this.getTextStyle().fill, f = this.getStyle().icon.size, h = this.getContentIndent(), d = l + h, v = this.getIconYPosition();
        this.treeIcon = Tb(this, {
          x: d,
          y: v,
          width: f,
          height: f
        }, s, i, function() {
          if (!Qt()) {
            if (!i) {
              var g = t.spreadsheet.store.get("scrollY"), y = t.headerConfig.viewportHeight || 0, C = fQ(t.meta), m = a.height - C;
              if (g > 0 && g + y > m) {
                var w = m - y;
                t.spreadsheet.store.set("scrollY", w > 0 ? w : 0);
              }
            }
            t.spreadsheet.emit(B.ROW_CELL_COLLAPSE_TREE_ROWS, {
              id: o,
              isCollapsed: !i,
              node: t.meta
            });
          }
        }), Qt() && (this.gm = new Zb(this, {
          gestures: ["Tap"]
        }), this.gm.on("tap", function() {
          t.spreadsheet.emit(B.ROW_CELL_COLLAPSE_TREE_ROWS, {
            id: o,
            isCollapsed: !i,
            node: t.meta
          });
        }));
      }
    }, r.prototype.drawTreeLeafNodeAlignDot = function() {
      var t = this.getParentTreeIconCfg();
      if (t) {
        var n = this.getStyle().icon, i = n.size, o = n.margin, a = t.x + i + o.right, l = this.getTextPosition().y, s = this.getTextStyle(), f = s.fill, h = s.fontSize, d = i / 5;
        this.treeLeafNodeAlignDot = Sb(this, {
          x: a + i / 2,
          y: l + (h - d) / 2,
          r: d,
          fill: f,
          fillOpacity: 0.3
          // 暂时先写死，后面看是否有这个点点的定制需求
        });
      }
    }, r.prototype.isBolderText = function() {
      var t = this.meta, n = t.isLeaf, i = t.isTotals, o = t.level;
      return !n && o === 0 || i;
    }, r.prototype.drawTextShape = function() {
      e.prototype.drawTextShape.call(this), this.drawLinkField(this.meta);
    }, r.prototype.drawRectBorder = function() {
      var t = this, n = this.getCellArea().x, i = this.getContentIndent(), o = this.spreadsheet.isHierarchyTreeType() ? n : n + i;
      [Kt.BOTTOM, Kt.LEFT].forEach(function(a) {
        var l = da(a, F(F({}, t.getCellArea()), { x: o }), t.getStyle().cell), s = l.position, f = l.style;
        or(t, s, f);
      });
    }, r.prototype.getResizeClipAreaBBox = function() {
      var t = this.headerConfig, n = t.width, i = t.viewportHeight;
      return {
        x: 0,
        y: 0,
        width: n,
        height: i
      };
    }, r.prototype.drawResizeAreaInLeaf = function() {
      if (!(!this.meta.isLeaf || !this.shouldDrawResizeAreaByType("rowCellVertical", this))) {
        var t = this.getCellArea(), n = t.x, i = t.y, o = t.width, a = t.height, l = this.getResizeAreaStyle(), s = eu(this.spreadsheet, tl), f = this.headerConfig, h = f.position, d = f.seriesNumberWidth, v = f.width, g = f.scrollX, y = f.scrollY, C = {
          // fix: When scrolling without the entire frozen header horizontally, the resize area would be removed permanently.
          x: n + d,
          y: i + a - l.size / 2,
          width: o,
          height: l.size
        }, m = this.getResizeClipAreaBBox();
        if (ng(C, m, {
          scrollX: g,
          scrollY: y
        })) {
          var w = (h == null ? void 0 : h.x) + n - g + d, S = (h == null ? void 0 : h.y) + i - y, x = this.spreadsheet.isFrozenRowHeader() ? v - d - (n - g) : o;
          s.addShape("rect", {
            attrs: F(F({}, Ps({
              id: this.meta.id,
              theme: l,
              type: An.Vertical,
              effect: Ar.Cell,
              offsetX: w,
              offsetY: S,
              width: o,
              height: a,
              meta: this.meta
            })), { x: w, y: S + a - l.size / 2, width: x })
          });
        }
      }
    }, r.prototype.getContentIndent = function() {
      if (!this.spreadsheet.isHierarchyTreeType())
        return 0;
      for (var t = this.getStyle(), n = t.icon, i = t.cell, o = n.size + n.margin.right, a = this.meta.parent, l = 0; a; )
        a.height !== 0 && (l += o), a = a.parent;
      return this.showTreeLeafNodeAlignDot() && (l += this.isTreeLevel() ? 0 : i.padding.right + n.margin.right), l;
    }, r.prototype.getTextIndent = function() {
      var t = this.getStyle().icon, n = t.size, i = t.margin, o = this.getContentIndent(), a = this.showTreeIcon() || this.isTreeLevel() && this.showTreeLeafNodeAlignDot() ? n + i.right : 0;
      return o + a;
    }, r.prototype.isTreeLevel = function() {
      return Cr(_e(this.meta, "parent.children"), function(t) {
        return !t.isLeaf;
      });
    }, r.prototype.getIconPosition = function() {
      var t = this.textShape.cfg.attrs, n = t.x, i = t.y, o = t.textAlign, a = this.getStyle().icon.margin.left;
      return o === "left" ? {
        x: n + this.actualTextWidth + a,
        y: i
      } : o === "right" ? {
        x: n + a,
        y: i
      } : {
        x: n + this.actualTextWidth / 2 + a,
        y: i
      };
    }, r.prototype.getMaxTextWidth = function() {
      var t = this.getContentArea().width;
      return t - this.getTextIndent() - this.getActionIconsWidth();
    }, r.prototype.getTextArea = function() {
      var t = this.getContentArea(), n = this.getTextIndent();
      return F(F({}, t), { x: t.x + n, width: t.width - n });
    }, r.prototype.getAdjustTextAreaHeight = function(t, n, i) {
      var o = t.height;
      return !this.spreadsheet.facet.vScrollBar && t.y + t.height > n + i && (o = n + i - t.y), o;
    }, r.prototype.calculateTextY = function(t) {
      var n = t.textArea, i = t.adjustTextAreaHeight, o = this.headerConfig, a = o.scrollY, l = o.viewportHeight, s = this.getTextStyle().fontSize;
      return Qb(n.y, i, a, l, s);
    }, r.prototype.getTextPosition = function() {
      var t = this.getTextArea(), n = this.headerConfig, i = n.scrollY, o = n.viewportHeight, a = this.getAdjustTextAreaHeight(t, i, o), l = this.calculateTextY({ textArea: t, adjustTextAreaHeight: a }), s = Js(t, this.getTextStyle(), 0, this.getIconStyle(), this.getActionIconsCount()).text.x;
      return { x: s, y: l };
    }, r.prototype.getIconYPosition = function() {
      var t = this.getTextPosition().y, n = this.getStyle().icon.size, i = this.getTextStyle().fontSize;
      return t + (i - n) / 2;
    }, r;
  }(ag)
), tu = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.handleRestOptions = function() {
      for (var t = [], n = 0; n < arguments.length; n++)
        t[n] = arguments[n];
      var i = U(t), o = i[0], a = i.slice(1);
      e.prototype.handleRestOptions.call(this, o, a), this.frozenRowCell = a[0];
    }, r.prototype.getAdjustTextAreaHeight = function(t, n, i) {
      var o = t.y - this.getFrozenFirstRowHeight(), a = t.height;
      return !this.spreadsheet.facet.vScrollBar && o + t.height > n + i && (a = n + i - o), a;
    }, r.prototype.calculateTextY = function(t) {
      var n = t.textArea, i = t.adjustTextAreaHeight, o = this.headerConfig, a = o.scrollY, l = o.viewportHeight, s = this.getTextStyle().fontSize;
      return Qb(
        n.y,
        i,
        // viewportLeft: start at the frozen row position
        a + this.getFrozenFirstRowHeight(),
        l,
        s
      );
    }, r.prototype.getResizeClipAreaBBox = function() {
      return F(F({}, e.prototype.getResizeClipAreaBBox.call(this)), { y: this.getFrozenFirstRowHeight() });
    }, r.prototype.getFrozenFirstRowHeight = function() {
      var t;
      if (this.frozenRowCell)
        return 0;
      var n = this.headerConfig.spreadsheet, i = n.facet, o = ll(n.options, (t = i == null ? void 0 : i.layoutResult) === null || t === void 0 ? void 0 : t.rowNodes).frozenRowHeight;
      return o;
    }, r;
  }(cQ)
), Jb = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.initCell = function() {
      this.drawBackgroundShape(), this.drawRectBorder(), this.drawTextShape();
    }, r.prototype.getTextStyle = function() {
      var t;
      return (t = this.getStyle()) === null || t === void 0 ? void 0 : t.seriesText;
    }, r.prototype.getTextPosition = function() {
      return e.prototype.getTextPosition.call(this);
    }, r.prototype.getActionIconsCount = function() {
      return 0;
    }, r.prototype.getIconStyle = function() {
    }, r.prototype.drawResizeAreaInLeaf = function() {
    }, r.prototype.update = function() {
    }, r.prototype.findFieldCondition = function() {
    }, r.prototype.mappingValue = function() {
    }, r;
  }(tu)
), Kf = function(e) {
  return [pr.META, pr.CONTROL].includes(e.key);
}, eE = function(e) {
  return e.ctrlKey || e.metaKey;
}, hi = function(e) {
  var r = e.getMeta(), t = r || {}, n = t.id, i = t.colIndex, o = t.rowIndex, a = t.rowQuery;
  return {
    id: n,
    colIndex: i,
    rowIndex: o,
    type: e.cellType,
    rowQuery: a
  };
}, hQ = function(e, r) {
  var t = e.interaction;
  t.changeState({
    stateName: de.SELECTED,
    cells: r
  }), e.emit(B.GLOBAL_SELECTED, t.getActiveCells());
};
function Qv(e, r) {
  var t = Math.min(e.rowIndex, r.rowIndex), n = Math.max(e.rowIndex, r.rowIndex), i = Math.min(e.colIndex, r.colIndex), o = Math.max(e.colIndex, r.colIndex);
  return {
    start: {
      rowIndex: t,
      colIndex: i
    },
    end: {
      rowIndex: n,
      colIndex: o
    }
  };
}
function dQ(e, r) {
  var t = r.interaction, n = r.facet, i = r.options;
  if (r.isTableMode()) {
    if (!i.showSeriesNumber)
      return [];
    var o = n.layoutResult.colLeafNodes[0].id, a = Pc(String(e.rowIndex), o), l = [], s = t.getAllCells().find(function(f) {
      return f.getMeta().id === a;
    });
    return s && s instanceof jb && l.push(s), l;
  }
  return eg(e.rowId, t.getAllRowHeaderCells(), r.isHierarchyTreeType());
}
var lg = function(e, r) {
  var t = e.getSelectedCellHighlight(), n = t.colHeader, i = t.rowHeader;
  n && e.updateCells(e.getAllColHeaderCells()), i && e.updateCells(e.getAllRowHeaderCells()), r();
}, tE = function(e) {
  var r = e.store.get("visibleActionIcons"), t = e.interaction.getInteractedCells(), n = e.interaction.getState().cells;
  if (ne(t) && ne(n) && ne(r))
    return !1;
  if (Oe(r, function(o) {
    o.set("visible", !1);
  }), e.store.set("visibleActionIcons", []), Oe(t, function(o) {
    o.hideInteractionShape();
  }), e.interaction.resetState(), e.options.interaction.selectedCellsSpotlight) {
    var i = e.interaction.getPanelGroupAllUnSelectedDataCells() || [];
    Oe(i, function(o) {
      o.clearUnselectedState();
    });
  }
  return !0;
}, vQ = function(e, r) {
  var t = r == null ? void 0 : r.stateName;
  e.interaction.isEqualStateName(t) || (tE(e), e.hideTooltip(), e.store.set(Tv, r));
}, pQ = function(e, r, t) {
  var n, i, o = t.facet, a = o.panelBBox.width, l = o == null ? void 0 : o.frozenGroupInfo, s = (n = l == null ? void 0 : l.frozenCol.width) !== null && n !== void 0 ? n : 0, f = (i = l == null ? void 0 : l.frozenTrailingCol.width) !== null && i !== void 0 ? i : 0, h = o.layoutResult.colLeafNodes[e];
  return r === zr.SCROLL_UP ? h.x - s : h.x + h.width - (a - f);
}, gQ = function(e, r, t) {
  var n, i, o = t.facet, a = o.viewCellHeights.getCellOffsetY, l = o.panelBBox.height, s = a(e + 1);
  if (Yt(s))
    return 0;
  var f = o == null ? void 0 : o.frozenGroupInfo, h = (n = f == null ? void 0 : f.frozenRow.height) !== null && n !== void 0 ? n : 0, d = (i = f == null ? void 0 : f.frozenTrailingRow.height) !== null && i !== void 0 ? i : 0;
  return r === zr.SCROLL_UP ? a(e) - h : s - (l - d);
}, ii = function() {
  for (var e = [], r = 0; r < arguments.length; r++)
    e[r] = arguments[r];
  var t = function(i, o) {
    if (ve(i) && ve(o))
      return o;
  }, n = Q(Q([], U(e), !1), [t], !1);
  return y0.apply(void 0, Q([{}], U(n), !1));
}, yQ = function(e) {
  var r = ["rows", "columns", "values"], t = r.reduce(function(n, i) {
    var o = e[i], a = Fi(o);
    return sr(a, o) || console.warn("fields.".concat(i, ":[").concat(o, "] should be unique")), n[i] = a, n;
  }, {});
  return F(F({}, e), t);
}, Nd = function() {
  for (var e = [], r = 0; r < arguments.length; r++)
    e[r] = arguments[r];
  var t = ii.apply(void 0, Q([FD], U(e), !1));
  return t.fields = yQ(t.fields), (!ne(t.fields.customTreeItems) || ne(t.fields.values)) && (t.fields.valueInCols = !1), t;
}, rw = function(e) {
  return ii(LS, e);
}, Ya = 9e15, Do = 1e9, Jv = "0123456789abcdef", jf = "2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058", Zf = "3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789", ep = {
  // These values must be integers within the stated ranges (inclusive).
  // Most of these values can be changed at run-time using the `Decimal.config` method.
  // The maximum number of significant digits of the result of a calculation or base conversion.
  // E.g. `Decimal.config({ precision: 20 });`
  precision: 20,
  // 1 to MAX_DIGITS
  // The rounding mode used when rounding to `precision`.
  //
  // ROUND_UP         0 Away from zero.
  // ROUND_DOWN       1 Towards zero.
  // ROUND_CEIL       2 Towards +Infinity.
  // ROUND_FLOOR      3 Towards -Infinity.
  // ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.
  // ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
  // ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
  // ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
  // ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
  //
  // E.g.
  // `Decimal.rounding = 4;`
  // `Decimal.rounding = Decimal.ROUND_HALF_UP;`
  rounding: 4,
  // 0 to 8
  // The modulo mode used when calculating the modulus: a mod n.
  // The quotient (q = a / n) is calculated according to the corresponding rounding mode.
  // The remainder (r) is calculated as: r = a - n * q.
  //
  // UP         0 The remainder is positive if the dividend is negative, else is negative.
  // DOWN       1 The remainder has the same sign as the dividend (JavaScript %).
  // FLOOR      3 The remainder has the same sign as the divisor (Python %).
  // HALF_EVEN  6 The IEEE 754 remainder function.
  // EUCLID     9 Euclidian division. q = sign(n) * floor(a / abs(n)). Always positive.
  //
  // Truncated division (1), floored division (3), the IEEE 754 remainder (6), and Euclidian
  // division (9) are commonly used for the modulus operation. The other rounding modes can also
  // be used, but they may not give useful results.
  modulo: 1,
  // 0 to 9
  // The exponent value at and beneath which `toString` returns exponential notation.
  // JavaScript numbers: -7
  toExpNeg: -7,
  // 0 to -EXP_LIMIT
  // The exponent value at and above which `toString` returns exponential notation.
  // JavaScript numbers: 21
  toExpPos: 21,
  // 0 to EXP_LIMIT
  // The minimum exponent value, beneath which underflow to zero occurs.
  // JavaScript numbers: -324  (5e-324)
  minE: -Ya,
  // -1 to -EXP_LIMIT
  // The maximum exponent value, above which overflow to Infinity occurs.
  // JavaScript numbers: 308  (1.7976931348623157e+308)
  maxE: Ya,
  // 1 to EXP_LIMIT
  // Whether to use cryptographically-secure random number generation, if available.
  crypto: !1
  // true/false
}, rE, Ni, Be = !0, Hc = "[DecimalError] ", Eo = Hc + "Invalid argument: ", nE = Hc + "Precision limit exceeded", iE = Hc + "crypto unavailable", oE = "[object Decimal]", _r = Math.floor, qt = Math.pow, CQ = /^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i, _Q = /^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i, mQ = /^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i, aE = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i, Xn = 1e7, Se = 7, wQ = 9007199254740991, xQ = jf.length - 1, tp = Zf.length - 1, q = { toStringTag: oE };
q.absoluteValue = q.abs = function() {
  var e = new this.constructor(this);
  return e.s < 0 && (e.s = 1), Ce(e);
};
q.ceil = function() {
  return Ce(new this.constructor(this), this.e + 1, 2);
};
q.clampedTo = q.clamp = function(e, r) {
  var t, n = this, i = n.constructor;
  if (e = new i(e), r = new i(r), !e.s || !r.s)
    return new i(NaN);
  if (e.gt(r))
    throw Error(Eo + r);
  return t = n.cmp(e), t < 0 ? e : n.cmp(r) > 0 ? r : new i(n);
};
q.comparedTo = q.cmp = function(e) {
  var r, t, n, i, o = this, a = o.d, l = (e = new o.constructor(e)).d, s = o.s, f = e.s;
  if (!a || !l)
    return !s || !f ? NaN : s !== f ? s : a === l ? 0 : !a ^ s < 0 ? 1 : -1;
  if (!a[0] || !l[0])
    return a[0] ? s : l[0] ? -f : 0;
  if (s !== f)
    return s;
  if (o.e !== e.e)
    return o.e > e.e ^ s < 0 ? 1 : -1;
  for (n = a.length, i = l.length, r = 0, t = n < i ? n : i; r < t; ++r)
    if (a[r] !== l[r])
      return a[r] > l[r] ^ s < 0 ? 1 : -1;
  return n === i ? 0 : n > i ^ s < 0 ? 1 : -1;
};
q.cosine = q.cos = function() {
  var e, r, t = this, n = t.constructor;
  return t.d ? t.d[0] ? (e = n.precision, r = n.rounding, n.precision = e + Math.max(t.e, t.sd()) + Se, n.rounding = 1, t = SQ(n, cE(n, t)), n.precision = e, n.rounding = r, Ce(Ni == 2 || Ni == 3 ? t.neg() : t, e, r, !0)) : new n(1) : new n(NaN);
};
q.cubeRoot = q.cbrt = function() {
  var e, r, t, n, i, o, a, l, s, f, h = this, d = h.constructor;
  if (!h.isFinite() || h.isZero())
    return new d(h);
  for (Be = !1, o = h.s * qt(h.s * h, 1 / 3), !o || Math.abs(o) == 1 / 0 ? (t = ar(h.d), e = h.e, (o = (e - t.length + 1) % 3) && (t += o == 1 || o == -2 ? "0" : "00"), o = qt(t, 1 / 3), e = _r((e + 1) / 3) - (e % 3 == (e < 0 ? -1 : 2)), o == 1 / 0 ? t = "5e" + e : (t = o.toExponential(), t = t.slice(0, t.indexOf("e") + 1) + e), n = new d(t), n.s = h.s) : n = new d(o.toString()), a = (e = d.precision) + 3; ; )
    if (l = n, s = l.times(l).times(l), f = s.plus(h), n = _t(f.plus(h).times(l), f.plus(s), a + 2, 1), ar(l.d).slice(0, a) === (t = ar(n.d)).slice(0, a))
      if (t = t.slice(a - 3, a + 1), t == "9999" || !i && t == "4999") {
        if (!i && (Ce(l, e + 1, 0), l.times(l).times(l).eq(h))) {
          n = l;
          break;
        }
        a += 4, i = 1;
      } else {
        (!+t || !+t.slice(1) && t.charAt(0) == "5") && (Ce(n, e + 1, 1), r = !n.times(n).times(n).eq(h));
        break;
      }
  return Be = !0, Ce(n, e, d.rounding, r);
};
q.decimalPlaces = q.dp = function() {
  var e, r = this.d, t = NaN;
  if (r) {
    if (e = r.length - 1, t = (e - _r(this.e / Se)) * Se, e = r[e], e)
      for (; e % 10 == 0; e /= 10)
        t--;
    t < 0 && (t = 0);
  }
  return t;
};
q.dividedBy = q.div = function(e) {
  return _t(this, new this.constructor(e));
};
q.dividedToIntegerBy = q.divToInt = function(e) {
  var r = this, t = r.constructor;
  return Ce(_t(r, new t(e), 0, 1, 1), t.precision, t.rounding);
};
q.equals = q.eq = function(e) {
  return this.cmp(e) === 0;
};
q.floor = function() {
  return Ce(new this.constructor(this), this.e + 1, 3);
};
q.greaterThan = q.gt = function(e) {
  return this.cmp(e) > 0;
};
q.greaterThanOrEqualTo = q.gte = function(e) {
  var r = this.cmp(e);
  return r == 1 || r === 0;
};
q.hyperbolicCosine = q.cosh = function() {
  var e, r, t, n, i, o = this, a = o.constructor, l = new a(1);
  if (!o.isFinite())
    return new a(o.s ? 1 / 0 : NaN);
  if (o.isZero())
    return l;
  t = a.precision, n = a.rounding, a.precision = t + Math.max(o.e, o.sd()) + 4, a.rounding = 1, i = o.d.length, i < 32 ? (e = Math.ceil(i / 3), r = (1 / Wc(4, e)).toString()) : (e = 16, r = "2.3283064365386962890625e-10"), o = ul(a, 1, o.times(r), new a(1), !0);
  for (var s, f = e, h = new a(8); f--; )
    s = o.times(o), o = l.minus(s.times(h.minus(s.times(h))));
  return Ce(o, a.precision = t, a.rounding = n, !0);
};
q.hyperbolicSine = q.sinh = function() {
  var e, r, t, n, i = this, o = i.constructor;
  if (!i.isFinite() || i.isZero())
    return new o(i);
  if (r = o.precision, t = o.rounding, o.precision = r + Math.max(i.e, i.sd()) + 4, o.rounding = 1, n = i.d.length, n < 3)
    i = ul(o, 2, i, i, !0);
  else {
    e = 1.4 * Math.sqrt(n), e = e > 16 ? 16 : e | 0, i = i.times(1 / Wc(5, e)), i = ul(o, 2, i, i, !0);
    for (var a, l = new o(5), s = new o(16), f = new o(20); e--; )
      a = i.times(i), i = i.times(l.plus(a.times(s.times(a).plus(f))));
  }
  return o.precision = r, o.rounding = t, Ce(i, r, t, !0);
};
q.hyperbolicTangent = q.tanh = function() {
  var e, r, t = this, n = t.constructor;
  return t.isFinite() ? t.isZero() ? new n(t) : (e = n.precision, r = n.rounding, n.precision = e + 7, n.rounding = 1, _t(t.sinh(), t.cosh(), n.precision = e, n.rounding = r)) : new n(t.s);
};
q.inverseCosine = q.acos = function() {
  var e, r = this, t = r.constructor, n = r.abs().cmp(1), i = t.precision, o = t.rounding;
  return n !== -1 ? n === 0 ? r.isNeg() ? kn(t, i, o) : new t(0) : new t(NaN) : r.isZero() ? kn(t, i + 4, o).times(0.5) : (t.precision = i + 6, t.rounding = 1, r = r.asin(), e = kn(t, i + 4, o).times(0.5), t.precision = i, t.rounding = o, e.minus(r));
};
q.inverseHyperbolicCosine = q.acosh = function() {
  var e, r, t = this, n = t.constructor;
  return t.lte(1) ? new n(t.eq(1) ? 0 : NaN) : t.isFinite() ? (e = n.precision, r = n.rounding, n.precision = e + Math.max(Math.abs(t.e), t.sd()) + 4, n.rounding = 1, Be = !1, t = t.times(t).minus(1).sqrt().plus(t), Be = !0, n.precision = e, n.rounding = r, t.ln()) : new n(t);
};
q.inverseHyperbolicSine = q.asinh = function() {
  var e, r, t = this, n = t.constructor;
  return !t.isFinite() || t.isZero() ? new n(t) : (e = n.precision, r = n.rounding, n.precision = e + 2 * Math.max(Math.abs(t.e), t.sd()) + 6, n.rounding = 1, Be = !1, t = t.times(t).plus(1).sqrt().plus(t), Be = !0, n.precision = e, n.rounding = r, t.ln());
};
q.inverseHyperbolicTangent = q.atanh = function() {
  var e, r, t, n, i = this, o = i.constructor;
  return i.isFinite() ? i.e >= 0 ? new o(i.abs().eq(1) ? i.s / 0 : i.isZero() ? i : NaN) : (e = o.precision, r = o.rounding, n = i.sd(), Math.max(n, e) < 2 * -i.e - 1 ? Ce(new o(i), e, r, !0) : (o.precision = t = n - i.e, i = _t(i.plus(1), new o(1).minus(i), t + e, 1), o.precision = e + 4, o.rounding = 1, i = i.ln(), o.precision = e, o.rounding = r, i.times(0.5))) : new o(NaN);
};
q.inverseSine = q.asin = function() {
  var e, r, t, n, i = this, o = i.constructor;
  return i.isZero() ? new o(i) : (r = i.abs().cmp(1), t = o.precision, n = o.rounding, r !== -1 ? r === 0 ? (e = kn(o, t + 4, n).times(0.5), e.s = i.s, e) : new o(NaN) : (o.precision = t + 6, o.rounding = 1, i = i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(), o.precision = t, o.rounding = n, i.times(2)));
};
q.inverseTangent = q.atan = function() {
  var e, r, t, n, i, o, a, l, s, f = this, h = f.constructor, d = h.precision, v = h.rounding;
  if (f.isFinite()) {
    if (f.isZero())
      return new h(f);
    if (f.abs().eq(1) && d + 4 <= tp)
      return a = kn(h, d + 4, v).times(0.25), a.s = f.s, a;
  } else {
    if (!f.s)
      return new h(NaN);
    if (d + 4 <= tp)
      return a = kn(h, d + 4, v).times(0.5), a.s = f.s, a;
  }
  for (h.precision = l = d + 10, h.rounding = 1, t = Math.min(28, l / Se + 2 | 0), e = t; e; --e)
    f = f.div(f.times(f).plus(1).sqrt().plus(1));
  for (Be = !1, r = Math.ceil(l / Se), n = 1, s = f.times(f), a = new h(f), i = f; e !== -1; )
    if (i = i.times(s), o = a.minus(i.div(n += 2)), i = i.times(s), a = o.plus(i.div(n += 2)), a.d[r] !== void 0)
      for (e = r; a.d[e] === o.d[e] && e--; )
        ;
  return t && (a = a.times(2 << t - 1)), Be = !0, Ce(a, h.precision = d, h.rounding = v, !0);
};
q.isFinite = function() {
  return !!this.d;
};
q.isInteger = q.isInt = function() {
  return !!this.d && _r(this.e / Se) > this.d.length - 2;
};
q.isNaN = function() {
  return !this.s;
};
q.isNegative = q.isNeg = function() {
  return this.s < 0;
};
q.isPositive = q.isPos = function() {
  return this.s > 0;
};
q.isZero = function() {
  return !!this.d && this.d[0] === 0;
};
q.lessThan = q.lt = function(e) {
  return this.cmp(e) < 0;
};
q.lessThanOrEqualTo = q.lte = function(e) {
  return this.cmp(e) < 1;
};
q.logarithm = q.log = function(e) {
  var r, t, n, i, o, a, l, s, f = this, h = f.constructor, d = h.precision, v = h.rounding, g = 5;
  if (e == null)
    e = new h(10), r = !0;
  else {
    if (e = new h(e), t = e.d, e.s < 0 || !t || !t[0] || e.eq(1))
      return new h(NaN);
    r = e.eq(10);
  }
  if (t = f.d, f.s < 0 || !t || !t[0] || f.eq(1))
    return new h(t && !t[0] ? -1 / 0 : f.s != 1 ? NaN : t ? 0 : 1 / 0);
  if (r)
    if (t.length > 1)
      o = !0;
    else {
      for (i = t[0]; i % 10 === 0; )
        i /= 10;
      o = i !== 1;
    }
  if (Be = !1, l = d + g, a = Co(f, l), n = r ? Qf(h, l + 10) : Co(e, l), s = _t(a, n, l, 1), Fs(s.d, i = d, v))
    do
      if (l += 10, a = Co(f, l), n = r ? Qf(h, l + 10) : Co(e, l), s = _t(a, n, l, 1), !o) {
        +ar(s.d).slice(i + 1, i + 15) + 1 == 1e14 && (s = Ce(s, d + 1, 0));
        break;
      }
    while (Fs(s.d, i += 10, v));
  return Be = !0, Ce(s, d, v);
};
q.minus = q.sub = function(e) {
  var r, t, n, i, o, a, l, s, f, h, d, v, g = this, y = g.constructor;
  if (e = new y(e), !g.d || !e.d)
    return !g.s || !e.s ? e = new y(NaN) : g.d ? e.s = -e.s : e = new y(e.d || g.s !== e.s ? g : NaN), e;
  if (g.s != e.s)
    return e.s = -e.s, g.plus(e);
  if (f = g.d, v = e.d, l = y.precision, s = y.rounding, !f[0] || !v[0]) {
    if (v[0])
      e.s = -e.s;
    else if (f[0])
      e = new y(g);
    else
      return new y(s === 3 ? -0 : 0);
    return Be ? Ce(e, l, s) : e;
  }
  if (t = _r(e.e / Se), h = _r(g.e / Se), f = f.slice(), o = h - t, o) {
    for (d = o < 0, d ? (r = f, o = -o, a = v.length) : (r = v, t = h, a = f.length), n = Math.max(Math.ceil(l / Se), a) + 2, o > n && (o = n, r.length = 1), r.reverse(), n = o; n--; )
      r.push(0);
    r.reverse();
  } else {
    for (n = f.length, a = v.length, d = n < a, d && (a = n), n = 0; n < a; n++)
      if (f[n] != v[n]) {
        d = f[n] < v[n];
        break;
      }
    o = 0;
  }
  for (d && (r = f, f = v, v = r, e.s = -e.s), a = f.length, n = v.length - a; n > 0; --n)
    f[a++] = 0;
  for (n = v.length; n > o; ) {
    if (f[--n] < v[n]) {
      for (i = n; i && f[--i] === 0; )
        f[i] = Xn - 1;
      --f[i], f[n] += Xn;
    }
    f[n] -= v[n];
  }
  for (; f[--a] === 0; )
    f.pop();
  for (; f[0] === 0; f.shift())
    --t;
  return f[0] ? (e.d = f, e.e = zc(f, t), Be ? Ce(e, l, s) : e) : new y(s === 3 ? -0 : 0);
};
q.modulo = q.mod = function(e) {
  var r, t = this, n = t.constructor;
  return e = new n(e), !t.d || !e.s || e.d && !e.d[0] ? new n(NaN) : !e.d || t.d && !t.d[0] ? Ce(new n(t), n.precision, n.rounding) : (Be = !1, n.modulo == 9 ? (r = _t(t, e.abs(), 0, 3, 1), r.s *= e.s) : r = _t(t, e, 0, n.modulo, 1), r = r.times(e), Be = !0, t.minus(r));
};
q.naturalExponential = q.exp = function() {
  return rp(this);
};
q.naturalLogarithm = q.ln = function() {
  return Co(this);
};
q.negated = q.neg = function() {
  var e = new this.constructor(this);
  return e.s = -e.s, Ce(e);
};
q.plus = q.add = function(e) {
  var r, t, n, i, o, a, l, s, f, h, d = this, v = d.constructor;
  if (e = new v(e), !d.d || !e.d)
    return !d.s || !e.s ? e = new v(NaN) : d.d || (e = new v(e.d || d.s === e.s ? d : NaN)), e;
  if (d.s != e.s)
    return e.s = -e.s, d.minus(e);
  if (f = d.d, h = e.d, l = v.precision, s = v.rounding, !f[0] || !h[0])
    return h[0] || (e = new v(d)), Be ? Ce(e, l, s) : e;
  if (o = _r(d.e / Se), n = _r(e.e / Se), f = f.slice(), i = o - n, i) {
    for (i < 0 ? (t = f, i = -i, a = h.length) : (t = h, n = o, a = f.length), o = Math.ceil(l / Se), a = o > a ? o + 1 : a + 1, i > a && (i = a, t.length = 1), t.reverse(); i--; )
      t.push(0);
    t.reverse();
  }
  for (a = f.length, i = h.length, a - i < 0 && (i = a, t = h, h = f, f = t), r = 0; i; )
    r = (f[--i] = f[i] + h[i] + r) / Xn | 0, f[i] %= Xn;
  for (r && (f.unshift(r), ++n), a = f.length; f[--a] == 0; )
    f.pop();
  return e.d = f, e.e = zc(f, n), Be ? Ce(e, l, s) : e;
};
q.precision = q.sd = function(e) {
  var r, t = this;
  if (e !== void 0 && e !== !!e && e !== 1 && e !== 0)
    throw Error(Eo + e);
  return t.d ? (r = lE(t.d), e && t.e + 1 > r && (r = t.e + 1)) : r = NaN, r;
};
q.round = function() {
  var e = this, r = e.constructor;
  return Ce(new r(e), e.e + 1, r.rounding);
};
q.sine = q.sin = function() {
  var e, r, t = this, n = t.constructor;
  return t.isFinite() ? t.isZero() ? new n(t) : (e = n.precision, r = n.rounding, n.precision = e + Math.max(t.e, t.sd()) + Se, n.rounding = 1, t = bQ(n, cE(n, t)), n.precision = e, n.rounding = r, Ce(Ni > 2 ? t.neg() : t, e, r, !0)) : new n(NaN);
};
q.squareRoot = q.sqrt = function() {
  var e, r, t, n, i, o, a = this, l = a.d, s = a.e, f = a.s, h = a.constructor;
  if (f !== 1 || !l || !l[0])
    return new h(!f || f < 0 && (!l || l[0]) ? NaN : l ? a : 1 / 0);
  for (Be = !1, f = Math.sqrt(+a), f == 0 || f == 1 / 0 ? (r = ar(l), (r.length + s) % 2 == 0 && (r += "0"), f = Math.sqrt(r), s = _r((s + 1) / 2) - (s < 0 || s % 2), f == 1 / 0 ? r = "5e" + s : (r = f.toExponential(), r = r.slice(0, r.indexOf("e") + 1) + s), n = new h(r)) : n = new h(f.toString()), t = (s = h.precision) + 3; ; )
    if (o = n, n = o.plus(_t(a, o, t + 2, 1)).times(0.5), ar(o.d).slice(0, t) === (r = ar(n.d)).slice(0, t))
      if (r = r.slice(t - 3, t + 1), r == "9999" || !i && r == "4999") {
        if (!i && (Ce(o, s + 1, 0), o.times(o).eq(a))) {
          n = o;
          break;
        }
        t += 4, i = 1;
      } else {
        (!+r || !+r.slice(1) && r.charAt(0) == "5") && (Ce(n, s + 1, 1), e = !n.times(n).eq(a));
        break;
      }
  return Be = !0, Ce(n, s, h.rounding, e);
};
q.tangent = q.tan = function() {
  var e, r, t = this, n = t.constructor;
  return t.isFinite() ? t.isZero() ? new n(t) : (e = n.precision, r = n.rounding, n.precision = e + 10, n.rounding = 1, t = t.sin(), t.s = 1, t = _t(t, new n(1).minus(t.times(t)).sqrt(), e + 10, 0), n.precision = e, n.rounding = r, Ce(Ni == 2 || Ni == 4 ? t.neg() : t, e, r, !0)) : new n(NaN);
};
q.times = q.mul = function(e) {
  var r, t, n, i, o, a, l, s, f, h = this, d = h.constructor, v = h.d, g = (e = new d(e)).d;
  if (e.s *= h.s, !v || !v[0] || !g || !g[0])
    return new d(!e.s || v && !v[0] && !g || g && !g[0] && !v ? NaN : !v || !g ? e.s / 0 : e.s * 0);
  for (t = _r(h.e / Se) + _r(e.e / Se), s = v.length, f = g.length, s < f && (o = v, v = g, g = o, a = s, s = f, f = a), o = [], a = s + f, n = a; n--; )
    o.push(0);
  for (n = f; --n >= 0; ) {
    for (r = 0, i = s + n; i > n; )
      l = o[i] + g[n] * v[i - n - 1] + r, o[i--] = l % Xn | 0, r = l / Xn | 0;
    o[i] = (o[i] + r) % Xn | 0;
  }
  for (; !o[--a]; )
    o.pop();
  return r ? ++t : o.shift(), e.d = o, e.e = zc(o, t), Be ? Ce(e, d.precision, d.rounding) : e;
};
q.toBinary = function(e, r) {
  return sg(this, 2, e, r);
};
q.toDecimalPlaces = q.toDP = function(e, r) {
  var t = this, n = t.constructor;
  return t = new n(t), e === void 0 ? t : (Vr(e, 0, Do), r === void 0 ? r = n.rounding : Vr(r, 0, 8), Ce(t, e + t.e + 1, r));
};
q.toExponential = function(e, r) {
  var t, n = this, i = n.constructor;
  return e === void 0 ? t = pi(n, !0) : (Vr(e, 0, Do), r === void 0 ? r = i.rounding : Vr(r, 0, 8), n = Ce(new i(n), e + 1, r), t = pi(n, !0, e + 1)), n.isNeg() && !n.isZero() ? "-" + t : t;
};
q.toFixed = function(e, r) {
  var t, n, i = this, o = i.constructor;
  return e === void 0 ? t = pi(i) : (Vr(e, 0, Do), r === void 0 ? r = o.rounding : Vr(r, 0, 8), n = Ce(new o(i), e + i.e + 1, r), t = pi(n, !1, e + n.e + 1)), i.isNeg() && !i.isZero() ? "-" + t : t;
};
q.toFraction = function(e) {
  var r, t, n, i, o, a, l, s, f, h, d, v, g = this, y = g.d, C = g.constructor;
  if (!y)
    return new C(g);
  if (f = t = new C(1), n = s = new C(0), r = new C(n), o = r.e = lE(y) - g.e - 1, a = o % Se, r.d[0] = qt(10, a < 0 ? Se + a : a), e == null)
    e = o > 0 ? r : f;
  else {
    if (l = new C(e), !l.isInt() || l.lt(f))
      throw Error(Eo + l);
    e = l.gt(r) ? o > 0 ? r : f : l;
  }
  for (Be = !1, l = new C(ar(y)), h = C.precision, C.precision = o = y.length * Se * 2; d = _t(l, r, 0, 1, 1), i = t.plus(d.times(n)), i.cmp(e) != 1; )
    t = n, n = i, i = f, f = s.plus(d.times(i)), s = i, i = r, r = l.minus(d.times(i)), l = i;
  return i = _t(e.minus(t), n, 0, 1, 1), s = s.plus(i.times(f)), t = t.plus(i.times(n)), s.s = f.s = g.s, v = _t(f, n, o, 1).minus(g).abs().cmp(_t(s, t, o, 1).minus(g).abs()) < 1 ? [f, n] : [s, t], C.precision = h, Be = !0, v;
};
q.toHexadecimal = q.toHex = function(e, r) {
  return sg(this, 16, e, r);
};
q.toNearest = function(e, r) {
  var t = this, n = t.constructor;
  if (t = new n(t), e == null) {
    if (!t.d)
      return t;
    e = new n(1), r = n.rounding;
  } else {
    if (e = new n(e), r === void 0 ? r = n.rounding : Vr(r, 0, 8), !t.d)
      return e.s ? t : e;
    if (!e.d)
      return e.s && (e.s = t.s), e;
  }
  return e.d[0] ? (Be = !1, t = _t(t, e, 0, r, 1).times(e), Be = !0, Ce(t)) : (e.s = t.s, t = e), t;
};
q.toNumber = function() {
  return +this;
};
q.toOctal = function(e, r) {
  return sg(this, 8, e, r);
};
q.toPower = q.pow = function(e) {
  var r, t, n, i, o, a, l = this, s = l.constructor, f = +(e = new s(e));
  if (!l.d || !e.d || !l.d[0] || !e.d[0])
    return new s(qt(+l, f));
  if (l = new s(l), l.eq(1))
    return l;
  if (n = s.precision, o = s.rounding, e.eq(1))
    return Ce(l, n, o);
  if (r = _r(e.e / Se), r >= e.d.length - 1 && (t = f < 0 ? -f : f) <= wQ)
    return i = sE(s, l, t, n), e.s < 0 ? new s(1).div(i) : Ce(i, n, o);
  if (a = l.s, a < 0) {
    if (r < e.d.length - 1)
      return new s(NaN);
    if (e.d[r] & 1 || (a = 1), l.e == 0 && l.d[0] == 1 && l.d.length == 1)
      return l.s = a, l;
  }
  return t = qt(+l, f), r = t == 0 || !isFinite(t) ? _r(f * (Math.log("0." + ar(l.d)) / Math.LN10 + l.e + 1)) : new s(t + "").e, r > s.maxE + 1 || r < s.minE - 1 ? new s(r > 0 ? a / 0 : 0) : (Be = !1, s.rounding = l.s = 1, t = Math.min(12, (r + "").length), i = rp(e.times(Co(l, n + t)), n), i.d && (i = Ce(i, n + 5, 1), Fs(i.d, n, o) && (r = n + 10, i = Ce(rp(e.times(Co(l, r + t)), r), r + 5, 1), +ar(i.d).slice(n + 1, n + 15) + 1 == 1e14 && (i = Ce(i, n + 1, 0)))), i.s = a, Be = !0, s.rounding = o, Ce(i, n, o));
};
q.toPrecision = function(e, r) {
  var t, n = this, i = n.constructor;
  return e === void 0 ? t = pi(n, n.e <= i.toExpNeg || n.e >= i.toExpPos) : (Vr(e, 1, Do), r === void 0 ? r = i.rounding : Vr(r, 0, 8), n = Ce(new i(n), e, r), t = pi(n, e <= n.e || n.e <= i.toExpNeg, e)), n.isNeg() && !n.isZero() ? "-" + t : t;
};
q.toSignificantDigits = q.toSD = function(e, r) {
  var t = this, n = t.constructor;
  return e === void 0 ? (e = n.precision, r = n.rounding) : (Vr(e, 1, Do), r === void 0 ? r = n.rounding : Vr(r, 0, 8)), Ce(new n(t), e, r);
};
q.toString = function() {
  var e = this, r = e.constructor, t = pi(e, e.e <= r.toExpNeg || e.e >= r.toExpPos);
  return e.isNeg() && !e.isZero() ? "-" + t : t;
};
q.truncated = q.trunc = function() {
  return Ce(new this.constructor(this), this.e + 1, 1);
};
q.valueOf = q.toJSON = function() {
  var e = this, r = e.constructor, t = pi(e, e.e <= r.toExpNeg || e.e >= r.toExpPos);
  return e.isNeg() ? "-" + t : t;
};
function ar(e) {
  var r, t, n, i = e.length - 1, o = "", a = e[0];
  if (i > 0) {
    for (o += a, r = 1; r < i; r++)
      n = e[r] + "", t = Se - n.length, t && (o += go(t)), o += n;
    a = e[r], n = a + "", t = Se - n.length, t && (o += go(t));
  } else if (a === 0)
    return "0";
  for (; a % 10 === 0; )
    a /= 10;
  return o + a;
}
function Vr(e, r, t) {
  if (e !== ~~e || e < r || e > t)
    throw Error(Eo + e);
}
function Fs(e, r, t, n) {
  var i, o, a, l;
  for (o = e[0]; o >= 10; o /= 10)
    --r;
  return --r < 0 ? (r += Se, i = 0) : (i = Math.ceil((r + 1) / Se), r %= Se), o = qt(10, Se - r), l = e[i] % o | 0, n == null ? r < 3 ? (r == 0 ? l = l / 100 | 0 : r == 1 && (l = l / 10 | 0), a = t < 4 && l == 99999 || t > 3 && l == 49999 || l == 5e4 || l == 0) : a = (t < 4 && l + 1 == o || t > 3 && l + 1 == o / 2) && (e[i + 1] / o / 100 | 0) == qt(10, r - 2) - 1 || (l == o / 2 || l == 0) && (e[i + 1] / o / 100 | 0) == 0 : r < 4 ? (r == 0 ? l = l / 1e3 | 0 : r == 1 ? l = l / 100 | 0 : r == 2 && (l = l / 10 | 0), a = (n || t < 4) && l == 9999 || !n && t > 3 && l == 4999) : a = ((n || t < 4) && l + 1 == o || !n && t > 3 && l + 1 == o / 2) && (e[i + 1] / o / 1e3 | 0) == qt(10, r - 3) - 1, a;
}
function wf(e, r, t) {
  for (var n, i = [0], o, a = 0, l = e.length; a < l; ) {
    for (o = i.length; o--; )
      i[o] *= r;
    for (i[0] += Jv.indexOf(e.charAt(a++)), n = 0; n < i.length; n++)
      i[n] > t - 1 && (i[n + 1] === void 0 && (i[n + 1] = 0), i[n + 1] += i[n] / t | 0, i[n] %= t);
  }
  return i.reverse();
}
function SQ(e, r) {
  var t, n, i;
  if (r.isZero())
    return r;
  n = r.d.length, n < 32 ? (t = Math.ceil(n / 3), i = (1 / Wc(4, t)).toString()) : (t = 16, i = "2.3283064365386962890625e-10"), e.precision += t, r = ul(e, 1, r.times(i), new e(1));
  for (var o = t; o--; ) {
    var a = r.times(r);
    r = a.times(a).minus(a).times(8).plus(1);
  }
  return e.precision -= t, r;
}
var _t = /* @__PURE__ */ function() {
  function e(n, i, o) {
    var a, l = 0, s = n.length;
    for (n = n.slice(); s--; )
      a = n[s] * i + l, n[s] = a % o | 0, l = a / o | 0;
    return l && n.unshift(l), n;
  }
  function r(n, i, o, a) {
    var l, s;
    if (o != a)
      s = o > a ? 1 : -1;
    else
      for (l = s = 0; l < o; l++)
        if (n[l] != i[l]) {
          s = n[l] > i[l] ? 1 : -1;
          break;
        }
    return s;
  }
  function t(n, i, o, a) {
    for (var l = 0; o--; )
      n[o] -= l, l = n[o] < i[o] ? 1 : 0, n[o] = l * a + n[o] - i[o];
    for (; !n[0] && n.length > 1; )
      n.shift();
  }
  return function(n, i, o, a, l, s) {
    var f, h, d, v, g, y, C, m, w, S, x, b, O, D, N, W, k, ee, J, te, ae = n.constructor, fe = n.s == i.s ? 1 : -1, j = n.d, ie = i.d;
    if (!j || !j[0] || !ie || !ie[0])
      return new ae(
        // Return NaN if either NaN, or both Infinity or 0.
        !n.s || !i.s || (j ? ie && j[0] == ie[0] : !ie) ? NaN : (
          // Return ±0 if x is 0 or y is ±Infinity, or return ±Infinity as y is 0.
          j && j[0] == 0 || !ie ? fe * 0 : fe / 0
        )
      );
    for (s ? (g = 1, h = n.e - i.e) : (s = Xn, g = Se, h = _r(n.e / g) - _r(i.e / g)), J = ie.length, k = j.length, w = new ae(fe), S = w.d = [], d = 0; ie[d] == (j[d] || 0); d++)
      ;
    if (ie[d] > (j[d] || 0) && h--, o == null ? (D = o = ae.precision, a = ae.rounding) : l ? D = o + (n.e - i.e) + 1 : D = o, D < 0)
      S.push(1), y = !0;
    else {
      if (D = D / g + 2 | 0, d = 0, J == 1) {
        for (v = 0, ie = ie[0], D++; (d < k || v) && D--; d++)
          N = v * s + (j[d] || 0), S[d] = N / ie | 0, v = N % ie | 0;
        y = v || d < k;
      } else {
        for (v = s / (ie[0] + 1) | 0, v > 1 && (ie = e(ie, v, s), j = e(j, v, s), J = ie.length, k = j.length), W = J, x = j.slice(0, J), b = x.length; b < J; )
          x[b++] = 0;
        te = ie.slice(), te.unshift(0), ee = ie[0], ie[1] >= s / 2 && ++ee;
        do
          v = 0, f = r(ie, x, J, b), f < 0 ? (O = x[0], J != b && (O = O * s + (x[1] || 0)), v = O / ee | 0, v > 1 ? (v >= s && (v = s - 1), C = e(ie, v, s), m = C.length, b = x.length, f = r(C, x, m, b), f == 1 && (v--, t(C, J < m ? te : ie, m, s))) : (v == 0 && (f = v = 1), C = ie.slice()), m = C.length, m < b && C.unshift(0), t(x, C, b, s), f == -1 && (b = x.length, f = r(ie, x, J, b), f < 1 && (v++, t(x, J < b ? te : ie, b, s))), b = x.length) : f === 0 && (v++, x = [0]), S[d++] = v, f && x[0] ? x[b++] = j[W] || 0 : (x = [j[W]], b = 1);
        while ((W++ < k || x[0] !== void 0) && D--);
        y = x[0] !== void 0;
      }
      S[0] || S.shift();
    }
    if (g == 1)
      w.e = h, rE = y;
    else {
      for (d = 1, v = S[0]; v >= 10; v /= 10)
        d++;
      w.e = d + h * g - 1, Ce(w, l ? o + w.e + 1 : o, a, y);
    }
    return w;
  };
}();
function Ce(e, r, t, n) {
  var i, o, a, l, s, f, h, d, v, g = e.constructor;
  e:
    if (r != null) {
      if (d = e.d, !d)
        return e;
      for (i = 1, l = d[0]; l >= 10; l /= 10)
        i++;
      if (o = r - i, o < 0)
        o += Se, a = r, h = d[v = 0], s = h / qt(10, i - a - 1) % 10 | 0;
      else if (v = Math.ceil((o + 1) / Se), l = d.length, v >= l)
        if (n) {
          for (; l++ <= v; )
            d.push(0);
          h = s = 0, i = 1, o %= Se, a = o - Se + 1;
        } else
          break e;
      else {
        for (h = l = d[v], i = 1; l >= 10; l /= 10)
          i++;
        o %= Se, a = o - Se + i, s = a < 0 ? 0 : h / qt(10, i - a - 1) % 10 | 0;
      }
      if (n = n || r < 0 || d[v + 1] !== void 0 || (a < 0 ? h : h % qt(10, i - a - 1)), f = t < 4 ? (s || n) && (t == 0 || t == (e.s < 0 ? 3 : 2)) : s > 5 || s == 5 && (t == 4 || n || t == 6 && // Check whether the digit to the left of the rounding digit is odd.
      (o > 0 ? a > 0 ? h / qt(10, i - a) : 0 : d[v - 1]) % 10 & 1 || t == (e.s < 0 ? 8 : 7)), r < 1 || !d[0])
        return d.length = 0, f ? (r -= e.e + 1, d[0] = qt(10, (Se - r % Se) % Se), e.e = -r || 0) : d[0] = e.e = 0, e;
      if (o == 0 ? (d.length = v, l = 1, v--) : (d.length = v + 1, l = qt(10, Se - o), d[v] = a > 0 ? (h / qt(10, i - a) % qt(10, a) | 0) * l : 0), f)
        for (; ; )
          if (v == 0) {
            for (o = 1, a = d[0]; a >= 10; a /= 10)
              o++;
            for (a = d[0] += l, l = 1; a >= 10; a /= 10)
              l++;
            o != l && (e.e++, d[0] == Xn && (d[0] = 1));
            break;
          } else {
            if (d[v] += l, d[v] != Xn)
              break;
            d[v--] = 0, l = 1;
          }
      for (o = d.length; d[--o] === 0; )
        d.pop();
    }
  return Be && (e.e > g.maxE ? (e.d = null, e.e = NaN) : e.e < g.minE && (e.e = 0, e.d = [0])), e;
}
function pi(e, r, t) {
  if (!e.isFinite())
    return fE(e);
  var n, i = e.e, o = ar(e.d), a = o.length;
  return r ? (t && (n = t - a) > 0 ? o = o.charAt(0) + "." + o.slice(1) + go(n) : a > 1 && (o = o.charAt(0) + "." + o.slice(1)), o = o + (e.e < 0 ? "e" : "e+") + e.e) : i < 0 ? (o = "0." + go(-i - 1) + o, t && (n = t - a) > 0 && (o += go(n))) : i >= a ? (o += go(i + 1 - a), t && (n = t - i - 1) > 0 && (o = o + "." + go(n))) : ((n = i + 1) < a && (o = o.slice(0, n) + "." + o.slice(n)), t && (n = t - a) > 0 && (i + 1 === a && (o += "."), o += go(n))), o;
}
function zc(e, r) {
  var t = e[0];
  for (r *= Se; t >= 10; t /= 10)
    r++;
  return r;
}
function Qf(e, r, t) {
  if (r > xQ)
    throw Be = !0, t && (e.precision = t), Error(nE);
  return Ce(new e(jf), r, 1, !0);
}
function kn(e, r, t) {
  if (r > tp)
    throw Error(nE);
  return Ce(new e(Zf), r, t, !0);
}
function lE(e) {
  var r = e.length - 1, t = r * Se + 1;
  if (r = e[r], r) {
    for (; r % 10 == 0; r /= 10)
      t--;
    for (r = e[0]; r >= 10; r /= 10)
      t++;
  }
  return t;
}
function go(e) {
  for (var r = ""; e--; )
    r += "0";
  return r;
}
function sE(e, r, t, n) {
  var i, o = new e(1), a = Math.ceil(n / Se + 4);
  for (Be = !1; ; ) {
    if (t % 2 && (o = o.times(r), iw(o.d, a) && (i = !0)), t = _r(t / 2), t === 0) {
      t = o.d.length - 1, i && o.d[t] === 0 && ++o.d[t];
      break;
    }
    r = r.times(r), iw(r.d, a);
  }
  return Be = !0, o;
}
function nw(e) {
  return e.d[e.d.length - 1] & 1;
}
function uE(e, r, t) {
  for (var n, i = new e(r[0]), o = 0; ++o < r.length; )
    if (n = new e(r[o]), n.s)
      i[t](n) && (i = n);
    else {
      i = n;
      break;
    }
  return i;
}
function rp(e, r) {
  var t, n, i, o, a, l, s, f = 0, h = 0, d = 0, v = e.constructor, g = v.rounding, y = v.precision;
  if (!e.d || !e.d[0] || e.e > 17)
    return new v(e.d ? e.d[0] ? e.s < 0 ? 0 : 1 / 0 : 1 : e.s ? e.s < 0 ? 0 : e : NaN);
  for (r == null ? (Be = !1, s = y) : s = r, l = new v(0.03125); e.e > -2; )
    e = e.times(l), d += 5;
  for (n = Math.log(qt(2, d)) / Math.LN10 * 2 + 5 | 0, s += n, t = o = a = new v(1), v.precision = s; ; ) {
    if (o = Ce(o.times(e), s, 1), t = t.times(++h), l = a.plus(_t(o, t, s, 1)), ar(l.d).slice(0, s) === ar(a.d).slice(0, s)) {
      for (i = d; i--; )
        a = Ce(a.times(a), s, 1);
      if (r == null)
        if (f < 3 && Fs(a.d, s - n, g, f))
          v.precision = s += 10, t = o = l = new v(1), h = 0, f++;
        else
          return Ce(a, v.precision = y, g, Be = !0);
      else
        return v.precision = y, a;
    }
    a = l;
  }
}
function Co(e, r) {
  var t, n, i, o, a, l, s, f, h, d, v, g = 1, y = 10, C = e, m = C.d, w = C.constructor, S = w.rounding, x = w.precision;
  if (C.s < 0 || !m || !m[0] || !C.e && m[0] == 1 && m.length == 1)
    return new w(m && !m[0] ? -1 / 0 : C.s != 1 ? NaN : m ? 0 : C);
  if (r == null ? (Be = !1, h = x) : h = r, w.precision = h += y, t = ar(m), n = t.charAt(0), Math.abs(o = C.e) < 15e14) {
    for (; n < 7 && n != 1 || n == 1 && t.charAt(1) > 3; )
      C = C.times(e), t = ar(C.d), n = t.charAt(0), g++;
    o = C.e, n > 1 ? (C = new w("0." + t), o++) : C = new w(n + "." + t.slice(1));
  } else
    return f = Qf(w, h + 2, x).times(o + ""), C = Co(new w(n + "." + t.slice(1)), h - y).plus(f), w.precision = x, r == null ? Ce(C, x, S, Be = !0) : C;
  for (d = C, s = a = C = _t(C.minus(1), C.plus(1), h, 1), v = Ce(C.times(C), h, 1), i = 3; ; ) {
    if (a = Ce(a.times(v), h, 1), f = s.plus(_t(a, new w(i), h, 1)), ar(f.d).slice(0, h) === ar(s.d).slice(0, h))
      if (s = s.times(2), o !== 0 && (s = s.plus(Qf(w, h + 2, x).times(o + ""))), s = _t(s, new w(g), h, 1), r == null)
        if (Fs(s.d, h - y, S, l))
          w.precision = h += y, f = a = C = _t(d.minus(1), d.plus(1), h, 1), v = Ce(C.times(C), h, 1), i = l = 1;
        else
          return Ce(s, w.precision = x, S, Be = !0);
      else
        return w.precision = x, s;
    s = f, i += 2;
  }
}
function fE(e) {
  return String(e.s * e.s / 0);
}
function np(e, r) {
  var t, n, i;
  for ((t = r.indexOf(".")) > -1 && (r = r.replace(".", "")), (n = r.search(/e/i)) > 0 ? (t < 0 && (t = n), t += +r.slice(n + 1), r = r.substring(0, n)) : t < 0 && (t = r.length), n = 0; r.charCodeAt(n) === 48; n++)
    ;
  for (i = r.length; r.charCodeAt(i - 1) === 48; --i)
    ;
  if (r = r.slice(n, i), r) {
    if (i -= n, e.e = t = t - n - 1, e.d = [], n = (t + 1) % Se, t < 0 && (n += Se), n < i) {
      for (n && e.d.push(+r.slice(0, n)), i -= Se; n < i; )
        e.d.push(+r.slice(n, n += Se));
      r = r.slice(n), n = Se - r.length;
    } else
      n -= i;
    for (; n--; )
      r += "0";
    e.d.push(+r), Be && (e.e > e.constructor.maxE ? (e.d = null, e.e = NaN) : e.e < e.constructor.minE && (e.e = 0, e.d = [0]));
  } else
    e.e = 0, e.d = [0];
  return e;
}
function TQ(e, r) {
  var t, n, i, o, a, l, s, f, h;
  if (r.indexOf("_") > -1) {
    if (r = r.replace(/(\d)_(?=\d)/g, "$1"), aE.test(r))
      return np(e, r);
  } else if (r === "Infinity" || r === "NaN")
    return +r || (e.s = NaN), e.e = NaN, e.d = null, e;
  if (_Q.test(r))
    t = 16, r = r.toLowerCase();
  else if (CQ.test(r))
    t = 2;
  else if (mQ.test(r))
    t = 8;
  else
    throw Error(Eo + r);
  for (o = r.search(/p/i), o > 0 ? (s = +r.slice(o + 1), r = r.substring(2, o)) : r = r.slice(2), o = r.indexOf("."), a = o >= 0, n = e.constructor, a && (r = r.replace(".", ""), l = r.length, o = l - o, i = sE(n, new n(t), o, o * 2)), f = wf(r, t, Xn), h = f.length - 1, o = h; f[o] === 0; --o)
    f.pop();
  return o < 0 ? new n(e.s * 0) : (e.e = zc(f, h), e.d = f, Be = !1, a && (e = _t(e, i, l * 4)), s && (e = e.times(Math.abs(s) < 54 ? qt(2, s) : Kn.pow(2, s))), Be = !0, e);
}
function bQ(e, r) {
  var t, n = r.d.length;
  if (n < 3)
    return r.isZero() ? r : ul(e, 2, r, r);
  t = 1.4 * Math.sqrt(n), t = t > 16 ? 16 : t | 0, r = r.times(1 / Wc(5, t)), r = ul(e, 2, r, r);
  for (var i, o = new e(5), a = new e(16), l = new e(20); t--; )
    i = r.times(r), r = r.times(o.plus(i.times(a.times(i).minus(l))));
  return r;
}
function ul(e, r, t, n, i) {
  var o, a, l, s, f = e.precision, h = Math.ceil(f / Se);
  for (Be = !1, s = t.times(t), l = new e(n); ; ) {
    if (a = _t(l.times(s), new e(r++ * r++), f, 1), l = i ? n.plus(a) : n.minus(a), n = _t(a.times(s), new e(r++ * r++), f, 1), a = l.plus(n), a.d[h] !== void 0) {
      for (o = h; a.d[o] === l.d[o] && o--; )
        ;
      if (o == -1)
        break;
    }
    o = l, l = n, n = a, a = o;
  }
  return Be = !0, a.d.length = h + 1, a;
}
function Wc(e, r) {
  for (var t = e; --r; )
    t *= e;
  return t;
}
function cE(e, r) {
  var t, n = r.s < 0, i = kn(e, e.precision, 1), o = i.times(0.5);
  if (r = r.abs(), r.lte(o))
    return Ni = n ? 4 : 1, r;
  if (t = r.divToInt(i), t.isZero())
    Ni = n ? 3 : 2;
  else {
    if (r = r.minus(t.times(i)), r.lte(o))
      return Ni = nw(t) ? n ? 2 : 3 : n ? 4 : 1, r;
    Ni = nw(t) ? n ? 1 : 4 : n ? 3 : 2;
  }
  return r.minus(i).abs();
}
function sg(e, r, t, n) {
  var i, o, a, l, s, f, h, d, v, g = e.constructor, y = t !== void 0;
  if (y ? (Vr(t, 1, Do), n === void 0 ? n = g.rounding : Vr(n, 0, 8)) : (t = g.precision, n = g.rounding), !e.isFinite())
    h = fE(e);
  else {
    for (h = pi(e), a = h.indexOf("."), y ? (i = 2, r == 16 ? t = t * 4 - 3 : r == 8 && (t = t * 3 - 2)) : i = r, a >= 0 && (h = h.replace(".", ""), v = new g(1), v.e = h.length - a, v.d = wf(pi(v), 10, i), v.e = v.d.length), d = wf(h, 10, i), o = s = d.length; d[--s] == 0; )
      d.pop();
    if (!d[0])
      h = y ? "0p+0" : "0";
    else {
      if (a < 0 ? o-- : (e = new g(e), e.d = d, e.e = o, e = _t(e, v, t, n, 0, i), d = e.d, o = e.e, f = rE), a = d[t], l = i / 2, f = f || d[t + 1] !== void 0, f = n < 4 ? (a !== void 0 || f) && (n === 0 || n === (e.s < 0 ? 3 : 2)) : a > l || a === l && (n === 4 || f || n === 6 && d[t - 1] & 1 || n === (e.s < 0 ? 8 : 7)), d.length = t, f)
        for (; ++d[--t] > i - 1; )
          d[t] = 0, t || (++o, d.unshift(1));
      for (s = d.length; !d[s - 1]; --s)
        ;
      for (a = 0, h = ""; a < s; a++)
        h += Jv.charAt(d[a]);
      if (y) {
        if (s > 1)
          if (r == 16 || r == 8) {
            for (a = r == 16 ? 4 : 3, --s; s % a; s++)
              h += "0";
            for (d = wf(h, i, r), s = d.length; !d[s - 1]; --s)
              ;
            for (a = 1, h = "1."; a < s; a++)
              h += Jv.charAt(d[a]);
          } else
            h = h.charAt(0) + "." + h.slice(1);
        h = h + (o < 0 ? "p" : "p+") + o;
      } else if (o < 0) {
        for (; ++o; )
          h = "0" + h;
        h = "0." + h;
      } else if (++o > s)
        for (o -= s; o--; )
          h += "0";
      else
        o < s && (h = h.slice(0, o) + "." + h.slice(o));
    }
    h = (r == 16 ? "0x" : r == 2 ? "0b" : r == 8 ? "0o" : "") + h;
  }
  return e.s < 0 ? "-" + h : h;
}
function iw(e, r) {
  if (e.length > r)
    return e.length = r, !0;
}
function EQ(e) {
  return new this(e).abs();
}
function LQ(e) {
  return new this(e).acos();
}
function AQ(e) {
  return new this(e).acosh();
}
function RQ(e, r) {
  return new this(e).plus(r);
}
function OQ(e) {
  return new this(e).asin();
}
function IQ(e) {
  return new this(e).asinh();
}
function MQ(e) {
  return new this(e).atan();
}
function BQ(e) {
  return new this(e).atanh();
}
function DQ(e, r) {
  e = new this(e), r = new this(r);
  var t, n = this.precision, i = this.rounding, o = n + 4;
  return !e.s || !r.s ? t = new this(NaN) : !e.d && !r.d ? (t = kn(this, o, 1).times(r.s > 0 ? 0.25 : 0.75), t.s = e.s) : !r.d || e.isZero() ? (t = r.s < 0 ? kn(this, n, i) : new this(0), t.s = e.s) : !e.d || r.isZero() ? (t = kn(this, o, 1).times(0.5), t.s = e.s) : r.s < 0 ? (this.precision = o, this.rounding = 1, t = this.atan(_t(e, r, o, 1)), r = kn(this, o, 1), this.precision = n, this.rounding = i, t = e.s < 0 ? t.minus(r) : t.plus(r)) : t = this.atan(_t(e, r, o, 1)), t;
}
function PQ(e) {
  return new this(e).cbrt();
}
function FQ(e) {
  return Ce(e = new this(e), e.e + 1, 2);
}
function $Q(e, r, t) {
  return new this(e).clamp(r, t);
}
function NQ(e) {
  if (!e || typeof e != "object")
    throw Error(Hc + "Object expected");
  var r, t, n, i = e.defaults === !0, o = [
    "precision",
    1,
    Do,
    "rounding",
    0,
    8,
    "toExpNeg",
    -Ya,
    0,
    "toExpPos",
    0,
    Ya,
    "maxE",
    0,
    Ya,
    "minE",
    -Ya,
    0,
    "modulo",
    0,
    9
  ];
  for (r = 0; r < o.length; r += 3)
    if (t = o[r], i && (this[t] = ep[t]), (n = e[t]) !== void 0)
      if (_r(n) === n && n >= o[r + 1] && n <= o[r + 2])
        this[t] = n;
      else
        throw Error(Eo + t + ": " + n);
  if (t = "crypto", i && (this[t] = ep[t]), (n = e[t]) !== void 0)
    if (n === !0 || n === !1 || n === 0 || n === 1)
      if (n)
        if (typeof crypto < "u" && crypto && (crypto.getRandomValues || crypto.randomBytes))
          this[t] = !0;
        else
          throw Error(iE);
      else
        this[t] = !1;
    else
      throw Error(Eo + t + ": " + n);
  return this;
}
function HQ(e) {
  return new this(e).cos();
}
function zQ(e) {
  return new this(e).cosh();
}
function hE(e) {
  var r, t, n;
  function i(o) {
    var a, l, s, f = this;
    if (!(f instanceof i))
      return new i(o);
    if (f.constructor = i, ow(o)) {
      f.s = o.s, Be ? !o.d || o.e > i.maxE ? (f.e = NaN, f.d = null) : o.e < i.minE ? (f.e = 0, f.d = [0]) : (f.e = o.e, f.d = o.d.slice()) : (f.e = o.e, f.d = o.d ? o.d.slice() : o.d);
      return;
    }
    if (s = typeof o, s === "number") {
      if (o === 0) {
        f.s = 1 / o < 0 ? -1 : 1, f.e = 0, f.d = [0];
        return;
      }
      if (o < 0 ? (o = -o, f.s = -1) : f.s = 1, o === ~~o && o < 1e7) {
        for (a = 0, l = o; l >= 10; l /= 10)
          a++;
        Be ? a > i.maxE ? (f.e = NaN, f.d = null) : a < i.minE ? (f.e = 0, f.d = [0]) : (f.e = a, f.d = [o]) : (f.e = a, f.d = [o]);
        return;
      } else if (o * 0 !== 0) {
        o || (f.s = NaN), f.e = NaN, f.d = null;
        return;
      }
      return np(f, o.toString());
    } else if (s !== "string")
      throw Error(Eo + o);
    return (l = o.charCodeAt(0)) === 45 ? (o = o.slice(1), f.s = -1) : (l === 43 && (o = o.slice(1)), f.s = 1), aE.test(o) ? np(f, o) : TQ(f, o);
  }
  if (i.prototype = q, i.ROUND_UP = 0, i.ROUND_DOWN = 1, i.ROUND_CEIL = 2, i.ROUND_FLOOR = 3, i.ROUND_HALF_UP = 4, i.ROUND_HALF_DOWN = 5, i.ROUND_HALF_EVEN = 6, i.ROUND_HALF_CEIL = 7, i.ROUND_HALF_FLOOR = 8, i.EUCLID = 9, i.config = i.set = NQ, i.clone = hE, i.isDecimal = ow, i.abs = EQ, i.acos = LQ, i.acosh = AQ, i.add = RQ, i.asin = OQ, i.asinh = IQ, i.atan = MQ, i.atanh = BQ, i.atan2 = DQ, i.cbrt = PQ, i.ceil = FQ, i.clamp = $Q, i.cos = HQ, i.cosh = zQ, i.div = WQ, i.exp = GQ, i.floor = kQ, i.hypot = UQ, i.ln = YQ, i.log = XQ, i.log10 = qQ, i.log2 = VQ, i.max = KQ, i.min = jQ, i.mod = ZQ, i.mul = QQ, i.pow = JQ, i.random = eJ, i.round = tJ, i.sign = rJ, i.sin = nJ, i.sinh = iJ, i.sqrt = oJ, i.sub = aJ, i.sum = lJ, i.tan = sJ, i.tanh = uJ, i.trunc = fJ, e === void 0 && (e = {}), e && e.defaults !== !0)
    for (n = ["precision", "rounding", "toExpNeg", "toExpPos", "maxE", "minE", "modulo", "crypto"], r = 0; r < n.length; )
      e.hasOwnProperty(t = n[r++]) || (e[t] = this[t]);
  return i.config(e), i;
}
function WQ(e, r) {
  return new this(e).div(r);
}
function GQ(e) {
  return new this(e).exp();
}
function kQ(e) {
  return Ce(e = new this(e), e.e + 1, 3);
}
function UQ() {
  var e, r, t = new this(0);
  for (Be = !1, e = 0; e < arguments.length; )
    if (r = new this(arguments[e++]), r.d)
      t.d && (t = t.plus(r.times(r)));
    else {
      if (r.s)
        return Be = !0, new this(1 / 0);
      t = r;
    }
  return Be = !0, t.sqrt();
}
function ow(e) {
  return e instanceof Kn || e && e.toStringTag === oE || !1;
}
function YQ(e) {
  return new this(e).ln();
}
function XQ(e, r) {
  return new this(e).log(r);
}
function VQ(e) {
  return new this(e).log(2);
}
function qQ(e) {
  return new this(e).log(10);
}
function KQ() {
  return uE(this, arguments, "lt");
}
function jQ() {
  return uE(this, arguments, "gt");
}
function ZQ(e, r) {
  return new this(e).mod(r);
}
function QQ(e, r) {
  return new this(e).mul(r);
}
function JQ(e, r) {
  return new this(e).pow(r);
}
function eJ(e) {
  var r, t, n, i, o = 0, a = new this(1), l = [];
  if (e === void 0 ? e = this.precision : Vr(e, 1, Do), n = Math.ceil(e / Se), this.crypto)
    if (crypto.getRandomValues)
      for (r = crypto.getRandomValues(new Uint32Array(n)); o < n; )
        i = r[o], i >= 429e7 ? r[o] = crypto.getRandomValues(new Uint32Array(1))[0] : l[o++] = i % 1e7;
    else if (crypto.randomBytes) {
      for (r = crypto.randomBytes(n *= 4); o < n; )
        i = r[o] + (r[o + 1] << 8) + (r[o + 2] << 16) + ((r[o + 3] & 127) << 24), i >= 214e7 ? crypto.randomBytes(4).copy(r, o) : (l.push(i % 1e7), o += 4);
      o = n / 4;
    } else
      throw Error(iE);
  else
    for (; o < n; )
      l[o++] = Math.random() * 1e7 | 0;
  for (n = l[--o], e %= Se, n && e && (i = qt(10, Se - e), l[o] = (n / i | 0) * i); l[o] === 0; o--)
    l.pop();
  if (o < 0)
    t = 0, l = [0];
  else {
    for (t = -1; l[0] === 0; t -= Se)
      l.shift();
    for (n = 1, i = l[0]; i >= 10; i /= 10)
      n++;
    n < Se && (t -= Se - n);
  }
  return a.e = t, a.d = l, a;
}
function tJ(e) {
  return Ce(e = new this(e), e.e + 1, this.rounding);
}
function rJ(e) {
  return e = new this(e), e.d ? e.d[0] ? e.s : 0 * e.s : e.s || NaN;
}
function nJ(e) {
  return new this(e).sin();
}
function iJ(e) {
  return new this(e).sinh();
}
function oJ(e) {
  return new this(e).sqrt();
}
function aJ(e, r) {
  return new this(e).sub(r);
}
function lJ() {
  var e = 0, r = arguments, t = new this(r[e]);
  for (Be = !1; t.s && ++e < r.length; )
    t = t.plus(r[e]);
  return Be = !0, Ce(t, this.precision, this.rounding);
}
function sJ(e) {
  return new this(e).tan();
}
function uJ(e) {
  return new this(e).tanh();
}
function fJ(e) {
  return Ce(e = new this(e), e.e + 1, 1);
}
q[Symbol.for("nodejs.util.inspect.custom")] = q.toString;
q[Symbol.toStringTag] = "Decimal";
var Kn = q.constructor = hE(ep);
jf = new Kn(jf);
Zf = new Kn(Zf);
var Ha, dE = function(e) {
  return typeof e == "number" ? Number.isNaN(e) : e && typeof e == "string" ? Number.isNaN(Number(e)) : !0;
}, ug = function(e, r, t) {
  return t === void 0 && (t = !1), e != null && e.length ? e.reduce(function(n, i) {
    var o = _e(i, r), a = dE(o);
    if (t && a)
      return n;
    var l = a ? 0 : o;
    return n.push(new Kn(l)), n;
  }, []) : [];
}, vE = function(e, r) {
  var t = ug(e, r);
  return t.length ? Kn.sum.apply(Kn, Q([], U(t), !1)).toNumber() : 0;
}, aw = function(e, r, t) {
  var n = ug(r, t, !0);
  if (n != null && n.length)
    return Kn[e].apply(Kn, Q([], U(n), !1)).toNumber();
}, cJ = function(e, r) {
  var t = ug(e, r);
  return t != null && t.length ? Kn.sum.apply(Kn, Q([], U(t), !1)).dividedBy(t.length).toNumber() : 0;
}, hJ = (Ha = {}, Ha[ka.SUM] = vE, Ha[ka.MIN] = function(e, r) {
  return aw("min", e, r);
}, Ha[ka.MAX] = function(e, r) {
  return aw("max", e, r);
}, Ha[ka.AVG] = cJ, Ha), dJ = function(e) {
  return ft(e) && "values" in e;
}, vJ = function(e) {
  var r = e.spreadsheet, t = e.position, n = e.tooltipContainer, i = e.autoAdjustBoundary, o = r.getCanvasElement(), a = t.x + Pm.x, l = t.y + Pm.y;
  if (!i || !o)
    return {
      x: a,
      y: l
    };
  var s = i === "body", f = r.facet.panelBBox, h = f.maxX, d = f.maxY, v = r.options, g = v.width, y = v.height, C = o.getBoundingClientRect(), m = C.top, w = C.left, S = n.getBoundingClientRect(), x = S.width, b = S.height, O = document.body.getBoundingClientRect(), D = O.width, N = O.height, W = s ? D : Math.min(g, h) + w, k = s ? N : Math.min(y, d) + m;
  return a + x >= W && (a = W - x), l + b >= k && (l = k - b), {
    x: a,
    y: l
  };
}, pE = function(e) {
  return F({ operator: { onClick: uc, menus: [] }, enterable: !0, enableFormat: !0 }, e);
}, ip = function(e) {
  return F(F({}, e == null ? void 0 : e.colQuery), e == null ? void 0 : e.rowQuery);
}, uf = function(e, r) {
  var t;
  if (e) {
    var n = r.style, i = r.className, o = i === void 0 ? [] : i, a = r.visible;
    if (n && Object.assign(e.style, n), o.length) {
      var l = o.filter(Boolean);
      (t = e.classList).add.apply(t, Q([], U(l), !1));
    }
    e.classList.toggle(eK, a), e.classList.toggle(tK, !a);
  }
}, pJ = function(e) {
  var r = ln(e) && Number.isNaN(e), t = e === "";
  return Yt(e) || r || t ? "-" : e;
}, fg = function(e, r) {
  var t, n = (t = e == null ? void 0 : e.dataSet) === null || t === void 0 ? void 0 : t.getFieldFormatter(r);
  return function(i, o) {
    return pJ(n(i, o));
  };
}, xf = function(e, r) {
  var t, n = r.data, i = r.field, o = r.valueField, a = r.useCompleteDataForFormatter, l = a === void 0 ? !0 : a, s = (t = e == null ? void 0 : e.dataSet) === null || t === void 0 ? void 0 : t.getFieldName(i), f = fg(e, i), h = ft(n[i]) ? JSON.stringify(n[i]) : n[i], d = f(o || h, l ? n : void 0);
  return {
    name: s,
    value: d
  };
}, lw = function(e, r, t) {
  var n = Zi(Ga([], r), function(o) {
    return o !== Ne && t[o];
  }), i = Ke(n, function(o) {
    return xf(e, {
      data: t,
      field: o,
      useCompleteDataForFormatter: !1
    });
  });
  return i;
}, gJ = function(e, r, t) {
  var n, i, o, a, l = (t || {}).isTotals, s = [], f = [];
  if (r) {
    var h = (i = (n = e == null ? void 0 : e.dataSet) === null || n === void 0 ? void 0 : n.fields) === null || i === void 0 ? void 0 : i.columns, d = (a = (o = e == null ? void 0 : e.dataSet) === null || o === void 0 ? void 0 : o.fields) === null || a === void 0 ? void 0 : a.rows;
    s = lw(e, wa(h || []), r), f = lw(e, d, r);
  }
  return ne(s) && ne(f) && l && (s = [{ value: Mt("总计") }]), { cols: s, rows: f };
}, yJ = function(e, r, t) {
  if (r) {
    var n = t.isTotals, i = r[Ne], o = r[i], a = [];
    if (n)
      a.push(xf(e, {
        data: r,
        field: i,
        valueField: _e(r, Gr)
      }));
    else if (dJ(o) && e.getTooltipDataItemMappingCallback()) {
      var l = zb(r, e.getTooltipDataItemMappingCallback());
      Oe(l, function(s, f) {
        a.push(xf(e, { data: l, field: f }));
      });
    } else
      a.push(xf(e, { data: r, field: i }));
    return a;
  }
}, CJ = function(e, r, t) {
  var n;
  if (t)
    return Mt("总计");
  var i = (n = e == null ? void 0 : e.dataSet) === null || n === void 0 ? void 0 : n.getFieldName(r);
  return i && i !== "undefined" ? i : "";
}, sw = function(e, r, t) {
  t === void 0 && (t = !0);
  var n = [];
  return Oe(r, function(i, o) {
    Oe(e, function(a) {
      !t && a.colIndex !== -1 ? n.push([o, a.colIndex]) : t && a.rowIndex !== -1 && n.push([a.rowIndex, o]);
    });
  }), n;
}, _J = function(e, r) {
  var t, n = r.rowLeafNodes, i = r.colLeafNodes, o = e.interaction.getState(), a = o.nodes, l = a === void 0 ? [] : a, s = o.cells, f = s === void 0 ? [] : s, h = (t = f == null ? void 0 : f[0]) === null || t === void 0 ? void 0 : t.type;
  return h === re.COL_CELL ? sw(l, n, !1) : h === re.ROW_CELL ? sw(l, i) : [];
}, mJ = function(e, r, t) {
  var n, i = (n = e.facet) === null || n === void 0 ? void 0 : n.layoutResult, o = function(s) {
    var f = r == null ? void 0 : r.getMeta(), h = f == null ? void 0 : f.isTotals, d = (r == null ? void 0 : r.cellType) === re.COL_CELL, v = (r == null ? void 0 : r.cellType) === re.ROW_CELL;
    if (!d && !v)
      return !1;
    var g = i.colNodes.find(function(m) {
      return m.colIndex === s.colIndex;
    }), y = i.rowNodes.find(function(m) {
      return m.rowIndex === s.rowIndex;
    }), C = d ? y == null ? void 0 : y.isTotals : g == null ? void 0 : g.isTotals;
    return !h && (s == null ? void 0 : s.isTotals) || h && C;
  };
  if (t) {
    var a = _J(e, i);
    return xl(Ke(a, function(s) {
      var f = U(s, 2), h = f[0], d = f[1], v = i.getCellMeta(h, d);
      if (!o(v))
        return (v == null ? void 0 : v.data) || ip(v);
    }));
  }
  var l = e.interaction.getCells();
  return l.filter(function(s) {
    var f = i.getCellMeta(s.rowIndex, s.colIndex);
    return !o(f);
  }).map(function(s) {
    var f = i.getCellMeta(s.rowIndex, s.colIndex);
    return (f == null ? void 0 : f.data) || ip(f);
  });
}, wJ = function(e) {
  var r = e.spreadsheet, t = e.targetCell, n = e.options, i = n === void 0 ? {} : n, o = [], a = {}, l = r.isTableMode();
  if (l && (i != null && i.showSingleTips)) {
    var s = t.getMeta(), f = s != null && s.field ? r.dataSet.getMultiData({ field: s.field }) : [r.dataSet.getRowData(s)];
    return [{ selectedData: f, name: "", value: "" }];
  }
  var h = mJ(r, t, i.showSingleTips);
  return Oe(h, function(d) {
    var v;
    a[d == null ? void 0 : d[Ne]] ? (v = a[d == null ? void 0 : d[Ne]]) === null || v === void 0 || v.push(d) : a[d == null ? void 0 : d[Ne]] = [d];
  }), ST(a, function(d, v) {
    var g, y = CJ(r, v, i == null ? void 0 : i.isTotals), C = "", m = "";
    if (wc(d, function(O) {
      return dE(_e(O, Gr));
    })) {
      var w = r.options.placeholder, S = bl(a, w);
      C = S, m = S;
    } else {
      var x = fg(r, v), b = vE(d, Gr);
      m = b, C = (g = x == null ? void 0 : x(b, d)) !== null && g !== void 0 ? g : parseFloat(b.toPrecision(SS));
    }
    o.push({
      selectedData: d,
      name: y,
      value: C,
      originValue: m
    });
  }), o;
}, xJ = function(e) {
  if (e) {
    var r = e.getMeta();
    if (!r.isTotals) {
      var t = Cr(r.spreadsheet.dataCfg.meta, {
        field: r.field || r.value || r.valueField
      }), n = t == null ? void 0 : t.field;
      return r.spreadsheet.dataSet.getFieldDescription(n);
    }
  }
}, SJ = function(e) {
  var r = e.spreadsheet, t = e.cellInfos, n = t === void 0 ? [] : t, i = e.options, o = i === void 0 ? {} : i, a = e.targetCell, l = null, s = null, f = null, h = xJ(a), d = n[0] || {};
  if (!(o != null && o.hideSummary))
    l = wJ({
      spreadsheet: r,
      options: o,
      targetCell: a
    });
  else if (o.showSingleTips) {
    var v = fg(r, d.valueField), g = v(d.value), y = o.enableFormat ? r.dataSet.getFieldName(d.value) || g : r.dataSet.getFieldName(d.valueField);
    d.name = y || "";
  } else
    s = gJ(r, d, o), f = yJ(r, d, o);
  var C = d || {}, m = C.interpretation, w = C.infos, S = C.tips, x = C.name;
  return {
    summaries: l,
    interpretation: m,
    infos: w,
    tips: S,
    name: x,
    headInfo: s,
    details: f,
    description: h
  };
}, TJ = function(e) {
  return Ke(e, function(r) {
    var t = r.getMeta();
    return KS({}, t.query || {}, NT(t, ["colIndex", "rowIndex"]));
  });
}, cg = function(e) {
  if (!e.interaction.isSelectedState())
    return [];
  var r = e.dataCfg.fields.valueInCols;
  return e.interaction.getCells().reduce(function(t, n) {
    var i = e.facet.layoutResult.getCellMeta(n == null ? void 0 : n.rowIndex, n == null ? void 0 : n.colIndex), o = ip(i);
    if (ne(i) || ne(o))
      return [];
    var a = F(F({}, o), { colIndex: r ? i.colIndex : null, rowIndex: r ? null : i.rowIndex }), l = t.find(function(s) {
      return sr(a, s);
    });
    return l || t.push(a), t;
  }, []);
}, bJ = function(e, r) {
  e === void 0 && (e = {});
  var t = function(l) {
    return ii(e, l);
  }, n = e.col, i = e.row, o = e.data, a = e.corner;
  return r === re.COL_CELL ? t(n) : r === re.ROW_CELL ? t(i) : r === re.DATA_CELL ? t(o) : r === re.CORNER_CELL ? t(a) : F({}, e);
}, hg = function(e, r) {
  var t;
  if (!(!r || !e)) {
    var n = (t = e.getCellType) === null || t === void 0 ? void 0 : t.call(e, r == null ? void 0 : r.target);
    return bJ(e.options.tooltip, n);
  }
}, gE = function(e, r) {
  var t = r.defaultMenus, n = t === void 0 ? [] : t, i = r.cell, o = function(l) {
    return l === void 0 && (l = []), l.filter(function(s) {
      var f;
      return Jt(s.visible) ? s.visible(i) : (f = s.visible) !== null && f !== void 0 ? f : !0;
    }).map(function(s) {
      return s.children && (s.children = o(s.children)), s;
    });
  }, a = o(e.menus);
  return {
    onClick: e.onClick,
    menus: xl(Q(Q([], U(n), !1), U(a), !1))
  };
}, EJ = function(e, r) {
  for (var t = !1, n = r; n && n !== document.body; ) {
    if (e === n) {
      t = !0;
      break;
    }
    n = n.parentElement;
  }
  return t;
}, LJ = function(e) {
  e.store.set(Pf, Gp);
}, AJ = function(e, r) {
  var t = e.store.get(Pf, Gp);
  e.store.set(Pf, F(F({}, t), r));
}, RJ = function(e, r) {
  var t = e.store.get(Pf, Gp);
  return t[r];
}, yE = (
  /** @class */
  function() {
    function e(r) {
      var t = this;
      this.getFieldMeta = Ca(function(n, i) {
        return Cr(t.meta || i, function(o) {
          return o.field === n;
        });
      }), this.spreadsheet = r;
    }
    return e.prototype.getFieldName = function(r) {
      return _e(this.getFieldMeta(r, this.meta), "name", r);
    }, e.prototype.getFieldFormatter = function(r) {
      return _e(this.getFieldMeta(r, this.meta), "formatter", mr);
    }, e.prototype.getFieldDescription = function(r) {
      return _e(this.getFieldMeta(r, this.meta), "description");
    }, e.prototype.setDataCfg = function(r) {
      this.getFieldMeta.cache.clear();
      var t = this.processDataCfg(r), n = t.fields, i = t.meta, o = t.data, a = t.totalData, l = t.sortParams, s = t.filterParams;
      this.fields = n, this.meta = i, this.originData = o, this.totalData = a, this.sortParams = l, this.filterParams = s, this.displayData = this.originData, this.indexesData = {};
    }, e.prototype.processMeta = function(r, t) {
      var n, i;
      return r === void 0 && (r = []), Q(Q([], U(r), !1), [
        wj(r, (i = (n = this.spreadsheet) === null || n === void 0 ? void 0 : n.options) === null || i === void 0 ? void 0 : i.cornerExtraFieldText, t)
      ], !1);
    }, e.prototype.getDisplayDataSet = function() {
      return this.displayData;
    }, e.prototype.isEmpty = function() {
      return ne(this.getDisplayDataSet());
    }, e.prototype.getEmptyViewIndexes = function() {
      return [];
    }, e.prototype.getValueRangeByField = function(r) {
      var t, n = RJ(this.spreadsheet, r);
      if (n)
        return n;
      var i = xl(Ke(this.originData, function(a) {
        var l = a[r];
        return Yt(l) ? null : Number.parseFloat(l);
      })), o = {
        maxValue: Wi(i),
        minValue: O0(i)
      };
      return AJ(this.spreadsheet, (t = {}, t[r] = o, t)), o;
    }, e.prototype.moreThanOneValue = function() {
      var r, t;
      return ((t = (r = this.fields) === null || r === void 0 ? void 0 : r.values) === null || t === void 0 ? void 0 : t.length) > 1;
    }, e;
  }()
), op = (
  /** @class */
  function() {
    function e(r) {
      this.extraField = r;
    }
    return e.createProxyData = function(r, t) {
      return new Proxy(r, new e(t));
    }, e.createProxyDataList = function(r, t) {
      return t.map(function(n) {
        return e.createProxyData(r, n);
      });
    }, e.prototype.get = function(r, t) {
      return t === Np ? r : t === Ne ? this.extraField : t === Gr ? r[this.extraField] : r[t];
    }, e.prototype.has = function(r, t) {
      return t === Ne || t === Gr ? !0 : t in r;
    }, e.prototype.ownKeys = function(r) {
      return Object.keys(r).concat(Ne, Gr);
    }, e.prototype.getOwnPropertyDescriptor = function(r, t) {
      return t === Ne || t === Gr ? {
        configurable: !0,
        enumerable: !0
      } : Object.getOwnPropertyDescriptor(r, t);
    }, e;
  }()
), ap = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.handleDimensionValuesSort = function() {
        Oe(t.sortParams, function(n) {
          var i = n.sortFieldId, o = n.sortByMeasure;
          if (i) {
            var a = Q([], U(t.sortedDimensionValues[i] || []), !1), l = YZ({
              dataSet: t,
              sortParam: n,
              originValues: a,
              isSortByMeasure: !ne(o)
            });
            t.sortedDimensionValues[i] = l, t.handlePivotMetaSort(i, l);
          }
        });
      }, t.getTotalStatus = function(n) {
        var i = t.fields, o = i.columns, a = i.rows, l = function(f, h) {
          if (h) {
            var d = Cr(f, function(v) {
              return !Pv(n, v);
            });
            return d && d !== ol(f);
          }
          return wc(f, function(v) {
            return !Pv(n, v);
          });
        }, s = function(f, h) {
          return h ? f.filter(function(d) {
            return d !== Ne;
          }) : f;
        };
        return {
          isRowTotal: l(s(a, !t.spreadsheet.isValueInCols())),
          isRowSubTotal: l(a, !0),
          isColTotal: l(s(o, t.spreadsheet.isValueInCols())),
          isColSubTotal: l(o, !0)
        };
      }, t;
    }
    return r.prototype.getExistValuesByDataItem = function(t, n) {
      return Ob(t, n);
    }, r.prototype.setDataCfg = function(t) {
      e.prototype.setDataCfg.call(this, t);
      var n = this.fields.rows;
      this.sortedDimensionValues = {}, this.rowPivotMeta = /* @__PURE__ */ new Map(), this.colPivotMeta = /* @__PURE__ */ new Map(), this.transformIndexesData(this.originData.concat(this.totalData), n), this.handleDimensionValuesSort();
    }, r.prototype.transformIndexesData = function(t, n) {
      var i = this, o = this.fields, a = o.columns, l = o.values, s = o.valueInCols, f;
      return fi.getInstance().debugCallback(fK, function() {
        f = mj({
          rows: n,
          columns: a,
          values: l,
          valueInCols: s,
          data: t,
          indexesData: i.indexesData,
          sortedDimensionValues: i.sortedDimensionValues,
          rowPivotMeta: i.rowPivotMeta,
          colPivotMeta: i.colPivotMeta,
          getExistValuesByDataItem: i.getExistValuesByDataItem
        }), i.indexesData = f.indexesData, i.rowPivotMeta = f.rowPivotMeta, i.colPivotMeta = f.colPivotMeta, i.sortedDimensionValues = f.sortedDimensionValues;
      }), f;
    }, r.prototype.transformDrillDownData = function(t, n, i) {
      var o = this, a, l = ir.getFieldPath(i, !0), s = Q(Q([], U(l), !1), [t], !1), f = this.spreadsheet.store, h = i == null ? void 0 : i.id, d = (a = f.get("drillDownIdPathMap")) !== null && a !== void 0 ? a : /* @__PURE__ */ new Map();
      d.has(h) && (Oe(d.get(h), function(g) {
        kv(o.indexesData, g);
      }), km(this.rowPivotMeta, h));
      var v = this.transformIndexesData(n, s).paths;
      d.set(h, v), f.set("drillDownIdPathMap", d);
    }, r.prototype.clearDrillDownData = function(t) {
      var n = this, i = this.spreadsheet.store, o = i.get("drillDownIdPathMap");
      if (!o)
        return !1;
      var a = i.get("drillDownDataCache", []);
      if (t) {
        var l = o.get(t);
        l && Oe(l, function(g) {
          kv(n.indexesData, g);
        }), km(this.rowPivotMeta, t), o.delete(t);
        var s = Zi(a, function(g) {
          return o.has(g == null ? void 0 : g.rowId);
        });
        i.set("drillDownDataCache", s);
        var f = s.map(function(g) {
          return g == null ? void 0 : g.drillLevel;
        }), h = i.get("drillDownFieldInLevel", []), d = h.filter(function(g) {
          return Or(f, g == null ? void 0 : g.drillLevel);
        });
        i.set("drillDownFieldInLevel", d);
      } else {
        o.clear();
        var v = this.spreadsheet.store.get("originalDataCfg");
        ne(v) || this.spreadsheet.setDataCfg(v), this.spreadsheet.store.set("drillItemsNum", -1), this.spreadsheet.store.set("drillDownDataCache", []), this.spreadsheet.store.set("drillDownFieldInLevel", []);
      }
      return i.set("drillDownIdPathMap", o), !0;
    }, r.prototype.handlePivotMetaSort = function(t, n) {
      var i = this.fields, o = i.rows, a = i.columns;
      Or(o, t) ? this.rowPivotMeta = Qm({
        pivotMeta: this.rowPivotMeta,
        dimensions: o,
        sortFieldId: t,
        sortedDimensionValues: n
      }) : Or(a, t) && (this.colPivotMeta = Qm({
        pivotMeta: this.colPivotMeta,
        dimensions: a,
        sortFieldId: t,
        sortedDimensionValues: n
      }));
    }, r.prototype.processDataCfg = function(t) {
      var n = t.data, i = t.meta, o = i === void 0 ? [] : i, a = t.fields, l = t.sortParams, s = l === void 0 ? [] : l, f = t.totalData, h = a.columns, d = a.rows, v = a.values, g = a.valueInCols, y = a.customValueOrder, C = h, m = d;
      g ? C = this.isCustomMeasuresPosition(y) ? this.handleCustomMeasuresOrder(y, C) : Fi(Q(Q([], U(h), !1), [Ne], !1)) : m = this.isCustomMeasuresPosition(y) ? this.handleCustomMeasuresOrder(y, m) : Fi(Q(Q([], U(d), !1), [Ne], !1));
      var w = this.processMeta(o, Mt("数值"));
      return {
        data: n,
        totalData: f,
        meta: w,
        fields: F(F({}, a), { rows: m, columns: C, values: v }),
        sortParams: s
      };
    }, r.prototype.getFieldsAndPivotMetaByField = function(t) {
      var n = this.fields || {}, i = n.rows, o = i === void 0 ? [] : i, a = n.columns, l = a === void 0 ? [] : a;
      return o.includes(t) ? {
        dimensions: o,
        pivotMeta: this.rowPivotMeta
      } : l.includes(t) ? {
        dimensions: l,
        pivotMeta: this.colPivotMeta
      } : {};
    }, r.prototype.getDimensionValues = function(t, n) {
      n === void 0 && (n = {});
      var i = this.getFieldsAndPivotMetaByField(t), o = i.pivotMeta, a = i.dimensions;
      if (!o || !a)
        return [];
      var l = qo(n, a, gf), s = Ib({
        pivotMeta: o,
        dimensionValues: l,
        fields: a,
        fieldIdx: Vs(a, t),
        queryType: En.DetailOnly,
        sortedDimensionValues: this.sortedDimensionValues
      });
      return Fi(s.map(function(f) {
        return f.value;
      }));
    }, r.prototype.getTotalValue = function(t, n) {
      var i, o, a = UT(n), l = a ? n : this.getTotalStatus(t), s = Cj(l, (o = this.spreadsheet.options) === null || o === void 0 ? void 0 : o.totals) || {}, f = s.aggregation, h = s.calcFunc, d = hJ[f];
      if (d || h) {
        var v = this.getMultiData(t, {
          queryType: En.DetailOnly
        }), g = void 0;
        return h ? g = h(t, v) : d && (g = d(v, Gr)), F(F({}, t), (i = {}, i[Gr] = g, i[t[Ne]] = g, i));
      }
    }, r.prototype.getCellData = function(t) {
      var n, i, o, a = t || {}, l = a.query, s = l === void 0 ? {} : l, f = a.rowNode, h = a.isTotals, d = h === void 0 ? !1 : h, v = a.totalStatus, g = this.fields, y = g.rows, C = g.columns, m = y, w = (n = this.spreadsheet) === null || n === void 0 ? void 0 : n.store.get("drillDownIdPathMap"), S = Array.from((i = w == null ? void 0 : w.keys()) !== null && i !== void 0 ? i : []).some(function(N) {
        return f == null ? void 0 : f.id.startsWith(N);
      });
      f && S && (m = (o = ir.getFieldPath(f, S)) !== null && o !== void 0 ? o : y);
      var x = qo(s, m), b = qo(s, C), O = Vf({
        rowDimensionValues: x,
        colDimensionValues: b,
        rowPivotMeta: this.rowPivotMeta,
        colPivotMeta: this.colPivotMeta,
        rowFields: m,
        colFields: C,
        prefix: Xf(m, C)
      }), D = _e(this.indexesData, O);
      if (D)
        return op.createProxyData(D, s[Ne]);
      if (d)
        return this.getTotalValue(s, v);
    }, r.prototype.getQueryExtraFields = function(t) {
      var n = this.fields.values, i = t[Ne];
      return i ? Or(n, i) ? [i] : [] : n;
    }, r.prototype.getMultiData = function(t, n, i, o, a) {
      var l, s, f, h;
      t === void 0 && (t = {}), o === void 0 && (o = []), a === void 0 && (a = !0), ne(t) && console.warn("query: ".concat(t, ` shouldn't be empty, you can get all data from dataCfg if you're intended.
 you should use { EXTRA_FIELD: xxx} as least if you want query all specific value data`));
      var d = ft(n) ? n : {
        queryType: a ? En.All : En.DetailOnly,
        drillDownFields: o
      }, v = d.drillDownFields, g = v === void 0 ? [] : v, y = d.queryType, C = y === void 0 ? En.All : y, m = this.fields, w = m.rows, S = m.columns, x = ne(g) ? w : w.concat(g), b = qo(t, x, gf), O = qo(t, S, gf), D = Sj({
        rowDimensionValues: b,
        colDimensionValues: O,
        rowPivotMeta: this.rowPivotMeta,
        colPivotMeta: this.colPivotMeta,
        rowFields: x,
        colFields: S,
        sortedDimensionValues: this.sortedDimensionValues,
        queryType: C
      }), N = D.rowQueries, W = D.colQueries, k = Xf(x, S), ee = [];
      try {
        for (var J = Yr(N), te = J.next(); !te.done; te = J.next()) {
          var ae = te.value;
          try {
            for (var fe = (f = void 0, Yr(W)), j = fe.next(); !j.done; j = fe.next()) {
              for (var ie = j.value, Ie = Vf({
                rowDimensionValues: ae,
                colDimensionValues: ie,
                rowPivotMeta: this.rowPivotMeta,
                colPivotMeta: this.colPivotMeta,
                rowFields: x,
                colFields: S,
                prefix: k
              }), we = !1, Te = this.indexesData, he = function(Xe) {
                var ze = Ie[Xe];
                we ? Ms(ze) ? Te = Tj(Te, C) : Te = Ke(Te, function(lt) {
                  return lt[ze];
                }).filter(Boolean) : Ms(ze) ? (we = !0, Te = [Te], Xe--) : Te = Te == null ? void 0 : Te[ze], be = Xe;
              }, be, Ae = 0; Ae < Ie.length; Ae++)
                he(Ae), Ae = be;
              ve(Te) ? ee.push.apply(ee, Q([], U(Te), !1)) : Te && ee.push(Te);
            }
          } catch (Xe) {
            f = { error: Xe };
          } finally {
            try {
              j && !j.done && (h = fe.return) && h.call(fe);
            } finally {
              if (f)
                throw f.error;
            }
          }
        }
      } catch (Xe) {
        l = { error: Xe };
      } finally {
        try {
          te && !te.done && (s = J.return) && s.call(J);
        } finally {
          if (l)
            throw l.error;
        }
      }
      var mt = this.getQueryExtraFields(t);
      return Xs(Fi(ee), function(Xe) {
        return Xe ? op.createProxyDataList(Xe, mt) : [];
      });
    }, r.prototype.getFieldFormatter = function(t, n) {
      return t === ki ? this.getFieldFormatterForTotalValue(n) : e.prototype.getFieldFormatter.call(this, t);
    }, r.prototype.getFieldFormatterForTotalValue = function(t) {
      var n;
      return !this.spreadsheet.isValueInCols() && t && (n = _e(t.rowQuery, Ne)), n = n ?? _e(this.fields.values, 0), e.prototype.getFieldFormatter.call(this, n);
    }, r.prototype.handleCustomMeasuresOrder = function(t, n) {
      var i = Fi(Q([], U(n), !1));
      return n.length >= t ? (i.splice(t, 0, Ne), i) : Q(Q([], U(i), !1), [Ne], !1);
    }, r.prototype.isCustomMeasuresPosition = function(t) {
      return ln(t);
    }, r.prototype.getRowData = function(t) {
      return this.getMultiData(t.rowQuery);
    }, r;
  }(yE)
), OJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getCellData = function(t) {
      var n = t.query, i = this.fields, o = i.rows, a = i.columns, l = qo(n, o), s = qo(n, a), f = Vf({
        rowDimensionValues: l,
        colDimensionValues: s,
        rowPivotMeta: this.rowPivotMeta,
        colPivotMeta: this.colPivotMeta,
        rowFields: o,
        colFields: a,
        prefix: Xf(o, a)
      }), h = _e(this.indexesData, f);
      return h && op.createProxyData(h, n[Ne]);
    }, r.prototype.processDataCfg = function(t) {
      var n = t.meta, i = this.processMeta(n, Mt("指标"));
      return F(F({}, t), { meta: i, fields: F(F({}, t.fields), {
        // 1、rows配置必须是空，需要额外添加 $$extra$$ 定位数据（标记指标的id）
        rows: [Ne],
        valueInCols: !1
      }) });
    }, r;
  }(ap)
), IJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.handleDimensionValueFilter = function() {
        Oe(t.filterParams, function(n) {
          var i = n.filterKey, o = n.filteredValues, a = n.customFilter, l = new Set(o), s = function(h) {
            return !l.has(h[i]);
          }, f = Zi(t.displayData, function(h) {
            return a ? a(h) && s(h) : s(h);
          });
          t.displayData = t.getDisplayData(f);
        });
      }, t.handleDimensionValuesSort = function() {
        Oe(t.sortParams, function(n) {
          var i = n.sortFieldId, o = n.sortBy, a = n.sortFunc, l = n.sortMethod, s = n.query;
          if (i) {
            var f = t.displayData, h = [];
            if (s) {
              var d = [];
              f.forEach(function(C) {
                for (var m = Object.keys(s), w = !0, S = 0; S < m.length; S++) {
                  var x = m[S];
                  if (C[x] !== s[x]) {
                    w = !1, h.push(C);
                    break;
                  }
                }
                w && d.push(C);
              }), f = d;
            }
            var v = f;
            if (a)
              v = a(F(F({}, n), { data: f }));
            else if (o && !Jt(o)) {
              var g = Q([], U(o), !1).reverse();
              v = f.sort(function(C, m) {
                var w = g.indexOf(C[i]), S = g.indexOf(m[i]);
                return S - w;
              });
            } else if (El(l) || og(l)) {
              var y = Jt(o) ? o : null;
              v = D0(f, [y || i], [l.toLocaleLowerCase()]);
            }
            h.length && (v = Q(Q([], U(v), !1), U(h), !1)), t.displayData = t.getDisplayData(v);
          }
        });
      }, t;
    }
    return r.prototype.processDataCfg = function(t) {
      return t;
    }, r.prototype.setDataCfg = function(t) {
      e.prototype.setDataCfg.call(this, t), this.handleDimensionValueFilter(), this.handleDimensionValuesSort();
    }, r.prototype.getStartFrozenRows = function(t) {
      var n = (this.spreadsheet.options || {}).frozenRowCount;
      return n ? t.slice(0, n) : [];
    }, r.prototype.getEndFrozenRows = function(t) {
      var n = (this.spreadsheet.options || {}).frozenTrailingRowCount;
      return n ? t.slice(-n) : [];
    }, r.prototype.getDisplayData = function(t) {
      var n = this.getStartFrozenRows(t), i = this.getEndFrozenRows(t), o = t.slice(n.length || 0, -i.length || void 0);
      return Q(Q(Q([], U(n), !1), U(o), !1), U(i), !1);
    }, r.prototype.getDimensionValues = function() {
      return [];
    }, r.prototype.getCellData = function(t) {
      var n = t.query;
      if (!(this.displayData.length === 0 && n.rowIndex === 0)) {
        var i = this.displayData[n.rowIndex];
        return !ca(n, "field") || !ft(i) ? i : i[n.field];
      }
    }, r.prototype.getMultiData = function(t) {
      if (!t)
        return this.displayData;
      var n = this.displayData[t.rowIndex] ? [this.displayData[t.rowIndex]] : this.displayData;
      return ca(t, "field") ? n.map(function(i) {
        return i[t.field];
      }) : n;
    }, r.prototype.getRowData = function(t) {
      return this.getCellData({
        query: {
          rowIndex: t.rowIndex
        }
      });
    }, r;
  }(yE)
), na;
(function(e) {
  e.ScrollChange = "scroll-change", e.ScrollEnd = "scroll-end";
})(na || (na = {}));
var Hd = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      n.isMobile = !1, n.eventHandlers = [], n.scrollFrameId = null, n.getCoordinatesName = function() {
        var g = n.isHorizontal ? "x1" : "y1", y = n.isHorizontal ? "x2" : "y2";
        return { from: g, to: y };
      }, n.getCoordinatesWithBBoxExtraPadding = function() {
        var g = n.theme.size, y = n.isHorizontal ? 0 : g / 2, C = n.isHorizontal ? g : g / 2;
        return {
          start: n.thumbOffset + y,
          end: n.thumbOffset + n.thumbLen - C
        };
      }, n.current = function() {
        var g = n.thumbLen / n.trackLen, y = n.thumbOffset / n.trackLen;
        return y / (1 - g);
      }, n.updateThumbLen = function(g) {
        if (n.thumbLen !== g) {
          n.thumbLen = g;
          var y = n.getCoordinatesName();
          n.thumbShape.attr(y.to, n.thumbOffset + g), n.emitScrollChange(n.thumbOffset / (n.trackLen - n.thumbLen) * n.scrollTargetMaxOffset, !1);
        }
      }, n.updateThumbOffset = function(g, y) {
        var C;
        y === void 0 && (y = !0);
        var m = n.validateRange(g), w = n.thumbOffset === m && m !== 0;
        if (!w) {
          n.thumbOffset = m;
          var S = n.getCoordinatesName(), x = S.from, b = S.to, O = n.getCoordinatesWithBBoxExtraPadding(), D = O.start, N = O.end;
          n.thumbShape.attr((C = {}, C[x] = D, C[b] = N, C)), y && n.emitScrollChange(m / (n.trackLen - n.thumbLen) * n.scrollTargetMaxOffset, !1);
        }
      }, n.onlyUpdateThumbOffset = function(g) {
        var y;
        n.updateThumbOffset(g, !1), (y = n.get("canvas")) === null || y === void 0 || y.draw();
      }, n.emitScrollChange = function(g, y) {
        y === void 0 && (y = !0), cancelAnimationFrame(n.scrollFrameId), n.scrollFrameId = requestAnimationFrame(function() {
          n.emit(na.ScrollChange, {
            offset: g,
            updateThumbOffset: y
          });
        });
      }, n.addEventListener = function(g, y, C) {
        return g == null || g.addEventListener(y, C, !1), {
          remove: function() {
            g == null || g.removeEventListener(y, C, !1);
          }
        };
      }, n.addEvent = function(g, y, C) {
        g.on(y, C), n.eventHandlers.push({ target: g, type: y, handler: C });
      }, n.initScrollBar = function() {
        n.scrollBarGroup = n.createScrollBarGroup(), n.scrollBarGroup.move(n.position.x, n.position.y), n.bindEvents();
      }, n.createScrollBarGroup = function() {
        var g = n.addGroup({
          className: n.isHorizontal ? "horizontalBar" : "verticalBar"
        });
        return n.trackShape = n.createTrackShape(g), n.thumbShape = n.createThumbShape(g), g;
      }, n.createTrackShape = function(g) {
        var y = n.theme, C = y.lineCap, m = C === void 0 ? "round" : C, w = y.trackColor, S = y.size, x = {
          lineWidth: S,
          stroke: w,
          lineCap: m
        };
        return n.isHorizontal ? g.addShape("line", {
          attrs: F(F({}, x), { x1: 0, y1: S / 2, x2: n.trackLen, y2: S / 2 })
        }) : g.addShape("line", {
          attrs: F(F({}, x), { x1: S / 2, y1: 0, x2: S / 2, y2: n.trackLen })
        });
      }, n.createThumbShape = function(g) {
        var y = n.theme, C = y.size, m = y.lineCap, w = m === void 0 ? "round" : m, S = y.thumbColor, x = {
          lineWidth: C,
          stroke: S,
          lineCap: w,
          cursor: "default"
        }, b = n.getCoordinatesWithBBoxExtraPadding(), O = b.start, D = b.end;
        return n.isHorizontal ? g.addShape("line", {
          attrs: F(F({}, x), { x1: O, y1: C / 2, x2: D, y2: C / 2 })
        }) : g.addShape("line", {
          attrs: F(F({}, x), { x1: C / 2, y1: O, x2: C / 2, y2: D })
        });
      }, n.bindEvents = function() {
        n.on("mousedown", n.onStartEvent(!1)), n.on("mouseup", n.onMouseUp), n.on("touchstart", n.onStartEvent(!0)), n.on("touchend", n.onMouseUp), n.trackShape.on("click", n.onTrackClick), n.thumbShape.on("mouseover", n.onTrackMouseOver), n.thumbShape.on("mouseout", n.onTrackMouseOut);
      }, n.onStartEvent = function(g) {
        return function(y) {
          y.preventDefault(), n.isMobile = g;
          var C = n.isMobile ? _e(y, "touches.0", y) : y, m = C.clientX, w = C.clientY;
          n.startPos = n.isHorizontal ? m : w, n.bindLaterEvent();
        };
      }, n.bindLaterEvent = function() {
        var g = n.get("canvas"), y = document.body, C = [];
        n.isMobile ? (C = [
          n.addEventListener(y, "touchmove", n.onMouseMove),
          n.addEventListener(y, "touchend", n.onMouseUp),
          n.addEventListener(y, "touchcancel", n.onMouseUp)
        ], n.addEvent(g, "touchend", n.onMouseUp), n.addEvent(g, "touchcancel", n.onMouseUp)) : (C = [
          n.addEventListener(y, "mousemove", n.onMouseMove),
          n.addEventListener(y, "mouseup", n.onMouseUp),
          // 为了保证划出 canvas containerDom 时还没触发 mouseup
          n.addEventListener(y, "mouseleave", n.onMouseUp)
        ], n.addEvent(g, "mouseup", n.onMouseUp)), n.clearEvents = function() {
          C.forEach(function(m) {
            m == null || m.remove();
          }), Oe(n.eventHandlers, function(m) {
            var w;
            (w = m.target) === null || w === void 0 || w.off(m.type, m.handler);
          }), n.eventHandlers.length = 0;
        };
      }, n.onTrackClick = function(g) {
        var y = n.isHorizontal ? g.x - n.position.x - n.thumbLen / 2 : g.y - n.position.y - n.thumbLen / 2, C = n.validateRange(y);
        n.updateThumbOffset(C);
      }, n.onMouseMove = function(g) {
        g.preventDefault();
        var y = n.isMobile ? _e(g, "touches.0", g) : g, C = y.clientX, m = y.clientY, w = n.isHorizontal ? C : m, S = w - n.startPos;
        n.startPos = w, n.updateThumbOffset(n.thumbOffset + S);
      }, n.onMouseUp = function(g) {
        var y;
        n.emit(na.ScrollEnd, {}), g.preventDefault(), (y = n.clearEvents) === null || y === void 0 || y.call(n);
      }, n.onTrackMouseOver = function() {
        var g = n.theme, y = g.thumbHoverColor, C = g.hoverSize;
        n.thumbShape.attr("stroke", y), n.thumbShape.attr("lineWidth", C);
      }, n.onTrackMouseOut = function() {
        var g = n.theme, y = g.thumbColor, C = g.size;
        n.thumbShape.attr("stroke", y), n.thumbShape.attr("lineWidth", C);
      }, n.validateRange = function(g) {
        var y = g;
        return g + n.thumbLen > n.trackLen ? y = n.trackLen - n.thumbLen : g + n.thumbLen < n.thumbLen && (y = 0), y;
      };
      var i = t.isHorizontal, o = i === void 0 ? !1 : i, a = t.trackLen, l = t.thumbLen, s = t.position, f = t.thumbOffset, h = f === void 0 ? 0 : f, d = t.theme, v = t.scrollTargetMaxOffset;
      return n.isHorizontal = o, n.thumbOffset = h, n.trackLen = a, n.thumbLen = l, n.position = s, n.theme = d, n.scrollTargetMaxOffset = v, n.initScrollBar(), n;
    }
    return r;
  }(_i)
), CE = function(e, r, t) {
  if (t <= 0)
    return {
      start: 0,
      end: 0
    };
  var n = il(e, function(o, a) {
    var l = r;
    return l >= o && l < e[a + 1];
  }, 0);
  n = Math.max(n, 0);
  var i = t === r ? n : il(e, function(o, a) {
    var l = t;
    return l > o && l <= e[a + 1];
  }, n);
  return i = Math.min(i === -1 ? 1 / 0 : i, e.length - 2), {
    start: n,
    end: i
  };
}, MJ = function(e, r) {
  var t = r.width, n = r.originalWidth, i = Math.min(n - t, e);
  return i < 0 ? 0 : i;
}, zd = function(e, r, t) {
  var n = Math.min(r - t, e);
  return n < 0 ? 0 : n;
}, cs = function(e, r) {
  if (e === void 0 && (e = []), ne(e))
    return [];
  var t = [];
  return e.forEach(function(n) {
    if (n instanceof r && t.push(n), n instanceof _i) {
      var i = n.getChildren();
      i.forEach(function(o) {
        o instanceof r && t.push(o);
      });
    }
  }), t;
}, _E = function(e, r, t) {
  return t.slice(e, r + 1).map(function(n) {
    return n.x + n.width;
  });
}, Gc = function(e, r, t) {
  for (var n = [], i = e; i < r + 1; i++)
    n.push(t.getCellOffsetY(i + 1));
  return n;
}, BJ = function(e, r, t, n) {
  var i = Gc(e, r, n), o = n.getCellOffsetY(e);
  return i.map(function(a) {
    return a - o + t;
  });
}, uw = function(e, r, t) {
  var n = U(t, 4), i = n[0], o = n[1], a = n[2], l = n[3];
  return e >= i && e <= o && r >= a && r <= l;
}, fw = function(e) {
  for (var r = U(e, 4), t = r[0], n = r[1], i = r[2], o = r[3], a = [], l = t; l <= n; l += 1)
    for (var s = i; s <= o; s += 1)
      a.push([l, s]);
  return a;
}, DJ = function(e, r) {
  var t = [], n = [];
  if (ne(e))
    return ne(r) ? { add: t, remove: n } : { add: fw(r), remove: n };
  if (ne(r))
    return { add: t, remove: fw(e) };
  for (var i = U(e, 4), o = i[0], a = i[1], l = i[2], s = i[3], f = U(r, 4), h = f[0], d = f[1], v = f[2], g = f[3], y = o; y <= a; y++)
    for (var C = l; C <= s; C++)
      uw(y, C, r) || n.push([y, C]);
  for (var y = h; y <= d; y += 1)
    for (var C = v; C <= g; C += 1)
      uw(y, C, e) || t.push([y, C]);
  return {
    add: t,
    remove: n
  };
}, PJ = function(e, r) {
  var t = [], n = [];
  return Object.keys(r).forEach(function(i) {
    var o = DJ((e == null ? void 0 : e[i]) || [], r[i]), a = o.add, l = o.remove;
    t.push.apply(t, Q([], U(a), !1)), n.push.apply(n, Q([], U(l), !1));
  }), {
    add: t,
    remove: n
  };
}, mE = (
  /** @class */
  /* @__PURE__ */ function() {
    function e(r, t) {
      t === void 0 && (t = !1), this.x = 0, this.y = 0, this.minX = 0, this.minY = 0, this.maxX = 0, this.maxY = 0, this.width = 0, this.height = 0, this.originalWidth = 0, this.originalHeight = 0, this.viewportHeight = 0, this.viewportWidth = 0, this.facet = r, this.spreadsheet = r.spreadsheet, this.layoutResult = r.layoutResult, t && this.calculateBBox();
    }
    return e;
  }()
), wE = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.calculateBBox = function() {
      var t = this.getCornerBBoxWidth(), n = this.getCornerBBoxHeight();
      this.width = t, this.height = n, this.maxX = t, this.maxY = n;
    }, r.prototype.getCornerBBoxOriginalHeight = function() {
      var t = this.layoutResult.colsHierarchy, n = this.spreadsheet.options.style.colCfg;
      return t.sampleNodeForLastLevel ? Math.floor(t.height) : n == null ? void 0 : n.height;
    }, r.prototype.getCornerBBoxHeight = function() {
      return this.originalHeight = this.getCornerBBoxOriginalHeight(), this.originalHeight;
    }, r.prototype.getCornerBBoxWidth = function() {
      var t = this.layoutResult.rowsHierarchy;
      return this.originalWidth = Math.floor(t.width + this.facet.getSeriesNumberWidth()), this.spreadsheet.isScrollContainsRowHeader() ? this.originalWidth : this.adjustCornerBBoxWidth();
    }, r.prototype.adjustCornerBBoxWidth = function() {
      var t = this.layoutResult.colsHierarchy, n = this.spreadsheet.options.width, i = n * PD, o = t == null ? void 0 : t.width, a = n - this.originalWidth;
      if (this.originalWidth <= i || o <= a)
        return this.originalWidth;
      var l = 0, s = n - i;
      return o <= s ? l = this.originalWidth - (o - a) : l = i, Math.floor(l);
    }, r;
  }(mE)
), FJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.calculateBBox = function() {
      this.originalWidth = this.facet.getRealWidth(), this.originalHeight = this.facet.getRealHeight();
      var t = this.facet.cornerBBox, n = {
        x: Math.floor(t.maxX),
        y: Math.floor(t.maxY)
      }, i = this.spreadsheet.theme.scrollBar.size, o = this.spreadsheet.options, a = o.width, l = o.height, s = Math.max(0, a - n.x), f = Math.max(0, l - n.y - i);
      this.x = n.x, this.y = n.y, this.width = s, this.height = f, this.viewportHeight = Math.abs(Math.floor(Math.min(f, this.originalHeight))), this.viewportWidth = Math.abs(Math.floor(Math.min(s, this.originalWidth))), this.maxX = n.x + this.viewportWidth, this.maxY = n.y + this.viewportHeight, this.minX = n.x, this.minY = n.y;
      var h = this.spreadsheet.options, d = h.frozenTrailingColCount, v = h.frozenTrailingRowCount;
      d > 0 && (this.viewportWidth = this.width, this.maxX = n.x + this.width), v > 0 && (this.viewportHeight = this.height, this.maxY = n.y + this.height);
    }, r;
  }(mE)
), dg = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      return n.isHeaderCellInViewport = function(i, o, a, l) {
        return i + o >= a && a + l >= i;
      }, n.headerConfig = t, n;
    }
    return r.prototype.getConfig = function() {
      return this.headerConfig;
    }, r.prototype.clearResizeAreaGroup = function(t) {
      var n = this.get("parent"), i = n == null ? void 0 : n.findById(t);
      i == null || i.clear();
    }, r.prototype.render = function(t) {
      this.clearResizeAreaGroup(t), this.clear(), this.layout(), this.offset(), this.clip();
    }, r.prototype.onScrollXY = function(t, n, i) {
      this.headerConfig.scrollX = t, this.headerConfig.scrollY = n, this.render(i);
    }, r.prototype.onRowScrollX = function(t, n) {
      this.headerConfig.scrollX = t, this.render(n);
    }, r.prototype.clear = function() {
      e.prototype.clear.call(this);
    }, r;
  }(_i)
), vg = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      return n.scrollGroup = n.addGroup({
        name: AD,
        zIndex: pS
      }), n;
    }
    return r.prototype.onColScroll = function(t, n) {
      this.headerConfig.scrollX !== t && (this.headerConfig.scrollX = t, this.render(n));
    }, r.prototype.clip = function() {
      var t = this.headerConfig, n = t.width, i = t.height, o = t.scrollX, a = t.spreadsheet, l = a.isFrozenRowHeader();
      this.scrollGroup.setClip({
        type: "rect",
        attrs: {
          x: l ? o : 0,
          y: 0,
          width: l ? n : n + o,
          height: i
        }
      });
    }, r.prototype.clear = function() {
      var t, n;
      (t = this.scrollGroup) === null || t === void 0 || t.clear(), (n = this.background) === null || n === void 0 || n.remove(!0);
    }, r.prototype.getCellInstance = function(t, n, i) {
      return new Fc(t, n, i);
    }, r.prototype.getCellGroup = function(t) {
      return this.scrollGroup;
    }, r.prototype.isColCellInRect = function(t) {
      var n = this.headerConfig, i = n.spreadsheet, o = n.cornerWidth, a = n.width, l = n.scrollX;
      return (
        // don't care about scrollY, because there is only freeze col-header exist
        a + l > t.x && l - (i.isFrozenRowHeader() ? 0 : o) < t.x + t.width
      );
    }, r.prototype.layout = function() {
      var t = this, n = this.headerConfig, i = n.data, o = n.spreadsheet, a = o.options.colCell;
      Oe(i, function(l) {
        var s = l;
        if (t.isColCellInRect(s)) {
          var f = (a == null ? void 0 : a(s, o, t.headerConfig)) || t.getCellInstance(s, o, t.headerConfig);
          s.belongsCell = f;
          var h = t.getCellGroup(s);
          h.add(f);
        }
      });
    }, r.prototype.offset = function() {
      var t = this.headerConfig, n = t.position, i = t.scrollX;
      Bc(this.scrollGroup, n.x - i);
    }, r;
  }(dg)
), $J = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      return e.call(this, t) || this;
    }
    return r.getCornerHeader = function(t, n, i, o, a, l) {
      var s = t.width, f = t.height, h = n.originalWidth, d = n.originalHeight, v = n.width, g = n.height, y = this.getCornerNodes({ x: n.x, y: n.y }, h, d, o.rows, o.columns, a.rowsHierarchy, a.colsHierarchy, o.dataSet, i, l);
      return new r({
        data: y,
        position: { x: n.x, y: n.y },
        width: v,
        height: g,
        originalHeight: d,
        originalWidth: h,
        viewportWidth: s,
        viewportHeight: f,
        hierarchyType: o.hierarchyType,
        hierarchyCollapse: o.hierarchyCollapse,
        rows: o.rows,
        columns: o.columns,
        seriesNumberWidth: i,
        spreadsheet: l
      });
    }, r.getCornerNodes = function(t, n, i, o, a, l, s, f, h, d) {
      var v, g, y, C = [], m = d.options.style.colCfg, w = s == null ? void 0 : s.sampleNodeForLastLevel, S = (v = w == null ? void 0 : w.y) !== null && v !== void 0 ? v : 0, x = (y = (g = w == null ? void 0 : w.height) !== null && g !== void 0 ? g : m == null ? void 0 : m.height) !== null && y !== void 0 ? y : 0;
      if (h) {
        var b = new ir({
          id: "",
          key: BD,
          value: Mt("序号")
        });
        b.x = t == null ? void 0 : t.x, b.y = S, b.width = h, b.height = x, b.isPivotMode = !0, b.spreadsheet = d, b.cornerType = Ln.Series, C.push(b);
      }
      if (d.isHierarchyTreeType()) {
        var O = this.getTreeCornerText(d), D = new ir({
          key: "",
          id: O,
          value: O
        });
        D.x = t.x + h, D.y = S, D.width = n - h, D.height = x, D.seriesNumberWidth = h, D.isPivotMode = !0, D.spreadsheet = d, D.cornerType = Ln.Row, C.push(D);
      } else
        l.sampleNodesForAllLevels.forEach(function(N) {
          var W = o[N.level], k = new ir({
            key: W,
            id: W,
            value: f.getFieldName(W)
          });
          k.x = N.x + h, k.y = S, k.width = N.width, k.height = x, k.field = W, k.isPivotMode = !0, k.cornerType = Ln.Row, k.spreadsheet = d, C.push(k);
        });
      return s.sampleNodesForAllLevels.forEach(function(N) {
        if (N.level < s.maxLevel) {
          var W = a[N.level], k = new ir({
            key: W,
            id: W,
            value: f.getFieldName(W)
          });
          k.x = t.x, k.y = N.y, k.width = n, k.height = N.height, k.field = W, k.isPivotMode = !0, k.cornerType = Ln.Col, k.spreadsheet = d, C.push(k);
        }
      }), C;
    }, r.getTreeCornerText = function(t) {
      var n = t.dataSet.fields.rows, i = n === void 0 ? [] : n, o = t.options.cornerText;
      if (o)
        return o;
      var a = t.store.get("drillDownFieldInLevel", []), l = a.map(function(f) {
        return f.drillField;
      }), s = i.filter(function(f) {
        return !Or(l, f);
      }).map(function(f) {
        return t.dataSet.getFieldName(f);
      }).join("/");
      return s;
    }, r.prototype.onCorScroll = function(t, n) {
      this.headerConfig.scrollX = t, this.render(n);
    }, r.prototype.destroy = function() {
      e.prototype.destroy.call(this);
    }, r.prototype.layout = function() {
      this.renderCells();
    }, r.prototype.renderCells = function() {
      var t = this, n, i, o, a, l = this.headerConfig, s = l.data, f = l.spreadsheet, h = (i = (n = f == null ? void 0 : f.facet) === null || n === void 0 ? void 0 : n.cfg) === null || i === void 0 ? void 0 : i.cornerHeader, d = (a = (o = f == null ? void 0 : f.facet) === null || o === void 0 ? void 0 : o.cfg) === null || a === void 0 ? void 0 : a.cornerCell;
      if (h) {
        h(this, f, this.headerConfig);
        return;
      }
      s.forEach(function(v) {
        var g;
        d && (g = d(v, t.headerConfig.spreadsheet, t.headerConfig)), ne(g) && (g = new XZ(v, t.headerConfig.spreadsheet, t.headerConfig)), t.add(g);
      });
    }, r.prototype.offset = function() {
      var t = this.headerConfig.scrollX;
      Bc(this, -t);
    }, r.prototype.clip = function() {
      var t = this.headerConfig, n = t.width, i = t.height, o = t.scrollX;
      this.setClip({
        type: "rect",
        attrs: {
          x: o,
          y: 0,
          width: n,
          height: i
        }
      });
    }, r.prototype.getNodes = function() {
      return this.headerConfig.data || [];
    }, r;
  }(dg)
), NJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      return n.render(), n;
    }
    return r.prototype.layout = function() {
      this.addCornerBottomBorder(), this.addCornerRightBorder(), this.addSplitLineShadow();
    }, r.prototype.render = function() {
      this.clear(), this.layout();
    }, r.prototype.onBorderScroll = function(t) {
      this.cfg.scrollX = t;
      var n = this.cfg.position;
      $i(this, n.x - t, 0), this.render();
    }, r.prototype.onChangeShadowVisibility = function(t, n) {
      this.cfg.showViewportLeftShadow = t > 0, this.cfg.showViewportRightShadow = Math.floor(t) < Math.floor(n), this.render();
    }, r.prototype.addCornerRightBorder = function() {
      var t, n = this.cfg, i = n.isPivotMode;
      if (i) {
        var o = n.width, a = n.height, l = n.viewportHeight, s = n.position, f = n.spreadsheet, h = (t = f.theme) === null || t === void 0 ? void 0 : t.splitLine, d = s.x + o, v = s.y, g = s.y + a + l;
        this.addShape("line", {
          attrs: {
            x1: d,
            y1: v,
            x2: d,
            y2: g,
            stroke: h.verticalBorderColor,
            lineWidth: h.verticalBorderWidth,
            opacity: h.verticalBorderColorOpacity,
            lineDash: h.borderDash
          }
        });
      }
    }, r.prototype.addCornerBottomBorder = function() {
      var t, n = this.cfg, i = n.width, o = n.height, a = n.viewportWidth, l = n.position, s = n.scrollX, f = n.scrollContainsRowHeader, h = n.spreadsheet, d = (t = h.theme) === null || t === void 0 ? void 0 : t.splitLine, v = l.x, g = v + i + a + (f ? s : 0), y = l.y + o - 1;
      this.addShape("line", {
        attrs: {
          x1: v,
          y1: y,
          x2: g,
          y2: y,
          stroke: d.horizontalBorderColor,
          lineWidth: d.horizontalBorderWidth,
          opacity: d.horizontalBorderColorOpacity,
          lineDash: d.borderDash
        }
      });
    }, r.prototype.addSplitLineShadow = function() {
      var t, n = this.cfg, i = n.isPivotMode, o = n.spreadsheet, a = (t = o.theme) === null || t === void 0 ? void 0 : t.splitLine;
      !i || !a.showShadow || !o.isFrozenRowHeader() || (this.addSplitLineLeftShadow(), this.addSplitLineRightShadow());
    }, r.prototype.addSplitLineLeftShadow = function() {
      var t, n, i;
      if (this.cfg.showViewportLeftShadow) {
        var o = this.cfg, a = o.width, l = o.height, s = o.viewportHeight, f = o.position, h = o.spreadsheet, d = (t = h.theme) === null || t === void 0 ? void 0 : t.splitLine, v = f.x + a, g = f.y;
        this.addShape("rect", {
          attrs: {
            x: v,
            y: g,
            width: d.shadowWidth,
            height: s + l,
            fill: "l (0) 0:".concat((n = d.shadowColors) === null || n === void 0 ? void 0 : n.left, " 1:").concat((i = d.shadowColors) === null || i === void 0 ? void 0 : i.right)
          }
        });
      }
    }, r.prototype.addSplitLineRightShadow = function() {
      var t, n, i;
      if (this.cfg.showViewportRightShadow) {
        var o = this.cfg, a = o.width, l = o.height, s = o.viewportHeight, f = o.viewportWidth, h = o.position, d = o.spreadsheet, v = (t = d.theme) === null || t === void 0 ? void 0 : t.splitLine, g = h.x + a + f - v.shadowWidth, y = h.y;
        this.addShape("rect", {
          attrs: {
            x: g,
            y,
            width: v.shadowWidth,
            height: s + l,
            fill: "l (0) 0:".concat((n = v.shadowColors) === null || n === void 0 ? void 0 : n.right, " 1:").concat((i = v.shadowColors) === null || i === void 0 ? void 0 : i.left)
          }
        });
      }
    }, r;
  }(_i)
), pg = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      return e.call(this, t) || this;
    }
    return r.prototype.destroy = function() {
      e.prototype.destroy.call(this), this.gm && this.gm.destroy();
    }, r.prototype.rowCellInRect = function(t) {
      var n = this.headerConfig, i = n.width, o = n.viewportHeight, a = n.seriesNumberWidth, l = n.scrollY, s = n.scrollX;
      return o + l > t.y && // bottom
      l < t.y + t.height && // top
      i - a + s > t.x && // left
      s - a < t.x + t.width;
    }, r.prototype.createCellInstance = function(t) {
      return new tu(t, this.headerConfig.spreadsheet, this.headerConfig);
    }, r.prototype.getCellGroup = function(t) {
      return this;
    }, r.prototype.getCustomRowCell = function() {
      var t, n, i = this.headerConfig.spreadsheet;
      return (n = (t = i == null ? void 0 : i.facet) === null || t === void 0 ? void 0 : t.cfg) === null || n === void 0 ? void 0 : n.rowCell;
    }, r.prototype.layout = function() {
      var t = this, n = this.headerConfig, i = n.data, o = n.spreadsheet, a = this.getCustomRowCell();
      Oe(i, function(l) {
        if (t.rowCellInRect(l) && l.height !== 0) {
          var s = void 0;
          a && (s = a(l, o, t.headerConfig)), ne(s) && o.isPivotMode() && (s = t.createCellInstance(l)), l.belongsCell = s;
          var f = t.getCellGroup(l);
          f.add(s);
        }
      });
    }, r.prototype.offset = function() {
      var t = this.headerConfig, n = t.scrollX, i = t.scrollY, o = t.position, a = t.seriesNumberWidth;
      $i(this, o.x - n + a, o.y - i);
    }, r.prototype.clip = function() {
      var t = this.headerConfig, n = t.width, i = t.viewportHeight, o = t.scrollX, a = t.scrollY, l = t.seriesNumberWidth;
      this.setClip({
        type: "rect",
        attrs: {
          // 由于多移动了seriesNumberWidth跨度，所有需要向左切。 - 是反向剪裁（右 -> 左）
          x: o - l,
          y: a,
          width: n,
          height: i
        }
      });
    }, r;
  }(dg)
), xE = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      n.scrollGroup = n.addGroup({
        name: ID,
        zIndex: pS
      }), n.frozenHeadGroup = n.addGroup({
        name: MD,
        zIndex: ms
      });
      var i = n.headerConfig, o = i.position, a = i.seriesNumberWidth;
      return $i(n.frozenHeadGroup, o.x + a, o.y), n;
    }
    return r.prototype.rowCellInRectXDir = function(t) {
      var n = this.headerConfig, i = n.width, o = n.scrollX, a = n.seriesNumberWidth, l = t.x + a;
      return i + o > l && o < l + t.width;
    }, r.prototype.rowCellInRectYDir = function(t) {
      var n = this.headerConfig, i = n.viewportHeight, o = n.scrollY, a = t.y - this.getFrozenFirstRowHeight();
      return i + o > a && o < a + t.height;
    }, r.prototype.rowCellInRect = function(t) {
      var n = this.rowCellInRectXDir(t);
      return this.isFrozenRow(t) ? n : n && this.rowCellInRectYDir(t);
    }, r.prototype.getCellGroup = function(t) {
      return this.isFrozenRow(t) ? this.frozenHeadGroup : this.scrollGroup;
    }, r.prototype.offset = function() {
      var t = this.headerConfig, n = t.scrollX, i = t.scrollY, o = t.position, a = t.seriesNumberWidth, l = o.x - n + a;
      $i(this.scrollGroup, l, o.y - i), Bc(this.frozenHeadGroup, l);
    }, r.prototype.clip = function() {
      var t = this.headerConfig, n = t.width, i = t.viewportHeight, o = t.scrollX, a = t.scrollY, l = t.seriesNumberWidth, s = o - l;
      this.scrollGroup.setClip({
        type: "rect",
        attrs: {
          x: s,
          y: a + this.getFrozenFirstRowHeight(),
          width: n,
          height: i
        }
      }), this.frozenHeadGroup.setClip({
        type: "rect",
        attrs: {
          x: s,
          y: 0,
          width: this.headerConfig.width,
          height: this.getFrozenFirstRowHeight()
        }
      });
    }, r.prototype.isFrozenRow = function(t) {
      var n, i = this.headerConfig.spreadsheet, o = i.facet, a = ll(i.options, (n = o.layoutResult) === null || n === void 0 ? void 0 : n.rowNodes).frozenRowCount;
      return a > 0 && t.rowIndex >= 0 && t.rowIndex < a;
    }, r.prototype.getFrozenFirstRowHeight = function() {
      var t, n = this.headerConfig.spreadsheet, i = n.facet, o = ll(n.options, (t = i.layoutResult) === null || t === void 0 ? void 0 : t.rowNodes).frozenRowHeight;
      return o;
    }, r.prototype.clear = function() {
      this.frozenHeadGroup.clear(), this.scrollGroup.clear();
    }, r;
  }(pg)
), SE = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.getSeriesNumberHeader = function(t) {
      var n, i = t.viewportBBox, o = t.seriesNumberWidth, a = t.leafNodes, l = t.spreadsheet, s = t.cornerWidth, f = i.height, h = i.viewportHeight, d = [], v = l.isHierarchyTreeType();
      a.forEach(function(S) {
        var x = new ir({
          id: "",
          key: "",
          value: "".concat(d.length + 1)
        });
        x.x = S.x, x.y = S.y, x.height = v ? S.getTotalHeightForTreeHierarchy() : S.height, x.width = o, x.rowIndex = S.rowIndex, x.spreadsheet = l, x.isLeaf = !0, d.push(x);
      });
      var g = l.facet, y = ll(l.options, (n = g.layoutResult) === null || n === void 0 ? void 0 : n.rowNodes), C = y.frozenRowCount, m = y.frozenRowHeight, w = !!C;
      return new r({
        width: s,
        height: f,
        viewportWidth: s,
        viewportHeight: w ? h - m : h,
        position: { x: 0, y: i.y },
        data: d,
        spreadsheet: l,
        // There are no other lines before the serial number row
        seriesNumberWidth: 0,
        hierarchyType: l.options.hierarchyType,
        linkFields: []
      });
    }, r.prototype.createCellInstance = function(t) {
      var n = this.isFrozenRow(t);
      return new Jb(t, this.headerConfig.spreadsheet, F(F({}, this.headerConfig), { scrollY: n ? 0 : this.headerConfig.scrollY }), n);
    }, r.prototype.getCustomRowCell = function() {
      return null;
    }, r;
  }(xE)
), HJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.createCellInstance = function(t) {
      var n = this.headerConfig, i = n.spreadsheet, o = n.scrollY, a = this.isFrozenRow(t);
      return new tu(t, i, F(F({}, this.headerConfig), { scrollY: a ? 0 : o }), a);
    }, r;
  }(xE)
), zJ = (
  /** @class */
  function() {
    function e(r) {
      var t = this;
      this.scrollFrameId = null, this.hideScrollBar = function() {
        var n, i, o;
        (n = t.hRowScrollBar) === null || n === void 0 || n.hide(), (i = t.hScrollBar) === null || i === void 0 || i.hide(), (o = t.vScrollBar) === null || o === void 0 || o.hide();
      }, this.delayHideScrollBar = Es(this.hideScrollBar, 1e3), this.delayHideScrollbarOnMobile = function() {
        Qt() && t.delayHideScrollBar();
      }, this.showVerticalScrollBar = function() {
        var n;
        (n = t.vScrollBar) === null || n === void 0 || n.show();
      }, this.showHorizontalScrollBar = function() {
        var n, i;
        (n = t.hRowScrollBar) === null || n === void 0 || n.show(), (i = t.hScrollBar) === null || i === void 0 || i.show();
      }, this.onContainerWheel = function() {
        t.onContainerWheelForPc(), t.onContainerWheelForMobile();
      }, this.onContainerWheelForPc = function() {
        var n = t.spreadsheet.getCanvasElement();
        n == null || n.addEventListener("wheel", t.onWheel);
      }, this.onContainerWheelForMobile = function() {
        t.mobileWheel = new uQ(t.spreadsheet.container), t.mobileWheel.on("wheel", function(n) {
          t.spreadsheet.hideTooltip();
          var i = n.event, o = n.deltaX, a = n.deltaY, l = n.x, s = n.y;
          t.onWheel(F(F({}, i), { deltaX: o, deltaY: a, offsetX: l, offsetY: s }));
        });
      }, this.bindEvents = function() {
        t.onContainerWheel(), t.emitPaginationEvent();
      }, this.setScrollOffset = function(n) {
        Object.keys(n).forEach(function(i) {
          var o = n[i];
          bc(o) || t.spreadsheet.store.set(i, Math.floor(o));
        });
      }, this.getScrollOffset = function() {
        var n = t.spreadsheet.store;
        return {
          scrollX: n.get("scrollX", 0),
          scrollY: n.get("scrollY", 0),
          rowHeaderScrollX: n.get("rowHeaderScrollX", 0)
        };
      }, this.emitPaginationEvent = function() {
        var n = t.cfg.pagination;
        if (n) {
          var i = n.current, o = i === void 0 ? Yv : i, a = n.pageSize, l = t.viewCellHeights.getTotalLength(), s = Math.floor((l - 1) / a) + 1;
          t.cfg.spreadsheet.emit(B.LAYOUT_PAGINATION, {
            pageSize: a,
            pageCount: s,
            total: l,
            current: o
          });
        }
      }, this.unbindEvents = function() {
        var n = t.spreadsheet.getCanvasElement();
        n == null || n.removeEventListener("wheel", t.onWheel), t.mobileWheel.destroy();
      }, this.clipPanelGroup = function() {
        var n;
        t.foregroundGroup = t.spreadsheet.foregroundGroup, t.backgroundGroup = t.spreadsheet.backgroundGroup, t.panelGroup = t.spreadsheet.panelGroup;
        var i = t.panelBBox, o = i.width, a = i.height;
        (n = t.spreadsheet.panelScrollGroup) === null || n === void 0 || n.setClip({
          type: "rect",
          attrs: {
            x: 0,
            y: t.cornerBBox.height,
            width: o,
            height: a
          }
        });
      }, this.calculateCellWidthHeight = function() {
        var n = t.layoutResult.colLeafNodes, i = Ac(n, function(o, a) {
          return o.push(gt(o) + a.width), o;
        }, [0]);
        t.viewCellWidths = i, t.viewCellHeights = t.getViewCellHeights(t.layoutResult);
      }, this.getRealScrollX = function(n, i) {
        return i === void 0 && (i = 0), t.cfg.spreadsheet.isScrollContainsRowHeader() ? n : i;
      }, this.calculatePanelBBox = function() {
        t.panelBBox = new FJ(t, !0);
      }, this.getRealWidth = function() {
        return gt(t.viewCellWidths);
      }, this.getRealHeight = function() {
        var n = t.cfg.pagination, i = t.viewCellHeights;
        if (n) {
          var o = t.getCellRange(), a = o.start, l = o.end;
          return i.getCellOffsetY(l + 1) - i.getCellOffsetY(a);
        }
        return i.getTotalHeight();
      }, this.clearAllGroup = function() {
        for (var n = t.panelGroup.getChildren() || [], i = n.length - 1; i >= 0; i--) {
          var o = n[i];
          o instanceof _i ? o.set("children", []) : n[i].remove();
        }
        t.foregroundGroup.set("children", []), t.backgroundGroup.set("children", []);
      }, this.scrollWithAnimation = function(n, i, o) {
        var a, l, s, f;
        n === void 0 && (n = {}), i === void 0 && (i = 200);
        var h = t.getAdjustedScrollOffset({
          scrollX: ((a = n.offsetX) === null || a === void 0 ? void 0 : a.value) || 0,
          scrollY: ((l = n.offsetY) === null || l === void 0 ? void 0 : l.value) || 0,
          rowHeaderScrollX: ((s = n.rowHeaderOffsetX) === null || s === void 0 ? void 0 : s.value) || 0
        }), d = h.scrollX, v = h.scrollY, g = h.rowHeaderScrollX;
        (f = t.timer) === null || f === void 0 || f.stop();
        var y = t.getScrollOffset(), C = [
          d ?? y.scrollX,
          v ?? y.scrollY,
          g ?? y.rowHeaderScrollX
        ], m = Nx(Object.values(y), C);
        t.timer = Tp(function(w) {
          try {
            var S = Math.min(w / i, 1), x = U(m(S), 3), b = x[0], O = x[1], D = x[2];
            t.setScrollOffset({
              rowHeaderScrollX: D,
              scrollX: b,
              scrollY: O
            }), t.startScroll(), w > i && (t.timer.stop(), o == null || o());
          } catch (N) {
            console.error(N), t.timer.stop();
          }
        });
      }, this.scrollImmediately = function(n) {
        var i, o, a;
        n === void 0 && (n = {});
        var l = t.getAdjustedScrollOffset({
          scrollX: ((i = n.offsetX) === null || i === void 0 ? void 0 : i.value) || 0,
          scrollY: ((o = n.offsetY) === null || o === void 0 ? void 0 : o.value) || 0,
          rowHeaderScrollX: ((a = n.rowHeaderOffsetX) === null || a === void 0 ? void 0 : a.value) || 0
        }), s = l.scrollX, f = l.scrollY, h = l.rowHeaderScrollX;
        t.setScrollOffset({ scrollX: s, scrollY: f, rowHeaderScrollX: h }), t.startScroll();
      }, this.startScroll = function(n) {
        var i, o, a;
        n === void 0 && (n = !1);
        var l = t.getScrollOffset(), s = l.rowHeaderScrollX, f = l.scrollX, h = l.scrollY;
        (i = t.hRowScrollBar) === null || i === void 0 || i.onlyUpdateThumbOffset(t.getScrollBarOffset(s, t.hRowScrollBar)), (o = t.hScrollBar) === null || o === void 0 || o.onlyUpdateThumbOffset(t.getScrollBarOffset(f, t.hScrollBar)), (a = t.vScrollBar) === null || a === void 0 || a.onlyUpdateThumbOffset(t.getScrollBarOffset(h, t.vScrollBar)), t.dynamicRenderCell(n);
      }, this.getRendererHeight = function() {
        var n = t.getCellRange(), i = n.start, o = n.end;
        return t.viewCellHeights.getCellOffsetY(o + 1) - t.viewCellHeights.getCellOffsetY(i);
      }, this.getAdjustedScrollOffset = function(n) {
        var i = n.scrollX, o = n.scrollY, a = n.rowHeaderScrollX;
        return {
          scrollX: zd(i, t.layoutResult.colsHierarchy.width, t.panelBBox.width),
          scrollY: zd(o, t.getRendererHeight(), t.panelBBox.height),
          rowHeaderScrollX: MJ(a, t.cornerBBox)
        };
      }, this.renderRowScrollBar = function(n) {
        if (!t.cfg.spreadsheet.isScrollContainsRowHeader() && t.cornerBBox.width < t.cornerBBox.originalWidth) {
          var i = t.cornerBBox.originalWidth - t.cornerBBox.width, o = t.getScrollbarPosition().maxY, a = t.spreadsheet.theme, l = a.splitLine, s = a.scrollBar, f = Math.max(t.cornerBBox.width * t.cornerBBox.width / t.cornerBBox.originalWidth, s == null ? void 0 : s.thumbHorizontalMinSize), h = f - (l == null ? void 0 : l.verticalBorderWidth);
          t.hRowScrollBar = new Hd({
            isHorizontal: !0,
            trackLen: t.cornerBBox.width,
            thumbLen: h,
            position: {
              x: t.cornerBBox.minX + t.scrollBarSize / 2,
              y: o
            },
            thumbOffset: n * (t.cornerBBox.width - f) / i,
            theme: t.scrollBarTheme,
            scrollTargetMaxOffset: i
          }), t.hRowScrollBar.on(na.ScrollChange, function(d) {
            var v, g, y = d.offset, C = t.getValidScrollBarOffset(y, i), m = Math.floor(C);
            t.setScrollOffset({ rowHeaderScrollX: m }), (v = t.rowHeader) === null || v === void 0 || v.onRowScrollX(m, tl), (g = t.rowIndexHeader) === null || g === void 0 || g.onRowScrollX(m, S_), t.cornerHeader.onRowScrollX(m, wv);
            var w = t.getScrollBarOffset(m, t.hRowScrollBar), S = t.getScrollOffset(), x = S.scrollX, b = S.scrollY, O = {
              scrollX: x,
              scrollY: b,
              rowHeaderScrollX: w
            };
            t.hRowScrollBar.updateThumbOffset(w, !1), t.spreadsheet.emit(B.ROW_CELL_SCROLL, O), t.spreadsheet.emit(B.GLOBAL_SCROLL, O);
          }), t.foregroundGroup.add(t.hRowScrollBar);
        }
      }, this.getValidScrollBarOffset = function(n, i) {
        return Gf(n, 0, i);
      }, this.renderHScrollBar = function(n, i, o) {
        if (Math.floor(n) < Math.floor(i)) {
          var a = t.scrollBarSize / 2, l = t.getScrollbarPosition().maxY, s = n + (t.cfg.spreadsheet.isScrollContainsRowHeader() ? Math.min(t.cornerBBox.width, t.getCanvasHW().width) : 0), f = {
            x: t.panelBBox.minX + (t.cfg.spreadsheet.isScrollContainsRowHeader() ? -t.cornerBBox.width + a : a),
            y: l
          }, h = i + (t.cfg.spreadsheet.isScrollContainsRowHeader() ? t.cornerBBox.width : 0), d = t.spreadsheet.theme.scrollBar, v = h - s, g = Math.max(s / h * s, d == null ? void 0 : d.thumbHorizontalMinSize);
          t.hScrollBar = new Hd({
            isHorizontal: !0,
            trackLen: s,
            thumbLen: g,
            position: f,
            thumbOffset: o * (s - g) / v,
            theme: t.scrollBarTheme,
            scrollTargetMaxOffset: v
          }), t.hScrollBar.on(na.ScrollChange, function(y) {
            var C = y.offset, m = y.updateThumbOffset, w = t.getValidScrollBarOffset(C, v);
            m && t.hScrollBar.updateThumbOffset(t.getScrollBarOffset(w, t.hScrollBar), !1), t.setScrollOffset({
              scrollX: w
            }), t.dynamicRenderCell();
          }), t.foregroundGroup.add(t.hScrollBar);
        }
      }, this.getScrollbarPosition = function() {
        var n = t.panelBBox, i = n.maxX, o = n.maxY, a = t.getCanvasHW(), l = a.width, s = a.height, f = t.spreadsheet.options.interaction.scrollbarPosition === Ff.CONTENT;
        return {
          maxX: (f ? i : l) - t.scrollBarSize,
          maxY: f ? o : s - t.scrollBarSize
        };
      }, this.renderVScrollBar = function(n, i, o) {
        if (n < i) {
          var a = t.spreadsheet.theme.scrollBar, l = Math.max(n / i * n, a == null ? void 0 : a.thumbVerticalMinSize), s = i - n, f = t.getScrollbarPosition().maxX;
          t.vScrollBar = new Hd({
            isHorizontal: !1,
            trackLen: n,
            thumbLen: l,
            thumbOffset: o * (n - l) / s,
            position: {
              x: f,
              y: t.panelBBox.minY
            },
            theme: t.scrollBarTheme,
            scrollTargetMaxOffset: s
          }), t.vScrollBar.on(na.ScrollChange, function(h) {
            var d = h.offset, v = h.updateThumbOffset, g = t.getValidScrollBarOffset(d, s);
            v && t.vScrollBar.updateThumbOffset(t.getScrollBarOffset(g, t.vScrollBar), !1), t.setScrollOffset({ scrollY: g }), t.dynamicRenderCell();
          }), t.foregroundGroup.add(t.vScrollBar);
        }
      }, this.getScrollBarOffset = function(n, i) {
        var o = i.trackLen, a = i.thumbLen, l = i.scrollTargetMaxOffset;
        return n * (o - a) / l;
      }, this.isScrollOverThePanelArea = function(n) {
        var i = n.offsetX, o = n.offsetY;
        return i > t.panelBBox.minX && i < t.panelBBox.maxX && o > t.panelBBox.minY && o < t.panelBBox.maxY;
      }, this.isScrollOverTheCornerArea = function(n) {
        var i = n.offsetX, o = n.offsetY;
        return i > t.cornerBBox.minX && i < t.cornerBBox.maxX && o > t.cornerBBox.minY && o < t.cornerBBox.maxY + t.panelBBox.height;
      }, this.updateHorizontalRowScrollOffset = function(n) {
        var i, o = n.offset, a = n.offsetX, l = n.offsetY;
        t.isScrollOverTheCornerArea({ offsetX: a, offsetY: l }) && ((i = t.hRowScrollBar) === null || i === void 0 || i.emitScrollChange(o));
      }, this.updateHorizontalScrollOffset = function(n) {
        var i, o = n.offset, a = n.offsetX, l = n.offsetY;
        (!t.hRowScrollBar || t.isScrollOverThePanelArea({ offsetX: a, offsetY: l })) && ((i = t.hScrollBar) === null || i === void 0 || i.emitScrollChange(o));
      }, this.isScrollToLeft = function(n) {
        var i = n.deltaX, o = n.offsetX, a = n.offsetY;
        if (!t.hScrollBar && !t.hRowScrollBar)
          return !0;
        var l = !t.hRowScrollBar || t.isScrollOverThePanelArea({ offsetY: a, offsetX: o }) || t.hRowScrollBar.thumbOffset <= 0, s = !t.hScrollBar || t.hScrollBar.thumbOffset <= 0;
        return i <= 0 && s && l;
      }, this.isScrollToRight = function(n) {
        var i, o, a, l, s, f, h = n.deltaX, d = n.offsetX, v = n.offsetY;
        if (!t.hScrollBar && !t.hRowScrollBar)
          return !0;
        var g = t.spreadsheet.isFrozenRowHeader() ? (i = t.panelBBox) === null || i === void 0 ? void 0 : i.width : (o = t.panelBBox) === null || o === void 0 ? void 0 : o.maxX, y = !t.hRowScrollBar || t.isScrollOverThePanelArea({ offsetY: v, offsetX: d }) || ((a = t.hRowScrollBar) === null || a === void 0 ? void 0 : a.thumbOffset) + ((l = t.hRowScrollBar) === null || l === void 0 ? void 0 : l.thumbLen) >= t.cornerBBox.width, C = t.hRowScrollBar && t.isScrollOverTheCornerArea({ offsetX: d, offsetY: v }) || ((s = t.hScrollBar) === null || s === void 0 ? void 0 : s.thumbOffset) + ((f = t.hScrollBar) === null || f === void 0 ? void 0 : f.thumbLen) >= g;
        return h >= 0 && C && y;
      }, this.isScrollToTop = function(n) {
        var i;
        return t.vScrollBar ? n <= 0 && ((i = t.vScrollBar) === null || i === void 0 ? void 0 : i.thumbOffset) <= 0 : !0;
      }, this.isScrollToBottom = function(n) {
        var i, o, a;
        return t.vScrollBar ? n >= 0 && ((i = t.vScrollBar) === null || i === void 0 ? void 0 : i.thumbOffset) + ((o = t.vScrollBar) === null || o === void 0 ? void 0 : o.thumbLen) >= ((a = t.panelBBox) === null || a === void 0 ? void 0 : a.height) : !0;
      }, this.isVerticalScrollOverTheViewport = function(n) {
        return !t.isScrollToTop(n) && !t.isScrollToBottom(n);
      }, this.isHorizontalScrollOverTheViewport = function(n) {
        return !t.isScrollToLeft(n) && !t.isScrollToRight(n);
      }, this.isScrollOverTheViewport = function(n) {
        var i = n.deltaY, o = n.deltaX, a = n.offsetY, l = a <= t.cornerBBox.maxY;
        return l ? !1 : i !== 0 ? t.isVerticalScrollOverTheViewport(i) : o !== 0 ? t.isHorizontalScrollOverTheViewport(n) : !1;
      }, this.cancelScrollFrame = function() {
        return Qt() && t.scrollFrameId ? !1 : (cancelAnimationFrame(t.scrollFrameId), !0);
      }, this.clearScrollFrameIdOnMobile = function() {
        Qt() && (t.scrollFrameId = null);
      }, this.stopScrollChainingIfNeeded = function(n) {
        var i = t.spreadsheet.options.interaction;
        i.overscrollBehavior !== "auto" && t.stopScrollChaining(n);
      }, this.stopScrollChaining = function(n) {
        var i, o;
        n != null && n.cancelable && ((i = n == null ? void 0 : n.preventDefault) === null || i === void 0 || i.call(n));
        var a = n == null ? void 0 : n.originalEvent;
        a != null && a.cancelable && ((o = a == null ? void 0 : a.preventDefault) === null || o === void 0 || o.call(a));
      }, this.onWheel = function(n) {
        var i = t.spreadsheet.options.interaction, o = n.deltaX, a = n.deltaY, l = n.offsetX, s = n.offsetY, f = n.shiftKey;
        f && hb() && (l = l - o + a, o = a, s -= a, a = 0);
        var h = U(FK(o, a, i.scrollSpeedRatio), 2), d = h[0], v = h[1];
        if (t.spreadsheet.hideTooltip(), t.spreadsheet.interaction.clearHoverTimer(), !t.isScrollOverTheViewport({
          deltaX: d,
          deltaY: v,
          offsetX: l,
          offsetY: s
        })) {
          t.stopScrollChainingIfNeeded(n);
          return;
        }
        t.stopScrollChaining(n), t.spreadsheet.interaction.addIntercepts([Pe.HOVER]), t.cancelScrollFrame() && (t.scrollFrameId = requestAnimationFrame(function() {
          var g, y = t.getScrollOffset(), C = y.scrollX, m = y.scrollY, w = y.rowHeaderScrollX;
          d !== 0 && (t.showHorizontalScrollBar(), t.updateHorizontalRowScrollOffset({
            offsetX: l,
            offsetY: s,
            offset: d + w
          }), t.updateHorizontalScrollOffset({
            offsetX: l,
            offsetY: s,
            offset: d + C
          })), v !== 0 && (t.showVerticalScrollBar(), (g = t.vScrollBar) === null || g === void 0 || g.emitScrollChange(v + m)), t.delayHideScrollbarOnMobile(), t.clearScrollFrameIdOnMobile();
        }));
      }, this.addCell = function(n) {
        var i = t.spreadsheet.panelScrollGroup;
        i == null || i.add(n);
      }, this.realCellRender = function(n, i) {
        var o = t.calculateXYIndexes(n, i);
        fi.getInstance().logger("renderIndex:", t.preCellIndexes, o);
        var a = PJ(t.preCellIndexes, o), l = a.add, s = a.remove;
        fi.getInstance().debugCallback(hK, function() {
          Oe(l, function(h) {
            var d = U(h, 2), v = d[0], g = d[1], y = t.layoutResult.getCellMeta(g, v);
            if (y) {
              var C = t.cfg.dataCell(y);
              C.set("name", "".concat(v, "-").concat(g)), t.addCell(C);
            }
          });
          var f = cs(t.panelGroup.getChildren(), Bo);
          Oe(s, function(h) {
            var d = U(h, 2), v = d[0], g = d[1], y = Cr(f, function(C) {
              return C.get("name") === "".concat(v, "-").concat(g);
            });
            y == null || y.remove(!0);
          }), fi.getInstance().logger("Render Cell Panel: ".concat(f == null ? void 0 : f.length, ", Add: ").concat(l == null ? void 0 : l.length, ", Remove: ").concat(s == null ? void 0 : s.length));
        }), t.preCellIndexes = o, t.spreadsheet.emit(B.LAYOUT_AFTER_REAL_DATA_CELL_RENDER, {
          add: l,
          remove: s,
          spreadsheet: t.spreadsheet
        });
      }, this.getGridInfo = function() {
        var n = U(t.preCellIndexes.center, 4), i = n[0], o = n[1], a = n[2], l = n[3], s = _E(i, o, t.layoutResult.colLeafNodes), f = Gc(a, l, t.viewCellHeights);
        return {
          cols: s,
          rows: f
        };
      }, this.onAfterScroll = Es(function() {
        var n = t.spreadsheet, i = n.interaction, o = n.container;
        if (!i.isSelectedState() && (i.removeIntercepts([Pe.HOVER]), i.getHoverAfterScroll())) {
          var a = i.eventController.canvasMousemoveEvent;
          if (a) {
            var l = a.x, s = a.y, f = o.getShape(l, s);
            f && o.emit(Lr.MOUSE_MOVE, F(F({}, a), { shape: f, target: f, timestamp: performance.now() }));
          }
        }
      }, 300), this.cfg = r, this.spreadsheet = r.spreadsheet, this.init();
    }
    return Object.defineProperty(e.prototype, "scrollBarTheme", {
      get: function() {
        return this.spreadsheet.theme.scrollBar;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(e.prototype, "scrollBarSize", {
      get: function() {
        return this.scrollBarTheme.size;
      },
      enumerable: !1,
      configurable: !0
    }), e.prototype.getCellCustomWidth = function(r, t) {
      return Jt(t) ? t == null ? void 0 : t(r) : t;
    }, e.prototype.getCellDraggedWidth = function(r) {
      var t = this.cfg.colCfg;
      return _e(t == null ? void 0 : t.widthByFieldValue, "".concat(r.value));
    }, e.prototype.render = function() {
      UK(this.spreadsheet.dataCfg.fields) || (this.adjustScrollOffset(), this.renderHeaders(), this.renderScrollBars(), this.renderBackground(), this.dynamicRenderCell());
    }, e.prototype.adjustScrollOffset = function() {
      var r = this.getAdjustedScrollOffset(this.getScrollOffset());
      this.setScrollOffset(r);
    }, e.prototype.getSeriesNumberWidth = function() {
      var r = this.cfg.showSeriesNumber;
      return r ? this.spreadsheet.theme.rowCell.seriesNumberWidth : 0;
    }, e.prototype.getCanvasHW = function() {
      return {
        width: this.cfg.width,
        height: this.cfg.height
      };
    }, e.prototype.updateScrollOffset = function(r) {
      var t, n, i, o, a, l;
      if (((t = r.rowHeaderOffsetX) === null || t === void 0 ? void 0 : t.value) !== void 0) {
        !((n = r.rowHeaderOffsetX) === null || n === void 0) && n.animate ? this.scrollWithAnimation(r) : this.scrollImmediately(r);
        return;
      }
      if (((i = r.offsetX) === null || i === void 0 ? void 0 : i.value) !== void 0) {
        !((o = r.offsetX) === null || o === void 0) && o.animate ? this.scrollWithAnimation(r) : this.scrollImmediately(r);
        return;
      }
      ((a = r.offsetY) === null || a === void 0 ? void 0 : a.value) !== void 0 && (!((l = r.offsetY) === null || l === void 0) && l.animate ? this.scrollWithAnimation(r) : this.scrollImmediately(r));
    }, e.prototype.getPaginationScrollY = function() {
      var r = this.cfg.pagination;
      if (r) {
        var t = r.current, n = t === void 0 ? Yv : t, i = r.pageSize, o = this.viewCellHeights, a = Math.max((n - 1) * i, 0);
        return o.getCellOffsetY(a);
      }
      return 0;
    }, e.prototype.destroy = function() {
      this.unbindEvents(), this.clearAllGroup(), this.preCellIndexes = null, cancelAnimationFrame(this.scrollFrameId);
    }, e.prototype.calculateXYIndexes = function(r, t) {
      var n = this.panelBBox, i = n.viewportHeight, o = n.viewportWidth, a = Z0(r, t, this.viewCellWidths, this.viewCellHeights, {
        width: o,
        height: i,
        x: 0,
        y: 0
      }, this.getRealScrollX(this.cornerBBox.width));
      return {
        center: a
      };
    }, e.prototype.calculateCornerBBox = function() {
      this.cornerBBox = new wE(this, !0);
    }, e.prototype.getCellRange = function() {
      var r = this.cfg.pagination;
      return WK(this.viewCellHeights, r);
    }, e.prototype.panelScrollGroupClip = function(r, t) {
      var n, i = this.spreadsheet.isFrozenRowHeader();
      (n = this.spreadsheet.panelScrollGroup) === null || n === void 0 || n.setClip({
        type: "rect",
        attrs: {
          x: i ? r : 0,
          y: t,
          width: this.panelBBox.width + (i ? 0 : r),
          height: this.panelBBox.height
        }
      });
    }, e.prototype.clip = function(r, t) {
      this.panelScrollGroupClip(r, t);
    }, e.prototype.translateRelatedGroups = function(r, t, n) {
      var i, o, a, l, s, f;
      $i(this.spreadsheet.panelScrollGroup, this.cornerBBox.width - r, this.cornerBBox.height - t), (i = this.rowHeader) === null || i === void 0 || i.onScrollXY(this.getRealScrollX(r, n), t, tl), (o = this.rowIndexHeader) === null || o === void 0 || o.onScrollXY(this.getRealScrollX(r, n), t, S_), (a = this.cornerHeader) === null || a === void 0 || a.onCorScroll(this.getRealScrollX(r, n), wv), (l = this.centerFrame) === null || l === void 0 || l.onChangeShadowVisibility(r, this.getRealWidth() - this.panelBBox.width), (s = this.centerFrame) === null || s === void 0 || s.onBorderScroll(this.getRealScrollX(r)), (f = this.columnHeader) === null || f === void 0 || f.onColScroll(r, mS);
    }, e.prototype.init = function() {
      var r = this;
      fi.getInstance().debugCallback(cK, function() {
        r.layoutResult = r.doLayout(), r.saveInitColumnLeafNodes(r.layoutResult.colLeafNodes), r.spreadsheet.emit(B.LAYOUT_AFTER_HEADER_LAYOUT, r.layoutResult);
      }), this.calculateCellWidthHeight(), this.calculateCornerBBox(), this.calculatePanelBBox(), this.clipPanelGroup(), this.bindEvents();
    }, e.prototype.renderBackground = function() {
      var r = this.getCanvasHW(), t = r.width, n = r.height, i = this.spreadsheet.theme.background, o = i.color, a = i.opacity;
      this.backgroundGroup.addShape("rect", {
        attrs: {
          fill: o,
          opacity: a,
          x: 0,
          y: 0,
          width: t,
          height: n
        }
      });
    }, e.prototype.renderScrollBars = function() {
      var r = this.getScrollOffset(), t = r.scrollX, n = r.scrollY, i = r.rowHeaderScrollX, o = this.panelBBox, a = o.width, l = o.height, s = this.layoutResult.colsHierarchy.width, f = this.getRealHeight();
      this.renderRowScrollBar(i), this.renderHScrollBar(a, s, t), this.renderVScrollBar(l, f, n);
    }, e.prototype.renderHeaders = function() {
      var r = this.getSeriesNumberWidth();
      this.rowHeader = this.getRowHeader(), this.columnHeader = this.getColHeader(), r > 0 && !this.rowIndexHeader && (this.rowIndexHeader = this.getSeriesNumberHeader()), this.cornerHeader = this.getCornerHeader(), this.centerFrame = this.getCenterFrame(), this.rowIndexHeader && this.foregroundGroup.add(this.rowIndexHeader), this.rowHeader && this.foregroundGroup.add(this.rowHeader), this.foregroundGroup.add(this.columnHeader), this.foregroundGroup.add(this.cornerHeader), this.foregroundGroup.add(this.centerFrame);
    }, e.prototype.getRowHeaderCfg = function() {
      var r, t, n, i = this.panelBBox, o = i.y, a = i.viewportHeight, l = i.viewportWidth, s = i.height, f = this.getSeriesNumberWidth();
      return {
        width: this.cornerBBox.width,
        height: s,
        viewportWidth: l,
        viewportHeight: a,
        position: { x: 0, y: o },
        data: this.layoutResult.rowNodes,
        hierarchyType: this.cfg.hierarchyType,
        linkFields: (n = (t = (r = this.cfg.spreadsheet.options) === null || r === void 0 ? void 0 : r.interaction) === null || t === void 0 ? void 0 : t.linkFields) !== null && n !== void 0 ? n : [],
        seriesNumberWidth: f,
        spreadsheet: this.spreadsheet
      };
    }, e.prototype.getRowHeader = function() {
      return this.rowHeader ? this.rowHeader : new pg(this.getRowHeaderCfg());
    }, e.prototype.getColHeader = function() {
      if (!this.columnHeader) {
        var r = this.panelBBox, t = r.x, n = r.width, i = r.viewportHeight, o = r.viewportWidth;
        return new vg({
          width: n,
          cornerWidth: this.cornerBBox.width,
          height: this.cornerBBox.height,
          viewportWidth: o,
          viewportHeight: i,
          position: { x: t, y: 0 },
          data: this.layoutResult.colNodes,
          scrollContainsRowHeader: this.cfg.spreadsheet.isScrollContainsRowHeader(),
          sortParam: this.cfg.spreadsheet.store.get("sortParam"),
          spreadsheet: this.spreadsheet
        });
      }
      return this.columnHeader;
    }, e.prototype.getCornerHeader = function() {
      return this.cornerHeader ? this.cornerHeader : $J.getCornerHeader(this.panelBBox, this.cornerBBox, this.getSeriesNumberWidth(), this.cfg, this.layoutResult, this.spreadsheet);
    }, e.prototype.getSeriesNumberHeader = function() {
      return SE.getSeriesNumberHeader({
        viewportBBox: this.panelBBox,
        seriesNumberWidth: this.getSeriesNumberWidth(),
        leafNodes: this.layoutResult.rowsHierarchy.getNodes(0),
        spreadsheet: this.spreadsheet,
        cornerWidth: this.cornerBBox.width
      });
    }, e.prototype.getCenterFrame = function() {
      var r;
      if (!this.centerFrame) {
        var t = this.panelBBox, n = t.viewportWidth, i = t.viewportHeight, o = this.cornerBBox.width, a = this.cornerBBox.height, l = (r = this.cfg) === null || r === void 0 ? void 0 : r.frame, s = {
          position: {
            x: this.cornerBBox.x,
            y: this.cornerBBox.y
          },
          width: o,
          height: a,
          viewportWidth: n,
          viewportHeight: i,
          showViewportLeftShadow: !1,
          showViewportRightShadow: !1,
          scrollContainsRowHeader: this.cfg.spreadsheet.isScrollContainsRowHeader(),
          isPivotMode: this.cfg.spreadsheet.isPivotMode(),
          spreadsheet: this.cfg.spreadsheet
        };
        return l ? l(s) : new NJ(s);
      }
      return this.centerFrame;
    }, e.prototype.updatePanelScrollGroup = function() {
      this.gridInfo = this.getGridInfo(), this.spreadsheet.panelScrollGroup.update(this.gridInfo);
    }, e.prototype.dynamicRenderCell = function(r) {
      var t = this.getScrollOffset(), n = t.scrollX, i = t.scrollY, o = t.rowHeaderScrollX, a = i + this.getPaginationScrollY(), l = zd(a, this.viewCellHeights.getTotalHeight(), this.panelBBox.viewportHeight);
      this.spreadsheet.hideTooltip(), this.spreadsheet.interaction.clearHoverTimer(), this.realCellRender(n, l), this.updatePanelScrollGroup(), this.translateRelatedGroups(n, l, o), this.clip(n, l), r || this.emitScrollEvent({ scrollX: n, scrollY: l, rowHeaderScrollX: o }), this.onAfterScroll();
    }, e.prototype.emitScrollEvent = function(r) {
      this.spreadsheet.emit(B.LAYOUT_CELL_SCROLL, r), this.spreadsheet.emit(B.GLOBAL_SCROLL, r);
    }, e.prototype.saveInitColumnLeafNodes = function(r) {
      r === void 0 && (r = []);
      var t = this.spreadsheet, n = t.store, i = t.options, o = i.interaction.hiddenColumnFields, a = r.length + o.length, l = n.get("initColumnLeafNodes", []);
      a !== l.length && n.set("initColumnLeafNodes", r);
    }, e.prototype.getHiddenColumnsInfo = function(r) {
      var t = this.spreadsheet.store.get("hiddenColumnsDetail", []);
      return ne(t) ? null : t.find(function(n) {
        var i;
        return (i = n == null ? void 0 : n.hideColumnNodes) === null || i === void 0 ? void 0 : i.some(function(o) {
          return o.id === r.id;
        });
      });
    }, e.prototype.getCornerNodes = function() {
      var r;
      return ((r = this.cornerHeader) === null || r === void 0 ? void 0 : r.getNodes()) || [];
    }, e;
  }()
), TE = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n, i = e.call(this, t) || this;
      return i.frozenGroupInfo = (n = {}, n[Tn.FROZEN_COL] = {
        width: 0
      }, n[Tn.FROZEN_ROW] = {
        height: 0
      }, n[Tn.FROZEN_TRAILING_ROW] = {
        height: 0
      }, n[Tn.FROZEN_TRAILING_COL] = {
        width: 0
      }, n), i.panelScrollGroupIndexes = [], i.initFrozenGroupPosition = function() {
        var o = i.getScrollOffset(), a = o.scrollY, l = o.scrollX, s = i.getPaginationScrollY();
        $i(i.spreadsheet.frozenRowGroup, i.cornerBBox.width - l, i.cornerBBox.height - s), $i(i.spreadsheet.frozenColGroup, i.cornerBBox.width, i.cornerBBox.height - a - s), $i(i.spreadsheet.frozenTrailingColGroup, i.cornerBBox.width, i.cornerBBox.height - a - s), $i(i.spreadsheet.frozenTopGroup, i.cornerBBox.width, i.cornerBBox.height - s);
      }, i.addCell = function(o) {
        var a = i.getBizRevisedFrozenOptions(), l = a.frozenRowCount, s = a.frozenColCount, f = a.frozenTrailingRowCount, h = a.frozenTrailingColCount, d = i.layoutResult.colsHierarchy.getLeaves().length, v = i.getCellRange(), g = i.getRealFrozenColumns(s, h), y = g.colCount, C = g.trailingColCount, m = NK(o.getMeta(), {
          frozenRowCount: l,
          frozenColCount: y,
          frozenTrailingRowCount: f,
          frozenTrailingColCount: C
        }, d, v), w = bS[m];
        w && i.spreadsheet[w] && i.spreadsheet[w].add(o);
      }, i.renderFrozenGroupSplitLine = function(o, a) {
        var l, s, f, h = i.panelBBox, d = h.width, v = h.height, g = h.viewportWidth, y = h.viewportHeight, C = i.cornerBBox.height, m = i.layoutResult.colNodes.filter(function(mt) {
          return Gn(mt);
        }), w = i.getCellRange(), S = w.end - w.start, x = mo(i.getBizRevisedFrozenOptions(), m.length, S), b = x.frozenRowCount, O = b === void 0 ? 0 : b, D = x.frozenColCount, N = D === void 0 ? 0 : D, W = x.frozenTrailingColCount, k = W === void 0 ? 0 : W, ee = x.frozenTrailingRowCount, J = ee === void 0 ? 0 : ee, te = Math.floor(a - i.getPaginationScrollY()), ae = Math.max(0, ((l = gt(i.viewCellWidths)) !== null && l !== void 0 ? l : 0) - g), fe = Math.max(0, i.viewCellHeights.getCellOffsetY(w.end + 1) - i.viewCellHeights.getCellOffsetY(w.start) - y);
        (s = i.foregroundGroup.findById(Df)) === null || s === void 0 || s.remove();
        var j = _e(i.cfg, "spreadsheet.theme.splitLine"), ie = i.foregroundGroup.addGroup({
          id: Df,
          zIndex: ms
        }), Ie = {
          lineWidth: j == null ? void 0 : j.verticalBorderWidth,
          stroke: j == null ? void 0 : j.verticalBorderColor,
          opacity: j == null ? void 0 : j.verticalBorderColorOpacity,
          lineDash: j == null ? void 0 : j.borderDash
        }, we = {
          lineWidth: j == null ? void 0 : j.horizontalBorderWidth,
          stroke: j == null ? void 0 : j.horizontalBorderColor,
          opacity: j == null ? void 0 : j.horizontalBorderColorOpacity,
          lineDash: j == null ? void 0 : j.borderDash
        };
        if (N > 0) {
          var Te = m.reduce(function(mt, Xe, ze) {
            return ze < N ? mt + Xe.width : mt;
          }, 0), he = J > 0 ? v : y;
          or(ie, {
            x1: Te,
            x2: Te,
            y1: C,
            y2: C + he
          }, F({}, Ie)), j.showShadow && o > 0 && ie.addShape("rect", {
            attrs: {
              x: Te,
              y: C,
              width: j.shadowWidth,
              height: he,
              fill: i.getShadowFill(0)
            }
          });
        }
        if (O > 0) {
          var be = C + i.getTotalHeightForRange(w.start, w.start + O - 1), Ae = k > 0 ? d : g;
          or(ie, {
            x1: 0,
            x2: Ae,
            y1: be,
            y2: be
          }, F({}, we)), j.showShadow && te > 0 && ie.addShape("rect", {
            attrs: {
              x: 0,
              y: be,
              width: Ae,
              height: j.shadowWidth,
              fill: i.getShadowFill(90)
            }
          });
        }
        if (k > 0) {
          var Te = m[m.length - k].x, he = J ? v : y;
          or(ie, {
            x1: Te,
            x2: Te,
            y1: C,
            y2: C + he
          }, F({}, Ie)), j.showShadow && Math.floor(o) < Math.floor(ae) && ie.addShape("rect", {
            attrs: {
              x: Te - ((f = j.shadowWidth) !== null && f !== void 0 ? f : 0),
              y: C,
              width: j.shadowWidth,
              height: he,
              fill: i.getShadowFill(180)
            }
          });
        }
        if (J > 0) {
          var be = i.panelBBox.maxY - i.getTotalHeightForRange(w.end - J + 1, w.end), Ae = k > 0 ? d : g;
          or(ie, {
            x1: 0,
            x2: Ae,
            y1: be,
            y2: be
          }, F({}, we)), j.showShadow && te < Math.floor(fe) && ie.addShape("rect", {
            attrs: {
              x: 0,
              y: be - j.shadowWidth,
              width: Ae,
              height: j.shadowWidth,
              fill: i.getShadowFill(270)
            }
          });
        }
        i.foregroundGroup.sort();
      }, i.getRealFrozenColumns = function(o, a) {
        var l, s = o, f = a;
        if (o || a) {
          var h = i.layoutResult.colsHierarchy.getNodes();
          h = h.filter(function(d) {
            return Gn(d);
          }), l = Is(h, o, a), s = l.colCount, f = l.trailingColCount;
        }
        return { colCount: s, trailingColCount: f };
      }, i.getTotalHeightForRange = function(o, a) {
        if (o < 0 || a < 0)
          return 0;
        if (i.rowOffsets)
          return i.rowOffsets[a + 1] - i.rowOffsets[o];
        for (var l = 0, s = o; s < a + 1; s++) {
          var f = i.getDefaultCellHeight();
          l += f;
        }
        return l;
      }, i.getShadowFill = function(o) {
        var a, l, s = _e(i.cfg, "spreadsheet.theme.splitLine");
        return "l (".concat(o, ") 0:").concat((a = s.shadowColors) === null || a === void 0 ? void 0 : a.left, " 1:").concat((l = s.shadowColors) === null || l === void 0 ? void 0 : l.right);
      }, i;
    }
    return r.prototype.calculateFrozenGroupInfo = function() {
      var t = this.getFrozenOptionsDirectly(), n = t.frozenColCount, i = t.frozenRowCount, o = t.frozenTrailingColCount, a = t.frozenTrailingRowCount, l = this.layoutResult.colNodes.filter(function(C) {
        return Gn(C);
      }), s = this.viewCellHeights, f = this.getCellRange(), h = this.frozenGroupInfo, d = h.frozenCol, v = h.frozenTrailingCol, g = h.frozenRow, y = h.frozenTrailingRow;
      n > 0 && (d.width = l[n - 1].x + l[n - 1].width - 0, d.range = [0, n - 1]), i > 0 && (g.height = s.getCellOffsetY(f.start + i) - s.getCellOffsetY(f.start), g.range = [f.start, f.start + i - 1]), o > 0 && (v.width = l[l.length - 1].x - l[l.length - o].x + l[l.length - 1].width, v.range = [
        l.length - o,
        l.length - 1
      ]), a > 0 && (y.height = s.getCellOffsetY(f.end + 1) - s.getCellOffsetY(f.end + 1 - a), y.range = [
        f.end - a + 1,
        f.end
      ]);
    }, r.prototype.calculateXYIndexes = function(t, n) {
      var i, o, a, l = this.layoutResult.colLeafNodes.length, s = this.getCellRange(), f = this.panelBBox, h = f.viewportHeight, d = f.viewportWidth, v = this.getFrozenOptionsDirectly(), g = v.frozenColCount, y = g === void 0 ? 0 : g, C = v.frozenRowCount, m = C === void 0 ? 0 : C, w = v.frozenTrailingColCount, S = w === void 0 ? 0 : w, x = v.frozenTrailingRowCount, b = x === void 0 ? 0 : x, O = {
        width: d,
        height: h,
        x: 0,
        y: 0
      };
      if (S > 0 || y > 0) {
        var D = this.frozenGroupInfo, N = D.frozenTrailingCol, W = D.frozenCol;
        O.width -= N.width + W.width, O.x += (i = W.width) !== null && i !== void 0 ? i : 0;
      }
      if (b > 0 || m > 0) {
        var k = this.frozenGroupInfo, ee = k.frozenRow, J = k.frozenTrailingRow;
        O.height < ee.height + J.height ? (O.height = 0, O.y = 0) : (O.height -= ee.height + J.height, O.y += ee.height);
      }
      var te = this.spreadsheet.isTableMode() && (!((a = (o = this.spreadsheet.dataSet) === null || o === void 0 ? void 0 : o.isEmpty) === null || a === void 0) && a.call(o)) ? this.spreadsheet.dataSet.getEmptyViewIndexes() : Z0(t, n, this.viewCellWidths, this.viewCellHeights, O, this.getRealScrollX(this.cornerBBox.width));
      this.panelScrollGroupIndexes = te;
      var ae = this.getRealFrozenColumns(y, S), fe = ae.colCount, j = ae.trailingColCount;
      return zK(te, {
        frozenColCount: fe,
        frozenRowCount: m,
        frozenTrailingColCount: j,
        frozenTrailingRowCount: b
      }, l, s);
    }, r.prototype.updateFrozenGroupGrid = function() {
      var t = this;
      [
        Tn.FROZEN_COL,
        Tn.FROZEN_ROW,
        Tn.FROZEN_TRAILING_COL,
        Tn.FROZEN_TRAILING_ROW
      ].forEach(function(n) {
        if (t.frozenGroupInfo[n].range) {
          var i = [], o = [];
          if (n.toLowerCase().includes("row")) {
            var a = U(t.frozenGroupInfo[n].range, 2), l = a[0], s = a[1];
            if (i = t.gridInfo.cols, o = Gc(l, s, t.viewCellHeights), n === Tn.FROZEN_TRAILING_ROW) {
              var f = t.spreadsheet.frozenTrailingRowGroup.getBBox().minY;
              o = BJ(l, s, Math.ceil(f), t.viewCellHeights);
            }
          } else {
            var h = U(t.frozenGroupInfo[n].range, 2), d = h[0], v = h[1], g = t.layoutResult.colNodes.filter(function(y) {
              return Gn(y);
            });
            i = _E(d, v, g), o = t.gridInfo.rows;
          }
          t.spreadsheet["".concat(n, "Group")].updateGrid({
            cols: i,
            rows: o
          }, "".concat(n, "Group"));
        }
      });
    }, r.prototype.updatePanelScrollGroup = function() {
      e.prototype.updatePanelScrollGroup.call(this), this.updateFrozenGroupGrid();
    }, r.prototype.translateRelatedGroups = function(t, n, i) {
      var o = this, a = this.spreadsheet, l = a.frozenColGroup, s = a.frozenTrailingColGroup, f = a.frozenRowGroup, h = a.frozenTrailingRowGroup;
      [f, h].forEach(function(d) {
        Bc(d, o.cornerBBox.width - t);
      }), [l, s].forEach(function(d) {
        $K(d, o.cornerBBox.height - n);
      }), e.prototype.translateRelatedGroups.call(this, t, n, i), this.updateRowResizeArea(), this.renderFrozenGroupSplitLine(t, n);
    }, r.prototype.updateRowResizeArea = function() {
    }, r.prototype.clip = function(t, n) {
      var i, o, a, l = this.getPaginationScrollY(), s = this.spreadsheet, f = s.frozenRowGroup, h = s.frozenColGroup, d = s.frozenTrailingColGroup, v = s.frozenTrailingRowGroup, g = s.panelScrollGroup, y = 0, C = 0, m = 0;
      h && (y = h.getBBox().width), f && (C = f.getBBox().height);
      var w;
      d && (w = d.getBBox()), v && (m = v.getBBox().height);
      var S = this.panelBBox.width - y - ((i = w == null ? void 0 : w.width) !== null && i !== void 0 ? i : 0), x = this.panelBBox.height - C - m;
      g.setClip({
        type: "rect",
        attrs: {
          x: t + y,
          y: n + C,
          width: S,
          height: x
        }
      }), f.setClip({
        type: "rect",
        attrs: {
          x: t + y,
          y: l,
          width: S,
          height: C
        }
      }), v == null || v.setClip({
        type: "rect",
        attrs: {
          x: t + y,
          y: v.getBBox().minY,
          width: S,
          height: m
        }
      });
      var b = {
        y: n + C,
        height: x
      };
      h == null || h.setClip({
        type: "rect",
        attrs: F(F({}, b), { x: 0, width: y })
      }), d == null || d.setClip({
        type: "rect",
        attrs: F(F({}, b), { x: (o = w == null ? void 0 : w.minX) !== null && o !== void 0 ? o : 0, width: (a = w == null ? void 0 : w.width) !== null && a !== void 0 ? a : 0 })
      });
    }, r.prototype.init = function() {
      e.prototype.init.call(this), this.initRowOffsets();
    }, r.prototype.render = function() {
      this.calculateFrozenGroupInfo(), e.prototype.render.call(this), this.initFrozenGroupPosition();
    }, r.prototype.getFrozenOptionsDirectly = function() {
      var t = this.layoutResult.colLeafNodes.length, n = this.getCellRange();
      return mo(this.getBizRevisedFrozenOptions(), t, n.end - n.start + 1);
    }, r.prototype.getBizRevisedFrozenOptions = function() {
      var t = this.cfg, n = t.frozenColCount, i = t.frozenRowCount, o = t.frozenTrailingColCount, a = t.frozenTrailingRowCount;
      return {
        frozenColCount: n,
        frozenRowCount: i,
        frozenTrailingColCount: o,
        frozenTrailingRowCount: a
      };
    }, r.prototype.initRowOffsets = function() {
      var t = this, n = this.cfg.dataSet, i = _e(this.spreadsheet, "options.style.rowCfg.heightByField", {});
      if (Object.keys(i).length) {
        var o = n.getDisplayDataSet();
        this.rowOffsets = [0];
        var a = 0;
        o.forEach(function(l, s) {
          var f, h = (f = i == null ? void 0 : i[String(s)]) !== null && f !== void 0 ? f : t.getDefaultCellHeight(), d = a + h;
          t.rowOffsets.push(d), a = d;
        });
      }
    }, r.prototype.getDefaultCellHeight = function() {
      var t, n = this.cfg.cellCfg;
      return (t = n == null ? void 0 : n.height) !== null && t !== void 0 ? t : 0;
    }, r;
  }(zJ)
), bE = function(e) {
  var r, t, n, i = e.facetCfg, o = e.customTreeItems, a = o === void 0 ? [] : o, l = e.level, s = e.parentNode, f = e.hierarchy, h = i.spreadsheet, d = i.collapsedRows, v = i.hierarchyCollapse;
  try {
    for (var g = Yr(a), y = g.next(); !y.done; y = g.next()) {
      var C = y.value, m = C.key, w = C.title, S = C.collapsed, x = C.children, b = kp(C, ["key", "title", "collapsed", "children"]), O = (n = {}, n[Ne] = m, n), D = Os(s.id, w), N = S ?? !1, W = _e(d, D), k = W ?? (v || N), ee = new ir({
        id: D,
        key: m,
        label: w,
        value: w,
        level: l,
        parent: s,
        field: m,
        isTotals: !1,
        isCollapsed: k,
        hierarchy: f,
        query: O,
        spreadsheet: h,
        extra: b
      });
      l > f.maxLevel && (f.maxLevel = l), ne(x) && (ee.isLeaf = !0);
      var J = K0(i, s, ee, f);
      !ne(x) && !k && J && bE({
        facetCfg: i,
        parentNode: ee,
        level: l + 1,
        hierarchy: f,
        customTreeItems: x
      });
    }
  } catch (te) {
    r = { error: te };
  } finally {
    try {
      y && !y.done && (t = g.return) && t.call(g);
    } finally {
      if (r)
        throw r.error;
    }
  }
}, WJ = function(e, r, t) {
  var n = e.getTotalsConfig(r);
  if (n.showGrandTotals) {
    var i = n.reverseLayout ? "unshift" : "push";
    t[i](new al({
      label: n.label,
      isSubTotals: !1,
      isGrandTotals: !0
    }));
  }
}, EE = function(e) {
  var r, t, n, i, o, a, l = e.parentNode, s = e.currentField, f = e.level, h = e.facetCfg, d = e.hierarchy, v = e.pivotMeta, g = h.spreadsheet, y = h.collapsedRows, C = h.hierarchyCollapse, m = h.rowExpandDepth, w = l.query, S = l.id, x = ((i = g.dataCfg.fields.rows) === null || i === void 0 ? void 0 : i.length) <= f, b = pj(Array.from(v.keys())), O = yb(b, h, l, s), D = g.store.get("drillItemsNum");
  x && D > 0 && (O = O.slice(0, D)), f === 0 && WJ(g, s, O);
  try {
    for (var N = Yr(O), W = N.next(); !W.done; W = N.next()) {
      var k = W.value, ee = k instanceof al, J = ee ? null : v.get(k), te = void 0, ae = w, fe = !1, j = !1;
      if (ee) {
        var ie = k;
        fe = ie.isGrandTotals, j = ie.isSubTotals, te = Mt(k.label), ae = w;
      } else
        te = k, ae = F(F({}, w), (n = {}, n[s] = te, n));
      var Ie = Os(S, te), we = y == null ? void 0 : y[Ie], Te = ln(m) ? f > m : null, he = (o = we ?? Te) !== null && o !== void 0 ? o : C, be = new ir({
        id: Ie,
        key: s,
        label: te,
        value: te,
        level: f,
        parent: l,
        field: s,
        isTotals: ee,
        isGrandTotals: fe,
        isSubTotals: j,
        isCollapsed: he,
        hierarchy: d,
        query: ae,
        spreadsheet: g
      });
      f > d.maxLevel && (d.maxLevel = f);
      var Ae = !(!((a = J == null ? void 0 : J.children) === null || a === void 0) && a.size);
      (Ae || ee) && (be.isLeaf = !0), Ae || (be.isTotals = !0);
      var mt = K0(h, l, be, d);
      !Ae && !he && !ee && mt && EE({
        level: f + 1,
        currentField: J.childField,
        pivotMeta: J.children,
        facetCfg: h,
        parentNode: be,
        hierarchy: d
      });
    }
  } catch (Xe) {
    r = { error: Xe };
  } finally {
    try {
      W && !W.done && (t = N.return) && t.call(N);
    } finally {
      if (r)
        throw r.error;
    }
  }
}, LE = function(e) {
  var r = e.isValueInCols, t = e.moreThanOneValue, n = e.rootNode, i = e.facetCfg, o = e.hierarchy, a = e.fields, l = e.isRowHeader, s, f;
  l ? (s = !r && t, f = !r && !t) : (s = r && t, f = r && !t), mb({
    addTotalMeasureInTotal: s,
    addMeasureInTotalQuery: f,
    parentNode: n,
    currentField: a[0],
    fields: a,
    facetCfg: i,
    hierarchy: o
  });
}, GJ = function(e) {
  var r = e.facetCfg, t = e.rootNode, n = e.hierarchy, i = r.dataSet.fields.customTreeItems;
  bE({
    customTreeItems: i,
    facetCfg: r,
    level: 0,
    parentNode: t,
    hierarchy: n
  });
}, kJ = function(e) {
  var r = e.facetCfg, t = e.rootNode, n = e.hierarchy, i = r.hierarchyType, o = r.rows, a = r.dataSet;
  i === "tree" ? EE({
    level: 0,
    currentField: o[0],
    pivotMeta: a.rowPivotMeta,
    facetCfg: r,
    parentNode: t,
    hierarchy: n
  }) : GJ(e);
}, UJ = function(e) {
  var r = e.spreadsheet;
  r.isHierarchyTreeType() ? kJ(e) : LE(e);
}, YJ = function(e) {
  var r = e.isPivotMode, t = e.hierarchy, n = e.rootNode, i = e.facetCfg;
  r ? LE(e) : YK({
    parentNode: n,
    hierarchy: t,
    facetCfg: i
  });
}, lp = function(e) {
  var r = e.isRowHeader, t = e.facetCfg, n = t.spreadsheet, i = t.rows, o = i === void 0 ? [] : i, a = t.columns, l = a === void 0 ? [] : a, s = n.dataCfg.fields.valueInCols, f = n.isPivotMode(), h = t.dataSet.moreThanOneValue(), d = ir.rootNode(), v = new db(), g = {
    isValueInCols: s,
    isPivotMode: f,
    moreThanOneValue: h,
    rootNode: d,
    hierarchy: v,
    spreadsheet: n,
    facetCfg: t,
    fields: r ? o : l,
    isRowHeader: r
  };
  r ? UJ(g) : YJ(g);
  var y = function() {
    return r && n.isHierarchyTreeType() ? v.getNodes() : v.getLeaves();
  };
  return {
    hierarchy: v,
    leafNodes: y()
  };
}, XJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.renderFrozenGroupSplitLine = function(n, i) {
        var o;
        if ((o = t.foregroundGroup.findById(Df)) === null || o === void 0 || o.remove(), t.enableFrozenFirstRow()) {
          var a = Math.floor(i - t.getPaginationScrollY()), l = t.foregroundGroup.addGroup({
            id: Df,
            zIndex: ms
          }), s = _e(t.cfg, "spreadsheet.theme.splitLine"), f = {
            lineWidth: s == null ? void 0 : s.horizontalBorderWidth,
            stroke: s == null ? void 0 : s.horizontalBorderColor,
            opacity: s == null ? void 0 : s.horizontalBorderColorOpacity
          }, h = t.cornerBBox.height, d = t.getCellRange(), v = h + t.getTotalHeightForRange(d.start, d.start), g = t.panelBBox.viewportWidth + t.layoutResult.rowsHierarchy.width + t.getSeriesNumberWidth();
          or(l, {
            x1: 0,
            x2: g,
            y1: v,
            y2: v
          }, F({}, f)), s.showShadow && a > 0 && l.addShape("rect", {
            attrs: {
              x: 0,
              y: v,
              width: g,
              height: s.shadowWidth,
              fill: t.getShadowFill(90)
            }
          });
        }
      }, t;
    }
    return r.prototype.updateFrozenGroupGrid = function() {
      var t = this;
      [Tn.FROZEN_ROW].forEach(function(n) {
        if (t.frozenGroupInfo[n].range) {
          var i = [], o = [];
          if (n.toLowerCase().includes("row")) {
            var a = U(t.frozenGroupInfo[n].range, 2), l = a[0], s = a[1];
            i = t.gridInfo.cols, o = Gc(l, s, t.viewCellHeights);
          }
          t.spreadsheet["".concat(n, "Group")].updateGrid({
            cols: i,
            rows: o
          }, "".concat(n, "Group"));
        }
      });
    }, r.prototype.getBizRevisedFrozenOptions = function() {
      return ll(this.cfg, this.layoutResult.rowNodes);
    }, r.prototype.clip = function(t, n) {
      var i = this.spreadsheet, o = i.isFrozenRowHeader, a = i.frozenRowGroup;
      if (!o.call(this.spreadsheet)) {
        if (this.panelScrollGroupClip(t, n), this.enableFrozenFirstRow()) {
          var l = this.getPaginationScrollY();
          a.setClip({
            type: "rect",
            attrs: {
              x: 0,
              y: l,
              width: this.panelBBox.width + t,
              height: a.getBBox().height
            }
          });
        }
        return;
      }
      e.prototype.clip.call(this, t, n);
    }, Object.defineProperty(r.prototype, "rowCellTheme", {
      get: function() {
        return this.spreadsheet.theme.rowCell.cell;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.getContentHeight = function() {
      var t = this.layoutResult, n = t.rowsHierarchy, i = t.colsHierarchy;
      return n.height + i.height;
    }, r.prototype.doLayout = function() {
      var t = lp({
        isRowHeader: !0,
        facetCfg: this.cfg
      }), n = t.leafNodes, i = t.hierarchy, o = lp({
        isRowHeader: !1,
        facetCfg: this.cfg
      }), a = o.leafNodes, l = o.hierarchy;
      this.calculateNodesCoordinate(n, i, a, l);
      var s = this.cfg, f = s.dataSet, h = s.spreadsheet, d = function(g, y) {
        var C, m, w, S = g || 0, x = y || 0, b = n[S], O = a[x];
        if (!b || !O)
          return null;
        var D = b.query, N = O.query, W = b.isTotals || b.isTotalMeasure || O.isTotals || O.isTotalMeasure, k = h.options.hierarchyType, ee = (m = _e(h, "facet.cfg.colCfg.hideMeasureColumn")) !== null && m !== void 0 ? m : !1, J = ee && k !== "customTree" ? (C = {}, C[Ne] = (w = f.fields.values) === null || w === void 0 ? void 0 : w[0], C) : {}, te = Lc({}, D, N, J), ae = us(b, O), fe = f.getCellData({
          query: te,
          rowNode: b,
          isTotals: W,
          totalStatus: ae
        }), j = te[Ne], ie = _e(fe, Gr, null);
        return {
          spreadsheet: h,
          x: O.x,
          y: b.y,
          width: O.width,
          height: b.height,
          data: fe,
          rowIndex: S,
          colIndex: x,
          isTotals: W,
          valueField: j,
          fieldValue: ie,
          rowQuery: D,
          colQuery: N,
          rowId: b.id,
          colId: O.id,
          id: Pc(b.id, O.id)
        };
      }, v = {
        colNodes: l.getNodes(),
        colsHierarchy: l,
        rowNodes: i.getNodes(),
        rowsHierarchy: i,
        rowLeafNodes: n,
        colLeafNodes: a,
        getCellMeta: d,
        spreadsheet: h
      };
      return DK(this.cfg, v);
    }, r.prototype.calculateNodesCoordinate = function(t, n, i, o) {
      this.calculateRowNodesCoordinate(t, n, i), this.calculateColNodesCoordinate(i, o, t, n.width);
    }, r.prototype.calculateColNodesCoordinate = function(t, n, i, o) {
      for (var a, l, s, f = ir.blankNode(), h = n.getNodes(), d = n.sampleNodesForAllLevels, v = 0; v < d.length; v++) {
        var g = d[v];
        if (g.height = this.getColNodeHeight(g), n.height += g.height, g.level === 0)
          g.y = 0;
        else {
          var y = d[v - 1];
          g.y = (a = (y == null ? void 0 : y.y) + (y == null ? void 0 : y.height)) !== null && a !== void 0 ? a : 0;
        }
      }
      for (var C = 0, m = function(x) {
        var b = h[x];
        if (b.isLeaf && (b.colIndex = C, C += 1, b.x = f.x + f.width, b.width = w.calculateColLeafNodesWidth(b, t, i, o), n.width += b.width, f = b), b.level === 0)
          b.y = 0;
        else {
          var O = n.sampleNodesForAllLevels.find(function(D) {
            return D.level === b.level - 1;
          });
          b.y = (l = (O == null ? void 0 : O.y) + (O == null ? void 0 : O.height)) !== null && l !== void 0 ? l : 0;
        }
        b.height = w.getColNodeHeight(b), Vv(w.cfg, null, b);
      }, w = this, S = 0; S < h.length; S++)
        m(S);
      this.autoCalculateColNodeWidthAndX(t), ne((s = this.spreadsheet.options.totals) === null || s === void 0 ? void 0 : s.col) || (this.adjustTotalNodesCoordinate({
        hierarchy: n,
        isRowHeader: !1,
        isSubTotal: !0
      }), this.adjustTotalNodesCoordinate({
        hierarchy: n,
        isRowHeader: !1,
        isSubTotal: !1
      }));
    }, r.prototype.autoCalculateColNodeWidthAndX = function(t) {
      for (var n, i = null, o = 0, a = t.slice(0); o < a.length; ) {
        var l = a[o++], s = l.parent;
        if (i !== s && s) {
          a.push(s);
          var f = (n = s.children) === null || n === void 0 ? void 0 : n.find(function(v) {
            return v.width;
          }), h = f == null ? void 0 : f.x, d = qT(s.children, "width");
          s.x = h, s.width = d, i = s;
        }
      }
    }, r.prototype.calculateColLeafNodesWidth = function(t, n, i, o) {
      var a, l, s, f, h, d = this.cfg, v = d.colCfg, g = d.dataSet, y = d.filterDisplayDataItem, C = this.getCellDraggedWidth(t);
      if (ln(C))
        return C;
      var m = this.getCellCustomWidth(t, v == null ? void 0 : v.width);
      if (ln(m))
        return m;
      if (this.spreadsheet.getLayoutWidthType() === la.Compact) {
        for (var w = this.spreadsheet.theme.colCell, S = w.bolderText, x = w.cell, b = w.icon, O = this.spreadsheet.theme.dataCell.text, D = this.spreadsheet.dataSet.getFieldFormatter(t.field), N = (a = D == null ? void 0 : D(t.value)) !== null && a !== void 0 ? a : t.label, W = this.getExpectedCellIconWidth(re.COL_CELL, this.spreadsheet.isValueInCols() && this.spreadsheet.options.showDefaultHeaderActionIcon, b), k = this.spreadsheet.measureTextWidthRoughly(N, S) + W, ee = void 0, J = 0, te = 0; te < Ld; te++) {
          var ae = i[te];
          if (ae) {
            var fe = g.getCellData({
              query: F(F({}, t.query), ae.query),
              rowNode: ae,
              isTotals: t.isTotals || t.isTotalMeasure || ae.isTotals || ae.isTotalMeasure,
              totalStatus: us(ae, t)
            });
            if (fe) {
              var j = zb(fe, y), ie = (s = (l = this.spreadsheet.dataSet.getFieldFormatter(fe[Ne])) === null || l === void 0 ? void 0 : l(j)) !== null && s !== void 0 ? s : j, Ie = "".concat(ie), we = this.spreadsheet.measureTextWidthRoughly(Ie, O);
              we > J && (ee = Ie, J = we);
            }
          }
        }
        var Te = k > J, he = Te ? N : ee, be = Te ? W : 0;
        fi.getInstance().logger("Max Label In Col:", t.field, he, J);
        var Ae = this.spreadsheet.measureTextWidth(he, F(F({}, S), { fontSize: Math.max(O.fontSize, S.fontSize) }));
        return Ae + ((f = x.padding) === null || f === void 0 ? void 0 : f.left) + ((h = x.padding) === null || h === void 0 ? void 0 : h.right) + be;
      }
      return this.spreadsheet.isHierarchyTreeType() ? this.getAdaptTreeColWidth(t, n, i) : this.getAdaptGridColWidth(n, o);
    }, r.prototype.getColNodeHeight = function(t) {
      var n = this.cfg.colCfg, i = _e(n, ["heightByField", t.key]);
      return i ?? (n == null ? void 0 : n.height);
    }, r.prototype.getExpectedCellIconWidth = function(t, n, i) {
      var o, a = 0;
      if (n)
        a = 1;
      else {
        var l = ig(Ke(this.spreadsheet.options.headerActionIcons, function(s) {
          return F(F({}, s), {
            // ignore condition func when layout calc
            displayCondition: function() {
              return !0;
            }
          });
        }), null, t);
        a = (o = l == null ? void 0 : l.iconNames.length) !== null && o !== void 0 ? o : 0;
      }
      return a ? a * (i.size + i.margin.left) + i.margin.right : 0;
    }, r.prototype.calculateRowNodesCoordinate = function(t, n, i) {
      var o, a, l, s, f, h, d, v, g, y, C = this.cfg, m = C.cellCfg, w = C.spreadsheet, S = w.isHierarchyTreeType(), x = _e(w, "options.style.rowCfg.heightByField", {}), b = (l = n.sampleNodesForAllLevels) !== null && l !== void 0 ? l : [];
      if (S)
        n.width = this.getTreeRowHeaderWidth();
      else
        try {
          for (var O = Yr(n.sampleNodesForAllLevels), D = O.next(); !D.done; D = O.next()) {
            var N = D.value;
            N.width = this.calculateGridRowNodesWidth(N, i), n.width += N.width;
            var W = (s = b[N.level - 1]) !== null && s !== void 0 ? s : {
              x: 0,
              width: 0
            };
            N.x = (W == null ? void 0 : W.x) + (W == null ? void 0 : W.width);
          }
        } catch (j) {
          o = { error: j };
        } finally {
          try {
            D && !D.done && (a = O.return) && a.call(O);
          } finally {
            if (o)
              throw o.error;
          }
        }
      for (var k = ir.blankNode(), ee = n.getNodes(), J = 0; J < ee.length; J++) {
        var te = ee[J], ae = S || !S && te.isLeaf;
        if (ae && ((f = te.rowIndex) !== null && f !== void 0 || (te.rowIndex = J), (h = te.colIndex) !== null && h !== void 0 || (te.colIndex = J), te.y = k.y + k.height, te.height = ((d = x == null ? void 0 : x[te.id]) !== null && d !== void 0 ? d : m == null ? void 0 : m.height) + ((v = this.rowCellTheme.padding) === null || v === void 0 ? void 0 : v.top) + ((g = this.rowCellTheme.padding) === null || g === void 0 ? void 0 : g.bottom), k = te, n.height += te.height), S || te.level === 0)
          te.x = 0;
        else {
          var W = b[te.level - 1];
          te.x = (W == null ? void 0 : W.x) + (W == null ? void 0 : W.width);
        }
        if (S)
          te.width = this.getTreeRowHeaderWidth();
        else {
          var fe = b[te.level];
          te.width = fe == null ? void 0 : fe.width;
        }
        Vv(this.cfg, te, null);
      }
      S || (this.autoCalculateRowNodeHeightAndY(t), ne((y = w.options.totals) === null || y === void 0 ? void 0 : y.row) || (this.adjustTotalNodesCoordinate({
        hierarchy: n,
        isRowHeader: !0,
        isSubTotal: !1
      }), this.adjustTotalNodesCoordinate({
        hierarchy: n,
        isRowHeader: !0,
        isSubTotal: !0
      })));
    }, r.prototype.autoCalculateRowNodeHeightAndY = function(t) {
      for (var n = null, i = 0, o = t.slice(0); i < o.length; ) {
        var a = o[i++], l = a.parent;
        n !== l && l && (o.push(l), l.y = l.children[0].y, l.height = l.children.reduce(function(s, f) {
          return s + f.height;
        }, 0), n = l);
      }
    }, r.prototype.getMultipleMap = function(t, n, i) {
      for (var o = t.maxLevel, a = this.cfg, l = a.totals, s = a.dataSet, f = s.moreThanOneValue(), h = s.fields, d = h.rows, v = h.columns, g = n ? d : v, y = n ? l.row : l.col, C = i ? y.subTotalsGroupDimensions || [] : y.totalsGroupDimensions || [], m = Array.from({ length: o + 1 }, function() {
        return 1;
      }), w = o; w > 0; w--) {
        var S = g[w], x = S === Ne && f;
        C.includes(S) || x || (m[w - 1] += m[w], m[w] = 0);
      }
      return m;
    }, r.prototype.adjustTotalNodesCoordinate = function(t) {
      var n = t.hierarchy, i = t.isRowHeader, o = t.isSubTotal, a = this.getMultipleMap(n, i, o), l = Zi(n.getNodes(), function(f) {
        return o ? f.isSubTotals : f.isGrandTotals;
      }), s = i ? "width" : "height";
      Oe(l, function(f) {
        var h = a[f.level];
        if (!h && o)
          for (var d = 1; h < 1; )
            h = a[f.level - d] - d, d++;
        for (var v = 0, g = function(C) {
          v += n.sampleNodesForAllLevels.find(function(m) {
            return m.level === f.level + C;
          })[s];
        }, y = 0; y < h; y++)
          g(y);
        f[s] = v;
      });
    }, r.prototype.calculateGridRowNodesWidth = function(t, n) {
      var i = this.cfg, o = i.rowCfg, a = i.spreadsheet, l = _e(o, ["widthByField", t.key]);
      if (ln(l))
        return l;
      var s = this.getCellCustomWidth(t, o == null ? void 0 : o.width);
      return ln(s) ? s : a.getLayoutWidthType() !== la.Adaptive ? this.getCompactGridRowWidth(t) : this.getAdaptGridColWidth(n);
    }, r.prototype.getAdaptTreeColWidth = function(t, n, i) {
      var o = this.getCanvasHW().width, a = o - this.getSeriesNumberWidth(), l = Math.min(a / 2, this.getTreeRowHeaderWidth()), s = Math.max(1, n.length), f = this.cfg.cellCfg;
      return Math.max($d(f, this.getColLabelLength(t, i)), (a - l) / s);
    }, r.prototype.getColLabelLength = function(t, n) {
      var i, o = Rb(t == null ? void 0 : t.value);
      if (ve(o))
        return o.length;
      for (var a = 1, l = 0; l < Ld; l++) {
        var s = n[l];
        if (!s)
          return a;
        for (var f = this.cfg.dataSet.getCellData({
          query: F(F({}, t.query), s.query),
          rowNode: s,
          isTotals: t.isTotals || t.isTotalMeasure || s.isTotals || s.isTotalMeasure,
          totalStatus: us(s, t)
        }), h = Ft(f == null ? void 0 : f[Np]), d = 0; d < h.length; d++) {
          var v = f[h[d]], g = Qo((i = v == null ? void 0 : v.values) === null || i === void 0 ? void 0 : i[0]);
          g > a && (a = g);
        }
      }
      return a;
    }, r.prototype.getAdaptGridColWidth = function(t, n) {
      var i = this.cfg, o = i.rows, a = i.cellCfg, l = o.length, s = t.length, f = this.getCanvasHW().width, h = f - this.getSeriesNumberWidth(), d = Math.max(1, l + s);
      return n ? Math.max($d(a), (h - n) / s) : Math.max($d(a), h / d);
    }, r.prototype.getTreeRowHeaderWidth = function() {
      var t, n, i, o, a = this.cfg, l = a.rows, s = a.dataSet, f = a.rowCfg, h = a.treeRowsWidth, d = h ?? (f == null ? void 0 : f.treeRowsWidth);
      if (d)
        return d;
      var v = this.getCellCustomWidth(null, f == null ? void 0 : f.width);
      if (v)
        return v;
      var g = l.map(function(S) {
        return s.getFieldName(S);
      }).join("/"), y = this.spreadsheet.theme.cornerCell, C = y.bolderText, m = y.icon, w = 1 + this.spreadsheet.measureTextWidth(g, C) + m.size * 2 + ((t = m.margin) === null || t === void 0 ? void 0 : t.left) + ((n = m.margin) === null || n === void 0 ? void 0 : n.right) + ((i = this.rowCellTheme.padding) === null || i === void 0 ? void 0 : i.left) + ((o = this.rowCellTheme.padding) === null || o === void 0 ? void 0 : o.right);
      return Math.max(d ?? WD, w);
    }, r.prototype.getCompactGridRowWidth = function(t) {
      var n = this, i, o = this.cfg, a = o.dataSet, l = o.spreadsheet, s = l.theme.rowCell, f = s.bolderText, h = s.icon, d = s.cell, v = l.theme.cornerCell, g = v.bolderText, y = v.icon, C = v.cell, m = t.field, w = t.isLeaf, S = this.getExpectedCellIconWidth(re.ROW_CELL, !l.isValueInCols() && w && l.options.showDefaultHeaderActionIcon, h), x = (i = a.getDimensionValues(m)) === null || i === void 0 ? void 0 : i.slice(0, Ld).map(function(k) {
        var ee, J;
        return (J = (ee = n.spreadsheet.dataSet.getFieldFormatter(m)) === null || ee === void 0 ? void 0 : ee(k)) !== null && J !== void 0 ? J : k;
      }), b = A0(x, function(k) {
        return "".concat(k).length;
      }), O = l.measureTextWidth(b, f) + S + d.padding.left + d.padding.right, D = a.getFieldName(m), N = this.getExpectedCellIconWidth(re.CORNER_CELL, !1, y), W = l.measureTextWidth(D, g) + N + C.padding.left + C.padding.right;
      return fi.getInstance().logger("Max Label In Row:", m, O > W ? b : D), Math.max(O, W);
    }, r.prototype.getViewCellHeights = function(t) {
      var n = t.rowLeafNodes, i = Ac(n, function(o, a) {
        return o.push(gt(o) + a.height), o;
      }, [0]);
      return {
        getTotalHeight: function() {
          return gt(i);
        },
        getCellOffsetY: function(o) {
          return i[o];
        },
        getTotalLength: function() {
          return i.length - 1;
        },
        getIndexRange: function(o, a) {
          return CE(i, o, a);
        }
      };
    }, r.prototype.getRowHeader = function() {
      if (!this.rowHeader) {
        var t = this.getRowHeaderCfg(), n = t.viewportHeight, i = kp(t, ["viewportHeight"]), o = ll(this.cfg, this.layoutResult.rowNodes).frozenRowHeight;
        return new HJ(F(F({}, i), { viewportHeight: n - o }));
      }
    }, r.prototype.enableFrozenFirstRow = function() {
      return !!this.getBizRevisedFrozenOptions().frozenRowCount;
    }, r;
  }(TE)
), VJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = this, i;
      n = e.call(this, t) || this, n.getScrollGroupClipBBox = function() {
        var s, f = n.headerConfig, h = f.width, d = f.height, v = f.scrollX, g = f.spreadsheet, y = g.options;
        if (!y.frozenColCount && !y.frozenTrailingColCount)
          return {
            x: v,
            y: 0,
            width: h,
            height: d
          };
        for (var C = (s = g.facet) === null || s === void 0 ? void 0 : s.layoutResult.colLeafNodes, m = mo(g.options, C.length), w = m.frozenColCount, S = m.frozenTrailingColCount, x = 0, b = 0, O = 0; O < w; O++)
          x += C[O].width;
        for (var O = 0; O < S; O++)
          b += C[C.length - 1 - O].width;
        var D = h - x - b;
        return {
          x: v + x,
          y: 0,
          width: D,
          height: d
        };
      };
      var o = (i = n.headerConfig.spreadsheet) === null || i === void 0 ? void 0 : i.options, a = o.frozenColCount, l = o.frozenTrailingColCount;
      return a && (n.frozenColGroup = n.addGroup({
        name: RD,
        zIndex: ms
      })), l && (n.frozenTrailingColGroup = n.addGroup({
        name: OD,
        zIndex: ms
      })), n;
    }
    return r.prototype.isFrozenCell = function(t) {
      var n = this.headerConfig.spreadsheet, i = n == null ? void 0 : n.options, o = i.frozenColCount, a = i.frozenTrailingColCount, l = t.colIndex, s = n == null ? void 0 : n.facet.layoutResult.colLeafNodes;
      return ta(l, o) || ra(l, a, s.length);
    }, r.prototype.clear = function() {
      var t, n, i = this.headerConfig.spreadsheet;
      e.prototype.clear.call(this), (t = this.frozenTrailingColGroup) === null || t === void 0 || t.clear(), (n = this.frozenColGroup) === null || n === void 0 || n.clear();
      var o = i == null ? void 0 : i.foregroundGroup.findById(wS);
      o == null || o.clear();
    }, r.prototype.getCellInstance = function(t, n, i) {
      return t.field === aa ? new KZ(t, n, i) : new Kb(t, n, i);
    }, r.prototype.getCellGroup = function(t) {
      var n, i, o = this.headerConfig.spreadsheet, a = o == null ? void 0 : o.options, l = a.frozenColCount, s = a.frozenTrailingColCount, f = (n = o == null ? void 0 : o.facet) === null || n === void 0 ? void 0 : n.layoutResult.colNodes.filter(function(g) {
        return Gn(g);
      }), h = Is(f, l, s), d = h.colCount, v = h.trailingColCount;
      return ta(ns(t).colIndex, d) ? this.frozenColGroup : ra(ns(t).colIndex, v, (i = o == null ? void 0 : o.facet) === null || i === void 0 ? void 0 : i.layoutResult.colLeafNodes.length) ? this.frozenTrailingColGroup : this.scrollGroup;
    }, r.prototype.isColCellInRect = function(t) {
      var n, i, o = this.headerConfig.spreadsheet, a = o == null ? void 0 : o.options, l = a.frozenColCount, s = a.frozenTrailingColCount, f = (n = o == null ? void 0 : o.facet) === null || n === void 0 ? void 0 : n.layoutResult.colLeafNodes.length, h = (i = o == null ? void 0 : o.facet) === null || i === void 0 ? void 0 : i.layoutResult.colNodes.filter(function(y) {
        return Gn(y);
      }), d = Is(h, l, s), v = d.colCount, g = d.trailingColCount;
      return ta(ns(t).colIndex, v) || ra(ns(t).colIndex, g, f) ? !0 : e.prototype.isColCellInRect.call(this, t);
    }, r.prototype.clip = function() {
      this.scrollGroup.setClip({
        type: "rect",
        attrs: this.getScrollGroupClipBBox()
      });
    }, r;
  }(vg)
), qJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      n.onSortHandler = function(o) {
        var a = n.spreadsheet, l = o;
        Array.isArray(o) || (l = [o]);
        var s = a.dataCfg.sortParams || [];
        l = l.map(function(h) {
          var d, v, g = F(F({}, h), {
            // 兼容之前 sortKey 的用法
            sortFieldId: (d = h.sortKey) !== null && d !== void 0 ? d : h.sortFieldId
          }), y = (v = s.find(function(C) {
            return C.sortFieldId === g.sortFieldId;
          })) !== null && v !== void 0 ? v : {};
          return F(F({}, y), g);
        });
        var f = s.filter(function(h) {
          var d = l.find(function(v) {
            return v.sortFieldId === h.sortFieldId;
          });
          return !d;
        });
        Ls(a.dataCfg, "sortParams", Q(Q([], U(f), !1), U(l), !1)), a.setDataCfg(a.dataCfg), a.render(!0), a.emit(B.RANGE_SORTED, a.dataSet.getDisplayDataSet());
      }, n.onFilterHandler = function(o) {
        var a = n.spreadsheet, l = !o.filteredValues || o.filteredValues.length === 0, s = a.dataCfg.filterParams || [], f = s.findIndex(function(h) {
          return h.filterKey === o.filterKey;
        });
        f !== -1 ? l ? s.splice(f, 1) : s[f] = o : s.push(o), Ls(a.dataCfg, "filterParams", s), a.render(!0), a.emit(B.RANGE_FILTERED, a.dataSet.getDisplayDataSet());
      }, n.renderFrozenPanelCornerGroup = function() {
        var o = n.layoutResult.colNodes.filter(function(m) {
          return Gn(m);
        }), a = n.getCellRange(), l = mo(n.spreadsheet.options, o.length, a.end - a.start + 1), s = l.frozenRowCount, f = l.frozenColCount, h = l.frozenTrailingRowCount, d = l.frozenTrailingColCount, v = Is(o, f, d), g = v.colCount, y = v.trailingColCount, C = HK({
          frozenRowCount: s,
          frozenColCount: g,
          frozenTrailingRowCount: h,
          frozenTrailingColCount: y
        }, n.layoutResult.colLeafNodes.length, a);
        Object.keys(C).forEach(function(m) {
          var w = C[m], S = n.spreadsheet[bS[m]];
          S && w.forEach(function(x) {
            n.addFrozenCell(x.x, x.y, S);
          });
        });
      }, n.addFrozenCell = function(o, a, l) {
        var s = n.layoutResult.getCellMeta(a, o);
        if (s.isFrozenCorner = !0, s) {
          var f = n.cfg.dataCell(s);
          l.add(f);
        }
      };
      var i = n.spreadsheet;
      return i.on(B.RANGE_SORT, n.onSortHandler), i.on(B.RANGE_FILTER, n.onFilterHandler), n;
    }
    return r.prototype.updateRowResizeArea = function() {
      var t = this.spreadsheet, n = t.foregroundGroup, i = t.options, o = _e(i, "interaction.resize"), a = ui(o) ? o : o == null ? void 0 : o.rowCellVertical;
      if (a) {
        var l = n.findById(tl), s = n.findById(_S);
        l && l.set("children", []), s && s.set("children", []);
        var f = cs(this.panelGroup.getChildren(), $c).filter(function(h) {
          return h.shouldDrawResizeArea();
        });
        f == null || f.forEach(function(h) {
          h.drawResizeArea();
        });
      }
    }, r.prototype.clip = function(t, n) {
      e.prototype.clip.call(this, t, n), this.clipResizeAreaGroup();
    }, r.prototype.clipResizeAreaGroup = function() {
      var t, n, i = this.spreadsheet.foregroundGroup.findById(tl);
      if (i) {
        var o = this.layoutResult.colLeafNodes, a = this.spreadsheet, l = a.frozenRowGroup, s = a.frozenTrailingRowGroup, f = 0, h = 0;
        l && (f = l.getBBox().height), s && (h = s.getBBox().height);
        var d = this.panelBBox.height - f - h;
        i.setClip({
          type: "rect",
          attrs: {
            x: 0,
            y: f + this.cornerBBox.height,
            width: (n = (t = o == null ? void 0 : o[0]) === null || t === void 0 ? void 0 : t.width) !== null && n !== void 0 ? n : 0,
            height: d
          }
        });
      }
    }, r.prototype.getContentHeight = function() {
      var t = this.getViewCellHeights().getTotalHeight, n = this.layoutResult.colsHierarchy;
      return t() + n.height;
    }, Object.defineProperty(r.prototype, "dataCellTheme", {
      get: function() {
        return this.spreadsheet.theme.dataCell.cell;
      },
      enumerable: !1,
      configurable: !0
    }), r.prototype.destroy = function() {
      var t = this.spreadsheet;
      t.off(B.RANGE_SORT, this.onSortHandler), t.off(B.RANGE_FILTER, this.onFilterHandler), e.prototype.destroy.call(this);
    }, r.prototype.calculateCornerBBox = function() {
      var t = this.layoutResult.colsHierarchy, n = Math.floor(t.height);
      this.cornerBBox = new wE(this), this.cornerBBox.height = n, this.cornerBBox.maxY = n;
    }, r.prototype.doLayout = function() {
      var t = this, n = this.cfg, i = n.dataSet, o = n.spreadsheet, a = new db(), l = lp({
        isRowHeader: !1,
        facetCfg: this.cfg
      }), s = l.leafNodes, f = l.hierarchy;
      this.calculateColNodesCoordinate(s, f);
      var h = function(v, g) {
        var y, C = t.cfg.showSeriesNumber, m = s[g], w = t.getCellHeight(v), S = t.getCellRange(), x = mo(t.cfg, s.length, S.end - S.start + 1).frozenTrailingRowCount, b, O = m.x, D = t.viewCellHeights.getCellOffsetY(v);
        return Qs(v, S.end, x) && (D = t.panelBBox.maxY - t.getTotalHeightForRange(v, S.end)), C && m.field === aa ? b = "".concat(v + 1) : b = i.getCellData({
          query: {
            field: m.field,
            rowIndex: v
          }
        }), {
          spreadsheet: o,
          x: O,
          y: D,
          width: m.width,
          height: w,
          data: (y = {}, y[m.field] = b, y),
          rowIndex: v,
          colIndex: g,
          isTotals: !1,
          colId: m.id,
          rowId: String(v),
          valueField: m.field,
          fieldValue: b,
          id: Pc(String(v), m.id)
        };
      }, d = {
        colNodes: f.getNodes(),
        colsHierarchy: f,
        rowNodes: a.getNodes(),
        rowsHierarchy: a,
        rowLeafNodes: a.getLeaves(),
        colLeafNodes: s,
        getCellMeta: h,
        spreadsheet: o
      };
      return d;
    }, r.prototype.getAdaptiveColWidth = function(t) {
      var n = this.cfg.cellCfg, i = this.cfg.showSeriesNumber;
      if (this.spreadsheet.getLayoutWidthType() !== la.Compact) {
        var o = this.getSeriesNumberWidth(), a = t.length - (i ? 1 : 0), l = this.getCanvasHW().width - o;
        return Math.max(n == null ? void 0 : n.width, l / Math.max(1, a));
      }
      return n == null ? void 0 : n.width;
    }, r.prototype.getColNodeHeight = function(t, n) {
      var i = this.cfg.colCfg, o = Qi(i == null ? void 0 : i.heightByField)[0], a = o || (i == null ? void 0 : i.height);
      if (!n || t.children && t.children.length)
        return a;
      for (; t.parent; )
        n -= Gn(t) ? 0 : a, t = t.parent;
      return n;
    }, r.prototype.calculateColNodesCoordinate = function(t, n) {
      var i, o, a, l, s, f, h = ir.blankNode(), d = n.getNodes();
      try {
        for (var v = Yr(n.sampleNodesForAllLevels), g = v.next(); !g.done; g = v.next()) {
          var y = g.value;
          y.height = this.getColNodeHeight(y), n.height += y.height;
        }
      } catch (W) {
        i = { error: W };
      } finally {
        try {
          g && !g.done && (o = v.return) && o.call(v);
        } finally {
          if (i)
            throw i.error;
        }
      }
      for (var C = this.getAdaptiveColWidth(t), m = 0, w = 0; w < d.length; w++) {
        var S = d[w];
        S.isLeaf && (S.colIndex = m, m += 1, S.x = h.x + h.width, S.width = this.calculateColLeafNodesWidth(S, C), Vv(this.cfg, null, S), n.width += S.width, h = S), S.level === 0 ? S.y = 0 : S.y = (s = ((a = S.parent) === null || a === void 0 ? void 0 : a.y) + ((l = S.parent) === null || l === void 0 ? void 0 : l.height)) !== null && s !== void 0 ? s : 0, S.height = this.getColNodeHeight(S, n.height);
      }
      var x = d.filter(function(W) {
        return Gn(W);
      }), b = mo((f = this.spreadsheet) === null || f === void 0 ? void 0 : f.options, x.length).frozenTrailingColCount;
      h = ir.blankNode();
      var O = this.getCanvasHW().width;
      if (b > 0)
        for (var D = Is(x, 0, b).trailingColCount, N = d.filter(function(W) {
          return W.isLeaf;
        }), w = 1; w <= D; w++) {
          var S = N[N.length - w];
          w === 1 ? S.x = O - S.width : S.x = h.x - S.width, h = S;
        }
      this.autoCalculateColNodeWidthAndX(t);
    }, r.prototype.autoCalculateColNodeWidthAndX = function(t) {
      for (var n = null, i = t.slice(0); i.length; ) {
        var o = i.shift(), a = o.parent;
        n !== a && a && (i.push(a), a.x = a.children[0].x, a.width = a.children.map(function(l) {
          return l.width;
        }).reduce(function(l, s) {
          return l + s;
        }, 0), n = a);
      }
    }, r.prototype.calculateColLeafNodesWidth = function(t, n) {
      var i = this.cfg, o = i.colCfg, a = i.dataSet, l = i.spreadsheet, s = this.spreadsheet.getLayoutWidthType(), f = this.getCellDraggedWidth(t);
      if (ln(f))
        return f;
      var h = this.getCellCustomWidth(t, o == null ? void 0 : o.width);
      if (ln(h))
        return h;
      var d;
      if (s === la.Compact) {
        var v = a.getDisplayDataSet(), g = a.getFieldFormatter(t.field), y = A0(v == null ? void 0 : v.slice(0, 50).map(function(D) {
          var N;
          return "".concat((N = g == null ? void 0 : g(D[t.field])) !== null && N !== void 0 ? N : D[t.field]);
        }), function(D) {
          return l.measureTextWidthRoughly(D);
        });
        fi.getInstance().logger("Max Label In Col:", t.field, y);
        var C = l.theme.colCell.bolderText, m = l.theme.dataCell, w = m.text, S = m.cell, x = 1, b = l.measureTextWidth(y, w) + S.padding.left + S.padding.right + x, O = l.measureTextWidth(t.label, C) + qZ(this.spreadsheet, t, l.theme.colCell);
        d = Math.max(O, b);
      } else
        d = n;
      return t.field === aa && (d = this.getSeriesNumberWidth()), d;
    }, r.prototype.getCellHeight = function(t) {
      if (this.rowOffsets) {
        var n = _e(this.spreadsheet, "options.style.rowCfg.heightByField", {}), i = n == null ? void 0 : n[String(t)];
        if (ln(i))
          return i;
      }
      return this.getDefaultCellHeight();
    }, r.prototype.getViewCellHeights = function() {
      var t = this, n = this.cfg.dataSet, i = this.getDefaultCellHeight();
      return {
        getTotalHeight: function() {
          return t.rowOffsets ? gt(t.rowOffsets) : i * n.getDisplayDataSet().length;
        },
        getCellOffsetY: function(o) {
          if (o <= 0)
            return 0;
          if (t.rowOffsets)
            return t.rowOffsets[o];
          for (var a = 0, l = 0; l < o; l++)
            a += i;
          return a;
        },
        getTotalLength: function() {
          return n.getDisplayDataSet().length;
        },
        getIndexRange: function(o, a) {
          if (t.rowOffsets)
            return CE(t.rowOffsets, o, a);
          var l = Math.floor(o / i), s = a % i === 0 ? a / i - 1 : Math.floor(a / i);
          return {
            start: Math.max(0, l),
            end: Math.max(0, s)
          };
        }
      };
    }, r.prototype.init = function() {
      e.prototype.init.call(this);
      var t = this.panelBBox, n = t.width, i = t.height;
      this.spreadsheet.panelGroup.setClip({
        type: "rect",
        attrs: {
          x: 0,
          y: this.cornerBBox.height,
          width: n,
          height: i
        }
      });
    }, r.prototype.getColHeader = function() {
      if (!this.columnHeader) {
        var t = this.panelBBox, n = t.x, i = t.width, o = t.viewportHeight, a = t.viewportWidth;
        return new VJ({
          width: i,
          height: this.cornerBBox.height,
          viewportWidth: a,
          viewportHeight: o,
          cornerWidth: this.cornerBBox.width,
          position: { x: n, y: 0 },
          data: this.layoutResult.colNodes,
          scrollContainsRowHeader: this.cfg.spreadsheet.isScrollContainsRowHeader(),
          sortParam: this.cfg.spreadsheet.store.get("sortParam"),
          spreadsheet: this.spreadsheet
        });
      }
      return this.columnHeader;
    }, r.prototype.render = function() {
      this.renderFrozenPanelCornerGroup(), e.prototype.render.call(this);
    }, r.prototype.getRowHeader = function() {
      return null;
    }, r.prototype.getSeriesNumberHeader = function() {
      return null;
    }, r;
  }(TE)
), AE = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      return n.gridInfo = {
        cols: [],
        rows: []
      }, n.updateGrid = function(i, o) {
        o === void 0 && (o = T_);
        var a = n.getBBox(), l = n.s2, s = l.theme, f = l.isTableMode, h = s.dataCell.cell, d = f() && (o === T_ || o === CS);
        (!n.gridGroup || !n.findById(o)) && (n.gridGroup = n.addGroup({
          id: o
        })), n.gridGroup.clear(), n.gridInfo = i, d && n.gridInfo.cols.unshift(0);
        var v = h.verticalBorderWidth, g = h.verticalBorderWidth / 2;
        n.gridInfo.cols.forEach(function(m) {
          or(n.gridGroup, {
            x1: m,
            x2: m,
            y1: Math.ceil(a.minY + g),
            y2: Math.floor(a.maxY - g)
          }, {
            stroke: h.verticalBorderColor,
            strokeOpacity: h.verticalBorderColorOpacity,
            lineWidth: v,
            lineCap: L_,
            lineDash: h.borderDash
          });
        });
        var y = h.horizontalBorderWidth, C = h.horizontalBorderWidth / 2;
        n.gridInfo.rows.forEach(function(m) {
          or(n.gridGroup, {
            x1: Math.ceil(a.minX + C),
            x2: Math.floor(a.maxX - C),
            y1: m,
            y2: m
          }, {
            stroke: h.horizontalBorderColor,
            strokeOpacity: h.horizontalBorderColorOpacity,
            lineWidth: y,
            lineCap: L_,
            lineDash: h.borderDash
          });
        }), n.gridGroup.toFront();
      }, n.s2 = t.s2, n;
    }
    return r;
  }(_i)
), RE = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r;
  }(AE)
), KJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      var n = e.call(this, t) || this;
      return n.initMergedCellsGroup(), n;
    }
    return r.prototype.initMergedCellsGroup = function() {
      this.mergedCellsGroup && this.findById(x_) || (this.mergedCellsGroup = this.addGroup({
        id: x_
      }));
    }, r.prototype.updateMergedCells = function() {
      this.initMergedCellsGroup(), MZ(this.s2, this.mergedCellsGroup), this.mergedCellsGroup.toFront();
    }, r.prototype.addMergeCell = function(t) {
      var n;
      (n = this.mergedCellsGroup) === null || n === void 0 || n.add(t);
    }, r.prototype.update = function(t) {
      this.updateGrid(t), this.updateMergedCells();
    }, r;
  }(AE)
), Qn = (
  /** @class */
  function() {
    function e(r) {
      var t = this;
      this.isLinkFieldText = function(n) {
        var i = t.getCellAppendInfo(n);
        return i == null ? void 0 : i.isLinkFieldText;
      }, this.spreadsheet = r, this.bindEvents();
    }
    return e.prototype.getCellAppendInfo = function(r) {
      var t, n;
      return ((t = r == null ? void 0 : r.attr) === null || t === void 0 ? void 0 : t.call(r, "appendInfo")) || ((n = r == null ? void 0 : r.attrs) === null || n === void 0 ? void 0 : n.appendInfo) || {};
    }, e.prototype.reset = function() {
    }, e;
  }()
), jJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.bindEvents = function() {
      this.bindDataCellClick();
    }, r.prototype.bindDataCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.DATA_CELL_CLICK, function(n) {
        var i;
        n.stopPropagation();
        var o = t.spreadsheet.interaction;
        if (o.clearHoverTimer(), !o.hasIntercepts([Pe.CLICK])) {
          if (t.isLinkFieldText(n.target)) {
            t.emitLinkFieldClickEvent(n);
            return;
          }
          var a = t.spreadsheet.getCell(n.target), l = a.getMeta();
          if (l) {
            if (o.addIntercepts([Pe.HOVER]), o.isSelectedCell(a)) {
              ((i = n.originalEvent) === null || i === void 0 ? void 0 : i.detail) === 1 && (o.reset(), t.spreadsheet.emit(B.GLOBAL_SELECTED, o.getActiveCells()));
              return;
            }
            o.changeState({
              cells: [hi(a)],
              stateName: de.SELECTED,
              onUpdateCells: lg
            }), t.spreadsheet.emit(B.GLOBAL_SELECTED, [a]), t.showTooltip(n, l);
            var s = l.rowId, f = l.colId, h = l.spreadsheet, d = o.getSelectedCellHighlight(), v = d.colHeader, g = d.rowHeader;
            if (v && Hb(f, o.getAllColHeaderCells(), de.SELECTED), g && s) {
              var y = dQ(l, h);
              Oe(y, function(C) {
                C.updateByState(de.SELECTED);
              });
            }
          }
        }
      });
    }, r.prototype.getTooltipOperator = function(t, n) {
      var i = this, o = nK(), a = this.spreadsheet.getCell(t.target), l = hg(this.spreadsheet, t).operation, s = l.trend && F(F({}, o), { onClick: function() {
        i.spreadsheet.emit(B.DATA_CELL_TREND_ICON_CLICK, F(F({}, n), {
          // record 只有明细模式下存在
          record: i.spreadsheet.isTableMode() ? i.spreadsheet.dataSet.getCellData({
            query: { rowIndex: n.rowIndex }
          }) : void 0
        })), i.spreadsheet.hideTooltip();
      } });
      return gE(l, {
        defaultMenus: [s],
        cell: a
      });
    }, r.prototype.showTooltip = function(t, n) {
      var i = n.data, o = n.isTotals, a = o === void 0 ? !1 : o, l = n.value, s = n.fieldValue, f = n.field, h = n.valueField, d = i, v = this.spreadsheet.isTableMode(), g = v ? F(F({}, d), { value: l || s, valueField: f || h }) : d, y = [
        g || F(F({}, n.rowQuery), n.colQuery)
      ], C = this.getTooltipOperator(t, n);
      this.spreadsheet.showTooltipWithInfo(t, y, {
        isTotals: a,
        operator: C,
        enterable: !0,
        hideSummary: !0,
        showSingleTips: v
      });
    }, r.prototype.emitLinkFieldClickEvent = function(t) {
      var n = this.getCellAppendInfo(t.target).cellData, i = n.valueField, o = n.data;
      this.spreadsheet.emit(B.GLOBAL_LINK_FIELD_JUMP, {
        key: i,
        cellData: n,
        record: Object.assign({ rowIndex: n.rowIndex }, o)
      });
    }, r;
  }(Qn)
), ZJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.bindEvents = function() {
      this.bindDataCellClick();
    }, r.prototype.bindDataCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.MERGED_CELLS_CLICK, function(n) {
        n.stopPropagation();
        var i = t.spreadsheet.interaction;
        i.hasIntercepts([Pe.CLICK]) || i.addIntercepts([Pe.HOVER]);
      });
    }, r;
  }(Qn)
), QJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.isMultiSelection = !1, t.handleRowColClick = function(n) {
        if (n.stopPropagation(), !t.isLinkFieldText(n.target)) {
          var i = t.spreadsheet, o = i.interaction, a = i.options, l = t.spreadsheet.getCell(n.target), s = a.interaction.multiSelection, f = !!(s && t.isMultiSelection), h = o.selectHeaderCell({
            cell: l,
            isMultiSelection: f
          });
          h && t.showTooltip(n);
        }
      }, t.getHideColumnField = function(n) {
        return t.spreadsheet.isTableMode() ? n.field : n.id;
      }, t;
    }
    return r.prototype.bindEvents = function() {
      this.bindKeyboardDown(), this.bindKeyboardUp(), this.bindColCellClick(), this.bindRowCellClick(), this.bindTableColExpand(), this.bindMouseMove();
    }, r.prototype.reset = function() {
      this.isMultiSelection = !1, this.spreadsheet.interaction.removeIntercepts([Pe.CLICK]);
    }, r.prototype.bindKeyboardDown = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_KEYBOARD_DOWN, function(n) {
        Kf(n) && (t.isMultiSelection = !0);
      });
    }, r.prototype.bindKeyboardUp = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_KEYBOARD_UP, function(n) {
        Kf(n) && t.reset();
      });
    }, r.prototype.bindMouseMove = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_MOUSE_MOVE, function(n) {
        t.isMultiSelection && !eE(n) && t.reset();
      });
    }, r.prototype.bindRowCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.ROW_CELL_CLICK, function(n) {
        t.handleRowColClick(n);
      });
    }, r.prototype.bindColCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.COL_CELL_CLICK, function(n) {
        t.handleRowColClick(n);
      });
    }, r.prototype.showTooltip = function(t) {
      var n = hg(this.spreadsheet, t), i = n.operation, o = n.showTooltip;
      if (o) {
        var a = this.spreadsheet.interaction, l = a.isSelectedState() ? TJ(a.getActiveCells()) : [], s = this.getTooltipOperator(t, i);
        this.spreadsheet.showTooltipWithInfo(t, l, {
          showSingleTips: !0,
          operator: s
        });
      }
    }, r.prototype.getTooltipOperator = function(t, n) {
      var i = this, o = this.spreadsheet.getCell(t.target), a = o.getMeta(), l = o.cellType === re.COL_CELL, s = this.spreadsheet.getColumnLeafNodes().length === 1, f = rK(), h = l && !s && a.isLeaf && n.hiddenColumns, d = h && F(F({}, f), { onClick: function() {
        i.hideSelectedColumns();
      } });
      return gE(n, {
        defaultMenus: [d],
        cell: o
      });
    }, r.prototype.bindTableColExpand = function() {
      var t = this;
      this.spreadsheet.on(B.LAYOUT_COLS_EXPANDED, function(n) {
        t.handleExpandIconClick(n);
      });
    }, r.prototype.hideSelectedColumns = function() {
      var t = this.spreadsheet.interaction, n = t.getActiveCells().map(function(o) {
        return o.getMeta();
      }), i = n.map(this.getHideColumnField);
      rg(this.spreadsheet, i, !0);
    }, r.prototype.handleExpandIconClick = function(t) {
      var n = this.spreadsheet.store.get("hiddenColumnsDetail", []), i = (xc(n, function(h) {
        var d = h.displaySiblingNode;
        return Zv(d, t.id);
      }) || {}).hideColumnNodes, o = i === void 0 ? [] : i, a = this.spreadsheet.options.interaction.hiddenColumnFields, l = o.map(this.getHideColumnField), s = Q2(a, l), f = n.filter(function(h) {
        var d = h.displaySiblingNode;
        return !Zv(d, t.id);
      });
      this.spreadsheet.setOptions({
        interaction: {
          hiddenColumnFields: s
        }
      }), this.spreadsheet.store.set("hiddenColumnsDetail", f), this.spreadsheet.interaction.reset(), this.spreadsheet.render(!1);
    }, r;
  }(Qn)
), JJ = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.getRowData = function(n) {
        var i, o = n.getHeadLeafChild(), a = t.spreadsheet.dataSet.getMultiData(o == null ? void 0 : o.query)[0];
        return F(F({}, a), { rowIndex: (i = n.rowIndex) !== null && i !== void 0 ? i : o.rowIndex });
      }, t;
    }
    return r.prototype.bindEvents = function() {
      this.bindRowCellClick();
    }, r.prototype.bindRowCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.ROW_CELL_CLICK, function(n) {
        if (!t.spreadsheet.interaction.hasIntercepts([Pe.CLICK]) && t.isLinkFieldText(n.target)) {
          var i = t.getCellAppendInfo(n.target).cellData, o = i.key, a = t.getRowData(i);
          t.spreadsheet.emit(B.GLOBAL_LINK_FIELD_JUMP, {
            key: o,
            cellData: i,
            record: a
          });
        }
      });
    }, r;
  }(Qn)
), eee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.bindEvents = function() {
      this.bindCornerCellClick();
    }, r.prototype.bindCornerCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.CORNER_CELL_CLICK, function(n) {
        var i, o = t.spreadsheet.interaction, a = t.spreadsheet.getCell(n.target);
        if (a) {
          var l = a.getMeta(), s = t.getRowNodesByField(l == null ? void 0 : l.field), f = (i = s[0]) === null || i === void 0 ? void 0 : i.belongsCell, h = t.getRowCells(s);
          if (f && o.isSelectedCell(f)) {
            o.reset(), t.spreadsheet.emit(B.GLOBAL_SELECTED, o.getActiveCells());
            return;
          }
          ne(s) || ne(h) || (o.addIntercepts([Pe.HOVER]), o.changeState({
            cells: h,
            stateName: de.SELECTED
          }), o.highlightNodes(s), t.showTooltip(n), t.spreadsheet.emit(B.GLOBAL_SELECTED, o.getActiveCells()));
        }
      });
    }, r.prototype.getRowNodesByField = function(t) {
      return this.spreadsheet.getRowNodes().filter(function(n) {
        return n.field === t;
      });
    }, r.prototype.getRowCells = function(t) {
      return t.map(function(n) {
        return {
          id: n.id,
          // 选中角头而高亮的行头, 不需要联动数值单元格, 所以索引设置为 -1
          colIndex: -1,
          rowIndex: -1,
          type: re.ROW_CELL
        };
      });
    }, r.prototype.showTooltip = function(t) {
      var n = this.spreadsheet.interaction.getActiveCells();
      this.spreadsheet.showTooltipWithInfo(t, [], {
        data: {
          summaries: [
            {
              selectedData: n,
              name: "",
              value: null
            }
          ]
        }
      });
    }, r;
  }(Qn)
), tee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.bindEvents = function() {
      this.bindCornerCellHover(), this.bindDataCellHover(), this.bindRowCellHover(), this.bindColCellHover();
    }, r.prototype.updateRowColCells = function(t) {
      var n = t.rowId, i = t.colId, o = this.spreadsheet.interaction, a = o.getHoverHighlight(), l = a.rowHeader, s = a.colHeader;
      if (s && Hb(i, o.getAllColHeaderCells(), de.HOVER), l && n) {
        var f = eg(n, o.getAllRowHeaderCells(), this.spreadsheet.isHierarchyTreeType());
        Oe(f, function(h) {
          h.updateByState(de.HOVER);
        });
      }
    }, r.prototype.changeStateToHoverFocus = function(t, n, i) {
      var o = this, a, l = this.spreadsheet.interaction, s = this.spreadsheet.options.interaction, f = s.hoverFocus;
      l.clearHoverTimer();
      var h = function() {
        if (!l.hasIntercepts([Pe.HOVER])) {
          l.changeState({
            cells: [hi(t)],
            stateName: de.HOVER_FOCUS
          });
          var g = o.spreadsheet.isTableMode(), y = {
            isTotals: i.isTotals,
            enterable: !0,
            hideSummary: !0,
            showSingleTips: g
          }, C = l.getHoverHighlight(), m = C.rowHeader, w = C.colHeader;
          (m || w) && o.updateRowColCells(i);
          var S = o.getCellData(i, g);
          o.spreadsheet.showTooltipWithInfo(n, S, y);
        }
      }, d = Sv;
      if (ui(f) || (d = (a = f == null ? void 0 : f.duration) !== null && a !== void 0 ? a : Sv), d === 0)
        h();
      else {
        var v = window.setTimeout(function() {
          return h();
        }, d);
        l.setHoverTimer(v);
      }
    }, r.prototype.handleHeaderHover = function(t) {
      var n = this.spreadsheet.getCell(t.target);
      if (!ne(n)) {
        var i = this.spreadsheet.interaction;
        i.clearHoverTimer(), !i.isActiveCell(n) && (i.changeState({
          cells: [hi(n)],
          stateName: de.HOVER
        }), n.update(), this.showEllipsisTooltip(t, n));
      }
    }, r.prototype.showEllipsisTooltip = function(t, n) {
      if (!n || !n.isTextOverflowing()) {
        this.spreadsheet.hideTooltip();
        return;
      }
      var i = n.getMeta(), o = !0, a = {
        isTotals: i.isTotals,
        enterable: !0,
        hideSummary: !0,
        showSingleTips: o,
        enableFormat: !0
      }, l = this.getCellData(i, o);
      this.spreadsheet.showTooltipWithInfo(t, l, a);
    }, r.prototype.getCellData = function(t, n) {
      t === void 0 && (t = {});
      var i = t.data, o = t.query, a = t.value, l = t.field, s = t.fieldValue, f = t.valueField, h = t.rowQuery, d = t.colQuery, v = i, g = n ? [
        F(F({}, o), { value: a || s, valueField: l || f })
      ] : [v || F(F({}, h), d)];
      return g;
    }, r.prototype.bindDataCellHover = function() {
      var t = this;
      this.spreadsheet.on(B.DATA_CELL_HOVER, function(n) {
        var i = t.spreadsheet.getCell(n.target);
        if (!ne(i)) {
          var o = t.spreadsheet, a = o.interaction, l = o.options, s = l.interaction, f = i == null ? void 0 : i.getMeta();
          if (!a.isActiveCell(i)) {
            a.changeState({
              cells: [hi(i)],
              stateName: de.HOVER
            });
            var h = a.getHoverHighlight(), d = h.rowHeader, v = h.colHeader;
            (d || v) && t.updateRowColCells(f), s.hoverFocus && t.changeStateToHoverFocus(i, n, f);
          }
        }
      });
    }, r.prototype.bindRowCellHover = function() {
      var t = this;
      this.spreadsheet.on(B.ROW_CELL_HOVER, function(n) {
        t.handleHeaderHover(n);
      });
    }, r.prototype.bindColCellHover = function() {
      var t = this;
      this.spreadsheet.on(B.COL_CELL_HOVER, function(n) {
        t.handleHeaderHover(n);
      });
    }, r.prototype.bindCornerCellHover = function() {
      var t = this;
      this.spreadsheet.on(B.CORNER_CELL_HOVER, function(n) {
        t.handleHeaderHover(n);
      });
    }, r;
  }(Qn)
), gg = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.displayedCells = [], t.brushRangeCells = [], t.brushSelectionStage = vr.UN_DRAGGED, t.brushSelectionMinimumMoveDistance = 5, t.scrollAnimationComplete = !0, t.mouseMoveDistanceFromCanvas = 0, t.setMoveDistanceFromCanvas = function(n, i, o) {
        var a = 0;
        if (i && (a = n.x), o) {
          var l = n.y;
          i ? a = Math.max(l, a) : a = l;
        }
        t.mouseMoveDistanceFromCanvas = Math.abs(a);
      }, t.formatBrushPointForScroll = function(n, i) {
        var o, a, l, s;
        i === void 0 && (i = !1);
        var f = n.x, h = n.y, d = t.spreadsheet.facet, v = i ? d.cornerBBox : d.panelBBox, g = v.minX, y = v.maxX, C = d.panelBBox, m = C.minY, w = C.maxY, S = ((o = t.endBrushPoint) === null || o === void 0 ? void 0 : o.x) + f, x = ((a = t.endBrushPoint) === null || a === void 0 ? void 0 : a.y) + h, b = !0, O = !0, D = (s = (l = d.vScrollBar) === null || l === void 0 ? void 0 : l.getBBox()) === null || s === void 0 ? void 0 : s.width, N = 2;
        return S > y ? S = y - D - N : S < g ? S = g + N : b = !1, x > w ? x = w - N : x <= m ? x = m + N : O = !1, {
          x: {
            value: S,
            needScroll: b
          },
          y: {
            value: x,
            needScroll: O
          }
        };
      }, t.rectanglesIntersect = function(n, i) {
        return n.maxX > i.minX && n.minX < i.maxX && n.minY < i.maxY && n.maxY > i.minY;
      }, t.autoScrollIntervalId = null, t.autoScrollConfig = Mv(R_), t.validateYIndex = function(n) {
        var i, o, a = t.spreadsheet.facet, l = a.frozenGroupInfo, s = 0, f = (i = l == null ? void 0 : l.frozenRow) === null || i === void 0 ? void 0 : i.range;
        if (f && (s = f[1] + 1), n < s)
          return null;
        var h = a.getCellRange().end, d = (o = l == null ? void 0 : l.frozenTrailingRow) === null || o === void 0 ? void 0 : o.range;
        return d && (h = d[0] - 1), n > h ? null : n;
      }, t.validateXIndex = function(n) {
        var i, o, a = t.spreadsheet.facet, l = a.frozenGroupInfo, s = 0, f = (i = l == null ? void 0 : l.frozenCol) === null || i === void 0 ? void 0 : i.range;
        if (f && (s = f[1] + 1), n < s)
          return null;
        var h = a.layoutResult.colLeafNodes.length - 1, d = (o = l == null ? void 0 : l.frozenTrailingCol) === null || o === void 0 ? void 0 : o.range;
        return d && (h = d[0] - 1), n > h ? null : n;
      }, t.adjustNextColIndexWithFrozen = function(n, i) {
        var o = t.spreadsheet, a = o.facet, l = o.dataSet, s = o.options, f = l.getDisplayDataSet().length, h = a.layoutResult.colLeafNodes.length, d = mo(s, h, f), v = d.frozenTrailingColCount, g = d.frozenColCount, y = a.panelScrollGroupIndexes;
        return v > 0 && i === zr.SCROLL_DOWN && ra(n, v, h) ? y[1] : g > 0 && i === zr.SCROLL_UP && ta(n, g) ? y[0] : n;
      }, t.adjustNextRowIndexWithFrozen = function(n, i) {
        var o = t.spreadsheet, a = o.facet, l = o.dataSet, s = o.options, f = l.getDisplayDataSet().length, h = a.layoutResult.colLeafNodes.length, d = a.getCellRange(), v = mo(s, h, f), g = v.frozenTrailingRowCount, y = v.frozenRowCount, C = a.panelScrollGroupIndexes;
        return g > 0 && i === zr.SCROLL_DOWN && Qs(n, d.end, g) ? C[3] : y > 0 && i === zr.SCROLL_UP && Mc(n, d.start, y) ? C[2] : n;
      }, t.getWillScrollRowIndexDiff = function(n) {
        return n === zr.SCROLL_DOWN ? $f.SCROLL_DOWN : $f.SCROLL_UP;
      }, t.getDefaultWillScrollToRowIndex = function(n) {
        var i = t.adjustNextRowIndexWithFrozen(t.endBrushPoint.rowIndex, n), o = i + t.getWillScrollRowIndexDiff(n);
        return t.validateYIndex(o);
      }, t.getWillScrollToRowIndex = function(n) {
        return t.getDefaultWillScrollToRowIndex(n);
      }, t.getNextScrollDelta = function(n) {
        var i = t.spreadsheet.facet.getScrollOffset(), o = i.scrollX, a = i.scrollY, l = 0, s = 0;
        if (n.y.scroll) {
          var f = n.y.value > 0 ? zr.SCROLL_DOWN : zr.SCROLL_UP, h = t.getWillScrollToRowIndex(f), d = gQ(h, f, t.spreadsheet) - a, v = Yt(h) || Yt(d) || Number.isNaN(d);
          s = v ? 0 : d;
        }
        if (n.x.scroll) {
          var f = n.x.value > 0 ? zr.SCROLL_DOWN : zr.SCROLL_UP, g = t.adjustNextColIndexWithFrozen(t.endBrushPoint.colIndex, f), y = t.validateXIndex(g + (n.x.value > 0 ? 1 : -1));
          l = Yt(y) ? 0 : pQ(y, f, t.spreadsheet) - o;
        }
        return {
          x: l,
          y: s
        };
      }, t.onScrollAnimationComplete = function() {
        t.scrollAnimationComplete = !0, t.brushSelectionStage !== vr.UN_DRAGGED && t.renderPrepareSelected(t.endBrushPoint);
      }, t.autoScroll = function(n) {
        if (n === void 0 && (n = !1), !(t.brushSelectionStage === vr.UN_DRAGGED || !t.scrollAnimationComplete)) {
          var i = t.autoScrollConfig, o = t.spreadsheet.facet.getScrollOffset(), a = n ? "rowHeaderOffsetX" : "offsetX", l = {
            rowHeaderOffsetX: {
              value: o.rowHeaderScrollX,
              animate: !0
            },
            offsetX: {
              value: o.scrollX,
              animate: !0
            },
            offsetY: {
              value: o.scrollY,
              animate: !0
            }
          }, s = t.getNextScrollDelta(i), f = s.x, h = s.y;
          if (h === 0 && f === 0) {
            t.clearAutoScroll();
            return;
          }
          if (i.y.scroll && (l.offsetY.value += h), i.x.scroll) {
            var d = l[a];
            d.value += f, d.value < 0 && (d.value = 0);
          }
          t.scrollAnimationComplete = !1;
          var v = i.x.scroll ? 1 : 3, g = Math.max(16, 300 - t.mouseMoveDistanceFromCanvas * v);
          t.spreadsheet.facet.scrollWithAnimation(l, g, t.onScrollAnimationComplete);
        }
      }, t.handleScroll = G0(function(n, i, o) {
        if (o === void 0 && (o = !1), t.brushSelectionStage !== vr.UN_DRAGGED) {
          var a = t.formatBrushPointForScroll({ x: n, y: i }, o), l = a.x, s = l.value, f = l.needScroll, h = a.y, d = h.value, v = h.needScroll, g = t.autoScrollConfig;
          v && (g.y.value = i, g.y.scroll = !0), f && (g.x.value = n, g.x.scroll = !0), t.setMoveDistanceFromCanvas({ x: n, y: i }, f, v), t.renderPrepareSelected({
            x: s,
            y: d
          }), (v || f) && (t.clearAutoScroll(), t.autoScroll(o), t.autoScrollIntervalId = setInterval(function() {
            t.autoScroll(o);
          }, 16));
        }
      }, 30), t.clearAutoScroll = function() {
        t.autoScrollIntervalId && (clearInterval(t.autoScrollIntervalId), t.autoScrollIntervalId = null, t.resetScrollDelta());
      }, t.onUpdateCells = function(n, i) {
        return i();
      }, t.showPrepareSelectedCells = function() {
        t.brushRangeCells = t.getBrushRangeCells(), t.spreadsheet.interaction.changeState({
          cells: Ke(t.brushRangeCells, function(n) {
            return hi(n);
          }),
          stateName: de.PREPARE_SELECT,
          // 刷选首先会经过 hover => mousedown => mousemove, hover时会将当前行全部高亮 (row cell + data cell)
          // 如果是有效刷选, 更新时会重新渲染, hover 高亮的格子 会正常重置
          // 如果是无效刷选(全部都是没数据的格子), brushRangeDataCells = [], 更新时会跳过, 需要强制重置 hover 高亮
          force: !0,
          onUpdateCells: t.onUpdateCells
        });
      }, t.renderPrepareSelected = function(n) {
        var i = n.x, o = n.y, a = t.spreadsheet.container.getShape(i, o), l = t.spreadsheet.getCell(a), s = l instanceof Bo || l instanceof tu || l instanceof Fc;
        if (!(!l || !s)) {
          var f = l.getMeta(), h = f.rowIndex, d = f.colIndex;
          t.endBrushPoint = {
            x: i,
            y: o,
            rowIndex: h,
            colIndex: d
          };
          var v = t.spreadsheet.interaction;
          v.addIntercepts([Pe.HOVER]), v.clearStyleIndependent(), t.isValidBrushSelection() && (t.showPrepareSelectedCells(), t.updatePrepareSelectMask());
        }
      }, t;
    }
    return r.prototype.bindEvents = function() {
      this.bindMouseDown(), this.bindMouseMove(), this.bindMouseUp();
    }, r.prototype.getPrepareSelectMaskTheme = function() {
      var t;
      return (t = this.spreadsheet.theme) === null || t === void 0 ? void 0 : t.prepareSelectMask;
    }, r.prototype.initPrepareSelectMaskShape = function() {
      var t = this.spreadsheet.foregroundGroup;
      if (t) {
        t.removeChild(this.prepareSelectMaskShape);
        var n = this.getPrepareSelectMaskTheme();
        this.prepareSelectMaskShape = t.addShape("rect", {
          visible: !1,
          attrs: {
            width: 0,
            height: 0,
            x: 0,
            y: 0,
            fill: n == null ? void 0 : n.backgroundColor,
            fillOpacity: n == null ? void 0 : n.backgroundOpacity,
            zIndex: yD
          },
          capture: !1
        });
      }
    }, r.prototype.setBrushSelectionStage = function(t) {
      this.brushSelectionStage = t;
    }, r.prototype.isPointInCanvas = function(t) {
      var n = this.spreadsheet.facet.getCanvasHW(), i = n.height, o = n.width, a = this.spreadsheet.facet.panelBBox, l = a.minX, s = a.minY;
      return t.x > l && t.x < o && t.y > s && t.y < i;
    }, r.prototype.resetDrag = function() {
      this.hidePrepareSelectMaskShape(), this.setBrushSelectionStage(vr.UN_DRAGGED);
    }, r.prototype.isValidBrushSelection = function() {
      var t = this.getBrushRange(), n = t.start, i = t.end, o = i.x - n.x > this.brushSelectionMinimumMoveDistance || i.y - n.y > this.brushSelectionMinimumMoveDistance;
      return o;
    }, r.prototype.setDisplayedCells = function() {
      this.displayedCells = this.spreadsheet.interaction.getPanelGroupAllDataCells();
    }, r.prototype.updatePrepareSelectMask = function() {
      var t = this.getBrushRange(), n = this.getPrepareSelectMaskPosition(t), i = n.x, o = n.y;
      this.prepareSelectMaskShape.attr({
        x: i,
        y: o,
        width: t.width,
        height: t.height
      }), this.prepareSelectMaskShape.show();
    }, r.prototype.hidePrepareSelectMaskShape = function() {
      var t;
      (t = this.prepareSelectMaskShape) === null || t === void 0 || t.hide();
    }, r.prototype.resetScrollDelta = function() {
      this.autoScrollConfig = Mv(R_);
    }, r.prototype.getBrushPoint = function(t) {
      var n = this.spreadsheet.facet.getScrollOffset(), i = n.scrollY, o = n.scrollX, a = {
        x: t == null ? void 0 : t.x,
        y: t == null ? void 0 : t.y
      }, l = this.spreadsheet.getCell(t.target), s = l.getMeta(), f = s.colIndex, h = s.rowIndex;
      return F(F({}, a), { rowIndex: h, colIndex: f, scrollY: i, scrollX: o });
    }, r.prototype.getBrushRange = function() {
      var t, n, i, o, a, l, s, f, h = this.spreadsheet.facet.getScrollOffset(), d = h.scrollX, v = h.scrollY, g = Math.min(this.startBrushPoint.rowIndex, (t = this.endBrushPoint) === null || t === void 0 ? void 0 : t.rowIndex), y = Math.max(this.startBrushPoint.rowIndex, (n = this.endBrushPoint) === null || n === void 0 ? void 0 : n.rowIndex), C = Math.min(this.startBrushPoint.colIndex, (i = this.endBrushPoint) === null || i === void 0 ? void 0 : i.colIndex), m = Math.max(this.startBrushPoint.colIndex, (o = this.endBrushPoint) === null || o === void 0 ? void 0 : o.colIndex), w = this.startBrushPoint.x + this.startBrushPoint.scrollX - d, S = this.startBrushPoint.y + this.startBrushPoint.scrollY - v, x = Math.min(w, (a = this.endBrushPoint) === null || a === void 0 ? void 0 : a.x), b = Math.max(w, (l = this.endBrushPoint) === null || l === void 0 ? void 0 : l.x), O = Math.min(S, (s = this.endBrushPoint) === null || s === void 0 ? void 0 : s.y), D = Math.max(S, (f = this.endBrushPoint) === null || f === void 0 ? void 0 : f.y);
      return {
        start: {
          rowIndex: g,
          colIndex: C,
          x,
          y: O
        },
        end: {
          rowIndex: y,
          colIndex: m,
          x: b,
          y: D
        },
        width: b - x,
        height: D - O
      };
    }, r.prototype.getBrushRangeCells = function() {
      var t = this;
      return this.setDisplayedCells(), this.displayedCells.filter(function(n) {
        var i = n.getMeta();
        return t.isInBrushRange(i);
      });
    }, r.prototype.mouseDown = function(t) {
      var n;
      (n = t == null ? void 0 : t.preventDefault) === null || n === void 0 || n.call(t), !this.spreadsheet.interaction.hasIntercepts([Pe.CLICK]) && (this.setBrushSelectionStage(vr.CLICK), this.initPrepareSelectMaskShape(), this.setDisplayedCells(), this.startBrushPoint = this.getBrushPoint(t));
    }, r.prototype.addBrushIntercepts = function() {
      this.spreadsheet.interaction.addIntercepts([Pe.BRUSH_SELECTION]);
    }, r.prototype.bindMouseUp = function(t) {
      var n = this;
      t === void 0 && (t = !1), this.spreadsheet.on(B.GLOBAL_MOUSE_UP, function(i) {
        if (n.brushSelectionStage !== vr.DRAGGED) {
          n.resetDrag();
          return;
        }
        if (t && n.clearAutoScroll(), n.isValidBrushSelection()) {
          n.addBrushIntercepts(), n.updateSelectedCells();
          var o = cg(n.spreadsheet);
          n.spreadsheet.showTooltipWithInfo(i, o);
        }
        n.spreadsheet.interaction.getCurrentStateName() === de.PREPARE_SELECT && n.spreadsheet.interaction.reset(), n.resetDrag();
      }), this.spreadsheet.on(B.GLOBAL_CONTEXT_MENU, function() {
        n.brushSelectionStage !== vr.UN_DRAGGED && (n.spreadsheet.interaction.removeIntercepts([Pe.HOVER]), n.resetDrag());
      });
    }, r.prototype.autoBrushScroll = function(t, n) {
      var i, o;
      if (n === void 0 && (n = !1), this.clearAutoScroll(), !this.isPointInCanvas(t)) {
        var a = (t == null ? void 0 : t.x) - ((i = this.endBrushPoint) === null || i === void 0 ? void 0 : i.x), l = (t == null ? void 0 : t.y) - ((o = this.endBrushPoint) === null || o === void 0 ? void 0 : o.y);
        return this.handleScroll(a, l, n), !0;
      }
      return !1;
    }, r.prototype.emitBrushSelectionEvent = function(t, n) {
      this.spreadsheet.emit(t, n), this.spreadsheet.emit(B.GLOBAL_SELECTED, n), ne(n) && this.spreadsheet.interaction.removeIntercepts([Pe.HOVER]);
    }, r.prototype.getVisibleBrushRangeCells = function(t) {
      return this.brushRangeCells.find(function(n) {
        var i = n.getMeta();
        return (i == null ? void 0 : i.id) === t;
      });
    }, r.prototype.isInBrushRange = function(t) {
      return !1;
    }, r.prototype.bindMouseDown = function() {
    }, r.prototype.bindMouseMove = function() {
    }, r.prototype.updateSelectedCells = function() {
    }, r.prototype.getPrepareSelectMaskPosition = function(t) {
      return {
        x: t.start.x,
        y: t.start.y
      };
    }, r;
  }(Qn)
), ree = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.displayedCells = [], t.brushRangeCells = [], t.onUpdateCells = function(n) {
        return n.updateCells(n.getAllColHeaderCells());
      }, t;
    }
    return r.prototype.bindEvents = function() {
      this.bindMouseDown(), this.bindMouseMove(), this.bindMouseUp();
    }, r.prototype.bindMouseDown = function() {
      var t = this;
      this.spreadsheet.on(B.COL_CELL_MOUSE_DOWN, function(n) {
        t.spreadsheet.interaction.getBrushSelection().col && e.prototype.mouseDown.call(t, n);
      });
    }, r.prototype.isPointInCanvas = function(t) {
      var n = this.spreadsheet.facet.getCanvasHW().width, i = this.spreadsheet.facet.cornerBBox, o = i.width, a = i.minY, l = i.maxY;
      return t.x >= o && t.x <= n && t.y >= a && t.y <= l;
    }, r.prototype.bindMouseMove = function() {
      var t = this;
      this.spreadsheet.on(B.COL_CELL_MOUSE_MOVE, function(n) {
        if (t.brushSelectionStage !== vr.UN_DRAGGED) {
          t.setBrushSelectionStage(vr.DRAGGED);
          var i = t.spreadsheet.container.getPointByEvent(n.originalEvent);
          t.isPointInCanvas(i) && t.renderPrepareSelected(i);
        }
      });
    }, r.prototype.setDisplayedCells = function() {
      this.displayedCells = this.spreadsheet.interaction.getAllColHeaderCells();
    }, r.prototype.isInBrushRange = function(t) {
      var n = this.getBrushRange(), i = n.start, o = n.end, a = this.spreadsheet.facet.getScrollOffset().scrollX, l = this.spreadsheet.facet.cornerBBox, s = t.x, f = s === void 0 ? 0 : s, h = t.y, d = h === void 0 ? 0 : h, v = t.width, g = v === void 0 ? 0 : v, y = t.height, C = y === void 0 ? 0 : y;
      return this.rectanglesIntersect({
        // 由于刷选的时候，是以列头的左上角为起点，所以需要减去角头的宽度，在滚动后需要加上滚动条的偏移量
        minX: i.x - l.width + a,
        minY: i.y,
        maxX: o.x - l.width + a,
        maxY: o.y
      }, {
        minX: f,
        maxX: f + g,
        minY: d,
        maxY: d + C
      });
    }, r.prototype.updateSelectedCells = function() {
      var t = this.spreadsheet.interaction;
      t.changeState({
        cells: Ke(this.brushRangeCells, hi),
        stateName: de.BRUSH_SELECTED,
        onUpdateCells: this.onUpdateCells
      }), this.spreadsheet.emit(B.COL_CELL_BRUSH_SELECTION, this.brushRangeCells), this.spreadsheet.emit(B.GLOBAL_SELECTED, this.brushRangeCells), ne(this.brushRangeCells) && t.removeIntercepts([Pe.HOVER]);
    }, r.prototype.addBrushIntercepts = function() {
      this.spreadsheet.interaction.addIntercepts([
        Pe.COL_BRUSH_SELECTION
      ]);
    }, r;
  }(gg)
), nee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.displayedCells = [], t.brushRangeCells = [], t.getSelectedCellMetas = function(n) {
        var i = [], o = t.spreadsheet.facet.layoutResult, a = o.rowLeafNodes, l = a === void 0 ? [] : a, s = o.colLeafNodes, f = s === void 0 ? [] : s, h = Za(n.start.rowIndex, n.end.rowIndex + 1), d = Za(n.start.colIndex, n.end.colIndex + 1);
        return h.forEach(function(v) {
          d.forEach(function(g) {
            var y = String(f[g].id), C = ne(l) ? String(v) : String(l[v].id);
            i.push({
              colIndex: g,
              rowIndex: v,
              id: "".concat(C, "-").concat(y),
              type: re.DATA_CELL,
              rowId: C,
              colId: y,
              spreadsheet: t.spreadsheet
            });
          });
        }), i;
      }, t;
    }
    return r.prototype.bindMouseDown = function() {
      var t = this;
      this.spreadsheet.on(B.DATA_CELL_MOUSE_DOWN, function(n) {
        t.spreadsheet.interaction.getBrushSelection().data && (e.prototype.mouseDown.call(t, n), t.resetScrollDelta());
      });
    }, r.prototype.bindMouseMove = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_MOUSE_MOVE, function(n) {
        if (t.brushSelectionStage !== vr.UN_DRAGGED) {
          t.setBrushSelectionStage(vr.DRAGGED);
          var i = t.spreadsheet.container.getPointByEvent(n);
          t.autoBrushScroll(i) || t.renderPrepareSelected(i);
        }
      });
    }, r.prototype.isInBrushRange = function(t) {
      var n = this.getBrushRange(), i = n.start, o = n.end, a = t.rowIndex, l = t.colIndex;
      return a >= i.rowIndex && a <= o.rowIndex && l >= i.colIndex && l <= o.colIndex;
    }, r.prototype.updateSelectedCells = function() {
      var t = this.getBrushRange(), n = this.getSelectedCellMetas(t);
      this.spreadsheet.interaction.changeState({
        cells: n,
        // TODO: 怕上层有直接消费 stateName, 暂时保留, 2.0 版本改成 InteractionStateName.BRUSH_SELECTED
        stateName: de.SELECTED,
        onUpdateCells: lg
      });
      var i = this.getScrollBrushRangeCells(n);
      this.emitBrushSelectionEvent(B.DATA_CELL_BRUSH_SELECTION, i);
    }, r.prototype.getScrollBrushRangeCells = function(t) {
      var n = this;
      return t.map(function(i) {
        var o = n.getVisibleBrushRangeCells(i.id);
        if (o)
          return o;
        var a = n.spreadsheet.facet.layoutResult.getCellMeta(i.rowIndex, i.colIndex), l = n.spreadsheet.isTableMode() ? $c : Bo;
        return new l(a, n.spreadsheet);
      });
    }, r.prototype.bindMouseUp = function() {
      e.prototype.bindMouseUp.call(this, !0);
    }, r.prototype.getPrepareSelectMaskPosition = function(t) {
      var n = this.spreadsheet.facet.panelBBox, i = n.minX, o = n.minY, a = Math.max(t.start.x, i), l = Math.max(t.start.y, o);
      return {
        x: a,
        y: l
      };
    }, r;
  }(gg)
), iee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.isInBrushRange = function(n) {
        var i = t.getBrushRange(), o = i.start, a = i.end, l = t.spreadsheet.facet.getScrollOffset(), s = l.scrollY, f = l.rowHeaderScrollX, h = t.spreadsheet.facet.cornerBBox, d = n.x, v = d === void 0 ? 0 : d, g = n.y, y = g === void 0 ? 0 : g, C = n.width, m = C === void 0 ? 0 : C, w = n.height, S = w === void 0 ? 0 : w;
        return t.rectanglesIntersect({
          // 行头过长时，可以单独进行滚动，所以需要加上滚动的距离
          minX: o.x + f,
          // 由于刷选的时候，是以行头的左上角为起点，所以需要减去角头的宽度，在滚动后需要加上滚动条的偏移量
          minY: o.y - h.height + s,
          maxX: a.x + f,
          maxY: a.y - h.height + s
        }, {
          minX: v,
          maxX: v + m,
          minY: y,
          maxY: y + S
        });
      }, t.onUpdateCells = function(n) {
        return n.updateCells(n.getAllRowHeaderCells());
      }, t.getSelectedRowNodes = function() {
        return t.spreadsheet.getRowNodes().filter(t.isInBrushRange);
      }, t.getVisibleRowLeafCellByScrollDirection = function(n) {
        var i = t.spreadsheet.interaction.getAllRowHeaderCells();
        return n === zr.SCROLL_DOWN ? gt(i) : i.find(function(o) {
          var a = o.getMeta();
          return a.isLeaf;
        });
      }, t.getWillScrollToRowIndex = function(n) {
        var i, o;
        if (!Yt(t.endBrushPoint.rowIndex))
          return t.getDefaultWillScrollToRowIndex(n);
        var a = t.getVisibleRowLeafCellByScrollDirection(n), l = (o = (i = a == null ? void 0 : a.getMeta()) === null || i === void 0 ? void 0 : i.rowIndex) !== null && o !== void 0 ? o : 0, s = l + t.getWillScrollRowIndexDiff(n);
        return t.validateYIndex(s);
      }, t;
    }
    return r.prototype.bindMouseDown = function() {
      var t = this;
      this.spreadsheet.on(B.ROW_CELL_MOUSE_DOWN, function(n) {
        t.spreadsheet.interaction.getBrushSelection().row && e.prototype.mouseDown.call(t, n);
      });
    }, r.prototype.isPointInCanvas = function(t) {
      var n = this.spreadsheet.facet.getCanvasHW().height, i = this.spreadsheet.facet.cornerBBox, o = i.minX, a = i.height, l = i.maxX;
      return t.x >= o && t.x <= l && t.y >= a && t.y <= n;
    }, r.prototype.bindMouseMove = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_MOUSE_MOVE, function(n) {
        if (t.brushSelectionStage !== vr.UN_DRAGGED) {
          t.setBrushSelectionStage(vr.DRAGGED);
          var i = t.spreadsheet.container.getPointByEvent(n);
          t.autoBrushScroll(i, !0) || t.renderPrepareSelected(i);
        }
      });
    }, r.prototype.setDisplayedCells = function() {
      this.displayedCells = this.spreadsheet.interaction.getAllRowHeaderCells();
    }, r.prototype.updateSelectedCells = function() {
      var t = this.getSelectedRowNodes(), n = this.getScrollBrushRangeCells(t), i = Ke(n, hi);
      this.spreadsheet.interaction.changeState({
        cells: i,
        stateName: de.BRUSH_SELECTED,
        onUpdateCells: this.onUpdateCells
      }), this.emitBrushSelectionEvent(B.ROW_CELL_BRUSH_SELECTION, n);
    }, r.prototype.addBrushIntercepts = function() {
      this.spreadsheet.interaction.addIntercepts([
        Pe.ROW_BRUSH_SELECTION
      ]);
    }, r.prototype.getScrollBrushRangeCells = function(t) {
      var n = this;
      return t.map(function(i) {
        var o = n.getVisibleBrushRangeCells(i.id);
        return o || n.spreadsheet.facet.rowHeader.createCellInstance(i);
      });
    }, r.prototype.getPrepareSelectMaskPosition = function(t) {
      var n = this.spreadsheet.facet.panelBBox.minY, i = t.start.x, o = Math.max(t.start.y, n);
      return {
        x: i,
        y: o
      };
    }, r;
  }(gg)
), oee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.isMultiSelection = !1, t;
    }
    return r.prototype.bindEvents = function() {
      this.bindKeyboardDown(), this.bindDataCellClick(), this.bindKeyboardUp(), this.bindMouseMove();
    }, r.prototype.reset = function() {
      this.isMultiSelection = !1, this.spreadsheet.interaction.removeIntercepts([Pe.CLICK]);
    }, r.prototype.bindKeyboardDown = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_KEYBOARD_DOWN, function(n) {
        Kf(n) && (t.isMultiSelection = !0, t.spreadsheet.interaction.addIntercepts([Pe.CLICK]));
      });
    }, r.prototype.bindKeyboardUp = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_KEYBOARD_UP, function(n) {
        Kf(n) && t.reset();
      });
    }, r.prototype.bindMouseMove = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_MOUSE_MOVE, function(n) {
        t.isMultiSelection && !eE(n) && t.reset();
      });
    }, r.prototype.getSelectedCells = function(t) {
      var n = t.getMeta().id, i = this.spreadsheet.interaction, o = i.getCells([re.DATA_CELL]), a = [];
      return i.getCurrentStateName() !== de.SELECTED && (o = []), o.find(function(l) {
        return l.id === n;
      }) ? a = o.filter(function(l) {
        return l.id !== n;
      }) : a = Q(Q([], U(o), !1), [hi(t)], !1), a;
    }, r.prototype.bindDataCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.DATA_CELL_CLICK, function(n) {
        n.stopPropagation();
        var i = t.spreadsheet.getCell(n.target), o = i.getMeta(), a = t.spreadsheet.interaction;
        if (t.isMultiSelection && o) {
          var l = t.getSelectedCells(i);
          if (ne(l)) {
            a.clearState(), t.spreadsheet.hideTooltip(), t.spreadsheet.emit(B.GLOBAL_SELECTED, a.getActiveCells());
            return;
          }
          a.addIntercepts([Pe.CLICK, Pe.HOVER]), t.spreadsheet.hideTooltip(), a.changeState({
            cells: l,
            stateName: de.SELECTED,
            onUpdateCells: lg
          }), t.spreadsheet.emit(B.GLOBAL_SELECTED, a.getActiveCells()), t.spreadsheet.showTooltipWithInfo(n, cg(t.spreadsheet));
        }
      });
    }, r;
  }(Qn)
), aee = (
  /** @class */
  function() {
    function e(r) {
      var t = this;
      this.canvasEventHandlers = [], this.s2EventHandlers = [], this.domEventListeners = [], this.isCanvasEffect = !1, this.isGuiIconShape = function(n) {
        return n instanceof Fp && n.attrs.type === Rs.type;
      }, this.onCanvasMousedown = function(n) {
        if (t.target = n.target, t.spreadsheet.interaction.clearHoverTimer(), t.isResizeArea(n)) {
          t.spreadsheet.emit(B.LAYOUT_RESIZE_MOUSE_DOWN, n);
          var i = function(a) {
            if (!t.spreadsheet.getCanvasElement())
              return !1;
            t.spreadsheet.getCanvasElement() !== a.target && (n.clientX = a.clientX, n.clientY = a.clientY, n.originalEvent = a, t.spreadsheet.emit(B.LAYOUT_RESIZE_MOUSE_MOVE, n));
          };
          window.addEventListener("mousemove", i), window.addEventListener("mouseup", function() {
            window.removeEventListener("mousemove", i);
          }, { once: !0 });
          return;
        }
        var o = t.spreadsheet.getCellType(n.target);
        switch (o) {
          case re.DATA_CELL:
            t.spreadsheet.emit(B.DATA_CELL_MOUSE_DOWN, n);
            break;
          case re.ROW_CELL:
            t.spreadsheet.emit(B.ROW_CELL_MOUSE_DOWN, n);
            break;
          case re.COL_CELL:
            t.spreadsheet.emit(B.COL_CELL_MOUSE_DOWN, n);
            break;
          case re.CORNER_CELL:
            t.spreadsheet.emit(B.CORNER_CELL_MOUSE_DOWN, n);
            break;
          case re.MERGED_CELL:
            t.spreadsheet.emit(B.MERGED_CELLS_MOUSE_DOWN, n);
            break;
        }
      }, this.onCanvasMousemove = function(n) {
        if (t.canvasMousemoveEvent = n, t.isResizeArea(n)) {
          t.activeResizeArea(n), t.spreadsheet.emit(B.LAYOUT_RESIZE_MOUSE_MOVE, n);
          return;
        }
        t.resetResizeArea();
        var i = t.spreadsheet.getCell(n.target);
        if (i) {
          var o = i.cellType;
          switch (o) {
            case re.DATA_CELL:
              t.spreadsheet.emit(B.DATA_CELL_MOUSE_MOVE, n);
              break;
            case re.ROW_CELL:
              t.spreadsheet.emit(B.ROW_CELL_MOUSE_MOVE, n);
              break;
            case re.COL_CELL:
              t.spreadsheet.emit(B.COL_CELL_MOUSE_MOVE, n);
              break;
            case re.CORNER_CELL:
              t.spreadsheet.emit(B.CORNER_CELL_MOUSE_MOVE, n);
              break;
            case re.MERGED_CELL:
              t.spreadsheet.emit(B.MERGED_CELLS_MOUSE_MOVE, n);
              break;
          }
          if (!t.hasBrushSelectionIntercepts())
            switch (t.spreadsheet.emit(B.GLOBAL_HOVER, n), o) {
              case re.DATA_CELL:
                t.spreadsheet.emit(B.DATA_CELL_HOVER, n);
                break;
              case re.ROW_CELL:
                t.spreadsheet.emit(B.ROW_CELL_HOVER, n);
                break;
              case re.COL_CELL:
                t.spreadsheet.emit(B.COL_CELL_HOVER, n);
                break;
              case re.CORNER_CELL:
                t.spreadsheet.emit(B.CORNER_CELL_HOVER, n);
                break;
              case re.MERGED_CELL:
                t.spreadsheet.emit(B.MERGED_CELLS_HOVER, n);
                break;
            }
        }
      }, this.onCanvasMouseup = function(n) {
        if (t.isResizeArea(n)) {
          t.spreadsheet.emit(B.LAYOUT_RESIZE_MOUSE_UP, n);
          return;
        }
        var i = t.spreadsheet.getCell(n.target);
        if (i) {
          var o = i.cellType;
          if (t.target === n.target) {
            var a = t.isGuiIconShape(n.target);
            switch (o) {
              case re.DATA_CELL:
                t.spreadsheet.emit(B.DATA_CELL_CLICK, n);
                break;
              case re.ROW_CELL:
                if (a)
                  break;
                t.spreadsheet.emit(B.ROW_CELL_CLICK, n);
                break;
              case re.COL_CELL:
                if (a)
                  break;
                t.spreadsheet.emit(B.COL_CELL_CLICK, n);
                break;
              case re.CORNER_CELL:
                if (a)
                  break;
                t.spreadsheet.emit(B.CORNER_CELL_CLICK, n);
                break;
              case re.MERGED_CELL:
                t.spreadsheet.emit(B.MERGED_CELLS_CLICK, n);
                break;
            }
          }
          switch (o) {
            case re.DATA_CELL:
              t.spreadsheet.emit(B.DATA_CELL_MOUSE_UP, n);
              break;
            case re.ROW_CELL:
              t.spreadsheet.emit(B.ROW_CELL_MOUSE_UP, n);
              break;
            case re.COL_CELL:
              t.spreadsheet.emit(B.COL_CELL_MOUSE_UP, n);
              break;
            case re.CORNER_CELL:
              t.spreadsheet.emit(B.CORNER_CELL_MOUSE_UP, n);
              break;
            case re.MERGED_CELL:
              t.spreadsheet.emit(B.MERGED_CELLS_MOUSE_UP, n);
              break;
          }
        }
      }, this.onCanvasClick = function(n) {
        t.spreadsheet.emit(B.GLOBAL_CLICK, n);
      }, this.onCanvasDoubleClick = function(n) {
        var i = t.spreadsheet;
        if (t.isResizeArea(n)) {
          i.emit(B.LAYOUT_RESIZE_MOUSE_UP, n);
          return;
        }
        i.emit(B.GLOBAL_DOUBLE_CLICK, n);
        var o = i.getCell(n.target);
        if (o) {
          var a = o.cellType;
          if (t.target === n.target)
            switch (a) {
              case re.DATA_CELL:
                i.emit(B.DATA_CELL_DOUBLE_CLICK, n);
                break;
              case re.ROW_CELL:
                i.emit(B.ROW_CELL_DOUBLE_CLICK, n);
                break;
              case re.COL_CELL:
                i.emit(B.COL_CELL_DOUBLE_CLICK, n);
                break;
              case re.CORNER_CELL:
                i.emit(B.CORNER_CELL_DOUBLE_CLICK, n);
                break;
              case re.MERGED_CELL:
                i.emit(B.MERGED_CELLS_DOUBLE_CLICK, n);
                break;
            }
        }
      }, this.onCanvasMouseout = function(n) {
        if (!(!t.isAutoResetSheetStyle || n != null && n.shape)) {
          var i = t.spreadsheet.interaction;
          !i.isSelectedState() && !(i.intercepts.size > 0) && i.reset();
        }
      }, this.onCanvasContextMenu = function(n) {
        var i = t.spreadsheet;
        if (t.isResizeArea(n)) {
          i.emit(B.LAYOUT_RESIZE_MOUSE_UP, n);
          return;
        }
        i.emit(B.GLOBAL_CONTEXT_MENU, n);
        var o = t.spreadsheet.getCellType(n.target);
        switch (o) {
          case re.DATA_CELL:
            t.spreadsheet.emit(B.DATA_CELL_CONTEXT_MENU, n);
            break;
          case re.ROW_CELL:
            t.spreadsheet.emit(B.ROW_CELL_CONTEXT_MENU, n);
            break;
          case re.COL_CELL:
            t.spreadsheet.emit(B.COL_CELL_CONTEXT_MENU, n);
            break;
          case re.CORNER_CELL:
            t.spreadsheet.emit(B.CORNER_CELL_CONTEXT_MENU, n);
            break;
          case re.MERGED_CELL:
            t.spreadsheet.emit(B.MERGED_CELLS_CONTEXT_MENU, n);
            break;
        }
      }, this.spreadsheet = r, this.bindEvents();
    }
    return Object.defineProperty(e.prototype, "canvasContainer", {
      get: function() {
        return this.spreadsheet.container;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(e.prototype, "isAutoResetSheetStyle", {
      get: function() {
        return this.spreadsheet.options.interaction.autoResetSheetStyle;
      },
      enumerable: !1,
      configurable: !0
    }), e.prototype.bindEvents = function() {
      var r = this;
      this.clearAllEvents(), this.addCanvasEvent(Lr.CLICK, this.onCanvasClick), this.addCanvasEvent(Lr.MOUSE_DOWN, this.onCanvasMousedown), this.addCanvasEvent(Lr.MOUSE_MOVE, this.onCanvasMousemove), this.addCanvasEvent(Lr.MOUSE_OUT, this.onCanvasMouseout), this.addCanvasEvent(Lr.MOUSE_UP, this.onCanvasMouseup), this.addCanvasEvent(Lr.DOUBLE_CLICK, this.onCanvasDoubleClick), this.addCanvasEvent(Lr.CONTEXT_MENU, this.onCanvasContextMenu), this.addS2Event(B.GLOBAL_ACTION_ICON_CLICK, function() {
        r.spreadsheet.interaction.addIntercepts([Pe.HOVER]), r.spreadsheet.interaction.clearState();
      }), this.addDomEventListener(window, Lr.CLICK, function(t) {
        r.resetSheetStyle(t), r.isCanvasEffect = r.isMouseOnTheCanvasContainer(t);
      }), this.addDomEventListener(window, Lr.KEY_DOWN, function(t) {
        r.onKeyboardCopy(t), r.onKeyboardEsc(t), r.spreadsheet.emit(B.GLOBAL_KEYBOARD_DOWN, t);
      }), this.addDomEventListener(window, Lr.KEY_UP, function(t) {
        r.spreadsheet.emit(B.GLOBAL_KEYBOARD_UP, t);
      }), this.addDomEventListener(window, Lr.MOUSE_UP, function(t) {
        r.spreadsheet.emit(B.GLOBAL_MOUSE_UP, t);
      }), this.addDomEventListener(window, Lr.MOUSE_MOVE, function(t) {
        r.spreadsheet.emit(B.GLOBAL_MOUSE_MOVE, t);
      });
    }, e.prototype.onKeyboardCopy = function(r) {
      if (this.isCanvasEffect && this.spreadsheet.options.interaction.enableCopy && // todo: 在copy header 时有问题
      Ym(r.key, pr.COPY) && (r.metaKey || r.ctrlKey)) {
        var t = Jj(this.spreadsheet);
        Yt(t) || this.spreadsheet.emit(B.GLOBAL_COPIED, t);
      }
    }, e.prototype.onKeyboardEsc = function(r) {
      this.isCanvasEffect && Ym(r.key, pr.ESC) && this.resetSheetStyle(r);
    }, e.prototype.resetSheetStyle = function(r) {
      if (!(!this.isAutoResetSheetStyle || !this.spreadsheet)) {
        var t = this.spreadsheet.interaction;
        if (t.hasIntercepts([
          Pe.BRUSH_SELECTION,
          Pe.COL_BRUSH_SELECTION,
          Pe.ROW_BRUSH_SELECTION
        ])) {
          t.removeIntercepts([
            Pe.BRUSH_SELECTION,
            Pe.ROW_BRUSH_SELECTION,
            Pe.COL_BRUSH_SELECTION
          ]);
          return;
        }
        this.isMouseOnTheTooltip(r) || this.isMouseOnTheCanvasContainer(r) || (t.reset(), this.spreadsheet.emit(B.GLOBAL_RESET, r), this.spreadsheet.emit(B.GLOBAL_SELECTED, t.getActiveCells()));
      }
    }, e.prototype.isMouseEvent = function(r) {
      return ca(r, "clientX") && ca(r, "clientY");
    }, e.prototype.isMouseOnTheCanvasContainer = function(r) {
      if (this.isMouseEvent(r)) {
        var t = this.spreadsheet.getCanvasElement();
        if (!t)
          return !1;
        var n = t.getBoundingClientRect() || {}, i = n.x, o = n.y, a = this.getContainerRect(), l = a.width, s = a.height;
        return t.contains(r.target) && r.clientX <= i + l && r.clientY <= o + s;
      }
      return !1;
    }, e.prototype.getContainerRect = function() {
      var r, t = this.spreadsheet, n = t.facet, i = t.options, o = n.hRowScrollBar || n.hScrollBar, a = (n == null ? void 0 : n.panelBBox) || {}, l = a.maxX, s = a.maxY, f = i.width, h = i.height, d = ((r = o == null ? void 0 : o.theme) === null || r === void 0 ? void 0 : r.size) || 0;
      return {
        width: Math.min(f, l),
        height: Math.min(h, s + d)
      };
    }, e.prototype.isMouseOnTheTooltip = function(r) {
      var t, n, i, o, a = this.spreadsheet.tooltip;
      if (!(a != null && a.visible))
        return !1;
      var l = ((i = (n = (t = this.spreadsheet.tooltip) === null || t === void 0 ? void 0 : t.container) === null || n === void 0 ? void 0 : n.getBoundingClientRect) === null || i === void 0 ? void 0 : i.call(n)) || {}, s = l.x, f = l.y, h = l.width, d = l.height;
      return r.target instanceof Node ? EJ((o = this.spreadsheet.tooltip) === null || o === void 0 ? void 0 : o.container, r.target) : this.isMouseEvent(r) ? r.clientX >= s && r.clientX <= s + h && r.clientY >= f && r.clientY <= f + d : !1;
    }, e.prototype.isResizeArea = function(r) {
      var t = _e(r.target, "attrs.appendInfo");
      return t == null ? void 0 : t.isResizeArea;
    }, e.prototype.activeResizeArea = function(r) {
      this.resetResizeArea();
      var t = r.target;
      this.spreadsheet.store.set("activeResizeArea", t), t.attr(on.backgroundOpacity, this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity);
    }, e.prototype.resetResizeArea = function() {
      var r = this.spreadsheet.store.get("activeResizeArea");
      ne(r) || r.attr(on.backgroundOpacity, this.spreadsheet.theme.resizeArea.backgroundOpacity), this.spreadsheet.store.set("activeResizeArea", r);
    }, e.prototype.hasBrushSelectionIntercepts = function() {
      return this.spreadsheet.interaction.hasIntercepts([
        Pe.HOVER,
        Pe.BRUSH_SELECTION,
        Pe.ROW_BRUSH_SELECTION,
        Pe.COL_BRUSH_SELECTION
      ]);
    }, e.prototype.clear = function() {
      this.unbindEvents();
    }, e.prototype.unbindEvents = function() {
      this.clearAllEvents();
    }, e.prototype.addCanvasEvent = function(r, t) {
      var n;
      (n = this.canvasContainer) === null || n === void 0 || n.on(r, t), this.canvasEventHandlers.push({ type: r, handler: t });
    }, e.prototype.addS2Event = function(r, t) {
      this.spreadsheet.on(r, t), this.s2EventHandlers.push({
        type: r,
        handler: t
      });
    }, e.prototype.addDomEventListener = function(r, t, n) {
      if (r.addEventListener) {
        var i = this.spreadsheet.options.interaction.eventListenerOptions;
        r.addEventListener(t, n, i), this.domEventListeners.push({
          target: r,
          type: t,
          handler: n,
          options: i
        });
      } else
        console.error("Please make sure ".concat(r, " has addEventListener function"));
    }, e.prototype.clearAllEvents = function() {
      var r = this;
      Oe(this.canvasEventHandlers, function(t) {
        var n, i = t.type, o = t.handler;
        (n = r.canvasContainer) === null || n === void 0 || n.off(i, o);
      }), Oe(this.s2EventHandlers, function(t) {
        var n = t.type, i = t.handler;
        r.spreadsheet.off(n, i);
      }), Oe(this.domEventListeners, function(t) {
        t.target.removeEventListener(t.type, t.handler, t.options);
      }), this.canvasEventHandlers = [], this.s2EventHandlers = [], this.domEventListeners = [];
    }, e;
  }()
), lee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.isRangeSelection = !1, t.handleColClick = function(n) {
        n.stopPropagation();
        var i = t.spreadsheet.interaction, o = t.spreadsheet.getCell(n.target), a = o == null ? void 0 : o.getMeta();
        if (!Yt(a == null ? void 0 : a.x)) {
          i.addIntercepts([Pe.HOVER]);
          var l = [hi(o)], s = t.spreadsheet.store.get("lastClickedCell");
          if (t.isRangeSelection && s && s.cellType === o.cellType && s.getMeta().level === o.getMeta().level) {
            var f = U([
              t.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,
              t.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel
            ], 2), h = f[0], d = f[1], v = Qv(s.getMeta(), o.getMeta()), g = v.start, y = v.end;
            o instanceof Bo ? l = t.handleSeriesNumberRowSelected(g.rowIndex, y.rowIndex, o) : o.cellType === re.ROW_CELL && o.getMeta().level === h ? l = t.handleRowSelected(g.rowIndex, y.rowIndex, o) : o.cellType === re.COL_CELL && o.getMeta().level === d && (l = t.handleColSelected(g.colIndex, y.colIndex, o)), i.changeState({
              cells: l,
              stateName: de.SELECTED
            });
          } else
            ne(i.getCells()) && i.removeIntercepts([Pe.HOVER]), t.spreadsheet.store.set("lastClickedCell", o);
          var C = l.map(function(m) {
            var w = m.id;
            return w;
          });
          i.updateCells(i.getRowColActiveCells(C)), t.spreadsheet.emit(B.GLOBAL_SELECTED, i.getActiveCells());
        }
      }, t;
    }
    return r.prototype.bindEvents = function() {
      this.bindKeyboardDown(), this.bindDataCellClick(), this.bindColCellClick(), this.bindKeyboardUp(), this.bindMouseMove();
    }, r.prototype.reset = function() {
      this.isRangeSelection = !1, this.spreadsheet.interaction.removeIntercepts([Pe.CLICK]);
    }, r.prototype.bindKeyboardDown = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_KEYBOARD_DOWN, function(n) {
        n.key === pr.SHIFT && (t.isRangeSelection = !0, t.spreadsheet.interaction.addIntercepts([Pe.CLICK]));
      });
    }, r.prototype.bindKeyboardUp = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_KEYBOARD_UP, function(n) {
        n.key === pr.SHIFT && t.reset();
      });
    }, r.prototype.bindMouseMove = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_MOUSE_MOVE, function(n) {
        t.isRangeSelection && !n.shiftKey && t.reset();
      });
    }, r.prototype.bindColCellClick = function() {
      var t = this;
      this.spreadsheet.isTableMode() && this.spreadsheet.on(B.ROW_CELL_CLICK, function(n) {
        t.handleColClick(n);
      }), this.spreadsheet.on(B.COL_CELL_CLICK, function(n) {
        t.handleColClick(n);
      });
    }, r.prototype.bindDataCellClick = function() {
      var t = this;
      this.spreadsheet.on(B.DATA_CELL_CLICK, function(n) {
        n.stopPropagation();
        var i = t.spreadsheet.getCell(n.target), o = i.getMeta(), a = t.spreadsheet.interaction;
        if (o) {
          var l = t.spreadsheet.store.get("lastClickedCell"), s = t.isRangeSelection && (l == null ? void 0 : l.cellType) === i.cellType;
          if (!s) {
            t.spreadsheet.store.set("lastClickedCell", i);
            return;
          }
          var f = Qv(l.getMeta(), i.getMeta()), h = f.start, d = f.end, v = Za(h.colIndex, d.colIndex + 1).flatMap(function(g) {
            var y = t.spreadsheet.facet.layoutResult.colLeafNodes[g].id;
            return Za(h.rowIndex, d.rowIndex + 1).map(function(C) {
              var m = t.spreadsheet.facet.getSeriesNumberWidth() || t.spreadsheet.isTableMode() ? String(C) : t.spreadsheet.facet.layoutResult.rowLeafNodes[C].id;
              return {
                id: m + "-" + y,
                colIndex: g,
                rowIndex: C,
                type: i.cellType
              };
            });
          });
          a.addIntercepts([Pe.CLICK, Pe.HOVER]), a.changeState({
            cells: v,
            stateName: de.SELECTED
          }), t.spreadsheet.showTooltipWithInfo(n, cg(t.spreadsheet)), t.spreadsheet.emit(B.GLOBAL_SELECTED, a.getActiveCells());
        }
      });
    }, r.prototype.handleSeriesNumberRowSelected = function(t, n, i) {
      var o = this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;
      return Za(t, n + 1).map(function(a) {
        var l = String(a);
        return {
          id: l + "-" + o,
          colIndex: 0,
          rowIndex: a,
          type: i.cellType
        };
      });
    }, r.prototype.handleRowSelected = function(t, n, i) {
      return this.spreadsheet.facet.layoutResult.rowNodes.filter(function(o) {
        var a = o.rowIndex;
        return Fv(a, t, n + 1);
      }).map(function(o) {
        return {
          id: o.id,
          colIndex: o.colIndex,
          rowIndex: o.rowIndex,
          type: i.cellType
        };
      });
    }, r.prototype.handleColSelected = function(t, n, i) {
      return this.spreadsheet.facet.layoutResult.colLeafNodes.filter(function(o) {
        var a = o.colIndex;
        return Fv(a, t, n + 1);
      }).map(function(o) {
        return {
          id: o.id,
          colIndex: o.colIndex,
          rowIndex: o.rowIndex,
          type: i.cellType
        };
      });
    }, r;
  }(Qn)
), see = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.resizeStartPosition = {}, t.resizeMouseMove = function(n) {
        var i, o;
        if (!((i = t.resizeReferenceGroup) === null || i === void 0) && i.get("visible")) {
          (o = n == null ? void 0 : n.preventDefault) === null || o === void 0 || o.call(n);
          var a = n.originalEvent, l = t.getResizeInfo(), s = t.resizeReferenceGroup.getChildren() || [];
          if (!ne(s)) {
            var f = U(s, 2), h = f[1], d = U(wl(h.attr("path")), 2), v = d[0], g = d[1];
            l.type === An.Horizontal ? t.updateHorizontalResizingEndGuideLinePosition(a, l, v, g) : t.updateVerticalResizingEndGuideLinePosition(a, l, v, g), t.updateResizeGuideLineTheme(h), h.attr("path", [v, g]);
          }
        }
      }, t;
    }
    return r.prototype.bindEvents = function() {
      this.bindMouseDown(), this.bindMouseMove(), this.bindMouseUp();
    }, r.prototype.initResizeGroup = function() {
      if (!this.resizeReferenceGroup) {
        this.resizeReferenceGroup = this.spreadsheet.foregroundGroup.addGroup();
        var t = this.spreadsheet.options, n = t.width, i = t.height, o = this.getResizeAreaTheme(), a = o.guideLineColor, l = o.guideLineDash, s = o.size, f = {
          path: "",
          lineDash: l,
          stroke: a,
          lineWidth: s
        };
        this.resizeReferenceGroup.addShape("path", {
          id: ND,
          attrs: f
        }), this.resizeReferenceGroup.addShape("path", {
          id: HD,
          attrs: f
        }), this.resizeReferenceGroup.addShape("rect", {
          id: zD,
          attrs: {
            appendInfo: {
              isResizeArea: !0
            },
            x: 0,
            y: 0,
            width: n,
            height: i,
            fill: "transparent"
          }
        });
      }
    }, r.prototype.getResizeAreaTheme = function() {
      return this.spreadsheet.theme.resizeArea;
    }, r.prototype.setResizeTarget = function(t) {
      this.resizeTarget = t;
    }, r.prototype.getGuideLineWidthAndHeight = function() {
      var t = this.spreadsheet.options, n = t.width, i = t.height, o = this.spreadsheet.facet.panelBBox, a = o.maxY, l = o.maxX, s = Math.min(l, n), f = Math.min(a, i);
      return {
        width: s,
        height: f
      };
    }, r.prototype.getResizeShapes = function() {
      var t;
      return ((t = this.resizeReferenceGroup) === null || t === void 0 ? void 0 : t.get("children")) || [];
    }, r.prototype.setResizeMaskCursor = function(t) {
      var n = U(this.getResizeShapes(), 3), i = n[2];
      i == null || i.attr("cursor", t);
    }, r.prototype.updateResizeGuideLinePosition = function(t, n) {
      var i = this.getResizeShapes();
      if (!ne(i)) {
        var o = U(i, 2), a = o[0], l = o[1], s = n.type, f = n.offsetX, h = n.offsetY, d = n.width, v = n.height, g = this.getGuideLineWidthAndHeight(), y = g.width, C = g.height;
        if (this.setResizeMaskCursor("".concat(s, "-resize")), s === An.Horizontal) {
          a.attr("path", [
            ["M", f, h],
            ["L", f, C]
          ]), l.attr("path", [
            ["M", f + d, h],
            ["L", f + d, C]
          ]), this.resizeStartPosition.offsetX = t.offsetX, this.resizeStartPosition.clientX = t.clientX;
          return;
        }
        a.attr("path", [
          ["M", f, h],
          ["L", y, h]
        ]), l.attr("path", [
          ["M", f, h + v],
          ["L", y, h + v]
        ]), this.resizeStartPosition.offsetY = t.offsetY, this.resizeStartPosition.clientY = t.clientY;
      }
    }, r.prototype.bindMouseDown = function() {
      var t = this;
      this.spreadsheet.on(B.LAYOUT_RESIZE_MOUSE_DOWN, function(n) {
        var i = n.target, o = n.originalEvent, a = t.getCellAppendInfo(n.target);
        t.spreadsheet.store.set("resized", !1), a != null && a.isResizeArea && (t.spreadsheet.interaction.reset(), t.spreadsheet.interaction.addIntercepts([Pe.RESIZE]), t.setResizeTarget(i), t.showResizeGroup(), t.updateResizeGuideLinePosition(o, a));
      });
    }, r.prototype.bindMouseMove = function() {
      var t = this;
      this.spreadsheet.on(B.LAYOUT_RESIZE_MOUSE_MOVE, function(n) {
        G0(t.resizeMouseMove, 33)(n);
      });
    }, r.prototype.getResizeGuideLinePosition = function() {
      var t = U(this.resizeReferenceGroup.getChildren() || [], 2), n = t[0], i = t[1], o = (n == null ? void 0 : n.attr("path")) || [], a = (i == null ? void 0 : i.attr("path")) || [], l = U(o[0] || [], 3), s = l[1], f = s === void 0 ? 0 : s, h = l[2], d = h === void 0 ? 0 : h, v = U(a[0] || [], 3), g = v[1], y = g === void 0 ? 0 : g, C = v[2], m = C === void 0 ? 0 : C;
      return {
        start: {
          x: f,
          y: d
        },
        end: {
          x: y,
          y: m
        }
      };
    }, r.prototype.getDisAllowResizeInfo = function() {
      var t, n = this.getResizeInfo(), i = this.spreadsheet.options.interaction.resize, o = n.width, a = n.height, l = n.resizedWidth, s = n.resizedHeight, f = (t = i == null ? void 0 : i.disable) === null || t === void 0 ? void 0 : t.call(i, n), h = f ? o : l, d = f ? a : s;
      return {
        displayWidth: h,
        displayHeight: d,
        isDisabled: f
      };
    }, r.prototype.getResizeWidthDetail = function() {
      var t, n, i = this.getResizeInfo(), o = this.getDisAllowResizeInfo().displayWidth;
      switch (i.effect) {
        case Ar.Field:
          return {
            eventType: B.LAYOUT_RESIZE_ROW_WIDTH,
            style: {
              rowCfg: {
                widthByField: (t = {}, t[i.id] = o, t)
              }
            }
          };
        case Ar.Tree:
          return {
            eventType: B.LAYOUT_RESIZE_TREE_WIDTH,
            style: {
              treeRowsWidth: o,
              rowCfg: {
                /**
                 * @deprecated 已废弃, 以 style.treeRowsWidth 为准, 保持兼容, 暂时保留
                 */
                treeRowsWidth: o
              }
            }
          };
        case Ar.Cell:
          return {
            eventType: B.LAYOUT_RESIZE_COL_WIDTH,
            style: {
              colCfg: {
                widthByFieldValue: (n = {}, n[i.id] = o, n)
              }
            }
          };
        case Ar.Series:
          return {
            eventType: B.LAYOUT_RESIZE_SERIES_WIDTH,
            seriesNumberWidth: o
          };
        default:
          return null;
      }
    }, r.prototype.getResizeHeightDetail = function() {
      var t, n, i = this.spreadsheet.options, o = i.interaction.resize, a = i.style.rowCfg.heightByField, l = this.spreadsheet.theme.rowCell.cell.padding, s = this.getResizeInfo(), f = this.getDisAllowResizeInfo().displayHeight, h = f - l.top - l.bottom, d;
      switch (s.effect) {
        case Ar.Field:
          return {
            eventType: B.LAYOUT_RESIZE_COL_HEIGHT,
            style: {
              colCfg: {
                heightByField: (t = {}, t[s.id] = f, t)
              }
            }
          };
        case Ar.Cell:
          return a != null && a[String(s.id)] || (o == null ? void 0 : o.rowResizeType) === Nf.CURRENT ? d = {
            rowCfg: {
              heightByField: (n = {}, n[s.id] = h, n)
            }
          } : d = {
            cellCfg: {
              height: h
            }
          }, {
            eventType: B.LAYOUT_RESIZE_ROW_HEIGHT,
            style: d
          };
        default:
          return null;
      }
    }, r.prototype.getResizeDetail = function() {
      var t = this.getResizeInfo();
      return t.type === An.Horizontal ? this.getResizeWidthDetail() : this.getResizeHeightDetail();
    }, r.prototype.showResizeGroup = function() {
      this.initResizeGroup(), this.resizeReferenceGroup.set("visible", !0);
    }, r.prototype.hideResizeGroup = function() {
      this.resizeReferenceGroup.set("visible", !1);
    }, r.prototype.bindMouseUp = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_MOUSE_UP, function() {
        var n;
        t.setResizeMaskCursor("default"), !(!t.resizeReferenceGroup || ne((n = t.resizeReferenceGroup) === null || n === void 0 ? void 0 : n.getChildren())) && (t.hideResizeGroup(), t.renderResizedResult());
      });
    }, r.prototype.updateResizeGuideLineTheme = function(t) {
      var n = this.getResizeAreaTheme(), i = n.guideLineColor, o = n.guideLineDisableColor, a = this.getDisAllowResizeInfo().isDisabled;
      t.attr("stroke", a ? o : i), this.setResizeMaskCursor(a ? "no-drop" : "default");
    }, r.prototype.updateHorizontalResizingEndGuideLinePosition = function(t, n, i, o) {
      var a = t.clientX - this.resizeStartPosition.clientX;
      n.width + a < b_ && (a = -(n.width - b_));
      var l = n.offsetX + n.width + a;
      i[1] = l, o[1] = l, this.resizeTarget.attr({
        x: l - n.size / 2
      });
    }, r.prototype.updateVerticalResizingEndGuideLinePosition = function(t, n, i, o) {
      var a = t.clientY - this.resizeStartPosition.clientY;
      n.height + a < E_ && (a = -(n.height - E_));
      var l = n.offsetY + n.height + a;
      i[2] = l, o[2] = l, this.resizeTarget.attr({
        y: l - n.size / 2
      });
    }, r.prototype.renderResizedResult = function() {
      var t = this.getResizeInfo(), n = this.getResizeDetail() || {}, i = n.style, o = n.seriesNumberWidth, a = n.eventType, l = {
        info: t,
        style: i
      };
      this.spreadsheet.emit(B.LAYOUT_RESIZE, l), this.spreadsheet.emit(a, l), i && this.spreadsheet.setOptions({ style: i }), o && this.spreadsheet.setTheme({
        rowCell: {
          seriesNumberWidth: o
        }
      }), this.spreadsheet.store.set("resized", !0), this.render();
    }, r.prototype.getResizeInfo = function() {
      var t = this.getCellAppendInfo(this.resizeTarget), n = this.getResizeGuideLinePosition(), i = n.start, o = n.end, a = Math.floor(o.x - i.x), l = Math.floor(o.y - i.y);
      return F(F({}, t), { resizedWidth: a, resizedHeight: l });
    }, r.prototype.render = function() {
      this.resizeStartPosition = {}, this.resizeTarget = null, this.resizeReferenceGroup = null, this.spreadsheet.render(!1);
    }, r;
  }(Qn)
), uee = [
  pr.ARROW_LEFT,
  pr.ARROW_RIGHT,
  pr.ARROW_UP,
  pr.ARROW_DOWN
], fee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t) {
      return e.call(this, t) || this;
    }
    return r.prototype.isCanvasEffect = function() {
      return this.spreadsheet.interaction.eventController.isCanvasEffect;
    }, r.prototype.bindEvents = function() {
      var t = this;
      this.spreadsheet.on(B.GLOBAL_KEYBOARD_DOWN, function(n) {
        if (t.isCanvasEffect()) {
          var i = n.shiftKey, o = n.metaKey, a = uee.includes(n.key), l = !1, s = !1, f = !1;
          a && (o && i ? (l = !1, s = !0, f = !1) : o ? (l = !0, s = !0, f = !0) : i ? (l = !1, s = !1, f = !1) : (l = !0, s = !1, f = !0), t.handleMove({
            event: n,
            changeStartCell: l,
            isJumpMode: s,
            isSingleSelection: f
          }));
        }
      }), this.spreadsheet.on(B.DATA_CELL_CLICK, function(n) {
        var i = t.spreadsheet.getCell(n.target).getMeta();
        i && (t.startCell = t.getCellMetaFromViewMeta(i), t.endCell = t.startCell);
      });
    }, r.prototype.getCellMetaFromViewMeta = function(t) {
      return {
        rowIndex: t.rowIndex,
        colIndex: t.colIndex,
        id: t.id,
        type: re.DATA_CELL
      };
    }, r.prototype.handleMove = function(t) {
      var n = t.event, i = t.changeStartCell, o = t.isJumpMode, a = t.isSingleSelection, l = this, s = l.spreadsheet, f = l.startCell, h = l.endCell, d = i ? f : h, v = this.getMoveInfo(n.key, d, o);
      if (v) {
        var g = U([v.row, v.col], 2), y = g[0], C = g[1];
        this.scrollToActiveCell(s, y, C);
        var m = this.generateCellMeta(s, y, C), w = a ? [m] : this.getRangeCells(s, f, m);
        hQ(s, w), i && (this.startCell = m), this.endCell = m, this.spreadsheet.emit(B.DATA_CELL_SELECT_MOVE, w);
      }
    }, r.prototype.generateCellMeta = function(t, n, i) {
      var o = t.isTableMode, a = t.facet.layoutResult, l = a.colLeafNodes, s = a.rowLeafNodes, f = o() ? String(n) : s[n].id, h = l[i].id;
      return {
        rowIndex: n,
        colIndex: i,
        id: Pc(f, h),
        type: re.DATA_CELL
      };
    }, r.prototype.getRangeCells = function(t, n, i) {
      for (var o = Qv(n, i), a = o.start, l = a.rowIndex, s = a.colIndex, f = o.end, h = f.rowIndex, d = f.colIndex, v = [], g = l; g <= h; g++)
        for (var y = s; y <= d; y++)
          v.push(this.generateCellMeta(t, g, y));
      return v;
    }, r.prototype.getMoveInfo = function(t, n, i) {
      var o = this.spreadsheet, a = o.options, l = a.frozenColCount, s = l === void 0 ? 0 : l, f = a.frozenRowCount, h = f === void 0 ? 0 : f, d = a.frozenTrailingColCount, v = d === void 0 ? 0 : d, g = a.frozenTrailingRowCount, y = g === void 0 ? 0 : g, C = o.facet.layoutResult, m = C.rowLeafNodes, w = C.colLeafNodes, S = U([
        0 + s,
        w.length - v - 1
      ], 2), x = S[0], b = S[1], O = U([
        0 + h,
        (o.isTableMode() ? o.dataSet.getDisplayDataSet().length : m.length) - y - 1
      ], 2), D = O[0], N = O[1];
      if (n)
        switch (t) {
          case pr.ARROW_RIGHT:
            return n.colIndex + 1 > b ? void 0 : {
              row: n.rowIndex,
              col: i ? b : n.colIndex + 1
            };
          case pr.ARROW_LEFT:
            return n.colIndex - 1 < x ? void 0 : {
              row: n.rowIndex,
              col: i ? x : n.colIndex - 1
            };
          case pr.ARROW_UP:
            return n.rowIndex - 1 < D ? void 0 : {
              row: i ? D : n.rowIndex - 1,
              col: n.colIndex
            };
          case pr.ARROW_DOWN:
            return n.rowIndex + 1 > N ? void 0 : {
              row: i ? N : n.rowIndex + 1,
              col: n.colIndex
            };
        }
    }, r.prototype.calculateOffset = function(t, n, i) {
      var o = t.options, a = o.frozenRowCount, l = a === void 0 ? 0 : a, s = o.frozenTrailingRowCount, f = s === void 0 ? 0 : s, h = t.facet, d = t.frozenColGroup, v = t.frozenTrailingColGroup, g = t.frozenRowGroup, y = t.frozenTrailingRowGroup, C = h.layoutResult.colLeafNodes, m = h.getScrollOffset(), w = m.scrollX, S = m.scrollY, x = h.panelBBox, b = x.viewportHeight, O = x.viewportWidth, D = _e(t, "theme.splitLine"), N = d ? Math.floor(d.getBBox().width - D.verticalBorderWidth / 2) : 0, W = v ? Math.floor(v.getBBox().width) : 0, k = g ? Math.floor(g.getBBox().height - D.horizontalBorderWidth / 2) : 0, ee = y ? Math.floor(y.getBBox().height) : 0, J = Z0(w, S, h.viewCellWidths, h.viewCellHeights, {
        width: O - N - W,
        height: b - k - ee,
        x: N,
        y: k
      }, h.getRealScrollX(h.cornerBBox.width)), te = -1, ae = -1, fe = C.find(function(ie) {
        return ie.colIndex === i;
      });
      if (i <= J[0] ? te = fe.x - N : i >= J[1] && i < C.length - f && (te = fe.x + fe.width - O + W), n <= J[2])
        ae = h.viewCellHeights.getCellOffsetY(n - l);
      else if (n >= J[3]) {
        var j = h.viewCellHeights.getCellOffsetY(n + 1);
        ae = j + ee - b;
      }
      return { offsetX: te, offsetY: ae };
    }, r.prototype.scrollToActiveCell = function(t, n, i) {
      var o = this.calculateOffset(t, n, i), a = o.offsetX, l = o.offsetY, s = t.facet, f = t.facet.getScrollOffset(), h = f.scrollX, d = f.scrollY;
      s.scrollWithAnimation({
        offsetX: { value: a > -1 ? a : h },
        offsetY: { value: l > -1 ? l : d }
      });
    }, r;
  }(Qn)
), cee = (
  /** @class */
  function() {
    function e(r) {
      var t = this;
      this.interactions = /* @__PURE__ */ new Map(), this.intercepts = /* @__PURE__ */ new Set(), this.hoverTimer = null, this.defaultState = {
        cells: [],
        force: !1
      }, this.onTriggerInteractionsResetEffect = function() {
        t.interactions.forEach(function(n) {
          n.reset();
        });
      }, this.selectAll = function() {
        t.changeState({
          stateName: de.ALL_SELECTED
        });
      }, this.getCellChildrenNodes = function(n) {
        var i, o = (i = n == null ? void 0 : n.getMeta) === null || i === void 0 ? void 0 : i.call(n), a = (n == null ? void 0 : n.cellType) === re.ROW_CELL, l = t.spreadsheet.isHierarchyTreeType();
        return l && a ? ir.getAllLeaveNodes(o).filter(function(s) {
          return s.rowIndex === o.rowIndex;
        }) : ir.getAllChildrenNodes(o);
      }, this.selectHeaderCell = function(n) {
        var i;
        n === void 0 && (n = {});
        var o = n.cell;
        if (!ne(o)) {
          var a = (i = o == null ? void 0 : o.getMeta) === null || i === void 0 ? void 0 : i.call(o);
          if (!(!a || Yt(a == null ? void 0 : a.x))) {
            t.addIntercepts([Pe.HOVER]);
            var l = t.spreadsheet.isHierarchyTreeType(), s = (o == null ? void 0 : o.cellType) === re.COL_CELL, f = t.getState(), h = t.isSelectedCell(o), d = (n == null ? void 0 : n.isMultiSelection) && t.isSelectedState(), v = h ? [] : t.getCellChildrenNodes(o), g = h ? [] : [hi(o)];
            if (d && (g = Ga(f == null ? void 0 : f.cells, g), v = Ga(f == null ? void 0 : f.nodes, v), h && (g = g.filter(function(m) {
              var w = m.id;
              return w !== a.id;
            }), v = v.filter(function(m) {
              return !(m != null && m.id.includes(a.id));
            }))), ne(g)) {
              t.reset(), t.spreadsheet.emit(B.GLOBAL_SELECTED, t.getActiveCells());
              return;
            }
            var y = v.filter(function(m) {
              return m == null ? void 0 : m.isLeaf;
            });
            t.changeState({
              cells: g,
              nodes: y,
              stateName: de.SELECTED
            });
            var C = g.map(function(m) {
              var w = m.id;
              return w;
            });
            return t.updateCells(t.getRowColActiveCells(C)), (!l || s) && t.highlightNodes(v), t.spreadsheet.emit(B.GLOBAL_SELECTED, t.getActiveCells()), !0;
          }
        }
      }, this.highlightNodes = function(n) {
        n === void 0 && (n = []), n.forEach(function(i) {
          var o;
          (o = i == null ? void 0 : i.belongsCell) === null || o === void 0 || o.updateByState(de.SELECTED, i.belongsCell);
        });
      }, this.mergeCells = function(n, i) {
        AZ(t.spreadsheet, n, i);
      }, this.unmergeCell = function(n) {
        OZ(t.spreadsheet, n);
      }, this.spreadsheet = r, this.registerEventController(), this.registerInteractions(), window.addEventListener("visibilitychange", this.onTriggerInteractionsResetEffect);
    }
    return e.prototype.destroy = function() {
      this.interactions.clear(), this.intercepts.clear(), this.eventController.clear(), this.clearHoverTimer(), this.resetState(), window.removeEventListener("visibilitychange", this.onTriggerInteractionsResetEffect);
    }, e.prototype.reset = function() {
      this.clearState(), this.clearHoverTimer(), this.intercepts.clear(), this.spreadsheet.hideTooltip();
    }, e.prototype.setState = function(r) {
      vQ(this.spreadsheet, r);
    }, e.prototype.getState = function() {
      return this.spreadsheet.store.get(Tv) || this.defaultState;
    }, e.prototype.setInteractedCells = function(r) {
      var t = this.getInteractedCells().concat([r]), n = this.getState();
      n.interactedCells = t, this.setState(n);
    }, e.prototype.getInteractedCells = function() {
      var r = this.getState();
      return (r == null ? void 0 : r.interactedCells) || [];
    }, e.prototype.resetState = function() {
      this.spreadsheet.store.set(Tv, this.defaultState);
    }, e.prototype.getCurrentStateName = function() {
      return this.getState().stateName;
    }, e.prototype.isEqualStateName = function(r) {
      return this.getCurrentStateName() === r;
    }, e.prototype.isStateOf = function(r) {
      var t = this.getState();
      return (t == null ? void 0 : t.stateName) === r;
    }, e.prototype.isSelectedState = function() {
      return this.isStateOf(de.SELECTED) || this.isStateOf(de.BRUSH_SELECTED);
    }, e.prototype.isAllSelectedState = function() {
      return this.isStateOf(de.ALL_SELECTED);
    }, e.prototype.isHoverFocusState = function() {
      return this.isStateOf(de.HOVER_FOCUS);
    }, e.prototype.isHoverState = function() {
      return this.isStateOf(de.HOVER);
    }, e.prototype.isActiveCell = function(r) {
      return !!this.getCells().find(function(t) {
        return r.getMeta().id === t.id;
      });
    }, e.prototype.isSelectedCell = function(r) {
      return this.isSelectedState() && this.isActiveCell(r);
    }, e.prototype.getCells = function(r) {
      var t = this.getState(), n = (t == null ? void 0 : t.cells) || [];
      return Yt(r) ? n : n.filter(function(i) {
        return r.includes(i.type);
      });
    }, e.prototype.getActiveCells = function() {
      var r = this.getCells().map(function(n) {
        return n.id;
      }), t = this.getAllCells();
      return Ke(r, function(n) {
        return Cr(t, function(i) {
          var o;
          return ((o = i == null ? void 0 : i.getMeta()) === null || o === void 0 ? void 0 : o.id) === n;
        });
      }).filter(function(n) {
        return n;
      });
    }, e.prototype.clearStyleIndependent = function() {
      !this.isSelectedState() && !this.isHoverState() && !this.isAllSelectedState() || this.getPanelGroupAllDataCells().forEach(function(r) {
        r.hideInteractionShape();
      });
    }, e.prototype.getPanelGroupAllUnSelectedDataCells = function() {
      var r = this;
      return this.getPanelGroupAllDataCells().filter(function(t) {
        return !r.isActiveCell(t);
      });
    }, e.prototype.getPanelGroupAllDataCells = function() {
      var r;
      return cs((r = this.spreadsheet.panelGroup) === null || r === void 0 ? void 0 : r.getChildren(), Bo);
    }, e.prototype.getAllRowHeaderCells = function() {
      var r, t, n = ((r = this.spreadsheet.foregroundGroup) === null || r === void 0 ? void 0 : r.getChildren()) || [], i = n.find(function(a) {
        return a instanceof pg && !(a instanceof SE);
      }), o = ((t = i == null ? void 0 : i.cfg) === null || t === void 0 ? void 0 : t.children) || [];
      return cs(o, tu).filter(function(a) {
        return a.cellType === re.ROW_CELL;
      });
    }, e.prototype.getAllColHeaderCells = function() {
      var r, t, n = ((r = this.spreadsheet.foregroundGroup) === null || r === void 0 ? void 0 : r.getChildren()) || [], i = n.find(function(a) {
        return a instanceof vg;
      }), o = ((t = i == null ? void 0 : i.cfg) === null || t === void 0 ? void 0 : t.children) || [];
      return cs(o, Fc).filter(function(a) {
        return a.cellType === re.COL_CELL;
      });
    }, e.prototype.getRowColActiveCells = function(r) {
      return Ga(this.getAllRowHeaderCells(), this.getAllColHeaderCells()).filter(function(t) {
        return r.includes(t.getMeta().id);
      });
    }, e.prototype.getAllCells = function() {
      return Ga(this.getPanelGroupAllDataCells(), this.getAllRowHeaderCells(), this.getAllColHeaderCells());
    }, e.prototype.hideColumns = function(r, t) {
      r === void 0 && (r = []), t === void 0 && (t = !0), rg(this.spreadsheet, r, t);
    }, e.prototype.getBrushSelectionInfo = function(r) {
      var t, n, i;
      return ui(r) ? {
        dataBrushSelection: r,
        rowBrushSelection: r,
        colBrushSelection: r
      } : {
        dataBrushSelection: (t = r == null ? void 0 : r.data) !== null && t !== void 0 ? t : !1,
        rowBrushSelection: (n = r == null ? void 0 : r.row) !== null && n !== void 0 ? n : !1,
        colBrushSelection: (i = r == null ? void 0 : r.col) !== null && i !== void 0 ? i : !1
      };
    }, e.prototype.getDefaultInteractions = function() {
      var r = this.spreadsheet.options.interaction, t = r.resize, n = r.brushSelection, i = r.multiSelection, o = r.rangeSelection, a = r.selectedCellMove, l = this.getBrushSelectionInfo(n), s = l.dataBrushSelection, f = l.rowBrushSelection, h = l.colBrushSelection;
      return [
        {
          key: Er.CORNER_CELL_CLICK,
          interaction: eee
        },
        {
          key: Er.DATA_CELL_CLICK,
          interaction: jJ
        },
        {
          key: Er.ROW_COLUMN_CLICK,
          interaction: QJ
        },
        {
          key: Er.ROW_TEXT_CLICK,
          interaction: JJ
        },
        {
          key: Er.MERGED_CELLS_CLICK,
          interaction: ZJ
        },
        {
          key: Er.HOVER,
          interaction: tee,
          enable: !Qt()
        },
        {
          key: Er.BRUSH_SELECTION,
          interaction: nee,
          enable: !Qt() && s
        },
        {
          key: Er.ROW_BRUSH_SELECTION,
          interaction: iee,
          enable: !Qt() && f
        },
        {
          key: Er.COL_BRUSH_SELECTION,
          interaction: ree,
          enable: !Qt() && h
        },
        {
          key: Er.COL_ROW_RESIZE,
          interaction: see,
          enable: !Qt() && t
        },
        {
          key: Er.DATA_CELL_MULTI_SELECTION,
          interaction: oee,
          enable: !Qt() && i
        },
        {
          key: Er.RANGE_SELECTION,
          interaction: lee,
          enable: !Qt() && o
        },
        {
          key: Er.SELECTED_CELL_MOVE,
          interaction: fee,
          enable: !Qt() && a
        }
      ];
    }, e.prototype.registerInteractions = function() {
      var r = this, t = this.spreadsheet.options.interaction.customInteractions;
      this.interactions.clear();
      var n = this.getDefaultInteractions();
      n.forEach(function(i) {
        var o = i.key, a = i.interaction, l = i.enable;
        l !== !1 && r.interactions.set(o, new a(r.spreadsheet));
      }), ne(t) || Oe(t, function(i) {
        var o = i.interaction;
        r.interactions.set(i.key, new o(r.spreadsheet));
      });
    }, e.prototype.registerEventController = function() {
      this.eventController = new aee(this.spreadsheet);
    }, e.prototype.draw = function() {
      this.spreadsheet.container.draw();
    }, e.prototype.clearState = function() {
      tE(this.spreadsheet) && this.draw();
    }, e.prototype.changeState = function(r) {
      var t = this, n = this.spreadsheet.interaction, i = r.cells, o = i === void 0 ? [] : i, a = r.force, l = r.stateName, s = r.onUpdateCells;
      if (ne(o) && l === de.SELECTED) {
        a && n.changeState({
          cells: [],
          stateName: de.UNSELECTED
        });
        return;
      }
      this.getCurrentStateName() === de.ALL_SELECTED && this.clearStyleIndependent(), this.clearState(), this.setState(r);
      var f = function() {
        t.updatePanelGroupAllDataCells();
      };
      s ? s(this, f) : f(), this.draw();
    }, e.prototype.updatePanelGroupAllDataCells = function() {
      this.updateCells(this.getPanelGroupAllDataCells());
    }, e.prototype.updateCells = function(r) {
      r === void 0 && (r = []), r.forEach(function(t) {
        t.update();
      });
    }, e.prototype.addIntercepts = function(r) {
      var t = this;
      r === void 0 && (r = []), r.forEach(function(n) {
        t.intercepts.add(n);
      });
    }, e.prototype.hasIntercepts = function(r) {
      var t = this;
      return r === void 0 && (r = []), r.some(function(n) {
        return t.intercepts.has(n);
      });
    }, e.prototype.removeIntercepts = function(r) {
      var t = this;
      r === void 0 && (r = []), r.forEach(function(n) {
        t.intercepts.delete(n);
      });
    }, e.prototype.clearHoverTimer = function() {
      clearTimeout(this.hoverTimer);
    }, e.prototype.setHoverTimer = function(r) {
      this.hoverTimer = r;
    }, e.prototype.getHoverTimer = function() {
      return this.hoverTimer;
    }, e.prototype.getSelectedCellHighlight = function() {
      var r = this.spreadsheet.options.interaction.selectedCellHighlight;
      if (ui(r))
        return {
          rowHeader: r,
          colHeader: r,
          currentRow: !1,
          currentCol: !1
        };
      var t = r ?? {}, n = t.rowHeader, i = n === void 0 ? !1 : n, o = t.colHeader, a = o === void 0 ? !1 : o, l = t.currentRow, s = l === void 0 ? !1 : l, f = t.currentCol, h = f === void 0 ? !1 : f;
      return {
        rowHeader: i,
        colHeader: a,
        currentRow: s,
        currentCol: h
      };
    }, e.prototype.getHoverAfterScroll = function() {
      return this.spreadsheet.options.interaction.hoverAfterScroll;
    }, e.prototype.getHoverHighlight = function() {
      var r = this.spreadsheet.options.interaction.hoverHighlight;
      if (ui(r))
        return {
          rowHeader: r,
          colHeader: r,
          currentRow: r,
          currentCol: r
        };
      var t = r ?? {}, n = t.rowHeader, i = n === void 0 ? !1 : n, o = t.colHeader, a = o === void 0 ? !1 : o, l = t.currentRow, s = l === void 0 ? !1 : l, f = t.currentCol, h = f === void 0 ? !1 : f;
      return {
        rowHeader: i,
        colHeader: a,
        currentRow: s,
        currentCol: h
      };
    }, e.prototype.getBrushSelection = function() {
      var r = this.spreadsheet.options.interaction.brushSelection;
      if (ui(r))
        return {
          data: r,
          row: r,
          col: r
        };
      var t = r ?? {}, n = t.data, i = n === void 0 ? !1 : n, o = t.row, a = o === void 0 ? !1 : o, l = t.col, s = l === void 0 ? !1 : l;
      return {
        data: i,
        row: a,
        col: s
      };
    }, e;
  }()
), hee = (
  /** @class */
  function() {
    function e(r) {
      var t = this;
      this.viewport = window, this.isDevicePixelRatioChange = !1, this.init = function() {
        t.initDevicePixelRatioListener(), t.initDeviceZoomListener();
      }, this.destroy = function() {
        t.removeDevicePixelRatioListener(), t.removeDeviceZoomListener();
      }, this.removeDevicePixelRatioListener = function() {
        var n;
        !((n = t.devicePixelRatioMedia) === null || n === void 0) && n.removeEventListener ? t.devicePixelRatioMedia.removeEventListener("change", t.renderByDevicePixelRatioChanged) : t.devicePixelRatioMedia.removeListener(t.renderByDevicePixelRatioChanged);
      }, this.initDeviceZoomListener = function() {
        var n, i;
        Qt() || (i = (n = t.viewport) === null || n === void 0 ? void 0 : n.visualViewport) === null || i === void 0 || i.addEventListener("resize", t.renderByZoomScaleWithoutResizeEffect);
      }, this.removeDeviceZoomListener = function() {
        var n, i;
        Qt() || (i = (n = t.viewport) === null || n === void 0 ? void 0 : n.visualViewport) === null || i === void 0 || i.removeEventListener("resize", t.renderByZoomScaleWithoutResizeEffect);
      }, this.renderByZoomScaleWithoutResizeEffect = function(n) {
        t.isDevicePixelRatioChange = !1, t.renderByZoomScale(n);
      }, this.renderByDevicePixelRatioChanged = function() {
        t.isDevicePixelRatioChange = !0, t.renderByDevicePixelRatio();
      }, this.renderByDevicePixelRatio = function(n) {
        n === void 0 && (n = window.devicePixelRatio);
        var i = t.spreadsheet, o = i.container, a = i.options, l = a.width, s = a.height, f = a.devicePixelRatio, h = t.spreadsheet.getCanvasElement(), d = o.get("pixelRatio");
        if (!(d === n || !h)) {
          var v = Math.max(n, f, ES);
          o.set("pixelRatio", v), o.changeSize(l, s), t.spreadsheet.render(!1);
        }
      }, this.renderByZoomScale = Es(function(n) {
        var i = Math.ceil(n.target.scale);
        i >= 1 && !t.isDevicePixelRatioChange && t.renderByDevicePixelRatio(i);
      }, 350), this.spreadsheet = r;
    }
    return e.prototype.initDevicePixelRatioListener = function() {
      var r;
      this.devicePixelRatioMedia = window.matchMedia("(resolution: ".concat(window.devicePixelRatio, "dppx)")), !((r = this.devicePixelRatioMedia) === null || r === void 0) && r.addEventListener ? this.devicePixelRatioMedia.addEventListener("change", this.renderByDevicePixelRatioChanged) : this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged);
    }, e;
  }()
), sp = (
  /** @class */
  function() {
    function e(r) {
      this.visible = !1, this.position = { x: 0, y: 0 }, this.spreadsheet = r;
    }
    return e.prototype.show = function(r) {
      var t, n, i, o = r.position, a = r.options, l = r.content, s = r.event, f = pE(a).enterable, h = this.spreadsheet.options.tooltip || {}, d = h.autoAdjustBoundary, v = h.adjustPosition;
      this.visible = !0, this.options = r;
      var g = this.getContainer();
      this.renderContent(l);
      var y = vJ({
        spreadsheet: this.spreadsheet,
        position: o,
        tooltipContainer: g,
        autoAdjustBoundary: d
      }), C = y.x, m = y.y;
      this.position = (t = v == null ? void 0 : v({ position: { x: C, y: m }, event: s })) !== null && t !== void 0 ? t : {
        x: C,
        y: m
      }, uf(g, {
        style: {
          left: "".concat((n = this.position) === null || n === void 0 ? void 0 : n.x, "px"),
          top: "".concat((i = this.position) === null || i === void 0 ? void 0 : i.y, "px"),
          pointerEvents: f ? "all" : "none"
        },
        visible: !0
      });
    }, e.prototype.hide = function() {
      this.visible = !1, this.container && (uf(this.container, {
        style: {
          pointerEvents: "none"
        },
        visible: !1
      }), this.resetPosition());
    }, e.prototype.destroy = function() {
      var r, t;
      this.visible = !1, this.container && (this.resetPosition(), (t = (r = this.container).remove) === null || t === void 0 || t.call(r), this.container = null);
    }, e.prototype.renderContent = function(r) {
      if (this.container) {
        this.clearContent();
        var t = (this.spreadsheet.options.tooltip || {}).content, n = r ?? t;
        if (!Yt(n)) {
          if (typeof n == "string") {
            this.container.innerHTML = n;
            return;
          }
          n instanceof Element && this.container.appendChild(n);
        }
      }
    }, e.prototype.clearContent = function() {
      this.container && (this.container.innerHTML = "");
    }, e.prototype.disablePointerEvent = function() {
      this.container && this.container.style.pointerEvents !== "none" && uf(this.container, {
        style: {
          pointerEvents: "none"
        }
      });
    }, e.prototype.resetPosition = function() {
      this.position = { x: 0, y: 0 };
    }, e.prototype.getContainer = function() {
      var r;
      if (!this.container) {
        var t = this.spreadsheet.options.tooltip, n = ((r = t.getContainer) === null || r === void 0 ? void 0 : r.call(t)) || document.body, i = document.createElement("div");
        return uf(i, {
          style: t.style,
          className: [q0].concat(t.className)
        }), n.appendChild(i), this.container = i, this.container;
      }
      return this.container;
    }, e;
  }()
), OE = (
  /** @class */
  function(e) {
    ye(r, e);
    function r(t, n, i) {
      var o = e.call(this) || this;
      return o.store = new BK(), o.untypedOn = o.on, o.untypedEmit = o.emit, o.on = function(a, l) {
        return o.untypedOn(a, l);
      }, o.emit = function(a) {
        for (var l = [], s = 1; s < arguments.length; s++)
          l[s - 1] = arguments[s];
        return o.untypedEmit.apply(o, Q([a], U(l), !1));
      }, o.initHiddenColumnsDetail = function() {
        var a = o.options.interaction.hiddenColumnFields, l = o.store.get("hiddenColumnsDetail");
        ne(a) && ne(l) || rg(o, a, !0);
      }, o.measureText = Ca(function(a, l) {
        var s;
        if (a === void 0 && (a = ""), !l)
          return null;
        var f = (s = o.getCanvasElement()) === null || s === void 0 ? void 0 : s.getContext("2d"), h = l, d = h.fontSize, v = h.fontFamily, g = h.fontWeight, y = h.fontStyle, C = h.fontVariant;
        return f.font = [
          y,
          C,
          g,
          "".concat(d, "px"),
          v
        ].join(" ").trim(), f.measureText(String(a));
      }, function(a, l) {
        return Q([a], U(Qi(l)), !1).join("");
      }), o.measureTextWidth = function(a, l) {
        a === void 0 && (a = "");
        var s = o.measureText(a, l);
        return (s == null ? void 0 : s.width) || 0;
      }, o.measureTextHeight = function(a, l) {
        a === void 0 && (a = "");
        var s = o.measureText(a, l);
        return s ? s.actualBoundingBoxAscent + s.actualBoundingBoxDescent : 0;
      }, o.measureTextWidthRoughly = function(a, l) {
        var s, f;
        l === void 0 && (l = {});
        var h = o.measureTextWidth("a", l), d = o.measureTextWidth("蚂", l), v = 0;
        if (!a)
          return v;
        try {
          for (var g = Yr(a), y = g.next(); !y.done; y = g.next()) {
            var C = y.value, m = C.charCodeAt(0);
            v += m >= 0 && m <= 255 ? h : d;
          }
        } catch (w) {
          s = { error: w };
        } finally {
          try {
            y && !y.done && (f = g.return) && f.call(g);
          } finally {
            if (s)
              throw s.error;
          }
        }
        return v;
      }, o.dataCfg = Nd(n), o.options = rw(i), o.dataSet = o.getDataSet(o.options), o.setDebug(), o.initTooltip(), o.initGroups(t), o.bindEvents(), o.initInteraction(), o.initTheme(), o.initHdAdapter(), o.registerIcons(), o.setOverscrollBehavior(), o;
    }
    return r.prototype.setOverscrollBehavior = function() {
      var t = this.options.interaction.overscrollBehavior, n = window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior"), i = n && n !== "auto";
      i ? this.store.set("initOverscrollBehavior", n) : t && (document.body.style.overscrollBehavior = t);
    }, r.prototype.restoreOverscrollBehavior = function() {
      document.body.style.overscrollBehavior = this.store.get("initOverscrollBehavior") || "";
    }, r.prototype.setDebug = function() {
      fi.getInstance().setDebug(this.options.debug);
    }, r.prototype.initTheme = function() {
      this.setThemeCfg({
        name: "default"
      });
    }, r.prototype.getMountContainer = function(t) {
      var n = Sl(t) ? document.querySelector(t) : t;
      if (!n)
        throw new Error("Target mount container is not a DOM element");
      return n;
    }, r.prototype.initHdAdapter = function() {
      this.options.hdAdapter && (this.hdAdapter = new hee(this), this.hdAdapter.init());
    }, r.prototype.initInteraction = function() {
      var t, n;
      (n = (t = this.interaction) === null || t === void 0 ? void 0 : t.destroy) === null || n === void 0 || n.call(t), this.interaction = new cee(this);
    }, r.prototype.initTooltip = function() {
      var t, n, i, o;
      (n = (t = this.tooltip) === null || t === void 0 ? void 0 : t.destroy) === null || n === void 0 || n.call(t), this.tooltip = this.renderTooltip(), this.tooltip instanceof sp || console.warn("[Custom Tooltip]: ".concat((o = (i = this.tooltip) === null || i === void 0 ? void 0 : i.constructor) === null || o === void 0 ? void 0 : o.toString(), " should be extends from BaseTooltip"));
    }, r.prototype.renderTooltip = function() {
      var t, n;
      return ((n = (t = this.options.tooltip) === null || t === void 0 ? void 0 : t.renderTooltip) === null || n === void 0 ? void 0 : n.call(t, this)) || new sp(this);
    }, r.prototype.showTooltip = function(t) {
      var n, i, o = t.content, a = t.event, l = this.getCell(a == null ? void 0 : a.target), s = Jt(o) ? o(l, t) : o;
      (i = (n = this.tooltip).show) === null || i === void 0 || i.call(n, F(F({}, t), { content: s }));
    }, r.prototype.showTooltipWithInfo = function(t, n, i) {
      var o, a = hg(this, t), l = a.showTooltip, s = a.content;
      if (l) {
        var f = this.getCell(t == null ? void 0 : t.target), h = (o = i == null ? void 0 : i.data) !== null && o !== void 0 ? o : SJ({
          spreadsheet: this,
          cellInfos: n,
          targetCell: f,
          options: F({ enableFormat: !0 }, i)
        });
        this.showTooltip({
          data: h,
          position: {
            x: t.clientX,
            y: t.clientY
          },
          options: F({ enterable: !0 }, i),
          event: t,
          content: s
        });
      }
    }, r.prototype.hideTooltip = function() {
      var t, n;
      (n = (t = this.tooltip).hide) === null || n === void 0 || n.call(t);
    }, r.prototype.destroyTooltip = function() {
      var t, n;
      (n = (t = this.tooltip).destroy) === null || n === void 0 || n.call(t);
    }, r.prototype.registerIcons = function() {
      var t = this.options.customSVGIcons;
      ne(t) || Oe(t, function(n) {
        pb(n.name, n.svg);
      });
    }, r.prototype.setDataCfg = function(t, n) {
      this.store.set("originalDataCfg", t), n ? this.dataCfg = Nd(t) : this.dataCfg = Nd(this.dataCfg, t), LJ(this);
    }, r.prototype.setOptions = function(t, n) {
      var i;
      this.hideTooltip(), n ? this.options = rw(t) : this.options = ii(this.options, t), (n || !((i = t.tooltip) === null || i === void 0) && i.renderTooltip) && this.initTooltip(), this.registerIcons();
    }, r.prototype.render = function(t, n) {
      if (t === void 0 && (t = !0), n === void 0 && (n = {}), !!this.getCanvasElement()) {
        var i = n.reBuildDataSet, o = i === void 0 ? !1 : i, a = n.reBuildHiddenColumnsDetail, l = a === void 0 ? !0 : a;
        this.emit(B.LAYOUT_BEFORE_RENDER), o && (this.dataSet = this.getDataSet(this.options)), t && (this.clearDrillDownData("", !0), this.dataSet.setDataCfg(this.dataCfg)), this.buildFacet(), l && this.initHiddenColumnsDetail(), this.emit(B.LAYOUT_AFTER_RENDER);
      }
    }, r.prototype.destroy = function() {
      var t, n, i, o, a;
      this.restoreOverscrollBehavior(), this.emit(B.LAYOUT_DESTROY), (t = this.facet) === null || t === void 0 || t.destroy(), (n = this.hdAdapter) === null || n === void 0 || n.destroy(), (i = this.interaction) === null || i === void 0 || i.destroy(), (o = this.store) === null || o === void 0 || o.clear(), this.destroyTooltip(), this.clearCanvasEvent(), (a = this.container) === null || a === void 0 || a.destroy(), KK();
    }, r.prototype.setThemeCfg = function(t) {
      t === void 0 && (t = {});
      var n = (t == null ? void 0 : t.theme) || {}, i = sK(F(F({}, t), { spreadsheet: this }));
      this.theme = ii(i, n);
    }, r.prototype.setTheme = function(t) {
      this.theme = ii(this.theme, t);
    }, r.prototype.updatePagination = function(t) {
      this.options = ii(this.options, {
        pagination: t
      }), this.store.set("scrollX", 0), this.store.set("scrollY", 0);
    }, r.prototype.getContentHeight = function() {
      return this.facet.getContentHeight();
    }, r.prototype.changeSize = function(t, n) {
      t === void 0 && (t = this.options.width), n === void 0 && (n = this.options.height), this.changeSheetSize(t, n);
    }, r.prototype.changeSheetSize = function(t, n) {
      t === void 0 && (t = this.options.width), n === void 0 && (n = this.options.height);
      var i = this.getCanvasElement(), o = this.container.get("width"), a = this.container.get("height"), l = t !== o || n !== a;
      !l || !i || (this.options = ii(this.options, { width: t, height: n }), this.container.changeSize(t, n));
    }, r.prototype.getCanvasElement = function() {
      return this.container.get("el");
    }, r.prototype.getLayoutWidthType = function() {
      return this.options.style.layoutWidthType;
    }, r.prototype.getRowNodes = function(t) {
      return t === void 0 && (t = -1), t === -1 ? this.facet.layoutResult.rowNodes : this.facet.layoutResult.rowNodes.filter(function(n) {
        return n.level === t;
      });
    }, r.prototype.getRowLeafNodes = function() {
      var t;
      return ((t = this.facet) === null || t === void 0 ? void 0 : t.layoutResult.rowLeafNodes) || [];
    }, r.prototype.getColumnNodes = function(t) {
      var n;
      t === void 0 && (t = -1);
      var i = ((n = this.facet) === null || n === void 0 ? void 0 : n.layoutResult.colNodes) || [];
      return t === -1 ? i : i.filter(function(o) {
        return o.level === t;
      });
    }, r.prototype.getColumnLeafNodes = function() {
      var t;
      return ((t = this.facet) === null || t === void 0 ? void 0 : t.layoutResult.colLeafNodes) || [];
    }, r.prototype.updateScrollOffset = function(t) {
      var n = {
        offsetX: {
          value: void 0,
          animate: !1
        },
        offsetY: {
          value: void 0,
          animate: !1
        },
        rowHeaderOffsetX: {
          value: void 0,
          animate: !1
        }
      };
      this.facet.updateScrollOffset(ii(n, t));
    }, r.prototype.getTooltipDataItemMappingCallback = function() {
      var t;
      return (t = this.options) === null || t === void 0 ? void 0 : t.mappingDisplayDataItem;
    }, r.prototype.isCellType = function(t) {
      return t instanceof Dc;
    }, r.prototype.getCell = function(t) {
      for (var n, i = t; i && !(i instanceof m_); ) {
        if (this.isCellType(i))
          return i;
        i = (n = i.get) === null || n === void 0 ? void 0 : n.call(i, "parent");
      }
      return null;
    }, r.prototype.getCellType = function(t) {
      var n = this.getCell(t);
      return n == null ? void 0 : n.cellType;
    }, r.prototype.getTotalsConfig = function(t) {
      var n = this.options.totals, i = this.dataSet.fields.rows, o = _e(n, Or(i, t) ? "row" : "col", {}), a = o.showSubTotals && Or(o.subTotalsDimensions, t) ? o.showSubTotals : !1;
      return F(F({ label: Mt("总计"), subLabel: Mt("小计"), totalsGroupDimensions: [], subTotalsGroupDimensions: [] }, o), { showSubTotals: a });
    }, r.prototype.initGroups = function(t) {
      var n = this.options, i = n.width, o = n.height, a = n.supportCSSTransform, l = n.devicePixelRatio;
      this.container = new m_({
        container: this.getMountContainer(t),
        width: i,
        height: o,
        localRefresh: !1,
        supportCSSTransform: a,
        pixelRatio: Math.max(l, ES)
      }), this.backgroundGroup = this.container.addGroup({
        name: mD,
        zIndex: vD
      }), this.panelGroup = this.container.addGroup({
        name: xD,
        zIndex: CD
      }), this.foregroundGroup = this.container.addGroup({
        name: wD,
        zIndex: pD
      }), this.initPanelGroupChildren(), this.updateContainerStyle();
    }, r.prototype.updateContainerStyle = function() {
      var t = this.getCanvasElement();
      t && (t.style.display = "block");
    }, r.prototype.initPanelGroupChildren = function() {
      this.panelScrollGroup = new KJ({
        name: SD,
        zIndex: _D,
        s2: this
      }), this.panelGroup.add(this.panelScrollGroup);
    }, r.prototype.getInitColumnLeafNodes = function() {
      return this.store.get("initColumnLeafNodes", []);
    }, r.prototype.clearColumnLeafNodes = function() {
      this.store.set("initColumnLeafNodes", void 0);
    }, r.prototype.clearCanvasEvent = function() {
      var t = this, n = this.getEvents();
      pT(n, function(i, o) {
        t.off(o);
      });
    }, r.prototype.updateSortMethodMap = function(t, n, i) {
      var o;
      i === void 0 && (i = !1);
      var a = i ? null : this.store.get("sortMethodMap");
      this.store.set("sortMethodMap", F(F({}, a), (o = {}, o[t] = n, o)));
    }, r.prototype.getMenuDefaultSelectedKeys = function(t) {
      var n = this.store.get("sortMethodMap"), i = _e(n, t);
      return i ? [i] : [];
    }, r;
  }(nc)
), dee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      return e !== null && e.apply(this, arguments) || this;
    }
    return r.prototype.getDataSet = function(t) {
      var n = t.dataSet, i = t.hierarchyType;
      if (n)
        return n(this);
      var o = i === "customTree" ? new OJ(this) : new ap(this);
      return o;
    }, r.prototype.getContentHeight = function() {
      return this.facet.getContentHeight();
    }, r.prototype.isPivotMode = function() {
      return !0;
    }, r.prototype.isTableMode = function() {
      return !1;
    }, r.prototype.isHierarchyTreeType = function() {
      var t = this.options.hierarchyType;
      return t === "tree" || t === "customTree";
    }, r.prototype.isScrollContainsRowHeader = function() {
      return !this.isFrozenRowHeader();
    }, r.prototype.isFrozenRowHeader = function() {
      var t;
      return (t = this.options) === null || t === void 0 ? void 0 : t.frozenRowHeader;
    }, r.prototype.isValueInCols = function() {
      return this.dataSet.fields.valueInCols;
    }, r.prototype.clearDrillDownData = function(t, n) {
      if (this.dataSet instanceof ap) {
        var i = this.dataSet.clearDrillDownData(t);
        i && !n && (this.interaction.reset(), this.render(!1));
      }
    }, r.prototype.getFacetCfgFromDataSetAndOptions = function() {
      var t = this, n = this.dataSet, i = n.fields, o = n.meta, a = this.options, l = a.style, s = a.dataCell, f = function(h) {
        return new Bo(h, t);
      };
      return F(F(F(F({}, this.options), i), l), { meta: o, spreadsheet: this, dataSet: this.dataSet, dataCell: s ?? f });
    }, r.prototype.buildFacet = function() {
      var t, n = this.getFacetCfgFromDataSetAndOptions();
      (t = this.facet) === null || t === void 0 || t.destroy(), this.facet = new XJ(n), this.facet.render();
    }, r.prototype.bindEvents = function() {
      this.off(B.ROW_CELL_COLLAPSE_TREE_ROWS), this.off(B.LAYOUT_TREE_ROWS_COLLAPSE_ALL), this.on(B.ROW_CELL_COLLAPSE_TREE_ROWS, this.handleRowCellCollapseTreeRows), this.on(B.LAYOUT_TREE_ROWS_COLLAPSE_ALL, this.handleTreeRowsCollapseAll);
    }, r.prototype.handleRowCellCollapseTreeRows = function(t) {
      var n, i = t.id, o = t.isCollapsed, a = {
        style: {
          collapsedRows: (n = {}, n[i] = o, n)
        }
      };
      this.emit(B.LAYOUT_COLLAPSE_ROWS, {
        collapsedRows: a.style.collapsedRows,
        meta: t == null ? void 0 : t.node
      }), this.setOptions(a), this.render(!1), this.emit(B.LAYOUT_AFTER_COLLAPSE_ROWS, {
        collapsedRows: a.style.collapsedRows,
        meta: t == null ? void 0 : t.node
      });
    }, r.prototype.handleTreeRowsCollapseAll = function(t) {
      var n = {
        style: {
          hierarchyCollapse: !t,
          collapsedRows: null,
          rowExpandDepth: null
        }
      };
      this.setOptions(n), this.render(!1);
    }, r.prototype.groupSortByMethod = function(t, n) {
      var i = this.dataCfg.fields, o = i.rows, a = i.columns, l = this.options.style.colCfg.hideMeasureColumn, s = this.isValueInCols() ? gt(o) : gt(a), f = n.query, h = n.value, d = wl(f), v = h;
      l && this.isValueInCols() && (v = this.dataSet.fields.values[0], d[Ne] = v);
      var g = {
        sortFieldId: s,
        sortMethod: t,
        sortByMeasure: v,
        query: d
      }, y = this.dataCfg.sortParams.filter(function(m) {
        return (m == null ? void 0 : m.sortFieldId) !== s;
      });
      this.updateSortMethodMap(n.id, t, !0);
      var C = Q(Q([], U(y), !1), [g], !1);
      this.emit(B.RANGE_SORT, C), this.setDataCfg(F(F({}, this.dataCfg), { sortParams: C })), this.render();
    }, r.prototype.handleGroupSort = function(t, n) {
      var i = this;
      t.stopPropagation(), this.interaction.addIntercepts([Pe.HOVER]);
      var o = this.getMenuDefaultSelectedKeys(n == null ? void 0 : n.id), a = {
        onClick: function(l) {
          var s = l.key, f = s;
          i.groupSortByMethod(f, n), i.emit(B.RANGE_SORTED, t);
        },
        menus: iK(),
        defaultSelectedKeys: o
      };
      this.showTooltipWithInfo(t, [], {
        operator: a,
        onlyMenu: !0,
        // 确保 tooltip 内容更新 https://github.com/antvis/S2/issues/1716
        forceRender: !0
      });
    }, r.prototype.initPanelGroupChildren = function() {
      e.prototype.initPanelGroupChildren.call(this);
      var t = {
        zIndex: gS,
        s2: this
      };
      this.frozenRowGroup = new RE(F({ KEY_GROUP_PANEL_FROZEN_ROW: yS }, t)), this.panelGroup.add(this.frozenRowGroup);
    }, r.prototype.isCellType = function(t) {
      return t instanceof Dc && !(t instanceof Jb);
    }, r;
  }(OE)
), vee = (
  /** @class */
  function(e) {
    ye(r, e);
    function r() {
      var t = e !== null && e.apply(this, arguments) || this;
      return t.onSortTooltipClick = function(n, i) {
        var o = n.key, a = i.field, l = {
          sortFieldId: a,
          sortMethod: o
        };
        t.updateSortMethodMap(i.id, o), t.emit(B.RANGE_SORT, [l]);
      }, t;
    }
    return r.prototype.getDataSet = function(t) {
      var n = t.dataSet;
      return n ? n(this) : new IJ(this);
    }, r.prototype.isPivotMode = function() {
      return !1;
    }, r.prototype.isTableMode = function() {
      return !0;
    }, r.prototype.isHierarchyTreeType = function() {
      return !1;
    }, r.prototype.isScrollContainsRowHeader = function() {
      return !1;
    }, r.prototype.isFrozenRowHeader = function() {
      return !1;
    }, r.prototype.clearDrillDownData = function() {
    }, r.prototype.isValueInCols = function() {
      return !1;
    }, r.prototype.bindEvents = function() {
    }, r.prototype.initPanelGroupChildren = function() {
      var t, n = this;
      e.prototype.initPanelGroupChildren.call(this);
      var i = {
        zIndex: gS,
        s2: this
      };
      t = U([
        yS,
        CS,
        TD,
        bD,
        ED,
        LD
      ].map(function(o) {
        var a = new RE(F({ name: o }, i));
        return n.panelGroup.add(a), a;
      }), 6), this.frozenRowGroup = t[0], this.frozenColGroup = t[1], this.frozenTrailingRowGroup = t[2], this.frozenTrailingColGroup = t[3], this.frozenTopGroup = t[4], this.frozenBottomGroup = t[5];
    }, r.prototype.getFacetCfgFromDataSetAndOptions = function() {
      var t = this, n = this.dataSet, i = n.fields, o = n.meta, a = this.options, l = a.style, s = a.dataCell, f = function(h) {
        return t.options.showSeriesNumber && h.colIndex === 0 ? new jb(h, t) : new $c(h, t);
      };
      return F(F(F(F({}, this.options), i), l), { meta: o, spreadsheet: this, dataSet: this.dataSet, dataCell: s ?? f });
    }, r.prototype.buildFacet = function() {
      var t, n = this.getFacetCfgFromDataSetAndOptions();
      (t = this.facet) === null || t === void 0 || t.destroy(), this.facet = new qJ(n), this.facet.render();
    }, r.prototype.clearFrozenGroups = function() {
      this.frozenRowGroup.set("children", []), this.frozenColGroup.set("children", []), this.frozenTrailingRowGroup.set("children", []), this.frozenTrailingColGroup.set("children", []), this.frozenTopGroup.set("children", []), this.frozenBottomGroup.set("children", []);
    }, r.prototype.destroy = function() {
      e.prototype.destroy.call(this), this.clearFrozenGroups(), this.off(B.RANGE_SORT), this.off(B.RANGE_FILTER);
    }, r.prototype.handleGroupSort = function(t, n) {
      var i = this;
      t.stopPropagation(), this.interaction.addIntercepts([Pe.HOVER]);
      var o = this.getMenuDefaultSelectedKeys(n == null ? void 0 : n.id), a = {
        onClick: function(l) {
          var s = l.key, f = s;
          i.onSortTooltipClick({ key: f }, n);
        },
        menus: oK(),
        defaultSelectedKeys: o
      };
      this.showTooltipWithInfo(t, [], {
        operator: a,
        onlyMenu: !0,
        forceRender: !0
      });
    }, r;
  }(OE)
), pee = Object.defineProperty, gee = Object.defineProperties, yee = Object.getOwnPropertyDescriptors, cw = Object.getOwnPropertySymbols, Cee = Object.prototype.hasOwnProperty, _ee = Object.prototype.propertyIsEnumerable, hw = (e, r, t) => r in e ? pee(e, r, { enumerable: !0, configurable: !0, writable: !0, value: t }) : e[r] = t, yg = (e, r) => {
  for (var t in r || (r = {}))
    Cee.call(r, t) && hw(e, t, r[t]);
  if (cw)
    for (var t of cw(r))
      _ee.call(r, t) && hw(e, t, r[t]);
  return e;
}, Cg = (e, r) => gee(e, yee(r));
const mee = {
  选择分析信息: "Select Analysis Information",
  切换指标: "Switch indicator",
  确定: "Ok",
  取消: "Cancel",
  重置: "Reset",
  请输入关键字搜索: "Please enter a keyword search",
  搜索: "Search",
  恢复: "Recover",
  "已选 {} 项": "selected {} item",
  所选项: "selected items",
  选择下钻维度: "Select drill down dimension",
  恢复默认: "Restore default",
  搜索字段: "Search field",
  行列切换: "Switch Dimensions",
  行头: "Rows",
  列头: "Cols",
  值: "Values",
  展开子项: "Expand Children",
  首字母: "Alphabetical order",
  手动排序: "Custom order",
  其他字段: "Other field",
  高级排序: "Advanced order",
  设置顺序: "SetManual",
  可选字段: "Fields",
  "按以下规则进行排序（优先级由低到高）": "Order according to the following rules (from low to high priority)",
  按: "By",
  说明: "Description: ",
  复制原始数据: "Copy raw data",
  复制格式化数据: "Copy formatted data",
  下载原始数据: "Download raw data",
  下载格式化数据: "Download formatted data",
  操作成功: "Operation successful",
  操作失败: "Operation failed",
  时间: "Date",
  指标: "Measure",
  目标值: "Target Value"
}, wee = {
  选择分析信息: "选择分析信息",
  切换指标: "切换指标",
  确定: "确定",
  取消: "取消",
  重置: "重置",
  请输入关键字搜索: "请输入关键字搜索",
  搜索: "搜索",
  恢复: "恢复",
  "已选 {} 项": "已选 {} 项",
  所选项: "所选项",
  选择下钻维度: "选择下钻维度",
  恢复默认: "恢复默认",
  搜索字段: "搜索字段",
  行列切换: "行列切换",
  行头: "行头",
  列头: "列头",
  值: "值",
  展开子项: "展开子项",
  首字母: "首字母",
  手动排序: "手动排序",
  其他字段: "其他字段",
  高级排序: "高级排序",
  设置顺序: "设置顺序",
  可选字段: "可选字段",
  "按以下规则进行排序（优先级由低到高）": "按以下规则进行排序（优先级由低到高）",
  按: "按",
  说明: "说明：",
  复制原始数据: "复制原始数据",
  复制格式化数据: "复制格式化数据",
  下载原始数据: "下载原始数据",
  下载格式化数据: "下载格式化数据",
  操作成功: "操作成功",
  操作失败: "操作失败",
  时间: "时间",
  指标: "指标",
  目标值: "目标值"
}, xee = {
  zh_CN: wee,
  en_US: mee
}, See = {
  tooltip: {
    showTooltip: !0,
    autoAdjustBoundary: "body",
    operation: {
      hiddenColumns: !0,
      trend: !1,
      sort: !0
    }
  },
  showDefaultHeaderActionIcon: !0
}, Tee = 200, bee = "s2-drill-down", Eee = (...e) => ii(LS, See, ...e);
var Lee = typeof global == "object" && global && global.Object === Object && global, IE = Lee, Aee = typeof self == "object" && self && self.Object === Object && self, Ree = IE || Aee || Function("return this")(), Jn = Ree, Oee = Jn.Symbol, gi = Oee, ME = Object.prototype, Iee = ME.hasOwnProperty, Mee = ME.toString, jl = gi ? gi.toStringTag : void 0;
function Bee(e) {
  var r = Iee.call(e, jl), t = e[jl];
  try {
    e[jl] = void 0;
    var n = !0;
  } catch {
  }
  var i = Mee.call(e);
  return n && (r ? e[jl] = t : delete e[jl]), i;
}
var Dee = Object.prototype, Pee = Dee.toString;
function Fee(e) {
  return Pee.call(e);
}
var $ee = "[object Null]", Nee = "[object Undefined]", dw = gi ? gi.toStringTag : void 0;
function Po(e) {
  return e == null ? e === void 0 ? Nee : $ee : dw && dw in Object(e) ? Bee(e) : Fee(e);
}
function yi(e) {
  return e != null && typeof e == "object";
}
var Hee = "[object Symbol]";
function kc(e) {
  return typeof e == "symbol" || yi(e) && Po(e) == Hee;
}
function zee(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length, i = Array(n); ++t < n; )
    i[t] = r(e[t], t, e);
  return i;
}
var Wee = Array.isArray, qr = Wee, Gee = 1 / 0, vw = gi ? gi.prototype : void 0, pw = vw ? vw.toString : void 0;
function BE(e) {
  if (typeof e == "string")
    return e;
  if (qr(e))
    return zee(e, BE) + "";
  if (kc(e))
    return pw ? pw.call(e) : "";
  var r = e + "";
  return r == "0" && 1 / e == -Gee ? "-0" : r;
}
var kee = /\s/;
function Uee(e) {
  for (var r = e.length; r-- && kee.test(e.charAt(r)); )
    ;
  return r;
}
var Yee = /^\s+/;
function Xee(e) {
  return e && e.slice(0, Uee(e) + 1).replace(Yee, "");
}
function Ui(e) {
  var r = typeof e;
  return e != null && (r == "object" || r == "function");
}
var gw = NaN, Vee = /^[-+]0x[0-9a-f]+$/i, qee = /^0b[01]+$/i, Kee = /^0o[0-7]+$/i, jee = parseInt;
function yw(e) {
  if (typeof e == "number")
    return e;
  if (kc(e))
    return gw;
  if (Ui(e)) {
    var r = typeof e.valueOf == "function" ? e.valueOf() : e;
    e = Ui(r) ? r + "" : r;
  }
  if (typeof e != "string")
    return e === 0 ? e : +e;
  e = Xee(e);
  var t = qee.test(e);
  return t || Kee.test(e) ? jee(e.slice(2), t ? 2 : 8) : Vee.test(e) ? gw : +e;
}
function Zee(e) {
  return e;
}
var Qee = "[object AsyncFunction]", Jee = "[object Function]", ete = "[object GeneratorFunction]", tte = "[object Proxy]";
function DE(e) {
  if (!Ui(e))
    return !1;
  var r = Po(e);
  return r == Jee || r == ete || r == Qee || r == tte;
}
var rte = Jn["__core-js_shared__"], Wd = rte, Cw = function() {
  var e = /[^.]+$/.exec(Wd && Wd.keys && Wd.keys.IE_PROTO || "");
  return e ? "Symbol(src)_1." + e : "";
}();
function nte(e) {
  return !!Cw && Cw in e;
}
var ite = Function.prototype, ote = ite.toString;
function xa(e) {
  if (e != null) {
    try {
      return ote.call(e);
    } catch {
    }
    try {
      return e + "";
    } catch {
    }
  }
  return "";
}
var ate = /[\\^$.*+?()[\]{}|]/g, lte = /^\[object .+?Constructor\]$/, ste = Function.prototype, ute = Object.prototype, fte = ste.toString, cte = ute.hasOwnProperty, hte = RegExp("^" + fte.call(cte).replace(ate, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
function dte(e) {
  if (!Ui(e) || nte(e))
    return !1;
  var r = DE(e) ? hte : lte;
  return r.test(xa(e));
}
function vte(e, r) {
  return e == null ? void 0 : e[r];
}
function Sa(e, r) {
  var t = vte(e, r);
  return dte(t) ? t : void 0;
}
var pte = Sa(Jn, "WeakMap"), up = pte, _w = Object.create, gte = /* @__PURE__ */ function() {
  function e() {
  }
  return function(r) {
    if (!Ui(r))
      return {};
    if (_w)
      return _w(r);
    e.prototype = r;
    var t = new e();
    return e.prototype = void 0, t;
  };
}(), yte = gte;
function Cte(e, r) {
  var t = -1, n = e.length;
  for (r || (r = Array(n)); ++t < n; )
    r[t] = e[t];
  return r;
}
var _te = function() {
  try {
    var e = Sa(Object, "defineProperty");
    return e({}, "", {}), e;
  } catch {
  }
}(), mw = _te;
function mte(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length; ++t < n && r(e[t], t, e) !== !1; )
    ;
  return e;
}
var wte = 9007199254740991, xte = /^(?:0|[1-9]\d*)$/;
function PE(e, r) {
  var t = typeof e;
  return r = r ?? wte, !!r && (t == "number" || t != "symbol" && xte.test(e)) && e > -1 && e % 1 == 0 && e < r;
}
function FE(e, r, t) {
  r == "__proto__" && mw ? mw(e, r, {
    configurable: !0,
    enumerable: !0,
    value: t,
    writable: !0
  }) : e[r] = t;
}
function _g(e, r) {
  return e === r || e !== e && r !== r;
}
var Ste = Object.prototype, Tte = Ste.hasOwnProperty;
function $E(e, r, t) {
  var n = e[r];
  (!(Tte.call(e, r) && _g(n, t)) || t === void 0 && !(r in e)) && FE(e, r, t);
}
function Uc(e, r, t, n) {
  var i = !t;
  t || (t = {});
  for (var o = -1, a = r.length; ++o < a; ) {
    var l = r[o], s = n ? n(t[l], e[l], l, t, e) : void 0;
    s === void 0 && (s = e[l]), i ? FE(t, l, s) : $E(t, l, s);
  }
  return t;
}
var bte = 9007199254740991;
function mg(e) {
  return typeof e == "number" && e > -1 && e % 1 == 0 && e <= bte;
}
function ru(e) {
  return e != null && mg(e.length) && !DE(e);
}
var Ete = Object.prototype;
function Yc(e) {
  var r = e && e.constructor, t = typeof r == "function" && r.prototype || Ete;
  return e === t;
}
function Lte(e, r) {
  for (var t = -1, n = Array(e); ++t < e; )
    n[t] = r(t);
  return n;
}
var Ate = "[object Arguments]";
function ww(e) {
  return yi(e) && Po(e) == Ate;
}
var NE = Object.prototype, Rte = NE.hasOwnProperty, Ote = NE.propertyIsEnumerable, Ite = ww(/* @__PURE__ */ function() {
  return arguments;
}()) ? ww : function(e) {
  return yi(e) && Rte.call(e, "callee") && !Ote.call(e, "callee");
}, wg = Ite;
function Mte() {
  return !1;
}
var HE = typeof exports == "object" && exports && !exports.nodeType && exports, xw = HE && typeof module == "object" && module && !module.nodeType && module, Bte = xw && xw.exports === HE, Sw = Bte ? Jn.Buffer : void 0, Dte = Sw ? Sw.isBuffer : void 0, Pte = Dte || Mte, $s = Pte, Fte = "[object Arguments]", $te = "[object Array]", Nte = "[object Boolean]", Hte = "[object Date]", zte = "[object Error]", Wte = "[object Function]", Gte = "[object Map]", kte = "[object Number]", Ute = "[object Object]", Yte = "[object RegExp]", Xte = "[object Set]", Vte = "[object String]", qte = "[object WeakMap]", Kte = "[object ArrayBuffer]", jte = "[object DataView]", Zte = "[object Float32Array]", Qte = "[object Float64Array]", Jte = "[object Int8Array]", ere = "[object Int16Array]", tre = "[object Int32Array]", rre = "[object Uint8Array]", nre = "[object Uint8ClampedArray]", ire = "[object Uint16Array]", ore = "[object Uint32Array]", At = {};
At[Zte] = At[Qte] = At[Jte] = At[ere] = At[tre] = At[rre] = At[nre] = At[ire] = At[ore] = !0;
At[Fte] = At[$te] = At[Kte] = At[Nte] = At[jte] = At[Hte] = At[zte] = At[Wte] = At[Gte] = At[kte] = At[Ute] = At[Yte] = At[Xte] = At[Vte] = At[qte] = !1;
function are(e) {
  return yi(e) && mg(e.length) && !!At[Po(e)];
}
function xg(e) {
  return function(r) {
    return e(r);
  };
}
var zE = typeof exports == "object" && exports && !exports.nodeType && exports, hs = zE && typeof module == "object" && module && !module.nodeType && module, lre = hs && hs.exports === zE, Gd = lre && IE.process, sre = function() {
  try {
    var e = hs && hs.require && hs.require("util").types;
    return e || Gd && Gd.binding && Gd.binding("util");
  } catch {
  }
}(), fl = sre, Tw = fl && fl.isTypedArray, ure = Tw ? xg(Tw) : are, Sg = ure, fre = Object.prototype, cre = fre.hasOwnProperty;
function WE(e, r) {
  var t = qr(e), n = !t && wg(e), i = !t && !n && $s(e), o = !t && !n && !i && Sg(e), a = t || n || i || o, l = a ? Lte(e.length, String) : [], s = l.length;
  for (var f in e)
    (r || cre.call(e, f)) && !(a && (f == "length" || i && (f == "offset" || f == "parent") || o && (f == "buffer" || f == "byteLength" || f == "byteOffset") || PE(f, s))) && l.push(f);
  return l;
}
function GE(e, r) {
  return function(t) {
    return e(r(t));
  };
}
var hre = GE(Object.keys, Object), dre = hre, vre = Object.prototype, pre = vre.hasOwnProperty;
function Tg(e) {
  if (!Yc(e))
    return dre(e);
  var r = [];
  for (var t in Object(e))
    pre.call(e, t) && t != "constructor" && r.push(t);
  return r;
}
function nu(e) {
  return ru(e) ? WE(e) : Tg(e);
}
function gre(e) {
  var r = [];
  if (e != null)
    for (var t in Object(e))
      r.push(t);
  return r;
}
var yre = Object.prototype, Cre = yre.hasOwnProperty;
function _re(e) {
  if (!Ui(e))
    return gre(e);
  var r = Yc(e), t = [];
  for (var n in e)
    n == "constructor" && (r || !Cre.call(e, n)) || t.push(n);
  return t;
}
function bg(e) {
  return ru(e) ? WE(e, !0) : _re(e);
}
var mre = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, wre = /^\w*$/;
function Eg(e, r) {
  if (qr(e))
    return !1;
  var t = typeof e;
  return t == "number" || t == "symbol" || t == "boolean" || e == null || kc(e) ? !0 : wre.test(e) || !mre.test(e) || r != null && e in Object(r);
}
var xre = Sa(Object, "create"), Ns = xre;
function Sre() {
  this.__data__ = Ns ? Ns(null) : {}, this.size = 0;
}
function Tre(e) {
  var r = this.has(e) && delete this.__data__[e];
  return this.size -= r ? 1 : 0, r;
}
var bre = "__lodash_hash_undefined__", Ere = Object.prototype, Lre = Ere.hasOwnProperty;
function Are(e) {
  var r = this.__data__;
  if (Ns) {
    var t = r[e];
    return t === bre ? void 0 : t;
  }
  return Lre.call(r, e) ? r[e] : void 0;
}
var Rre = Object.prototype, Ore = Rre.hasOwnProperty;
function Ire(e) {
  var r = this.__data__;
  return Ns ? r[e] !== void 0 : Ore.call(r, e);
}
var Mre = "__lodash_hash_undefined__";
function Bre(e, r) {
  var t = this.__data__;
  return this.size += this.has(e) ? 0 : 1, t[e] = Ns && r === void 0 ? Mre : r, this;
}
function va(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.clear(); ++r < t; ) {
    var n = e[r];
    this.set(n[0], n[1]);
  }
}
va.prototype.clear = Sre;
va.prototype.delete = Tre;
va.prototype.get = Are;
va.prototype.has = Ire;
va.prototype.set = Bre;
function Dre() {
  this.__data__ = [], this.size = 0;
}
function Xc(e, r) {
  for (var t = e.length; t--; )
    if (_g(e[t][0], r))
      return t;
  return -1;
}
var Pre = Array.prototype, Fre = Pre.splice;
function $re(e) {
  var r = this.__data__, t = Xc(r, e);
  if (t < 0)
    return !1;
  var n = r.length - 1;
  return t == n ? r.pop() : Fre.call(r, t, 1), --this.size, !0;
}
function Nre(e) {
  var r = this.__data__, t = Xc(r, e);
  return t < 0 ? void 0 : r[t][1];
}
function Hre(e) {
  return Xc(this.__data__, e) > -1;
}
function zre(e, r) {
  var t = this.__data__, n = Xc(t, e);
  return n < 0 ? (++this.size, t.push([e, r])) : t[n][1] = r, this;
}
function eo(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.clear(); ++r < t; ) {
    var n = e[r];
    this.set(n[0], n[1]);
  }
}
eo.prototype.clear = Dre;
eo.prototype.delete = $re;
eo.prototype.get = Nre;
eo.prototype.has = Hre;
eo.prototype.set = zre;
var Wre = Sa(Jn, "Map"), Hs = Wre;
function Gre() {
  this.size = 0, this.__data__ = {
    hash: new va(),
    map: new (Hs || eo)(),
    string: new va()
  };
}
function kre(e) {
  var r = typeof e;
  return r == "string" || r == "number" || r == "symbol" || r == "boolean" ? e !== "__proto__" : e === null;
}
function Vc(e, r) {
  var t = e.__data__;
  return kre(r) ? t[typeof r == "string" ? "string" : "hash"] : t.map;
}
function Ure(e) {
  var r = Vc(this, e).delete(e);
  return this.size -= r ? 1 : 0, r;
}
function Yre(e) {
  return Vc(this, e).get(e);
}
function Xre(e) {
  return Vc(this, e).has(e);
}
function Vre(e, r) {
  var t = Vc(this, e), n = t.size;
  return t.set(e, r), this.size += t.size == n ? 0 : 1, this;
}
function to(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.clear(); ++r < t; ) {
    var n = e[r];
    this.set(n[0], n[1]);
  }
}
to.prototype.clear = Gre;
to.prototype.delete = Ure;
to.prototype.get = Yre;
to.prototype.has = Xre;
to.prototype.set = Vre;
var qre = "Expected a function";
function Lg(e, r) {
  if (typeof e != "function" || r != null && typeof r != "function")
    throw new TypeError(qre);
  var t = function() {
    var n = arguments, i = r ? r.apply(this, n) : n[0], o = t.cache;
    if (o.has(i))
      return o.get(i);
    var a = e.apply(this, n);
    return t.cache = o.set(i, a) || o, a;
  };
  return t.cache = new (Lg.Cache || to)(), t;
}
Lg.Cache = to;
var Kre = 500;
function jre(e) {
  var r = Lg(e, function(n) {
    return t.size === Kre && t.clear(), n;
  }), t = r.cache;
  return r;
}
var Zre = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Qre = /\\(\\)?/g, Jre = jre(function(e) {
  var r = [];
  return e.charCodeAt(0) === 46 && r.push(""), e.replace(Zre, function(t, n, i, o) {
    r.push(i ? o.replace(Qre, "$1") : n || t);
  }), r;
}), ene = Jre;
function tne(e) {
  return e == null ? "" : BE(e);
}
function kE(e, r) {
  return qr(e) ? e : Eg(e, r) ? [e] : ene(tne(e));
}
var rne = 1 / 0;
function qc(e) {
  if (typeof e == "string" || kc(e))
    return e;
  var r = e + "";
  return r == "0" && 1 / e == -rne ? "-0" : r;
}
function UE(e, r) {
  r = kE(r, e);
  for (var t = 0, n = r.length; e != null && t < n; )
    e = e[qc(r[t++])];
  return t && t == n ? e : void 0;
}
function nne(e, r, t) {
  var n = e == null ? void 0 : UE(e, r);
  return n === void 0 ? t : n;
}
function YE(e, r) {
  for (var t = -1, n = r.length, i = e.length; ++t < n; )
    e[i + t] = r[t];
  return e;
}
var ine = GE(Object.getPrototypeOf, Object), XE = ine, one = "\\ud800-\\udfff", ane = "\\u0300-\\u036f", lne = "\\ufe20-\\ufe2f", sne = "\\u20d0-\\u20ff", une = ane + lne + sne, fne = "\\ufe0e\\ufe0f", cne = "\\u200d", hne = RegExp("[" + cne + one + une + fne + "]");
function dne(e) {
  return hne.test(e);
}
function vne(e, r, t, n) {
  var i = -1, o = e == null ? 0 : e.length;
  for (n && o && (t = e[++i]); ++i < o; )
    t = r(t, e[i], i, e);
  return t;
}
function pne() {
  this.__data__ = new eo(), this.size = 0;
}
function gne(e) {
  var r = this.__data__, t = r.delete(e);
  return this.size = r.size, t;
}
function yne(e) {
  return this.__data__.get(e);
}
function Cne(e) {
  return this.__data__.has(e);
}
var _ne = 200;
function mne(e, r) {
  var t = this.__data__;
  if (t instanceof eo) {
    var n = t.__data__;
    if (!Hs || n.length < _ne - 1)
      return n.push([e, r]), this.size = ++t.size, this;
    t = this.__data__ = new to(n);
  }
  return t.set(e, r), this.size = t.size, this;
}
function di(e) {
  var r = this.__data__ = new eo(e);
  this.size = r.size;
}
di.prototype.clear = pne;
di.prototype.delete = gne;
di.prototype.get = yne;
di.prototype.has = Cne;
di.prototype.set = mne;
function wne(e, r) {
  return e && Uc(r, nu(r), e);
}
function xne(e, r) {
  return e && Uc(r, bg(r), e);
}
var VE = typeof exports == "object" && exports && !exports.nodeType && exports, bw = VE && typeof module == "object" && module && !module.nodeType && module, Sne = bw && bw.exports === VE, Ew = Sne ? Jn.Buffer : void 0, Lw = Ew ? Ew.allocUnsafe : void 0;
function Tne(e, r) {
  if (r)
    return e.slice();
  var t = e.length, n = Lw ? Lw(t) : new e.constructor(t);
  return e.copy(n), n;
}
function qE(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length, i = 0, o = []; ++t < n; ) {
    var a = e[t];
    r(a, t, e) && (o[i++] = a);
  }
  return o;
}
function KE() {
  return [];
}
var bne = Object.prototype, Ene = bne.propertyIsEnumerable, Aw = Object.getOwnPropertySymbols, Lne = Aw ? function(e) {
  return e == null ? [] : (e = Object(e), qE(Aw(e), function(r) {
    return Ene.call(e, r);
  }));
} : KE, Ag = Lne;
function Ane(e, r) {
  return Uc(e, Ag(e), r);
}
var Rne = Object.getOwnPropertySymbols, One = Rne ? function(e) {
  for (var r = []; e; )
    YE(r, Ag(e)), e = XE(e);
  return r;
} : KE, jE = One;
function Ine(e, r) {
  return Uc(e, jE(e), r);
}
function ZE(e, r, t) {
  var n = r(e);
  return qr(e) ? n : YE(n, t(e));
}
function fp(e) {
  return ZE(e, nu, Ag);
}
function Mne(e) {
  return ZE(e, bg, jE);
}
var Bne = Sa(Jn, "DataView"), cp = Bne, Dne = Sa(Jn, "Promise"), hp = Dne, Pne = Sa(Jn, "Set"), dp = Pne, Rw = "[object Map]", Fne = "[object Object]", Ow = "[object Promise]", Iw = "[object Set]", Mw = "[object WeakMap]", Bw = "[object DataView]", $ne = xa(cp), Nne = xa(Hs), Hne = xa(hp), zne = xa(dp), Wne = xa(up), Xo = Po;
(cp && Xo(new cp(new ArrayBuffer(1))) != Bw || Hs && Xo(new Hs()) != Rw || hp && Xo(hp.resolve()) != Ow || dp && Xo(new dp()) != Iw || up && Xo(new up()) != Mw) && (Xo = function(e) {
  var r = Po(e), t = r == Fne ? e.constructor : void 0, n = t ? xa(t) : "";
  if (n)
    switch (n) {
      case $ne:
        return Bw;
      case Nne:
        return Rw;
      case Hne:
        return Ow;
      case zne:
        return Iw;
      case Wne:
        return Mw;
    }
  return r;
});
var pa = Xo, Gne = Object.prototype, kne = Gne.hasOwnProperty;
function Une(e) {
  var r = e.length, t = new e.constructor(r);
  return r && typeof e[0] == "string" && kne.call(e, "index") && (t.index = e.index, t.input = e.input), t;
}
var Yne = Jn.Uint8Array, Jf = Yne;
function Rg(e) {
  var r = new e.constructor(e.byteLength);
  return new Jf(r).set(new Jf(e)), r;
}
function Xne(e, r) {
  var t = r ? Rg(e.buffer) : e.buffer;
  return new e.constructor(t, e.byteOffset, e.byteLength);
}
var Vne = /\w*$/;
function qne(e) {
  var r = new e.constructor(e.source, Vne.exec(e));
  return r.lastIndex = e.lastIndex, r;
}
var Dw = gi ? gi.prototype : void 0, Pw = Dw ? Dw.valueOf : void 0;
function Kne(e) {
  return Pw ? Object(Pw.call(e)) : {};
}
function jne(e, r) {
  var t = r ? Rg(e.buffer) : e.buffer;
  return new e.constructor(t, e.byteOffset, e.length);
}
var Zne = "[object Boolean]", Qne = "[object Date]", Jne = "[object Map]", eie = "[object Number]", tie = "[object RegExp]", rie = "[object Set]", nie = "[object String]", iie = "[object Symbol]", oie = "[object ArrayBuffer]", aie = "[object DataView]", lie = "[object Float32Array]", sie = "[object Float64Array]", uie = "[object Int8Array]", fie = "[object Int16Array]", cie = "[object Int32Array]", hie = "[object Uint8Array]", die = "[object Uint8ClampedArray]", vie = "[object Uint16Array]", pie = "[object Uint32Array]";
function gie(e, r, t) {
  var n = e.constructor;
  switch (r) {
    case oie:
      return Rg(e);
    case Zne:
    case Qne:
      return new n(+e);
    case aie:
      return Xne(e, t);
    case lie:
    case sie:
    case uie:
    case fie:
    case cie:
    case hie:
    case die:
    case vie:
    case pie:
      return jne(e, t);
    case Jne:
      return new n();
    case eie:
    case nie:
      return new n(e);
    case tie:
      return qne(e);
    case rie:
      return new n();
    case iie:
      return Kne(e);
  }
}
function yie(e) {
  return typeof e.constructor == "function" && !Yc(e) ? yte(XE(e)) : {};
}
var Cie = "[object Map]";
function _ie(e) {
  return yi(e) && pa(e) == Cie;
}
var Fw = fl && fl.isMap, mie = Fw ? xg(Fw) : _ie, wie = mie, xie = "[object Set]";
function Sie(e) {
  return yi(e) && pa(e) == xie;
}
var $w = fl && fl.isSet, Tie = $w ? xg($w) : Sie, bie = Tie, Eie = 1, Lie = 2, Aie = 4, QE = "[object Arguments]", Rie = "[object Array]", Oie = "[object Boolean]", Iie = "[object Date]", Mie = "[object Error]", JE = "[object Function]", Bie = "[object GeneratorFunction]", Die = "[object Map]", Pie = "[object Number]", eL = "[object Object]", Fie = "[object RegExp]", $ie = "[object Set]", Nie = "[object String]", Hie = "[object Symbol]", zie = "[object WeakMap]", Wie = "[object ArrayBuffer]", Gie = "[object DataView]", kie = "[object Float32Array]", Uie = "[object Float64Array]", Yie = "[object Int8Array]", Xie = "[object Int16Array]", Vie = "[object Int32Array]", qie = "[object Uint8Array]", Kie = "[object Uint8ClampedArray]", jie = "[object Uint16Array]", Zie = "[object Uint32Array]", Tt = {};
Tt[QE] = Tt[Rie] = Tt[Wie] = Tt[Gie] = Tt[Oie] = Tt[Iie] = Tt[kie] = Tt[Uie] = Tt[Yie] = Tt[Xie] = Tt[Vie] = Tt[Die] = Tt[Pie] = Tt[eL] = Tt[Fie] = Tt[$ie] = Tt[Nie] = Tt[Hie] = Tt[qie] = Tt[Kie] = Tt[jie] = Tt[Zie] = !0;
Tt[Mie] = Tt[JE] = Tt[zie] = !1;
function Sf(e, r, t, n, i, o) {
  var a, l = r & Eie, s = r & Lie, f = r & Aie;
  if (t && (a = i ? t(e, n, i, o) : t(e)), a !== void 0)
    return a;
  if (!Ui(e))
    return e;
  var h = qr(e);
  if (h) {
    if (a = Une(e), !l)
      return Cte(e, a);
  } else {
    var d = pa(e), v = d == JE || d == Bie;
    if ($s(e))
      return Tne(e, l);
    if (d == eL || d == QE || v && !i) {
      if (a = s || v ? {} : yie(e), !l)
        return s ? Ine(e, xne(a, e)) : Ane(e, wne(a, e));
    } else {
      if (!Tt[d])
        return i ? e : {};
      a = gie(e, d, l);
    }
  }
  o || (o = new di());
  var g = o.get(e);
  if (g)
    return g;
  o.set(e, a), bie(e) ? e.forEach(function(m) {
    a.add(Sf(m, r, t, m, e, o));
  }) : wie(e) && e.forEach(function(m, w) {
    a.set(w, Sf(m, r, t, w, e, o));
  });
  var y = f ? s ? Mne : fp : s ? bg : nu, C = h ? void 0 : y(e);
  return mte(C || e, function(m, w) {
    C && (w = m, m = e[w]), $E(a, w, Sf(m, r, t, w, e, o));
  }), a;
}
var Qie = 4;
function Jie(e) {
  return Sf(e, Qie);
}
var eoe = "__lodash_hash_undefined__";
function toe(e) {
  return this.__data__.set(e, eoe), this;
}
function roe(e) {
  return this.__data__.has(e);
}
function ec(e) {
  var r = -1, t = e == null ? 0 : e.length;
  for (this.__data__ = new to(); ++r < t; )
    this.add(e[r]);
}
ec.prototype.add = ec.prototype.push = toe;
ec.prototype.has = roe;
function noe(e, r) {
  for (var t = -1, n = e == null ? 0 : e.length; ++t < n; )
    if (r(e[t], t, e))
      return !0;
  return !1;
}
function ioe(e, r) {
  return e.has(r);
}
var ooe = 1, aoe = 2;
function tL(e, r, t, n, i, o) {
  var a = t & ooe, l = e.length, s = r.length;
  if (l != s && !(a && s > l))
    return !1;
  var f = o.get(e), h = o.get(r);
  if (f && h)
    return f == r && h == e;
  var d = -1, v = !0, g = t & aoe ? new ec() : void 0;
  for (o.set(e, r), o.set(r, e); ++d < l; ) {
    var y = e[d], C = r[d];
    if (n)
      var m = a ? n(C, y, d, r, e, o) : n(y, C, d, e, r, o);
    if (m !== void 0) {
      if (m)
        continue;
      v = !1;
      break;
    }
    if (g) {
      if (!noe(r, function(w, S) {
        if (!ioe(g, S) && (y === w || i(y, w, t, n, o)))
          return g.push(S);
      })) {
        v = !1;
        break;
      }
    } else if (!(y === C || i(y, C, t, n, o))) {
      v = !1;
      break;
    }
  }
  return o.delete(e), o.delete(r), v;
}
function loe(e) {
  var r = -1, t = Array(e.size);
  return e.forEach(function(n, i) {
    t[++r] = [i, n];
  }), t;
}
function soe(e) {
  var r = -1, t = Array(e.size);
  return e.forEach(function(n) {
    t[++r] = n;
  }), t;
}
var uoe = 1, foe = 2, coe = "[object Boolean]", hoe = "[object Date]", doe = "[object Error]", voe = "[object Map]", poe = "[object Number]", goe = "[object RegExp]", yoe = "[object Set]", Coe = "[object String]", _oe = "[object Symbol]", moe = "[object ArrayBuffer]", woe = "[object DataView]", Nw = gi ? gi.prototype : void 0, kd = Nw ? Nw.valueOf : void 0;
function xoe(e, r, t, n, i, o, a) {
  switch (t) {
    case woe:
      if (e.byteLength != r.byteLength || e.byteOffset != r.byteOffset)
        return !1;
      e = e.buffer, r = r.buffer;
    case moe:
      return !(e.byteLength != r.byteLength || !o(new Jf(e), new Jf(r)));
    case coe:
    case hoe:
    case poe:
      return _g(+e, +r);
    case doe:
      return e.name == r.name && e.message == r.message;
    case goe:
    case Coe:
      return e == r + "";
    case voe:
      var l = loe;
    case yoe:
      var s = n & uoe;
      if (l || (l = soe), e.size != r.size && !s)
        return !1;
      var f = a.get(e);
      if (f)
        return f == r;
      n |= foe, a.set(e, r);
      var h = tL(l(e), l(r), n, i, o, a);
      return a.delete(e), h;
    case _oe:
      if (kd)
        return kd.call(e) == kd.call(r);
  }
  return !1;
}
var Soe = 1, Toe = Object.prototype, boe = Toe.hasOwnProperty;
function Eoe(e, r, t, n, i, o) {
  var a = t & Soe, l = fp(e), s = l.length, f = fp(r), h = f.length;
  if (s != h && !a)
    return !1;
  for (var d = s; d--; ) {
    var v = l[d];
    if (!(a ? v in r : boe.call(r, v)))
      return !1;
  }
  var g = o.get(e), y = o.get(r);
  if (g && y)
    return g == r && y == e;
  var C = !0;
  o.set(e, r), o.set(r, e);
  for (var m = a; ++d < s; ) {
    v = l[d];
    var w = e[v], S = r[v];
    if (n)
      var x = a ? n(S, w, v, r, e, o) : n(w, S, v, e, r, o);
    if (!(x === void 0 ? w === S || i(w, S, t, n, o) : x)) {
      C = !1;
      break;
    }
    m || (m = v == "constructor");
  }
  if (C && !m) {
    var b = e.constructor, O = r.constructor;
    b != O && "constructor" in e && "constructor" in r && !(typeof b == "function" && b instanceof b && typeof O == "function" && O instanceof O) && (C = !1);
  }
  return o.delete(e), o.delete(r), C;
}
var Loe = 1, Hw = "[object Arguments]", zw = "[object Array]", ff = "[object Object]", Aoe = Object.prototype, Ww = Aoe.hasOwnProperty;
function Roe(e, r, t, n, i, o) {
  var a = qr(e), l = qr(r), s = a ? zw : pa(e), f = l ? zw : pa(r);
  s = s == Hw ? ff : s, f = f == Hw ? ff : f;
  var h = s == ff, d = f == ff, v = s == f;
  if (v && $s(e)) {
    if (!$s(r))
      return !1;
    a = !0, h = !1;
  }
  if (v && !h)
    return o || (o = new di()), a || Sg(e) ? tL(e, r, t, n, i, o) : xoe(e, r, s, t, n, i, o);
  if (!(t & Loe)) {
    var g = h && Ww.call(e, "__wrapped__"), y = d && Ww.call(r, "__wrapped__");
    if (g || y) {
      var C = g ? e.value() : e, m = y ? r.value() : r;
      return o || (o = new di()), i(C, m, t, n, o);
    }
  }
  return v ? (o || (o = new di()), Eoe(e, r, t, n, i, o)) : !1;
}
function Og(e, r, t, n, i) {
  return e === r ? !0 : e == null || r == null || !yi(e) && !yi(r) ? e !== e && r !== r : Roe(e, r, t, n, Og, i);
}
var Ooe = 1, Ioe = 2;
function Moe(e, r, t, n) {
  var i = t.length, o = i, a = !n;
  if (e == null)
    return !o;
  for (e = Object(e); i--; ) {
    var l = t[i];
    if (a && l[2] ? l[1] !== e[l[0]] : !(l[0] in e))
      return !1;
  }
  for (; ++i < o; ) {
    l = t[i];
    var s = l[0], f = e[s], h = l[1];
    if (a && l[2]) {
      if (f === void 0 && !(s in e))
        return !1;
    } else {
      var d = new di();
      if (n)
        var v = n(f, h, s, e, r, d);
      if (!(v === void 0 ? Og(h, f, Ooe | Ioe, n, d) : v))
        return !1;
    }
  }
  return !0;
}
function rL(e) {
  return e === e && !Ui(e);
}
function Boe(e) {
  for (var r = nu(e), t = r.length; t--; ) {
    var n = r[t], i = e[n];
    r[t] = [n, i, rL(i)];
  }
  return r;
}
function nL(e, r) {
  return function(t) {
    return t == null ? !1 : t[e] === r && (r !== void 0 || e in Object(t));
  };
}
function Doe(e) {
  var r = Boe(e);
  return r.length == 1 && r[0][2] ? nL(r[0][0], r[0][1]) : function(t) {
    return t === e || Moe(t, e, r);
  };
}
function Poe(e, r) {
  return e != null && r in Object(e);
}
function Foe(e, r, t) {
  r = kE(r, e);
  for (var n = -1, i = r.length, o = !1; ++n < i; ) {
    var a = qc(r[n]);
    if (!(o = e != null && t(e, a)))
      break;
    e = e[a];
  }
  return o || ++n != i ? o : (i = e == null ? 0 : e.length, !!i && mg(i) && PE(a, i) && (qr(e) || wg(e)));
}
function $oe(e, r) {
  return e != null && Foe(e, r, Poe);
}
var Noe = 1, Hoe = 2;
function zoe(e, r) {
  return Eg(e) && rL(r) ? nL(qc(e), r) : function(t) {
    var n = nne(t, e);
    return n === void 0 && n === r ? $oe(t, e) : Og(r, n, Noe | Hoe);
  };
}
function iL(e) {
  return function(r) {
    return r == null ? void 0 : r[e];
  };
}
function Woe(e) {
  return function(r) {
    return UE(r, e);
  };
}
function Goe(e) {
  return Eg(e) ? iL(qc(e)) : Woe(e);
}
function oL(e) {
  return typeof e == "function" ? e : e == null ? Zee : typeof e == "object" ? qr(e) ? zoe(e[0], e[1]) : Doe(e) : Goe(e);
}
function koe(e) {
  return function(r, t, n) {
    for (var i = -1, o = Object(r), a = n(r), l = a.length; l--; ) {
      var s = a[e ? l : ++i];
      if (t(o[s], s, o) === !1)
        break;
    }
    return r;
  };
}
var Uoe = koe(), Yoe = Uoe;
function Xoe(e, r) {
  return e && Yoe(e, r, nu);
}
function Voe(e, r) {
  return function(t, n) {
    if (t == null)
      return t;
    if (!ru(t))
      return e(t, n);
    for (var i = t.length, o = r ? i : -1, a = Object(t); (r ? o-- : ++o < i) && n(a[o], o, a) !== !1; )
      ;
    return t;
  };
}
var qoe = Voe(Xoe), aL = qoe, Koe = function() {
  return Jn.Date.now();
}, Ud = Koe, joe = "Expected a function", Zoe = Math.max, Qoe = Math.min;
function Joe(e, r, t) {
  var n, i, o, a, l, s, f = 0, h = !1, d = !1, v = !0;
  if (typeof e != "function")
    throw new TypeError(joe);
  r = yw(r) || 0, Ui(t) && (h = !!t.leading, d = "maxWait" in t, o = d ? Zoe(yw(t.maxWait) || 0, r) : o, v = "trailing" in t ? !!t.trailing : v);
  function g(D) {
    var N = n, W = i;
    return n = i = void 0, f = D, a = e.apply(W, N), a;
  }
  function y(D) {
    return f = D, l = setTimeout(w, r), h ? g(D) : a;
  }
  function C(D) {
    var N = D - s, W = D - f, k = r - N;
    return d ? Qoe(k, o - W) : k;
  }
  function m(D) {
    var N = D - s, W = D - f;
    return s === void 0 || N >= r || N < 0 || d && W >= o;
  }
  function w() {
    var D = Ud();
    if (m(D))
      return S(D);
    l = setTimeout(w, C(D));
  }
  function S(D) {
    return l = void 0, v && n ? g(D) : (n = i = void 0, a);
  }
  function x() {
    l !== void 0 && clearTimeout(l), f = 0, n = s = i = l = void 0;
  }
  function b() {
    return l === void 0 ? a : S(Ud());
  }
  function O() {
    var D = Ud(), N = m(D);
    if (n = arguments, i = this, s = D, N) {
      if (l === void 0)
        return y(s);
      if (d)
        return clearTimeout(l), l = setTimeout(w, r), g(s);
    }
    return l === void 0 && (l = setTimeout(w, r)), a;
  }
  return O.cancel = x, O.flush = b, O;
}
function eae(e, r) {
  var t = [];
  return aL(e, function(n, i, o) {
    r(n, i, o) && t.push(n);
  }), t;
}
function tae(e, r) {
  var t = qr(e) ? qE : eae;
  return t(e, oL(r));
}
var rae = "[object String]";
function nae(e) {
  return typeof e == "string" || !qr(e) && yi(e) && Po(e) == rae;
}
var iae = "[object Boolean]";
function vp(e) {
  return e === !0 || e === !1 || yi(e) && Po(e) == iae;
}
var oae = "[object Map]", aae = "[object Set]", lae = Object.prototype, sae = lae.hasOwnProperty;
function Gi(e) {
  if (e == null)
    return !0;
  if (ru(e) && (qr(e) || typeof e == "string" || typeof e.splice == "function" || $s(e) || Sg(e) || wg(e)))
    return !e.length;
  var r = pa(e);
  if (r == oae || r == aae)
    return !e.size;
  if (Yc(e))
    return !Tg(e).length;
  for (var t in e)
    if (sae.call(e, t))
      return !1;
  return !0;
}
var uae = iL("length"), fae = uae, lL = "\\ud800-\\udfff", cae = "\\u0300-\\u036f", hae = "\\ufe20-\\ufe2f", dae = "\\u20d0-\\u20ff", vae = cae + hae + dae, pae = "\\ufe0e\\ufe0f", gae = "[" + lL + "]", pp = "[" + vae + "]", gp = "\\ud83c[\\udffb-\\udfff]", yae = "(?:" + pp + "|" + gp + ")", sL = "[^" + lL + "]", uL = "(?:\\ud83c[\\udde6-\\uddff]){2}", fL = "[\\ud800-\\udbff][\\udc00-\\udfff]", Cae = "\\u200d", cL = yae + "?", hL = "[" + pae + "]?", _ae = "(?:" + Cae + "(?:" + [sL, uL, fL].join("|") + ")" + hL + cL + ")*", mae = hL + cL + _ae, wae = "(?:" + [sL + pp + "?", pp, uL, fL, gae].join("|") + ")", Gw = RegExp(gp + "(?=" + gp + ")|" + wae + mae, "g");
function xae(e) {
  for (var r = Gw.lastIndex = 0; Gw.test(e); )
    ++r;
  return r;
}
function Sae(e) {
  return dne(e) ? xae(e) : fae(e);
}
function Tae(e, r, t, n, i) {
  return i(e, function(o, a, l) {
    t = n ? (n = !1, o) : r(t, o, a, l);
  }), t;
}
function bae(e, r, t) {
  var n = qr(e) ? vne : Tae, i = arguments.length < 3;
  return n(e, oL(r), t, i, aL);
}
var Eae = "[object Map]", Lae = "[object Set]";
function Aae(e) {
  if (e == null)
    return 0;
  if (ru(e))
    return nae(e) ? Sae(e) : e.length;
  var r = pa(e);
  return r == Eae || r == Lae ? e.size : Tg(e).length;
}
const Rae = (e, r) => {
  var t, n, i;
  return vp(r) ? {
    container: e,
    adaptiveWidth: !0,
    adaptiveHeight: !1
  } : {
    container: ((t = r == null ? void 0 : r.getContainer) == null ? void 0 : t.call(r)) || e,
    adaptiveWidth: (n = r == null ? void 0 : r.width) != null ? n : !0,
    adaptiveHeight: (i = r == null ? void 0 : r.height) != null ? i : !0
  };
}, Oae = (e) => {
  let r = !0;
  const { s2: t, adaptive: n, container: i, wrapper: o } = e, {
    container: a,
    adaptiveWidth: l,
    adaptiveHeight: s
  } = Rae(o, n);
  if (!a || !i || !n || !t)
    return;
  const f = (g, y) => {
    t == null || t.changeSheetSize(g, y), t == null || t.render(!1);
  }, h = Joe(f, Tee), d = () => {
    const { clientWidth: g, clientHeight: y } = i, C = l ? Math.floor(g ?? t.options.width) : t.options.width, m = s ? Math.floor(y ?? t.options.height) : t.options.height;
    if (!(!l && !s)) {
      if (r) {
        f(C, m), r = !1;
        return;
      }
      h(C, m);
    }
  }, v = new ResizeObserver(([g] = []) => {
    g && d();
  });
  return v.observe(a, {
    box: "border-box"
  }), () => {
    v.unobserve(a);
  };
}, dL = (e, r) => {
  const t = e.store.get("drillDownDataCache", []), n = t.find((i) => i.rowId === r.id);
  return {
    drillDownDataCache: t,
    drillDownCurrentCache: n
  };
}, Iae = (e) => {
  const { meta: r, event: t, callback: n } = e, { spreadsheet: i } = r;
  i.store.set("drillDownNode", r);
  const { drillDownDataCache: o, drillDownCurrentCache: a } = dL(i, r), l = a != null && a.drillField ? [a == null ? void 0 : a.drillField] : [], s = [];
  o.forEach((f) => {
    r.id.includes(f.rowId) && r.id !== f.rowId && s.push(f.drillField);
  }), t && i.emit(B.GLOBAL_ACTION_ICON_CLICK, t), n({
    sheetInstance: i,
    cacheDrillFields: l,
    disabledFields: s,
    event: t
  });
}, Mae = (e) => {
  var r;
  const t = e.spreadsheet, { fields: n } = t.dataCfg, i = ((r = n.rows) == null ? void 0 : r.length) - 1, o = Gi(n.values) ? !0 : t.isValueInCols();
  return i <= e.level && t.isHierarchyTreeType() && o && !e.isGrandTotals;
}, Bae = (e, r, t) => {
  var n;
  const i = (n = e == null ? void 0 : e.headerActionIcons) != null && n.length ? [...e.headerActionIcons] : [];
  if (!Gi(r)) {
    const o = {
      belongsCell: "rowCell",
      iconNames: ["DrillDownIcon"],
      defaultHide: !0,
      displayCondition: r.displayCondition || Mae,
      action: (a) => {
        const { iconName: l, meta: s, event: f } = a;
        l === "DrillDownIcon" && (s.spreadsheet.store.set("drillDownNode", s), Iae({
          meta: s,
          event: f,
          callback: t
        }));
      }
    };
    i.push(o);
  }
  return Cg(yg({}, e), {
    headerActionIcons: i
  });
}, Dae = (e) => {
  const { fetchData: r, spreadsheet: t, drillFields: n, drillItemsNum: i = -1 } = e;
  t.store.set("drillItemsNum", i);
  const o = t.store.get("drillDownNode"), { drillDownDataCache: a, drillDownCurrentCache: l } = dL(t, o);
  let s = Jie(a);
  l && (s = tae(a, (f) => f.rowId !== o.id)), r && r(o, n).then((f) => {
    const { drillData: h, drillField: d } = f;
    if (t.dataSet.transformDrillDownData(d, h, o), !Gi(h)) {
      const v = o.level + 1, g = {
        rowId: o.id,
        drillLevel: v,
        drillData: h,
        drillField: d
      };
      s.push(g), t.store.set("drillDownDataCache", s);
    }
    t.interaction.reset(), t.render(!1);
  });
};
Jq(xee);
const Ig = (e) => {
  const r = xp();
  return e({
    get instance() {
      var t;
      return (t = r.value) == null ? void 0 : t.instance;
    }
  }), r;
};
var Pr = (e, r) => {
  const t = e.__vccOpts || e;
  for (const [n, i] of r)
    t[n] = i;
  return t;
};
const Pae = Mr({
  name: "TooltipDetail",
  props: ["list"],
  setup() {
    return {
      TOOLTIP_PREFIX_CLS: Ji
    };
  }
});
function Fae(e, r, t, n, i, o) {
  return ge(!0), nt(kr, null, Hi(e.list, (a, l) => (ge(), nt("div", {
    key: `${a.value}-${l}`,
    class: it(`${e.TOOLTIP_PREFIX_CLS}-detail-list`)
  }, [
    Re("div", {
      class: it(`${e.TOOLTIP_PREFIX_CLS}-detail-item`)
    }, [
      Re("span", {
        class: it(`${e.TOOLTIP_PREFIX_CLS}-detail-item-key`)
      }, ot(a.name), 3),
      Re("span", {
        class: it(`${e.TOOLTIP_PREFIX_CLS}-detail-item-val ${e.TOOLTIP_PREFIX_CLS}-highlight`)
      }, ot(a.value), 3)
    ], 2)
  ], 2))), 128);
}
var $ae = /* @__PURE__ */ Pr(Pae, [["render", Fae]]);
const Nae = Mr({
  name: "TooltipHeadInfo",
  props: ["rows", "cols"],
  setup() {
    return {
      TOOLTIP_PREFIX_CLS: Ji
    };
  },
  components: {}
}), Hae = { key: 0 };
function zae(e, r, t, n, i, o) {
  var a, l, s, f;
  return (a = e.cols) != null && a.length || (l = e.rows) != null && l.length ? (ge(), nt("div", {
    key: 0,
    class: it(`${e.TOOLTIP_PREFIX_CLS}-head-info-list`)
  }, [
    (ge(!0), nt(kr, null, Hi(e.cols, (h) => (ge(), nt("span", {
      key: h.value
    }, ot(h.value) + "/", 1))), 128)),
    ((s = e.cols) == null ? void 0 : s.length) > 0 && ((f = e.rows) == null ? void 0 : f.length) > 0 ? (ge(), nt("span", Hae, "，")) : Rr("", !0),
    (ge(!0), nt(kr, null, Hi(e.rows, (h) => (ge(), nt("span", {
      key: h.value
    }, ot(h.value) + "/", 1))), 128))
  ], 2)) : Rr("", !0);
}
var Wae = /* @__PURE__ */ Pr(Nae, [["render", zae]]);
const Gae = Mr({
  name: "TooltipInfos",
  props: ["infos"],
  setup() {
    return {
      TOOLTIP_PREFIX_CLS: Ji
    };
  },
  components: {}
});
function kae(e, r, t, n, i, o) {
  return ge(), nt("div", {
    class: it(`${e.TOOLTIP_PREFIX_CLS}-infos`)
  }, ot(e.infos), 3);
}
var Uae = /* @__PURE__ */ Pr(Gae, [["render", kae]]);
const Yae = Mr({
  name: "TooltipSimpleTips",
  props: ["name", "tips"],
  setup() {
    return {
      TOOLTIP_PREFIX_CLS: Ji
    };
  },
  components: {}
});
function Xae(e, r, t, n, i, o) {
  return ge(), nt(kr, null, [
    e.name ? (ge(), nt("div", {
      key: 0,
      class: it(`${e.TOOLTIP_PREFIX_CLS}-name`)
    }, ot(e.name), 3)) : Rr("", !0),
    e.tips ? (ge(), nt("div", {
      key: 1,
      class: it(`${e.TOOLTIP_PREFIX_CLS}-tips`)
    }, ot(e.tips), 3)) : Rr("", !0)
  ], 64);
}
var Vae = /* @__PURE__ */ Pr(Yae, [["render", Xae]]);
const qae = Mr({
  name: "TooltipSummary",
  props: ["summaries"],
  setup(e) {
    return {
      summaryInfo: Lo(() => bae(e.summaries, (t, n) => (t.count += Aae(n == null ? void 0 : n.selectedData), (n.value || n.name) && t.summaries.push(n), t), { count: 0, summaries: [] })),
      i18n: Mt,
      TOOLTIP_PREFIX_CLS: Ji
    };
  },
  components: {}
});
function Kae(e, r, t, n, i, o) {
  return ge(), nt("div", {
    class: it(`${e.TOOLTIP_PREFIX_CLS}-summary`)
  }, [
    Re("div", {
      class: it(`${e.TOOLTIP_PREFIX_CLS}-summary-item`)
    }, [
      Re("span", {
        class: it(`${e.TOOLTIP_PREFIX_CLS}-selected`)
      }, ot(e.summaryInfo.count) + " " + ot(e.i18n("项")), 3),
      bn(" " + ot(e.i18n("已选择")), 1)
    ], 2),
    (ge(!0), nt(kr, null, Hi(e.summaryInfo.summaries, (a) => (ge(), nt("div", {
      key: `${a.name}-${a.value}`,
      class: it(`${e.TOOLTIP_PREFIX_CLS}-summary-item`)
    }, [
      Re("span", {
        class: it(`${e.TOOLTIP_PREFIX_CLS}-summary-key`)
      }, ot(a.name) + " " + ot(e.i18n("总和")), 3),
      Re("span", {
        class: it(`${e.TOOLTIP_PREFIX_CLS}-summary-val ${e.TOOLTIP_PREFIX_CLS}-bold`)
      }, ot(a.value), 3)
    ], 2))), 128))
  ], 2);
}
var jae = /* @__PURE__ */ Pr(qae, [["render", Kae]]);
const Zae = Mr({
  name: "TooltipOperatorTitle",
  props: ["menu"],
  setup(e) {
    const r = Lo(() => gb(e.menu.icon));
    return {
      TOOLTIP_PREFIX_CLS: Ji,
      icon: r
    };
  }
}), Qae = ["innerHTML"];
function Jae(e, r, t, n, i, o) {
  return ge(), nt("span", null, [
    e.icon ? (ge(), nt("span", {
      key: 0,
      innerHTML: e.icon,
      class: it(`${e.TOOLTIP_PREFIX_CLS}-operator-icon`)
    }, null, 10, Qae)) : Rr("", !0),
    Re("span", {
      class: it(`${e.TOOLTIP_PREFIX_CLS}-operator-text`)
    }, ot(e.menu.text), 3)
  ]);
}
var vL = /* @__PURE__ */ Pr(Zae, [["render", Jae]]);
const ele = Mr({
  name: "TooltipOperatorMenu",
  props: ["menu", "cell"],
  setup(e) {
    return {
      onMenuTitleClick: () => {
        var t, n;
        (n = (t = e.menu).onClick) == null || n.call(t, e.cell);
      },
      isEmpty: Gi,
      TOOLTIP_PREFIX_CLS: Ji
    };
  },
  components: {
    MenuItem: bf.Item,
    SubMenu: bf.SubMenu,
    TooltipOperatorTitle: vL
  }
});
function tle(e, r, t, n, i, o) {
  const a = rt("TooltipOperatorTitle"), l = rt("TooltipOperatorMenu"), s = rt("MenuItem"), f = rt("SubMenu");
  return ge(), nt(kr, null, [
    e.isEmpty(e.menu.children) ? Rr("", !0) : (ge(), bt(f, {
      key: e.menu.key,
      popupClassName: `${e.TOOLTIP_PREFIX_CLS}-operator-submenu-popup`,
      onTitleClick: e.onMenuTitleClick
    }, {
      title: Gt(() => [
        Ve(a, {
          menu: e.menu,
          onClick: e.onMenuTitleClick
        }, null, 8, ["menu", "onClick"])
      ]),
      default: Gt(() => [
        (ge(!0), nt(kr, null, Hi(e.menu.children, (h) => {
          var d;
          return ge(), nt(kr, {
            key: h.key
          }, [
            (d = h == null ? void 0 : h.children) != null && d.length ? (ge(), bt(l, {
              key: 0,
              menu: h,
              cell: e.cell
            }, null, 8, ["menu", "cell"])) : (ge(), bt(s, {
              title: h.text,
              key: h.key
            }, {
              default: Gt(() => [
                Ve(a, {
                  menu: h,
                  onClick: e.onMenuTitleClick
                }, null, 8, ["menu", "onClick"])
              ]),
              _: 2
            }, 1032, ["title"]))
          ], 64);
        }), 128))
      ]),
      _: 1
    }, 8, ["popupClassName", "onTitleClick"])),
    e.isEmpty(e.menu.children) ? (ge(), bt(s, {
      title: e.menu.text,
      key: e.menu.key
    }, {
      default: Gt(() => [
        Ve(a, {
          menu: e.menu,
          onClick: e.onMenuTitleClick
        }, null, 8, ["menu", "onClick"])
      ]),
      _: 1
    }, 8, ["title"])) : Rr("", !0)
  ], 64);
}
var rle = /* @__PURE__ */ Pr(ele, [["render", tle]]);
const nle = Mr({
  name: "TooltipOperator",
  props: [
    "menus",
    "onlyMenu",
    "onClick",
    "cell"
  ],
  setup(e, { emit: r }) {
    return {
      TOOLTIP_PREFIX_CLS: Ji,
      onMenuClick: (...n) => {
        r("click", ...n);
      }
    };
  },
  components: {
    Menu: bf,
    Dropdown: u3,
    TooltipOperatorTitle: vL,
    TooltipOperatorMenu: rle
  }
});
function ile(e, r, t, n, i, o) {
  const a = rt("TooltipOperatorMenu"), l = rt("Menu"), s = rt("TooltipOperatorTitle"), f = rt("Dropdown");
  return ge(), nt("div", {
    class: it(`${e.TOOLTIP_PREFIX_CLS}-operator`)
  }, [
    e.onlyMenu ? (ge(), bt(l, {
      key: 0,
      class: it(`${e.TOOLTIP_PREFIX_CLS}-operator-menus`),
      onClick: e.onMenuClick
    }, {
      default: Gt(() => [
        (ge(!0), nt(kr, null, Hi(e.menus, (h) => (ge(), bt(a, {
          key: h.key,
          menu: h,
          cell: e.cell
        }, null, 8, ["menu", "cell"]))), 128))
      ]),
      _: 1
    }, 8, ["class", "onClick"])) : (ge(!0), nt(kr, { key: 1 }, Hi(e.menus, (h) => (ge(), bt(f, {
      key: h.key,
      class: it(`${e.TOOLTIP_PREFIX_CLS}-operator-dropdown`)
    }, {
      overlay: Gt(() => {
        var d;
        return [
          (d = h == null ? void 0 : h.children) != null && d.length ? (ge(), bt(l, {
            key: 0,
            class: it(`${e.TOOLTIP_PREFIX_CLS}-operator-menus`),
            onClick: e.onMenuClick
          }, {
            default: Gt(() => [
              (ge(!0), nt(kr, null, Hi(e.menus, (v) => (ge(), bt(a, {
                key: v.key,
                menu: v,
                cell: e.cell
              }, null, 8, ["menu", "cell"]))), 128))
            ]),
            _: 2
          }, 1032, ["class", "onClick"])) : Rr("", !0)
        ];
      }),
      default: Gt(() => [
        Ve(s, {
          menu: h,
          onClick: (d) => {
            var v;
            return (v = h.onClick) == null ? void 0 : v.call(h, e.cell);
          }
        }, null, 8, ["menu", "onClick"])
      ]),
      _: 2
    }, 1032, ["class"]))), 128))
  ], 2);
}
var ole = /* @__PURE__ */ Pr(nle, [["render", ile]]);
const ale = Mr({
  name: "TooltipComponent",
  props: [
    "data",
    "options",
    "cell",
    "position",
    "event",
    "content"
  ],
  setup(e) {
    const { operator: r, onlyMenu: t } = pE(e.options);
    return {
      operator: r,
      onlyMenu: t
    };
  },
  components: {
    TooltipDetail: $ae,
    TooltipHeadInfo: Wae,
    TooltipInfos: Uae,
    TooltipSimpleTips: Vae,
    TooltipSummary: jae,
    TooltipOperator: ole
  }
});
function lle(e, r, t, n, i, o) {
  var a, l, s, f, h, d, v, g, y, C, m, w, S, x, b, O;
  const D = rt("TooltipOperator"), N = rt("TooltipSimpleTips"), W = rt("TooltipSummary"), k = rt("TooltipHeadInfo"), ee = rt("TooltipDetail"), J = rt("TooltipInfos");
  return e.onlyMenu ? (ge(), bt(D, {
    key: 0,
    menus: ((a = e.operator) == null ? void 0 : a.menus) || [],
    onlyMenu: !0,
    cell: e.cell,
    onClick: (l = e.operator) == null ? void 0 : l.onClick
  }, null, 8, ["menus", "cell", "onClick"])) : (ge(), nt(kr, { key: 1 }, [
    Ve(D, {
      menus: ((s = e.operator) == null ? void 0 : s.menus) || [],
      onlyMenu: !1,
      cell: e.cell,
      onClick: (f = e.operator) == null ? void 0 : f.onClick
    }, null, 8, ["menus", "cell", "onClick"]),
    e.content ? cx(e.$slots, "content", { key: 0 }) : (ge(), nt(kr, { key: 1 }, [
      Ve(N, {
        name: (h = e.data) == null ? void 0 : h.name,
        tips: (d = e.data) == null ? void 0 : d.tips
      }, null, 8, ["name", "tips"]),
      (g = (v = e.data) == null ? void 0 : v.summaries) != null && g.length ? (ge(), bt(W, {
        key: 0,
        summaries: (y = e.data) == null ? void 0 : y.summaries
      }, null, 8, ["summaries"])) : Rr("", !0),
      Ve(k, {
        rows: ((m = (C = e.data) == null ? void 0 : C.headInfo) == null ? void 0 : m.rows) || [],
        cols: ((S = (w = e.data) == null ? void 0 : w.headInfo) == null ? void 0 : S.cols) || []
      }, null, 8, ["rows", "cols"]),
      Ve(ee, {
        list: ((x = e.data) == null ? void 0 : x.details) || []
      }, null, 8, ["list"]),
      (b = e.data) != null && b.infos ? (ge(), bt(J, {
        key: 1,
        infos: (O = e.data) == null ? void 0 : O.infos
      }, null, 8, ["infos"])) : Rr("", !0)
    ], 64))
  ], 64));
}
var sle = /* @__PURE__ */ Pr(ale, [["render", lle]]);
class ule extends sp {
  constructor(r) {
    super(r);
  }
  renderContent() {
    var r, t;
    const { tooltip: n } = this.spreadsheet.options, i = this.options, o = this.spreadsheet.getCell((r = i.event) == null ? void 0 : r.target), a = (t = i.content) != null ? t : n == null ? void 0 : n.content, l = Cg(yg({}, i), {
      cell: o,
      content: a
    }), s = Ve(sle, l, {
      content: () => a
    });
    yd(null, this.container), yd(s, this.container);
  }
  destroy() {
    super.destroy(), this.container && yd(null, this.container);
  }
}
const yp = 1, Cp = 10, fle = (e, r) => {
  var t, n, i, o, a, l;
  const s = Un((i = (n = (t = r.options) == null ? void 0 : t.pagination) == null ? void 0 : n.current) != null ? i : yp), f = Un((l = (a = (o = r.options) == null ? void 0 : o.pagination) == null ? void 0 : a.pageSize) != null ? l : Cp), h = Un(0), d = (y) => {
    s.value = y;
  }, v = (y) => {
    f.value = y;
  }, g = Lo(() => {
    var y;
    return r.showPagination && !Gi((y = r.options) == null ? void 0 : y.pagination);
  });
  return ai([s, f], () => {
    var y;
    if (!e.value)
      return;
    const C = Gi((y = r.options) == null ? void 0 : y.pagination) ? null : {
      current: s.value,
      pageSize: f.value
    };
    e.value.updatePagination(C), e.value.render(!1);
  }), ai([() => {
    var y;
    return (y = r.options) == null ? void 0 : y.pagination;
  }, e], () => {
    var y, C, m, w, S, x, b, O, D;
    s.value = (m = (C = (y = r.options) == null ? void 0 : y.pagination) == null ? void 0 : C.current) != null ? m : yp, f.value = (x = (S = (w = r.options) == null ? void 0 : w.pagination) == null ? void 0 : S.pageSize) != null ? x : Cp, h.value = (D = (O = (b = e.value) == null ? void 0 : b.facet) == null ? void 0 : O.viewCellHeights.getTotalLength()) != null ? D : 0;
  }, {
    immediate: !0
  }), ai(e, (y, C, m) => {
    if (!e.value)
      return;
    const w = (S) => {
      var x;
      Gi((x = r.options) == null ? void 0 : x.pagination) || (h.value = S.total);
    };
    e.value.on(B.LAYOUT_PAGINATION, w), m(() => {
      var S;
      (S = e.value) == null || S.off(B.LAYOUT_PAGINATION, w);
    });
  }), {
    visible: g,
    current: s,
    pageSize: f,
    total: h,
    change: d,
    showSizeChange: v
  };
}, cle = `${Wp}-pagination`, hle = Mr({
  name: "s2-pagination",
  props: {
    current: {
      type: Number,
      default: yp
    },
    total: {
      type: Number,
      default: 0
    },
    pageSize: {
      type: Number,
      default: Cp
    }
  },
  emits: ["change", "showSizeChange"],
  setup: (e) => ({
    showQuickJumper: Lo(() => e.total / e.pageSize > 5),
    PRE_CLASS: cle,
    i18n: Mt
  }),
  components: {
    AntDPagination: f3
  }
});
function dle(e, r, t, n, i, o) {
  const a = rt("AntDPagination");
  return ge(), nt("div", {
    class: it(e.PRE_CLASS)
  }, [
    Ve(a, {
      "default-current": 1,
      current: e.current,
      total: e.total,
      pageSize: e.pageSize,
      showSizeChanger: !0,
      onShowSizeChange: r[0] || (r[0] = (l, s) => e.$emit("showSizeChange", s)),
      size: "small",
      showQuickJumper: e.showQuickJumper,
      onChange: r[1] || (r[1] = (l) => e.$emit("change", l))
    }, null, 8, ["current", "total", "pageSize", "showQuickJumper"]),
    Re("span", {
      class: it(`${e.PRE_CLASS}-count`)
    }, ot(e.i18n("共计")) + " " + ot(e.total || " - ") + " " + ot(e.i18n("条")), 3)
  ], 2);
}
var vle = /* @__PURE__ */ Pr(hle, [["render", dle]]);
const ple = {
  tooltip: {
    renderTooltip: (e) => new ule(e)
  }
}, gle = (...e) => Eee(ple, ...e), tt = (e, r, t, n) => {
  var i;
  const o = (a) => {
    const l = dZ(a);
    r(n, l);
  };
  (i = e.value) == null || i.on(t, o);
}, Me = (e, r, t, n) => {
  var i;
  const o = (a) => {
    r(n, a);
  };
  (i = e.value) == null || i.on(t, o);
}, yle = (e, r) => {
  ux(() => {
    e.value && (tt(e, r, B.ROW_CELL_HOVER, "rowCellHover"), tt(e, r, B.ROW_CELL_CLICK, "rowCellClick"), tt(e, r, B.ROW_CELL_DOUBLE_CLICK, "rowCellDoubleClick"), tt(e, r, B.ROW_CELL_CONTEXT_MENU, "rowCellContextMenu"), tt(e, r, B.ROW_CELL_MOUSE_DOWN, "rowCellMouseDown"), tt(e, r, B.ROW_CELL_MOUSE_UP, "rowCellMouseUp"), tt(e, r, B.ROW_CELL_MOUSE_MOVE, "rowCellMouseMove"), Me(e, r, B.ROW_CELL_COLLAPSE_TREE_ROWS, "rowCellCollapseTreeRows"), Me(e, r, B.ROW_CELL_SCROLL, "rowCellScroll"), tt(e, r, B.COL_CELL_HOVER, "colCellHover"), tt(e, r, B.COL_CELL_CLICK, "colCellClick"), tt(e, r, B.COL_CELL_DOUBLE_CLICK, "colCellDoubleClick"), tt(e, r, B.COL_CELL_CONTEXT_MENU, "colCellContextMenu"), tt(e, r, B.COL_CELL_MOUSE_DOWN, "colCellMouseDown"), tt(e, r, B.COL_CELL_MOUSE_UP, "colCellMouseUp"), tt(e, r, B.COL_CELL_MOUSE_MOVE, "colCellMouseMove"), tt(e, r, B.DATA_CELL_HOVER, "dataCellHover"), tt(e, r, B.DATA_CELL_CLICK, "dataCellClick"), tt(e, r, B.DATA_CELL_DOUBLE_CLICK, "dataCellDoubleClick"), tt(e, r, B.DATA_CELL_CONTEXT_MENU, "dataCellContextMenu"), tt(e, r, B.DATA_CELL_MOUSE_DOWN, "dataCellMouseDown"), tt(e, r, B.DATA_CELL_MOUSE_UP, "dataCellMouseUp"), tt(e, r, B.DATA_CELL_MOUSE_MOVE, "dataCellMouseMove"), Me(e, r, B.DATA_CELL_TREND_ICON_CLICK, "dataCellTrendIconClick"), Me(e, r, B.DATA_CELL_BRUSH_SELECTION, "dataCellBrushSelection"), Me(e, r, B.DATA_CELL_SELECT_MOVE, "dataCellSelectMove"), tt(e, r, B.CORNER_CELL_HOVER, "cornerCellHover"), tt(e, r, B.CORNER_CELL_CLICK, "cornerCellClick"), tt(e, r, B.CORNER_CELL_DOUBLE_CLICK, "cornerCellDoubleClick"), tt(e, r, B.CORNER_CELL_CONTEXT_MENU, "cornerCellContextMenu"), tt(e, r, B.CORNER_CELL_MOUSE_DOWN, "cornerCellMouseDown"), tt(e, r, B.CORNER_CELL_MOUSE_UP, "cornerCellMouseUp"), tt(e, r, B.CORNER_CELL_MOUSE_MOVE, "cornerCellMouseMove"), tt(e, r, B.MERGED_CELLS_HOVER, "mergedCellsHover"), tt(e, r, B.MERGED_CELLS_CLICK, "mergedCellsClick"), tt(e, r, B.MERGED_CELLS_DOUBLE_CLICK, "mergedCellsDoubleClick"), tt(e, r, B.MERGED_CELLS_CONTEXT_MENU, "mergedCellsContextMenu"), tt(e, r, B.MERGED_CELLS_MOUSE_DOWN, "mergedCellsMouseDown"), tt(e, r, B.MERGED_CELLS_MOUSE_UP, "mergedCellsMouseUp"), tt(e, r, B.MERGED_CELLS_MOUSE_MOVE, "mergedCellsMouseMove"), Me(e, r, B.RANGE_SORT, "rangeSort"), Me(e, r, B.RANGE_SORTED, "rangeSorted"), Me(e, r, B.RANGE_FILTER, "rangeFilter"), Me(e, r, B.RANGE_FILTERED, "rangeFiltered"), Me(e, r, B.LAYOUT_AFTER_HEADER_LAYOUT, "layoutAfterHeaderLayout"), Me(e, r, B.LAYOUT_PAGINATION, "layoutPagination"), Me(e, r, B.LAYOUT_CELL_SCROLL, "layoutCellScroll"), Me(e, r, B.LAYOUT_AFTER_COLLAPSE_ROWS, "layoutAfterCollapseRows"), Me(e, r, B.LAYOUT_TREE_ROWS_COLLAPSE_ALL, "collapseRowsAll"), Me(e, r, B.LAYOUT_COLS_EXPANDED, "layoutColsExpanded"), Me(e, r, B.LAYOUT_COLS_HIDDEN, "layoutColsHidden"), Me(e, r, B.LAYOUT_BEFORE_RENDER, "beforeRender"), Me(e, r, B.LAYOUT_AFTER_RENDER, "afterRender"), Me(e, r, B.LAYOUT_DESTROY, "destroy"), Me(e, r, B.LAYOUT_RESIZE, "layoutResize"), Me(e, r, B.LAYOUT_RESIZE_SERIES_WIDTH, "layoutResizeSeriesWidth"), Me(e, r, B.LAYOUT_RESIZE_ROW_WIDTH, "layoutResizeRowWidth"), Me(e, r, B.LAYOUT_RESIZE_ROW_HEIGHT, "layoutResizeRowHeight"), Me(e, r, B.LAYOUT_RESIZE_COL_WIDTH, "layoutResizeColWidth"), Me(e, r, B.LAYOUT_RESIZE_COL_HEIGHT, "layoutResizeColHeight"), Me(e, r, B.LAYOUT_RESIZE_TREE_WIDTH, "layoutResizeTreeWidth"), Me(e, r, B.LAYOUT_RESIZE_MOUSE_DOWN, "layoutResizeMouseDown"), Me(e, r, B.LAYOUT_RESIZE_MOUSE_UP, "layoutResizeMouseUp"), Me(e, r, B.LAYOUT_RESIZE_MOUSE_MOVE, "layoutResizeMouseMove"), Me(e, r, B.GLOBAL_KEYBOARD_DOWN, "keyBoardDown"), Me(e, r, B.GLOBAL_KEYBOARD_UP, "keyBoardUp"), Me(e, r, B.GLOBAL_COPIED, "copied"), Me(e, r, B.GLOBAL_ACTION_ICON_HOVER, "actionIconHover"), Me(e, r, B.GLOBAL_ACTION_ICON_CLICK, "actionIconClick"), Me(e, r, B.GLOBAL_CONTEXT_MENU, "contextMenu"), Me(e, r, B.GLOBAL_HOVER, "mouseHover"), Me(e, r, B.GLOBAL_CLICK, "click"), Me(e, r, B.GLOBAL_DOUBLE_CLICK, "doubleClick"), Me(e, r, B.GLOBAL_SELECTED, "selected"), Me(e, r, B.GLOBAL_MOUSE_UP, "mouseUp"), Me(e, r, B.GLOBAL_RESET, "reset"), Me(e, r, B.GLOBAL_LINK_FIELD_JUMP, "linkFieldJump"), Me(e, r, B.GLOBAL_SCROLL, "scroll"), Me(e, r, B.LAYOUT_AFTER_REAL_DATA_CELL_RENDER, "layoutAfterRealDataCellRender"), Me(e, r, B.ROW_CELL_BRUSH_SELECTION, "rowCellBrushSelection"), Me(e, r, B.COL_CELL_BRUSH_SELECTION, "colCellBrushSelection"));
  });
}, Cle = (e, r = !1) => {
  const t = Un(r), n = (i) => {
    t.value = i;
  };
  return ai(e, (i) => {
    i == null || i.on(B.LAYOUT_BEFORE_RENDER, () => {
      n(!0);
    }), i == null || i.on(B.LAYOUT_AFTER_RENDER, () => {
      n(!1);
    });
  }), { loading: t, setLoading: n };
}, _le = (e, r) => {
  const t = fx({
    rerender: !1,
    reloadData: !1,
    rebuildDataset: !1
  });
  ai(() => r.options, (n, i) => {
    var o, a;
    t.rerender = !0, Object.is(i == null ? void 0 : i.hierarchyType, n == null ? void 0 : n.hierarchyType) || (t.reloadData = !0, t.rebuildDataset = !0), (o = e.value) == null || o.setOptions(n), (a = e.value) == null || a.changeSheetSize(n == null ? void 0 : n.width, n == null ? void 0 : n.height);
  }, { deep: gd(r.options) }), ai(() => r.dataCfg, (n, i) => {
    var o, a, l, s, f, h;
    ((a = (o = i == null ? void 0 : i.fields) == null ? void 0 : o.columns) == null ? void 0 : a.length) !== ((s = (l = n == null ? void 0 : n.fields) == null ? void 0 : l.columns) == null ? void 0 : s.length) && ((f = e.value) == null || f.clearColumnLeafNodes()), t.rerender = !0, t.reloadData = !0, (h = e.value) == null || h.setDataCfg(n);
  }, { deep: gd(r.dataCfg) }), ai(() => r.themeCfg, (n) => {
    var i;
    t.rerender = !0, (i = e.value) == null || i.setThemeCfg(n);
  }, {
    deep: gd(r.themeCfg)
  }), ai(t, (n) => {
    var i;
    n.rerender && ((i = e.value) == null || i.render(n.reloadData, {
      reBuildDataSet: n.rebuildDataset
    }), n.rerender = !1, n.reloadData = !1, n.rebuildDataset = !1);
  });
}, mle = (e, r, t) => {
  const n = Un();
  ai([e, () => r.adaptive], ([i, o], a, l) => {
    i && (n.value = Oae({
      s2: i,
      adaptive: o,
      wrapper: t.wrapperRef.value,
      container: t.containerRef.value
    }), l(() => {
      var s;
      (s = n.value) == null || s.call(n);
    }));
  }, { deep: !0 });
};
function wle(e, r) {
  const {
    dataCfg: t,
    options: n,
    themeCfg: i,
    loading: o,
    sheetType: a,
    onSpreadsheet: l,
    onMounted: s,
    onGetSpreadSheet: f
  } = e, h = Un(), d = Un(), v = xp(), { loading: g, setLoading: y } = Cle(v, o), C = fle(v, e), m = (S) => {
    const x = vf(t), b = vf(n), O = gle(b);
    return l ? l(S, x, O) : a === "table" ? new vee(S, x, O) : new dee(S, x, O);
  };
  return ux(() => {
    y(!0), v.value = m(d.value), v.value.setThemeCfg(vf(i)), v.value.render(), y(!1), f == null || f(v.value), s == null || s(v.value);
  }), yle(v, r), _le(v, e), mle(v, e, { wrapperRef: h, containerRef: d }), n3(() => {
    var S;
    (S = v.value) == null || S.destroy();
  }), {
    wrapperRef: h,
    containerRef: d,
    s2Ref: v,
    loading: g,
    setLoading: y,
    pagination: C
  };
}
const pL = () => ({
  sheetType: String,
  dataCfg: Object,
  themeCfg: Object,
  showPagination: {
    type: [Object, Boolean],
    default: !1
  },
  loading: Boolean,
  partDrillDown: Object,
  header: Object,
  options: {
    type: Object,
    default: {}
  },
  adaptive: {
    type: [Object, Boolean],
    default: !1
  },
  onSpreadsheet: Function,
  onGetSpreadSheet: Function,
  onMounted: Function
}), xle = () => ({
  className: String,
  titleText: {
    type: String,
    default: Mt("选择下钻维度")
  },
  searchText: {
    type: String,
    default: Mt("搜索字段")
  },
  clearButtonText: {
    type: String,
    default: Mt("恢复默认")
  },
  extra: Node,
  dataSet: {
    type: Array,
    default: []
  },
  drillFields: Array,
  disabledFields: Array,
  getDrillFields: Function,
  setDrillFields: Function
}), Sle = () => ["getDrillFields", "setDrillFields"], Tle = () => [
  "spreadsheet",
  "getSpreadSheet",
  "rowCellHover",
  "rowCellClick",
  "rowCellDoubleClick",
  "rowCellContextMenu",
  "rowCellMouseDown",
  "rowCellMouseUp",
  "rowCellMouseMove",
  "rowCellCollapseTreeRows",
  "rowCellScroll",
  "colCellHover",
  "colCellClick",
  "colCellDoubleClick",
  "colCellContextMenu",
  "colCellMouseDown",
  "colCellMouseUp",
  "colCellMouseMove",
  "dataCellHover",
  "dataCellClick",
  "dataCellDoubleClick",
  "dataCellContextMenu",
  "dataCellMouseDown",
  "dataCellMouseUp",
  "dataCellMouseMove",
  "dataCellTrendIconClick",
  "dataCellBrushSelection",
  "dataCellSelectMove",
  "cornerCellHover",
  "cornerCellClick",
  "cornerCellDoubleClick",
  "cornerCellContextMenu",
  "cornerCellMouseDown",
  "cornerCellMouseUp",
  "cornerCellMouseMove",
  "mergedCellsHover",
  "mergedCellsClick",
  "mergedCellsDoubleClick",
  "mergedCellsContextMenu",
  "mergedCellsMouseDown",
  "mergedCellsMouseUp",
  "mergedCellsMouseMove",
  "rangeSort",
  "rangeSorted",
  "rangeFilter",
  "rangeFiltered",
  "layoutAfterHeaderLayout",
  "layoutPagination",
  "layoutCellScroll",
  "layoutCollapseRows",
  "layoutAfterCollapseRows",
  "collapseRowsAll",
  "layoutColsExpanded",
  "layoutColsHidden",
  "beforeRender",
  "afterRender",
  "mounted",
  "destroy",
  "layoutResize",
  "layoutResizeSeriesWidth",
  "layoutResizeRowWidth",
  "layoutResizeRowHeight",
  "layoutResizeColWidth",
  "layoutResizeColHeight",
  "layoutResizeTreeWidth",
  "layoutResizeMouseDown",
  "layoutResizeMouseUp",
  "layoutResizeMouseMove",
  "keyBoardDown",
  "keyBoardUp",
  "copied",
  "actionIconHover",
  "actionIconClick",
  "contextMenu",
  "mouseHover",
  "mouseUp",
  "mouseMove",
  "mouseDown",
  "selected",
  "reset",
  "linkFieldJump",
  "click",
  "doubleClick",
  "scroll",
  "hover",
  "layoutAfterRealDataCellRender",
  "rowCellBrushSelection",
  "colCellBrushSelection"
], ble = Mr({
  name: "BaseSheet",
  props: pL(),
  emits: Tle(),
  setup(e, r) {
    const { wrapperRef: t, containerRef: n, s2Ref: i, loading: o, pagination: a } = wle(e, r.emit);
    return r.expose({
      get instance() {
        return i.value;
      }
    }), {
      S2_PREFIX_CLS: Wp,
      wrapperRef: t,
      containerRef: n,
      s2Ref: i,
      loading: o,
      pagination: a,
      handlePageChange: (f) => {
        var h, d;
        e.showPagination && !vp(e.showPagination) && ((d = (h = e.showPagination).onChange) == null || d.call(h, f)), a.change(f);
      },
      handlePageSizeChange: (f) => {
        var h, d;
        e.showPagination && !vp(e.showPagination) && ((d = (h = e.showPagination).onShowSizeChange) == null || d.call(h, f)), a.showSizeChange(f);
      }
    };
  },
  components: {
    Spin: c3,
    S2Pagination: vle
  }
});
function Ele(e, r, t, n, i, o) {
  const a = rt("S2Pagination"), l = rt("Spin");
  return ge(), bt(l, {
    wrapperClassName: e.S2_PREFIX_CLS + "-spin",
    spinning: e.loading
  }, {
    default: Gt(() => [
      Re("div", {
        ref: "wrapperRef",
        class: it(e.S2_PREFIX_CLS + "-wrapper")
      }, [
        Re("div", {
          ref: "containerRef",
          class: it(e.S2_PREFIX_CLS + "-container")
        }, null, 2),
        e.pagination.visible.value ? (ge(), bt(a, {
          key: 0,
          current: e.pagination.current.value,
          pageSize: e.pagination.pageSize.value,
          total: e.pagination.total.value,
          onChange: e.handlePageChange,
          onShowSizeChange: e.handlePageSizeChange
        }, null, 8, ["current", "pageSize", "total", "onChange", "onShowSizeChange"])) : Rr("", !0)
      ], 2)
    ]),
    _: 1
  }, 8, ["wrapperClassName", "spinning"]);
}
var gL = /* @__PURE__ */ Pr(ble, [["render", Ele]]);
const Lle = {
  class: "antv-s2-icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg",
  width: "12.6",
  height: "12.6"
}, Ale = /* @__PURE__ */ Re("path", {
  d: "M511.804 222.338c-57.117 0-105.737 20.061-145.86 60.184-40.122 40.123-60.184 88.569-60.184 145.337 0 56.769 20.062 105.214 60.185 145.337 40.122 40.123 88.742 60.185 145.859 60.185 57.116 0 105.736-20.062 145.859-60.185 40.123-40.123 60.184-88.568 60.184-145.337 0-56.768-20.061-105.214-60.184-145.337-40.123-40.123-88.743-60.184-145.86-60.184zm0 338.619c-36.729 0-68.007-12.925-93.835-38.774-25.827-25.85-38.752-57.127-38.773-93.834-.022-36.707 12.902-68.16 38.773-94.357 25.872-26.197 57.15-39.285 93.835-39.263 36.685.022 67.963 13.11 93.834 39.263 25.871 26.154 38.796 57.606 38.774 94.357-.022 36.75-12.946 68.028-38.774 93.834-25.828 25.806-57.106 38.73-93.834 38.774zm366.165-295.766c-21.084-42.168-50.327-79.223-87.73-111.165-37.404-31.941-79.898-57.105-127.484-75.491C614.472 60.845 564.155 52 511.804 52c-52.352 0-103.006 8.845-151.963 26.535-46.911 18.364-89.069 43.528-126.472 75.491-37.403 31.964-66.647 69.019-87.731 111.165C123.879 308.71 113 353.923 113 400.835c0 65.95 15.982 132.924 47.945 200.92 26.524 56.441 63.58 112.198 111.165 167.27 62.556 73.435 134.632 138.71 216.227 195.827 6.81 4.765 14.459 7.148 22.945 7.148 8.485 0 16.47-2.383 23.956-7.148 81.595-57.79 153.67-123.067 216.227-195.828 47.608-55.767 84.663-111.524 111.165-167.27 31.963-67.995 47.945-134.969 47.945-200.919 0-46.912-10.88-92.126-32.638-135.644h.032zm-40.797 136.656c0 55.07-13.6 111.513-40.798 169.326-23.129 49.631-56.452 99.948-99.97 150.95-52.351 61.208-113.885 117.65-184.6 169.326-70.716-51.676-132.25-108.118-184.6-169.326-42.844-51.002-76.167-101.319-99.971-150.95-27.198-57.791-40.797-114.57-40.797-170.338 0-36.032 8.159-70.716 24.478-104.05 16.994-32.638 40.45-61.882 70.368-87.73 30.592-26.525 65.276-47.26 104.05-62.209 40.797-14.97 82.954-22.455 126.472-22.455 43.517 0 85.675 7.485 126.472 22.455 38.752 14.97 73.436 35.706 104.05 62.208 30.593 25.85 54.048 55.093 70.367 87.731 16.32 34.009 24.479 69.03 24.479 105.062z",
  fill: "currentColor"
}, null, -1), Rle = [
  Ale
];
function Ole(e, r) {
  return ge(), nt("svg", Lle, Rle);
}
var Ile = { render: Ole };
const Mle = {
  class: "antv-s2-icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg",
  width: "12.6",
  height: "12.6"
}, Ble = /* @__PURE__ */ Re("path", {
  d: "M86.016 805.888H0l143.872-529.92h79.36l144.896 529.92h-91.136l-29.696-109.056H115.2S85.504 805.888 86.016 805.888zM225.28 613.376 181.248 455.68 138.24 613.376h87.04zM519.168 430.08c24.576-16.384 47.616-25.088 69.12-25.088 30.72 0 58.368 14.848 81.92 44.032 24.064 29.184 35.328 72.192 35.328 128.512 0 44.032-7.168 83.456-22.528 118.272-14.848 34.816-35.328 62.976-60.416 83.456-26.112 20.992-57.856 31.232-95.232 31.232-15.36-.512-31.232-1.536-46.592-3.584-4.096-.512-8.704-1.024-12.8-1.536h-66.56V256h81.92v206.336c11.264-12.8 23.04-23.552 35.84-32.256zM483.84 587.264v135.168c13.824 3.072 26.112 4.608 37.376 4.608 27.648 0 50.176-11.776 69.12-36.352 19.456-25.088 28.672-59.392 28.672-104.96 0-32.256-5.12-55.296-14.848-70.144-9.216-13.824-18.432-19.968-28.672-19.968-12.288 0-27.136 7.68-44.544 24.064-16.896 16.896-32.768 39.424-47.104 67.584zm529.92 207.36c-36.864 14.336-71.68 20.992-104.96 20.992-32.768.512-64.512-9.216-91.648-27.136-27.136-18.432-48.64-44.032-62.464-73.728-14.848-30.72-22.528-65.536-22.528-104.448 0-58.88 16.896-108.032 51.2-146.944 33.792-38.912 75.264-58.88 123.392-58.88 34.304 0 70.144 7.168 108.032 21.504l10.24 4.096v95.232l-20.992-10.752c-34.816-17.92-65.536-26.624-92.16-26.624-16.896 0-32.768 4.608-47.104 13.824-13.824 8.704-25.088 23.04-32.768 42.496-8.192 19.968-12.288 41.472-12.288 63.488 0 28.672 7.68 55.808 24.064 82.432 14.848 24.576 37.888 36.352 71.168 36.352 10.752 0 21.504-1.024 31.744-2.56 9.728-1.536 29.696-8.192 58.88-18.944l19.456-7.68v92.672l-11.264 4.608z",
  fill: "currentColor"
}, null, -1), Dle = [
  Ble
];
function Ple(e, r) {
  return ge(), nt("svg", Mle, Dle);
}
var Fle = { render: Ple };
const $le = {
  class: "antv-s2-icon",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg",
  width: "12.6",
  height: "12.6"
}, Nle = /* @__PURE__ */ Re("path", {
  d: "M950.016 898.016 744 693.024q88-107.008 88-244.992 0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032 176.512 719.52 448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760t-120.992-24q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488q56.992-24 120.992-24t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",
  fill: "currentColor"
}, null, -1), Hle = [
  Nle
];
function zle(e, r) {
  return ge(), nt("svg", $le, Hle);
}
var Wle = { render: zle };
const Gle = Mr({
  name: "DrillDown",
  props: xle(),
  emits: Sle(),
  methods: {},
  components: {
    Button: h3,
    Input: d3,
    Empty: v3,
    Menu: bf,
    MenuItem: p3,
    LocationIcon: Ile,
    TextIcon: Fle,
    CalendarIcon: Wle
  },
  setup(e) {
    const {
      dataSet: r,
      disabledFields: t,
      getDrillFields: n,
      setDrillFields: i,
      className: o
    } = e, l = Un(r.map((v) => (v.disabled = !!(t && t.includes(v.value)), v))), s = Un([]);
    return {
      options: l,
      handleSearch: (v) => {
        const { value: g } = v.target;
        if (!g)
          l.value = [...r];
        else {
          const y = new RegExp(g, "gi"), C = r.filter((m) => y.test(m.name));
          l.value = [...C];
        }
      },
      handleSelect: (v) => {
        const g = v == null ? void 0 : v.selectedKeys;
        s.value = g, n && n(g), i && i(g);
      },
      handleClear: (v) => {
        v.stopPropagation(), s.value = [], n && n([]), i && i([]);
      },
      className: o,
      selected: s,
      isEmpty: Gi,
      DRILL_DOWN_PRE_CLASS: bee
    };
  }
});
function kle(e, r, t, n, i, o) {
  const a = rt("Button"), l = rt("Input"), s = rt("Empty"), f = rt("text-icon"), h = rt("calendar-icon"), d = rt("location-icon"), v = rt("MenuItem"), g = rt("Menu");
  return ge(), nt("div", {
    class: it([e.DRILL_DOWN_PRE_CLASS, e.className])
  }, [
    Re("header", {
      class: it(`${e.DRILL_DOWN_PRE_CLASS}-header`)
    }, [
      Re("div", null, ot(e.titleText), 1),
      Ve(a, {
        type: "link",
        onClick: e.handleClear
      }, {
        default: Gt(() => [
          bn(ot(e.clearButtonText), 1)
        ]),
        _: 1
      }, 8, ["onClick"])
    ], 2),
    Ve(l, {
      class: it(`${e.DRILL_DOWN_PRE_CLASS}-search`),
      placeholder: e.searchText,
      onChange: e.handleSearch,
      onPressEnter: e.handleSearch,
      allowClear: !0
    }, null, 8, ["class", "placeholder", "onChange", "onPressEnter"]),
    e.isEmpty(e.options) ? (ge(), bt(s, {
      key: 0,
      imageStyle: { height: "64px" },
      class: it(`${e.DRILL_DOWN_PRE_CLASS}-empty`)
    }, null, 8, ["class"])) : Rr("", !0),
    Ve(g, {
      class: "`${DRILL_DOWN_PRE_CLASS}-menu`",
      selectedKeys: e.selected,
      "onUpdate:selectedKeys": r[0] || (r[0] = (y) => e.selected = y),
      onSelect: e.handleSelect
    }, {
      default: Gt(() => [
        (ge(!0), nt(kr, null, Hi(e.options, (y) => (ge(), bt(v, {
          key: y.value,
          disabled: y.disabled,
          class: it(`${e.DRILL_DOWN_PRE_CLASS}-menu-item`)
        }, {
          icon: Gt(() => [
            y.type === "text" ? (ge(), bt(f, { key: 0 })) : Rr("", !0),
            y.type === "date" ? (ge(), bt(h, { key: 1 })) : Rr("", !0),
            y.type === "location" ? (ge(), bt(d, { key: 2 })) : Rr("", !0)
          ]),
          default: Gt(() => [
            bn(" " + ot(y == null ? void 0 : y.name), 1)
          ]),
          _: 2
        }, 1032, ["disabled", "class"]))), 128))
      ]),
      _: 1
    }, 8, ["selectedKeys", "onSelect"])
  ], 2);
}
var Ule = /* @__PURE__ */ Pr(Gle, [["render", kle], ["__scopeId", "data-v-3a294982"]]);
const Yle = Mr({
  name: "PivotSheet",
  props: pL(),
  emits: [],
  setup(e, r) {
    const t = Ig(r.expose), { options: n } = vC(e), { dataCfg: i, partDrillDown: o } = vC(e), a = Un([]), l = (h) => {
      var d, v, g, y, C, m;
      const w = (d = t == null ? void 0 : t.value) == null ? void 0 : d.instance;
      a.value = h, w == null || w.hideTooltip(), Gi(h) ? w == null || w.clearDrillDownData((v = w == null ? void 0 : w.store.get("drillDownNode")) == null ? void 0 : v.id) : Dae({
        rows: (y = (g = i.value) == null ? void 0 : g.fields.rows) != null ? y : [],
        drillFields: h,
        fetchData: (C = o.value) == null ? void 0 : C.fetchData,
        drillItemsNum: (m = o.value) == null ? void 0 : m.drillItemsNum,
        spreadsheet: w
      });
    }, s = (h) => {
      var d, v;
      const { event: g, disabledFields: y } = h;
      if (g) {
        const C = (d = t == null ? void 0 : t.value) == null ? void 0 : d.instance, m = Ve(Ule, Cg(yg({}, (v = o.value) == null ? void 0 : v.drillConfig), {
          setDrillFields: l,
          drillFields: a.value,
          disabledFields: y
        }));
        C == null || C.showTooltip({
          position: {
            x: g.clientX,
            y: g.clientY
          },
          event: g,
          content: m
        });
      }
    }, f = Lo(() => Bae(n.value, o.value, (h) => s(h)));
    return {
      s2Ref: t,
      options: f
    };
  },
  components: {
    BaseSheet: gL
  }
});
function Xle(e, r, t, n, i, o) {
  const a = rt("BaseSheet");
  return ge(), bt(a, i3(e.$props, {
    ref: "s2Ref",
    options: e.options
  }), null, 16, ["options"]);
}
var kw = /* @__PURE__ */ Pr(Yle, [["render", Xle]]);
const Vle = Mr({
  name: "TableSheet",
  props: [],
  emits: [],
  setup(e, r) {
    return { s2Ref: Ig(r.expose) };
  },
  components: {
    BaseSheet: gL
  }
});
function qle(e, r, t, n, i, o) {
  const a = rt("BaseSheet");
  return ge(), bt(a, { ref: "s2Ref" }, null, 512);
}
var Uw = /* @__PURE__ */ Pr(Vle, [["render", qle]]);
const Kle = Mr({
  name: "Sheet",
  props: [],
  emits: [],
  setup(e, r) {
    const t = Ig(r.expose), n = Lo(() => {
      switch (r.attrs.sheetType) {
        case "table":
          return Uw;
        default:
          return kw;
      }
    });
    return { s2Ref: t, sheetType: n };
  },
  components: {
    PivotSheet: kw,
    TableSheet: Uw
  }
});
function jle(e, r, t, n, i, o) {
  return ge(), bt(o3(e.sheetType), { ref: "s2Ref" }, null, 512);
}
var Zle = /* @__PURE__ */ Pr(Kle, [["render", jle]]), Zl = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, tc = { exports: {} };
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
tc.exports;
(function(e, r) {
  (function() {
    var t, n = "4.17.21", i = 200, o = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", a = "Expected a function", l = "Invalid `variable` option passed into `_.template`", s = "__lodash_hash_undefined__", f = 500, h = "__lodash_placeholder__", d = 1, v = 2, g = 4, y = 1, C = 2, m = 1, w = 2, S = 4, x = 8, b = 16, O = 32, D = 64, N = 128, W = 256, k = 512, ee = 30, J = "...", te = 800, ae = 16, fe = 1, j = 2, ie = 3, Ie = 1 / 0, we = 9007199254740991, Te = 17976931348623157e292, he = NaN, be = 4294967295, Ae = be - 1, mt = be >>> 1, Xe = [
      ["ary", N],
      ["bind", m],
      ["bindKey", w],
      ["curry", x],
      ["curryRight", b],
      ["flip", k],
      ["partial", O],
      ["partialRight", D],
      ["rearg", W]
    ], ze = "[object Arguments]", lt = "[object Array]", fr = "[object AsyncFunction]", wr = "[object Boolean]", wt = "[object Date]", xr = "[object DOMException]", ei = "[object Error]", ro = "[object Function]", R = "[object GeneratorFunction]", $ = "[object Map]", I = "[object Number]", K = "[object Null]", oe = "[object Object]", se = "[object Promise]", Qe = "[object Proxy]", st = "[object RegExp]", Je = "[object Set]", Rt = "[object String]", cr = "[object Symbol]", tr = "[object Undefined]", Rl = "[object WeakMap]", SL = "[object WeakSet]", Ol = "[object ArrayBuffer]", Ta = "[object DataView]", Kc = "[object Float32Array]", jc = "[object Float64Array]", Zc = "[object Int8Array]", Qc = "[object Int16Array]", Jc = "[object Int32Array]", eh = "[object Uint8Array]", th = "[object Uint8ClampedArray]", rh = "[object Uint16Array]", nh = "[object Uint32Array]", TL = /\b__p \+= '';/g, bL = /\b(__p \+=) '' \+/g, EL = /(__e\(.*?\)|\b__t\)) \+\n'';/g, Hg = /&(?:amp|lt|gt|quot|#39);/g, zg = /[&<>"']/g, LL = RegExp(Hg.source), AL = RegExp(zg.source), RL = /<%-([\s\S]+?)%>/g, OL = /<%([\s\S]+?)%>/g, Wg = /<%=([\s\S]+?)%>/g, IL = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ML = /^\w*$/, BL = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, ih = /[\\^$.*+?()[\]{}|]/g, DL = RegExp(ih.source), oh = /^\s+/, PL = /\s/, FL = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, $L = /\{\n\/\* \[wrapped with (.+)\] \*/, NL = /,? & /, HL = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, zL = /[()=,{}\[\]\/\s]/, WL = /\\(\\)?/g, GL = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Gg = /\w*$/, kL = /^[-+]0x[0-9a-f]+$/i, UL = /^0b[01]+$/i, YL = /^\[object .+?Constructor\]$/, XL = /^0o[0-7]+$/i, VL = /^(?:0|[1-9]\d*)$/, qL = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, iu = /($^)/, KL = /['\n\r\u2028\u2029\\]/g, ou = "\\ud800-\\udfff", jL = "\\u0300-\\u036f", ZL = "\\ufe20-\\ufe2f", QL = "\\u20d0-\\u20ff", kg = jL + ZL + QL, Ug = "\\u2700-\\u27bf", Yg = "a-z\\xdf-\\xf6\\xf8-\\xff", JL = "\\xac\\xb1\\xd7\\xf7", eA = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", tA = "\\u2000-\\u206f", rA = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", Xg = "A-Z\\xc0-\\xd6\\xd8-\\xde", Vg = "\\ufe0e\\ufe0f", qg = JL + eA + tA + rA, ah = "['’]", nA = "[" + ou + "]", Kg = "[" + qg + "]", au = "[" + kg + "]", jg = "\\d+", iA = "[" + Ug + "]", Zg = "[" + Yg + "]", Qg = "[^" + ou + qg + jg + Ug + Yg + Xg + "]", lh = "\\ud83c[\\udffb-\\udfff]", oA = "(?:" + au + "|" + lh + ")", Jg = "[^" + ou + "]", sh = "(?:\\ud83c[\\udde6-\\uddff]){2}", uh = "[\\ud800-\\udbff][\\udc00-\\udfff]", ba = "[" + Xg + "]", e1 = "\\u200d", t1 = "(?:" + Zg + "|" + Qg + ")", aA = "(?:" + ba + "|" + Qg + ")", r1 = "(?:" + ah + "(?:d|ll|m|re|s|t|ve))?", n1 = "(?:" + ah + "(?:D|LL|M|RE|S|T|VE))?", i1 = oA + "?", o1 = "[" + Vg + "]?", lA = "(?:" + e1 + "(?:" + [Jg, sh, uh].join("|") + ")" + o1 + i1 + ")*", sA = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", uA = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", a1 = o1 + i1 + lA, fA = "(?:" + [iA, sh, uh].join("|") + ")" + a1, cA = "(?:" + [Jg + au + "?", au, sh, uh, nA].join("|") + ")", hA = RegExp(ah, "g"), dA = RegExp(au, "g"), fh = RegExp(lh + "(?=" + lh + ")|" + cA + a1, "g"), vA = RegExp([
      ba + "?" + Zg + "+" + r1 + "(?=" + [Kg, ba, "$"].join("|") + ")",
      aA + "+" + n1 + "(?=" + [Kg, ba + t1, "$"].join("|") + ")",
      ba + "?" + t1 + "+" + r1,
      ba + "+" + n1,
      uA,
      sA,
      jg,
      fA
    ].join("|"), "g"), pA = RegExp("[" + e1 + ou + kg + Vg + "]"), gA = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, yA = [
      "Array",
      "Buffer",
      "DataView",
      "Date",
      "Error",
      "Float32Array",
      "Float64Array",
      "Function",
      "Int8Array",
      "Int16Array",
      "Int32Array",
      "Map",
      "Math",
      "Object",
      "Promise",
      "RegExp",
      "Set",
      "String",
      "Symbol",
      "TypeError",
      "Uint8Array",
      "Uint8ClampedArray",
      "Uint16Array",
      "Uint32Array",
      "WeakMap",
      "_",
      "clearTimeout",
      "isFinite",
      "parseInt",
      "setTimeout"
    ], CA = -1, Et = {};
    Et[Kc] = Et[jc] = Et[Zc] = Et[Qc] = Et[Jc] = Et[eh] = Et[th] = Et[rh] = Et[nh] = !0, Et[ze] = Et[lt] = Et[Ol] = Et[wr] = Et[Ta] = Et[wt] = Et[ei] = Et[ro] = Et[$] = Et[I] = Et[oe] = Et[st] = Et[Je] = Et[Rt] = Et[Rl] = !1;
    var xt = {};
    xt[ze] = xt[lt] = xt[Ol] = xt[Ta] = xt[wr] = xt[wt] = xt[Kc] = xt[jc] = xt[Zc] = xt[Qc] = xt[Jc] = xt[$] = xt[I] = xt[oe] = xt[st] = xt[Je] = xt[Rt] = xt[cr] = xt[eh] = xt[th] = xt[rh] = xt[nh] = !0, xt[ei] = xt[ro] = xt[Rl] = !1;
    var _A = {
      // Latin-1 Supplement block.
      À: "A",
      Á: "A",
      Â: "A",
      Ã: "A",
      Ä: "A",
      Å: "A",
      à: "a",
      á: "a",
      â: "a",
      ã: "a",
      ä: "a",
      å: "a",
      Ç: "C",
      ç: "c",
      Ð: "D",
      ð: "d",
      È: "E",
      É: "E",
      Ê: "E",
      Ë: "E",
      è: "e",
      é: "e",
      ê: "e",
      ë: "e",
      Ì: "I",
      Í: "I",
      Î: "I",
      Ï: "I",
      ì: "i",
      í: "i",
      î: "i",
      ï: "i",
      Ñ: "N",
      ñ: "n",
      Ò: "O",
      Ó: "O",
      Ô: "O",
      Õ: "O",
      Ö: "O",
      Ø: "O",
      ò: "o",
      ó: "o",
      ô: "o",
      õ: "o",
      ö: "o",
      ø: "o",
      Ù: "U",
      Ú: "U",
      Û: "U",
      Ü: "U",
      ù: "u",
      ú: "u",
      û: "u",
      ü: "u",
      Ý: "Y",
      ý: "y",
      ÿ: "y",
      Æ: "Ae",
      æ: "ae",
      Þ: "Th",
      þ: "th",
      ß: "ss",
      // Latin Extended-A block.
      Ā: "A",
      Ă: "A",
      Ą: "A",
      ā: "a",
      ă: "a",
      ą: "a",
      Ć: "C",
      Ĉ: "C",
      Ċ: "C",
      Č: "C",
      ć: "c",
      ĉ: "c",
      ċ: "c",
      č: "c",
      Ď: "D",
      Đ: "D",
      ď: "d",
      đ: "d",
      Ē: "E",
      Ĕ: "E",
      Ė: "E",
      Ę: "E",
      Ě: "E",
      ē: "e",
      ĕ: "e",
      ė: "e",
      ę: "e",
      ě: "e",
      Ĝ: "G",
      Ğ: "G",
      Ġ: "G",
      Ģ: "G",
      ĝ: "g",
      ğ: "g",
      ġ: "g",
      ģ: "g",
      Ĥ: "H",
      Ħ: "H",
      ĥ: "h",
      ħ: "h",
      Ĩ: "I",
      Ī: "I",
      Ĭ: "I",
      Į: "I",
      İ: "I",
      ĩ: "i",
      ī: "i",
      ĭ: "i",
      į: "i",
      ı: "i",
      Ĵ: "J",
      ĵ: "j",
      Ķ: "K",
      ķ: "k",
      ĸ: "k",
      Ĺ: "L",
      Ļ: "L",
      Ľ: "L",
      Ŀ: "L",
      Ł: "L",
      ĺ: "l",
      ļ: "l",
      ľ: "l",
      ŀ: "l",
      ł: "l",
      Ń: "N",
      Ņ: "N",
      Ň: "N",
      Ŋ: "N",
      ń: "n",
      ņ: "n",
      ň: "n",
      ŋ: "n",
      Ō: "O",
      Ŏ: "O",
      Ő: "O",
      ō: "o",
      ŏ: "o",
      ő: "o",
      Ŕ: "R",
      Ŗ: "R",
      Ř: "R",
      ŕ: "r",
      ŗ: "r",
      ř: "r",
      Ś: "S",
      Ŝ: "S",
      Ş: "S",
      Š: "S",
      ś: "s",
      ŝ: "s",
      ş: "s",
      š: "s",
      Ţ: "T",
      Ť: "T",
      Ŧ: "T",
      ţ: "t",
      ť: "t",
      ŧ: "t",
      Ũ: "U",
      Ū: "U",
      Ŭ: "U",
      Ů: "U",
      Ű: "U",
      Ų: "U",
      ũ: "u",
      ū: "u",
      ŭ: "u",
      ů: "u",
      ű: "u",
      ų: "u",
      Ŵ: "W",
      ŵ: "w",
      Ŷ: "Y",
      ŷ: "y",
      Ÿ: "Y",
      Ź: "Z",
      Ż: "Z",
      Ž: "Z",
      ź: "z",
      ż: "z",
      ž: "z",
      Ĳ: "IJ",
      ĳ: "ij",
      Œ: "Oe",
      œ: "oe",
      ŉ: "'n",
      ſ: "s"
    }, mA = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#39;"
    }, wA = {
      "&amp;": "&",
      "&lt;": "<",
      "&gt;": ">",
      "&quot;": '"',
      "&#39;": "'"
    }, xA = {
      "\\": "\\",
      "'": "'",
      "\n": "n",
      "\r": "r",
      "\u2028": "u2028",
      "\u2029": "u2029"
    }, SA = parseFloat, TA = parseInt, l1 = typeof Zl == "object" && Zl && Zl.Object === Object && Zl, bA = typeof self == "object" && self && self.Object === Object && self, rr = l1 || bA || Function("return this")(), ch = r && !r.nodeType && r, Fo = ch && !0 && e && !e.nodeType && e, s1 = Fo && Fo.exports === ch, hh = s1 && l1.process, pn = function() {
      try {
        var H = Fo && Fo.require && Fo.require("util").types;
        return H || hh && hh.binding && hh.binding("util");
      } catch {
      }
    }(), u1 = pn && pn.isArrayBuffer, f1 = pn && pn.isDate, c1 = pn && pn.isMap, h1 = pn && pn.isRegExp, d1 = pn && pn.isSet, v1 = pn && pn.isTypedArray;
    function Zr(H, Y, G) {
      switch (G.length) {
        case 0:
          return H.call(Y);
        case 1:
          return H.call(Y, G[0]);
        case 2:
          return H.call(Y, G[0], G[1]);
        case 3:
          return H.call(Y, G[0], G[1], G[2]);
      }
      return H.apply(Y, G);
    }
    function EA(H, Y, G, ue) {
      for (var $e = -1, ut = H == null ? 0 : H.length; ++$e < ut; ) {
        var Xt = H[$e];
        Y(ue, Xt, G(Xt), H);
      }
      return ue;
    }
    function gn(H, Y) {
      for (var G = -1, ue = H == null ? 0 : H.length; ++G < ue && Y(H[G], G, H) !== !1; )
        ;
      return H;
    }
    function LA(H, Y) {
      for (var G = H == null ? 0 : H.length; G-- && Y(H[G], G, H) !== !1; )
        ;
      return H;
    }
    function p1(H, Y) {
      for (var G = -1, ue = H == null ? 0 : H.length; ++G < ue; )
        if (!Y(H[G], G, H))
          return !1;
      return !0;
    }
    function no(H, Y) {
      for (var G = -1, ue = H == null ? 0 : H.length, $e = 0, ut = []; ++G < ue; ) {
        var Xt = H[G];
        Y(Xt, G, H) && (ut[$e++] = Xt);
      }
      return ut;
    }
    function lu(H, Y) {
      var G = H == null ? 0 : H.length;
      return !!G && Ea(H, Y, 0) > -1;
    }
    function dh(H, Y, G) {
      for (var ue = -1, $e = H == null ? 0 : H.length; ++ue < $e; )
        if (G(Y, H[ue]))
          return !0;
      return !1;
    }
    function Ot(H, Y) {
      for (var G = -1, ue = H == null ? 0 : H.length, $e = Array(ue); ++G < ue; )
        $e[G] = Y(H[G], G, H);
      return $e;
    }
    function io(H, Y) {
      for (var G = -1, ue = Y.length, $e = H.length; ++G < ue; )
        H[$e + G] = Y[G];
      return H;
    }
    function vh(H, Y, G, ue) {
      var $e = -1, ut = H == null ? 0 : H.length;
      for (ue && ut && (G = H[++$e]); ++$e < ut; )
        G = Y(G, H[$e], $e, H);
      return G;
    }
    function AA(H, Y, G, ue) {
      var $e = H == null ? 0 : H.length;
      for (ue && $e && (G = H[--$e]); $e--; )
        G = Y(G, H[$e], $e, H);
      return G;
    }
    function ph(H, Y) {
      for (var G = -1, ue = H == null ? 0 : H.length; ++G < ue; )
        if (Y(H[G], G, H))
          return !0;
      return !1;
    }
    var RA = gh("length");
    function OA(H) {
      return H.split("");
    }
    function IA(H) {
      return H.match(HL) || [];
    }
    function g1(H, Y, G) {
      var ue;
      return G(H, function($e, ut, Xt) {
        if (Y($e, ut, Xt))
          return ue = ut, !1;
      }), ue;
    }
    function su(H, Y, G, ue) {
      for (var $e = H.length, ut = G + (ue ? 1 : -1); ue ? ut-- : ++ut < $e; )
        if (Y(H[ut], ut, H))
          return ut;
      return -1;
    }
    function Ea(H, Y, G) {
      return Y === Y ? kA(H, Y, G) : su(H, y1, G);
    }
    function MA(H, Y, G, ue) {
      for (var $e = G - 1, ut = H.length; ++$e < ut; )
        if (ue(H[$e], Y))
          return $e;
      return -1;
    }
    function y1(H) {
      return H !== H;
    }
    function C1(H, Y) {
      var G = H == null ? 0 : H.length;
      return G ? Ch(H, Y) / G : he;
    }
    function gh(H) {
      return function(Y) {
        return Y == null ? t : Y[H];
      };
    }
    function yh(H) {
      return function(Y) {
        return H == null ? t : H[Y];
      };
    }
    function _1(H, Y, G, ue, $e) {
      return $e(H, function(ut, Xt, Ct) {
        G = ue ? (ue = !1, ut) : Y(G, ut, Xt, Ct);
      }), G;
    }
    function BA(H, Y) {
      var G = H.length;
      for (H.sort(Y); G--; )
        H[G] = H[G].value;
      return H;
    }
    function Ch(H, Y) {
      for (var G, ue = -1, $e = H.length; ++ue < $e; ) {
        var ut = Y(H[ue]);
        ut !== t && (G = G === t ? ut : G + ut);
      }
      return G;
    }
    function _h(H, Y) {
      for (var G = -1, ue = Array(H); ++G < H; )
        ue[G] = Y(G);
      return ue;
    }
    function DA(H, Y) {
      return Ot(Y, function(G) {
        return [G, H[G]];
      });
    }
    function m1(H) {
      return H && H.slice(0, T1(H) + 1).replace(oh, "");
    }
    function Qr(H) {
      return function(Y) {
        return H(Y);
      };
    }
    function mh(H, Y) {
      return Ot(Y, function(G) {
        return H[G];
      });
    }
    function Il(H, Y) {
      return H.has(Y);
    }
    function w1(H, Y) {
      for (var G = -1, ue = H.length; ++G < ue && Ea(Y, H[G], 0) > -1; )
        ;
      return G;
    }
    function x1(H, Y) {
      for (var G = H.length; G-- && Ea(Y, H[G], 0) > -1; )
        ;
      return G;
    }
    function PA(H, Y) {
      for (var G = H.length, ue = 0; G--; )
        H[G] === Y && ++ue;
      return ue;
    }
    var FA = yh(_A), $A = yh(mA);
    function NA(H) {
      return "\\" + xA[H];
    }
    function HA(H, Y) {
      return H == null ? t : H[Y];
    }
    function La(H) {
      return pA.test(H);
    }
    function zA(H) {
      return gA.test(H);
    }
    function WA(H) {
      for (var Y, G = []; !(Y = H.next()).done; )
        G.push(Y.value);
      return G;
    }
    function wh(H) {
      var Y = -1, G = Array(H.size);
      return H.forEach(function(ue, $e) {
        G[++Y] = [$e, ue];
      }), G;
    }
    function S1(H, Y) {
      return function(G) {
        return H(Y(G));
      };
    }
    function oo(H, Y) {
      for (var G = -1, ue = H.length, $e = 0, ut = []; ++G < ue; ) {
        var Xt = H[G];
        (Xt === Y || Xt === h) && (H[G] = h, ut[$e++] = G);
      }
      return ut;
    }
    function uu(H) {
      var Y = -1, G = Array(H.size);
      return H.forEach(function(ue) {
        G[++Y] = ue;
      }), G;
    }
    function GA(H) {
      var Y = -1, G = Array(H.size);
      return H.forEach(function(ue) {
        G[++Y] = [ue, ue];
      }), G;
    }
    function kA(H, Y, G) {
      for (var ue = G - 1, $e = H.length; ++ue < $e; )
        if (H[ue] === Y)
          return ue;
      return -1;
    }
    function UA(H, Y, G) {
      for (var ue = G + 1; ue--; )
        if (H[ue] === Y)
          return ue;
      return ue;
    }
    function Aa(H) {
      return La(H) ? XA(H) : RA(H);
    }
    function Fn(H) {
      return La(H) ? VA(H) : OA(H);
    }
    function T1(H) {
      for (var Y = H.length; Y-- && PL.test(H.charAt(Y)); )
        ;
      return Y;
    }
    var YA = yh(wA);
    function XA(H) {
      for (var Y = fh.lastIndex = 0; fh.test(H); )
        ++Y;
      return Y;
    }
    function VA(H) {
      return H.match(fh) || [];
    }
    function qA(H) {
      return H.match(vA) || [];
    }
    var KA = function H(Y) {
      Y = Y == null ? rr : Ra.defaults(rr.Object(), Y, Ra.pick(rr, yA));
      var G = Y.Array, ue = Y.Date, $e = Y.Error, ut = Y.Function, Xt = Y.Math, Ct = Y.Object, xh = Y.RegExp, jA = Y.String, yn = Y.TypeError, fu = G.prototype, ZA = ut.prototype, Oa = Ct.prototype, cu = Y["__core-js_shared__"], hu = ZA.toString, pt = Oa.hasOwnProperty, QA = 0, b1 = function() {
        var u = /[^.]+$/.exec(cu && cu.keys && cu.keys.IE_PROTO || "");
        return u ? "Symbol(src)_1." + u : "";
      }(), du = Oa.toString, JA = hu.call(Ct), eR = rr._, tR = xh(
        "^" + hu.call(pt).replace(ih, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
      ), vu = s1 ? Y.Buffer : t, ao = Y.Symbol, pu = Y.Uint8Array, E1 = vu ? vu.allocUnsafe : t, gu = S1(Ct.getPrototypeOf, Ct), L1 = Ct.create, A1 = Oa.propertyIsEnumerable, yu = fu.splice, R1 = ao ? ao.isConcatSpreadable : t, Ml = ao ? ao.iterator : t, $o = ao ? ao.toStringTag : t, Cu = function() {
        try {
          var u = Go(Ct, "defineProperty");
          return u({}, "", {}), u;
        } catch {
        }
      }(), rR = Y.clearTimeout !== rr.clearTimeout && Y.clearTimeout, nR = ue && ue.now !== rr.Date.now && ue.now, iR = Y.setTimeout !== rr.setTimeout && Y.setTimeout, _u = Xt.ceil, mu = Xt.floor, Sh = Ct.getOwnPropertySymbols, oR = vu ? vu.isBuffer : t, O1 = Y.isFinite, aR = fu.join, lR = S1(Ct.keys, Ct), Vt = Xt.max, hr = Xt.min, sR = ue.now, uR = Y.parseInt, I1 = Xt.random, fR = fu.reverse, Th = Go(Y, "DataView"), Bl = Go(Y, "Map"), bh = Go(Y, "Promise"), Ia = Go(Y, "Set"), Dl = Go(Y, "WeakMap"), Pl = Go(Ct, "create"), wu = Dl && new Dl(), Ma = {}, cR = ko(Th), hR = ko(Bl), dR = ko(bh), vR = ko(Ia), pR = ko(Dl), xu = ao ? ao.prototype : t, Fl = xu ? xu.valueOf : t, M1 = xu ? xu.toString : t;
      function E(u) {
        if ($t(u) && !He(u) && !(u instanceof je)) {
          if (u instanceof Cn)
            return u;
          if (pt.call(u, "__wrapped__"))
            return By(u);
        }
        return new Cn(u);
      }
      var Ba = /* @__PURE__ */ function() {
        function u() {
        }
        return function(c) {
          if (!Dt(c))
            return {};
          if (L1)
            return L1(c);
          u.prototype = c;
          var p = new u();
          return u.prototype = t, p;
        };
      }();
      function Su() {
      }
      function Cn(u, c) {
        this.__wrapped__ = u, this.__actions__ = [], this.__chain__ = !!c, this.__index__ = 0, this.__values__ = t;
      }
      E.templateSettings = {
        /**
         * Used to detect `data` property values to be HTML-escaped.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        escape: RL,
        /**
         * Used to detect code to be evaluated.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        evaluate: OL,
        /**
         * Used to detect `data` property values to inject.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        interpolate: Wg,
        /**
         * Used to reference the data object in the template text.
         *
         * @memberOf _.templateSettings
         * @type {string}
         */
        variable: "",
        /**
         * Used to import variables into the compiled template.
         *
         * @memberOf _.templateSettings
         * @type {Object}
         */
        imports: {
          /**
           * A reference to the `lodash` function.
           *
           * @memberOf _.templateSettings.imports
           * @type {Function}
           */
          _: E
        }
      }, E.prototype = Su.prototype, E.prototype.constructor = E, Cn.prototype = Ba(Su.prototype), Cn.prototype.constructor = Cn;
      function je(u) {
        this.__wrapped__ = u, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = be, this.__views__ = [];
      }
      function gR() {
        var u = new je(this.__wrapped__);
        return u.__actions__ = Fr(this.__actions__), u.__dir__ = this.__dir__, u.__filtered__ = this.__filtered__, u.__iteratees__ = Fr(this.__iteratees__), u.__takeCount__ = this.__takeCount__, u.__views__ = Fr(this.__views__), u;
      }
      function yR() {
        if (this.__filtered__) {
          var u = new je(this);
          u.__dir__ = -1, u.__filtered__ = !0;
        } else
          u = this.clone(), u.__dir__ *= -1;
        return u;
      }
      function CR() {
        var u = this.__wrapped__.value(), c = this.__dir__, p = He(u), _ = c < 0, T = p ? u.length : 0, A = OO(0, T, this.__views__), M = A.start, P = A.end, z = P - M, X = _ ? P : M - 1, V = this.__iteratees__, Z = V.length, le = 0, pe = hr(z, this.__takeCount__);
        if (!p || !_ && T == z && pe == z)
          return ry(u, this.__actions__);
        var Ee = [];
        e:
          for (; z-- && le < pe; ) {
            X += c;
            for (var ke = -1, Le = u[X]; ++ke < Z; ) {
              var qe = V[ke], et = qe.iteratee, tn = qe.type, br = et(Le);
              if (tn == j)
                Le = br;
              else if (!br) {
                if (tn == fe)
                  continue e;
                break e;
              }
            }
            Ee[le++] = Le;
          }
        return Ee;
      }
      je.prototype = Ba(Su.prototype), je.prototype.constructor = je;
      function No(u) {
        var c = -1, p = u == null ? 0 : u.length;
        for (this.clear(); ++c < p; ) {
          var _ = u[c];
          this.set(_[0], _[1]);
        }
      }
      function _R() {
        this.__data__ = Pl ? Pl(null) : {}, this.size = 0;
      }
      function mR(u) {
        var c = this.has(u) && delete this.__data__[u];
        return this.size -= c ? 1 : 0, c;
      }
      function wR(u) {
        var c = this.__data__;
        if (Pl) {
          var p = c[u];
          return p === s ? t : p;
        }
        return pt.call(c, u) ? c[u] : t;
      }
      function xR(u) {
        var c = this.__data__;
        return Pl ? c[u] !== t : pt.call(c, u);
      }
      function SR(u, c) {
        var p = this.__data__;
        return this.size += this.has(u) ? 0 : 1, p[u] = Pl && c === t ? s : c, this;
      }
      No.prototype.clear = _R, No.prototype.delete = mR, No.prototype.get = wR, No.prototype.has = xR, No.prototype.set = SR;
      function bi(u) {
        var c = -1, p = u == null ? 0 : u.length;
        for (this.clear(); ++c < p; ) {
          var _ = u[c];
          this.set(_[0], _[1]);
        }
      }
      function TR() {
        this.__data__ = [], this.size = 0;
      }
      function bR(u) {
        var c = this.__data__, p = Tu(c, u);
        if (p < 0)
          return !1;
        var _ = c.length - 1;
        return p == _ ? c.pop() : yu.call(c, p, 1), --this.size, !0;
      }
      function ER(u) {
        var c = this.__data__, p = Tu(c, u);
        return p < 0 ? t : c[p][1];
      }
      function LR(u) {
        return Tu(this.__data__, u) > -1;
      }
      function AR(u, c) {
        var p = this.__data__, _ = Tu(p, u);
        return _ < 0 ? (++this.size, p.push([u, c])) : p[_][1] = c, this;
      }
      bi.prototype.clear = TR, bi.prototype.delete = bR, bi.prototype.get = ER, bi.prototype.has = LR, bi.prototype.set = AR;
      function Ei(u) {
        var c = -1, p = u == null ? 0 : u.length;
        for (this.clear(); ++c < p; ) {
          var _ = u[c];
          this.set(_[0], _[1]);
        }
      }
      function RR() {
        this.size = 0, this.__data__ = {
          hash: new No(),
          map: new (Bl || bi)(),
          string: new No()
        };
      }
      function OR(u) {
        var c = Fu(this, u).delete(u);
        return this.size -= c ? 1 : 0, c;
      }
      function IR(u) {
        return Fu(this, u).get(u);
      }
      function MR(u) {
        return Fu(this, u).has(u);
      }
      function BR(u, c) {
        var p = Fu(this, u), _ = p.size;
        return p.set(u, c), this.size += p.size == _ ? 0 : 1, this;
      }
      Ei.prototype.clear = RR, Ei.prototype.delete = OR, Ei.prototype.get = IR, Ei.prototype.has = MR, Ei.prototype.set = BR;
      function Ho(u) {
        var c = -1, p = u == null ? 0 : u.length;
        for (this.__data__ = new Ei(); ++c < p; )
          this.add(u[c]);
      }
      function DR(u) {
        return this.__data__.set(u, s), this;
      }
      function PR(u) {
        return this.__data__.has(u);
      }
      Ho.prototype.add = Ho.prototype.push = DR, Ho.prototype.has = PR;
      function $n(u) {
        var c = this.__data__ = new bi(u);
        this.size = c.size;
      }
      function FR() {
        this.__data__ = new bi(), this.size = 0;
      }
      function $R(u) {
        var c = this.__data__, p = c.delete(u);
        return this.size = c.size, p;
      }
      function NR(u) {
        return this.__data__.get(u);
      }
      function HR(u) {
        return this.__data__.has(u);
      }
      function zR(u, c) {
        var p = this.__data__;
        if (p instanceof bi) {
          var _ = p.__data__;
          if (!Bl || _.length < i - 1)
            return _.push([u, c]), this.size = ++p.size, this;
          p = this.__data__ = new Ei(_);
        }
        return p.set(u, c), this.size = p.size, this;
      }
      $n.prototype.clear = FR, $n.prototype.delete = $R, $n.prototype.get = NR, $n.prototype.has = HR, $n.prototype.set = zR;
      function B1(u, c) {
        var p = He(u), _ = !p && Uo(u), T = !p && !_ && co(u), A = !p && !_ && !T && $a(u), M = p || _ || T || A, P = M ? _h(u.length, jA) : [], z = P.length;
        for (var X in u)
          (c || pt.call(u, X)) && !(M && // Safari 9 has enumerable `arguments.length` in strict mode.
          (X == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
          T && (X == "offset" || X == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
          A && (X == "buffer" || X == "byteLength" || X == "byteOffset") || // Skip index properties.
          Oi(X, z))) && P.push(X);
        return P;
      }
      function D1(u) {
        var c = u.length;
        return c ? u[Fh(0, c - 1)] : t;
      }
      function WR(u, c) {
        return $u(Fr(u), zo(c, 0, u.length));
      }
      function GR(u) {
        return $u(Fr(u));
      }
      function Eh(u, c, p) {
        (p !== t && !Nn(u[c], p) || p === t && !(c in u)) && Li(u, c, p);
      }
      function $l(u, c, p) {
        var _ = u[c];
        (!(pt.call(u, c) && Nn(_, p)) || p === t && !(c in u)) && Li(u, c, p);
      }
      function Tu(u, c) {
        for (var p = u.length; p--; )
          if (Nn(u[p][0], c))
            return p;
        return -1;
      }
      function kR(u, c, p, _) {
        return lo(u, function(T, A, M) {
          c(_, T, p(T), M);
        }), _;
      }
      function P1(u, c) {
        return u && ri(c, Zt(c), u);
      }
      function UR(u, c) {
        return u && ri(c, Nr(c), u);
      }
      function Li(u, c, p) {
        c == "__proto__" && Cu ? Cu(u, c, {
          configurable: !0,
          enumerable: !0,
          value: p,
          writable: !0
        }) : u[c] = p;
      }
      function Lh(u, c) {
        for (var p = -1, _ = c.length, T = G(_), A = u == null; ++p < _; )
          T[p] = A ? t : ld(u, c[p]);
        return T;
      }
      function zo(u, c, p) {
        return u === u && (p !== t && (u = u <= p ? u : p), c !== t && (u = u >= c ? u : c)), u;
      }
      function _n(u, c, p, _, T, A) {
        var M, P = c & d, z = c & v, X = c & g;
        if (p && (M = T ? p(u, _, T, A) : p(u)), M !== t)
          return M;
        if (!Dt(u))
          return u;
        var V = He(u);
        if (V) {
          if (M = MO(u), !P)
            return Fr(u, M);
        } else {
          var Z = dr(u), le = Z == ro || Z == R;
          if (co(u))
            return oy(u, P);
          if (Z == oe || Z == ze || le && !T) {
            if (M = z || le ? {} : Ty(u), !P)
              return z ? wO(u, UR(M, u)) : mO(u, P1(M, u));
          } else {
            if (!xt[Z])
              return T ? u : {};
            M = BO(u, Z, P);
          }
        }
        A || (A = new $n());
        var pe = A.get(u);
        if (pe)
          return pe;
        A.set(u, M), Jy(u) ? u.forEach(function(Le) {
          M.add(_n(Le, c, p, Le, u, A));
        }) : Zy(u) && u.forEach(function(Le, qe) {
          M.set(qe, _n(Le, c, p, qe, u, A));
        });
        var Ee = X ? z ? Vh : Xh : z ? Nr : Zt, ke = V ? t : Ee(u);
        return gn(ke || u, function(Le, qe) {
          ke && (qe = Le, Le = u[qe]), $l(M, qe, _n(Le, c, p, qe, u, A));
        }), M;
      }
      function YR(u) {
        var c = Zt(u);
        return function(p) {
          return F1(p, u, c);
        };
      }
      function F1(u, c, p) {
        var _ = p.length;
        if (u == null)
          return !_;
        for (u = Ct(u); _--; ) {
          var T = p[_], A = c[T], M = u[T];
          if (M === t && !(T in u) || !A(M))
            return !1;
        }
        return !0;
      }
      function $1(u, c, p) {
        if (typeof u != "function")
          throw new yn(a);
        return Ul(function() {
          u.apply(t, p);
        }, c);
      }
      function Nl(u, c, p, _) {
        var T = -1, A = lu, M = !0, P = u.length, z = [], X = c.length;
        if (!P)
          return z;
        p && (c = Ot(c, Qr(p))), _ ? (A = dh, M = !1) : c.length >= i && (A = Il, M = !1, c = new Ho(c));
        e:
          for (; ++T < P; ) {
            var V = u[T], Z = p == null ? V : p(V);
            if (V = _ || V !== 0 ? V : 0, M && Z === Z) {
              for (var le = X; le--; )
                if (c[le] === Z)
                  continue e;
              z.push(V);
            } else
              A(c, Z, _) || z.push(V);
          }
        return z;
      }
      var lo = fy(ti), N1 = fy(Rh, !0);
      function XR(u, c) {
        var p = !0;
        return lo(u, function(_, T, A) {
          return p = !!c(_, T, A), p;
        }), p;
      }
      function bu(u, c, p) {
        for (var _ = -1, T = u.length; ++_ < T; ) {
          var A = u[_], M = c(A);
          if (M != null && (P === t ? M === M && !en(M) : p(M, P)))
            var P = M, z = A;
        }
        return z;
      }
      function VR(u, c, p, _) {
        var T = u.length;
        for (p = Ge(p), p < 0 && (p = -p > T ? 0 : T + p), _ = _ === t || _ > T ? T : Ge(_), _ < 0 && (_ += T), _ = p > _ ? 0 : tC(_); p < _; )
          u[p++] = c;
        return u;
      }
      function H1(u, c) {
        var p = [];
        return lo(u, function(_, T, A) {
          c(_, T, A) && p.push(_);
        }), p;
      }
      function nr(u, c, p, _, T) {
        var A = -1, M = u.length;
        for (p || (p = PO), T || (T = []); ++A < M; ) {
          var P = u[A];
          c > 0 && p(P) ? c > 1 ? nr(P, c - 1, p, _, T) : io(T, P) : _ || (T[T.length] = P);
        }
        return T;
      }
      var Ah = cy(), z1 = cy(!0);
      function ti(u, c) {
        return u && Ah(u, c, Zt);
      }
      function Rh(u, c) {
        return u && z1(u, c, Zt);
      }
      function Eu(u, c) {
        return no(c, function(p) {
          return Ii(u[p]);
        });
      }
      function Wo(u, c) {
        c = uo(c, u);
        for (var p = 0, _ = c.length; u != null && p < _; )
          u = u[ni(c[p++])];
        return p && p == _ ? u : t;
      }
      function W1(u, c, p) {
        var _ = c(u);
        return He(u) ? _ : io(_, p(u));
      }
      function Sr(u) {
        return u == null ? u === t ? tr : K : $o && $o in Ct(u) ? RO(u) : GO(u);
      }
      function Oh(u, c) {
        return u > c;
      }
      function qR(u, c) {
        return u != null && pt.call(u, c);
      }
      function KR(u, c) {
        return u != null && c in Ct(u);
      }
      function jR(u, c, p) {
        return u >= hr(c, p) && u < Vt(c, p);
      }
      function Ih(u, c, p) {
        for (var _ = p ? dh : lu, T = u[0].length, A = u.length, M = A, P = G(A), z = 1 / 0, X = []; M--; ) {
          var V = u[M];
          M && c && (V = Ot(V, Qr(c))), z = hr(V.length, z), P[M] = !p && (c || T >= 120 && V.length >= 120) ? new Ho(M && V) : t;
        }
        V = u[0];
        var Z = -1, le = P[0];
        e:
          for (; ++Z < T && X.length < z; ) {
            var pe = V[Z], Ee = c ? c(pe) : pe;
            if (pe = p || pe !== 0 ? pe : 0, !(le ? Il(le, Ee) : _(X, Ee, p))) {
              for (M = A; --M; ) {
                var ke = P[M];
                if (!(ke ? Il(ke, Ee) : _(u[M], Ee, p)))
                  continue e;
              }
              le && le.push(Ee), X.push(pe);
            }
          }
        return X;
      }
      function ZR(u, c, p, _) {
        return ti(u, function(T, A, M) {
          c(_, p(T), A, M);
        }), _;
      }
      function Hl(u, c, p) {
        c = uo(c, u), u = Ay(u, c);
        var _ = u == null ? u : u[ni(wn(c))];
        return _ == null ? t : Zr(_, u, p);
      }
      function G1(u) {
        return $t(u) && Sr(u) == ze;
      }
      function QR(u) {
        return $t(u) && Sr(u) == Ol;
      }
      function JR(u) {
        return $t(u) && Sr(u) == wt;
      }
      function zl(u, c, p, _, T) {
        return u === c ? !0 : u == null || c == null || !$t(u) && !$t(c) ? u !== u && c !== c : eO(u, c, p, _, zl, T);
      }
      function eO(u, c, p, _, T, A) {
        var M = He(u), P = He(c), z = M ? lt : dr(u), X = P ? lt : dr(c);
        z = z == ze ? oe : z, X = X == ze ? oe : X;
        var V = z == oe, Z = X == oe, le = z == X;
        if (le && co(u)) {
          if (!co(c))
            return !1;
          M = !0, V = !1;
        }
        if (le && !V)
          return A || (A = new $n()), M || $a(u) ? wy(u, c, p, _, T, A) : LO(u, c, z, p, _, T, A);
        if (!(p & y)) {
          var pe = V && pt.call(u, "__wrapped__"), Ee = Z && pt.call(c, "__wrapped__");
          if (pe || Ee) {
            var ke = pe ? u.value() : u, Le = Ee ? c.value() : c;
            return A || (A = new $n()), T(ke, Le, p, _, A);
          }
        }
        return le ? (A || (A = new $n()), AO(u, c, p, _, T, A)) : !1;
      }
      function tO(u) {
        return $t(u) && dr(u) == $;
      }
      function Mh(u, c, p, _) {
        var T = p.length, A = T, M = !_;
        if (u == null)
          return !A;
        for (u = Ct(u); T--; ) {
          var P = p[T];
          if (M && P[2] ? P[1] !== u[P[0]] : !(P[0] in u))
            return !1;
        }
        for (; ++T < A; ) {
          P = p[T];
          var z = P[0], X = u[z], V = P[1];
          if (M && P[2]) {
            if (X === t && !(z in u))
              return !1;
          } else {
            var Z = new $n();
            if (_)
              var le = _(X, V, z, u, c, Z);
            if (!(le === t ? zl(V, X, y | C, _, Z) : le))
              return !1;
          }
        }
        return !0;
      }
      function k1(u) {
        if (!Dt(u) || $O(u))
          return !1;
        var c = Ii(u) ? tR : YL;
        return c.test(ko(u));
      }
      function rO(u) {
        return $t(u) && Sr(u) == st;
      }
      function nO(u) {
        return $t(u) && dr(u) == Je;
      }
      function iO(u) {
        return $t(u) && ku(u.length) && !!Et[Sr(u)];
      }
      function U1(u) {
        return typeof u == "function" ? u : u == null ? Hr : typeof u == "object" ? He(u) ? V1(u[0], u[1]) : X1(u) : hC(u);
      }
      function Bh(u) {
        if (!kl(u))
          return lR(u);
        var c = [];
        for (var p in Ct(u))
          pt.call(u, p) && p != "constructor" && c.push(p);
        return c;
      }
      function oO(u) {
        if (!Dt(u))
          return WO(u);
        var c = kl(u), p = [];
        for (var _ in u)
          _ == "constructor" && (c || !pt.call(u, _)) || p.push(_);
        return p;
      }
      function Dh(u, c) {
        return u < c;
      }
      function Y1(u, c) {
        var p = -1, _ = $r(u) ? G(u.length) : [];
        return lo(u, function(T, A, M) {
          _[++p] = c(T, A, M);
        }), _;
      }
      function X1(u) {
        var c = Kh(u);
        return c.length == 1 && c[0][2] ? Ey(c[0][0], c[0][1]) : function(p) {
          return p === u || Mh(p, u, c);
        };
      }
      function V1(u, c) {
        return Zh(u) && by(c) ? Ey(ni(u), c) : function(p) {
          var _ = ld(p, u);
          return _ === t && _ === c ? sd(p, u) : zl(c, _, y | C);
        };
      }
      function Lu(u, c, p, _, T) {
        u !== c && Ah(c, function(A, M) {
          if (T || (T = new $n()), Dt(A))
            aO(u, c, M, p, Lu, _, T);
          else {
            var P = _ ? _(Jh(u, M), A, M + "", u, c, T) : t;
            P === t && (P = A), Eh(u, M, P);
          }
        }, Nr);
      }
      function aO(u, c, p, _, T, A, M) {
        var P = Jh(u, p), z = Jh(c, p), X = M.get(z);
        if (X) {
          Eh(u, p, X);
          return;
        }
        var V = A ? A(P, z, p + "", u, c, M) : t, Z = V === t;
        if (Z) {
          var le = He(z), pe = !le && co(z), Ee = !le && !pe && $a(z);
          V = z, le || pe || Ee ? He(P) ? V = P : zt(P) ? V = Fr(P) : pe ? (Z = !1, V = oy(z, !0)) : Ee ? (Z = !1, V = ay(z, !0)) : V = [] : Yl(z) || Uo(z) ? (V = P, Uo(P) ? V = rC(P) : (!Dt(P) || Ii(P)) && (V = Ty(z))) : Z = !1;
        }
        Z && (M.set(z, V), T(V, z, _, A, M), M.delete(z)), Eh(u, p, V);
      }
      function q1(u, c) {
        var p = u.length;
        if (p)
          return c += c < 0 ? p : 0, Oi(c, p) ? u[c] : t;
      }
      function K1(u, c, p) {
        c.length ? c = Ot(c, function(A) {
          return He(A) ? function(M) {
            return Wo(M, A.length === 1 ? A[0] : A);
          } : A;
        }) : c = [Hr];
        var _ = -1;
        c = Ot(c, Qr(xe()));
        var T = Y1(u, function(A, M, P) {
          var z = Ot(c, function(X) {
            return X(A);
          });
          return { criteria: z, index: ++_, value: A };
        });
        return BA(T, function(A, M) {
          return _O(A, M, p);
        });
      }
      function lO(u, c) {
        return j1(u, c, function(p, _) {
          return sd(u, _);
        });
      }
      function j1(u, c, p) {
        for (var _ = -1, T = c.length, A = {}; ++_ < T; ) {
          var M = c[_], P = Wo(u, M);
          p(P, M) && Wl(A, uo(M, u), P);
        }
        return A;
      }
      function sO(u) {
        return function(c) {
          return Wo(c, u);
        };
      }
      function Ph(u, c, p, _) {
        var T = _ ? MA : Ea, A = -1, M = c.length, P = u;
        for (u === c && (c = Fr(c)), p && (P = Ot(u, Qr(p))); ++A < M; )
          for (var z = 0, X = c[A], V = p ? p(X) : X; (z = T(P, V, z, _)) > -1; )
            P !== u && yu.call(P, z, 1), yu.call(u, z, 1);
        return u;
      }
      function Z1(u, c) {
        for (var p = u ? c.length : 0, _ = p - 1; p--; ) {
          var T = c[p];
          if (p == _ || T !== A) {
            var A = T;
            Oi(T) ? yu.call(u, T, 1) : Hh(u, T);
          }
        }
        return u;
      }
      function Fh(u, c) {
        return u + mu(I1() * (c - u + 1));
      }
      function uO(u, c, p, _) {
        for (var T = -1, A = Vt(_u((c - u) / (p || 1)), 0), M = G(A); A--; )
          M[_ ? A : ++T] = u, u += p;
        return M;
      }
      function $h(u, c) {
        var p = "";
        if (!u || c < 1 || c > we)
          return p;
        do
          c % 2 && (p += u), c = mu(c / 2), c && (u += u);
        while (c);
        return p;
      }
      function Ue(u, c) {
        return ed(Ly(u, c, Hr), u + "");
      }
      function fO(u) {
        return D1(Na(u));
      }
      function cO(u, c) {
        var p = Na(u);
        return $u(p, zo(c, 0, p.length));
      }
      function Wl(u, c, p, _) {
        if (!Dt(u))
          return u;
        c = uo(c, u);
        for (var T = -1, A = c.length, M = A - 1, P = u; P != null && ++T < A; ) {
          var z = ni(c[T]), X = p;
          if (z === "__proto__" || z === "constructor" || z === "prototype")
            return u;
          if (T != M) {
            var V = P[z];
            X = _ ? _(V, z, P) : t, X === t && (X = Dt(V) ? V : Oi(c[T + 1]) ? [] : {});
          }
          $l(P, z, X), P = P[z];
        }
        return u;
      }
      var Q1 = wu ? function(u, c) {
        return wu.set(u, c), u;
      } : Hr, hO = Cu ? function(u, c) {
        return Cu(u, "toString", {
          configurable: !0,
          enumerable: !1,
          value: fd(c),
          writable: !0
        });
      } : Hr;
      function dO(u) {
        return $u(Na(u));
      }
      function mn(u, c, p) {
        var _ = -1, T = u.length;
        c < 0 && (c = -c > T ? 0 : T + c), p = p > T ? T : p, p < 0 && (p += T), T = c > p ? 0 : p - c >>> 0, c >>>= 0;
        for (var A = G(T); ++_ < T; )
          A[_] = u[_ + c];
        return A;
      }
      function vO(u, c) {
        var p;
        return lo(u, function(_, T, A) {
          return p = c(_, T, A), !p;
        }), !!p;
      }
      function Au(u, c, p) {
        var _ = 0, T = u == null ? _ : u.length;
        if (typeof c == "number" && c === c && T <= mt) {
          for (; _ < T; ) {
            var A = _ + T >>> 1, M = u[A];
            M !== null && !en(M) && (p ? M <= c : M < c) ? _ = A + 1 : T = A;
          }
          return T;
        }
        return Nh(u, c, Hr, p);
      }
      function Nh(u, c, p, _) {
        var T = 0, A = u == null ? 0 : u.length;
        if (A === 0)
          return 0;
        c = p(c);
        for (var M = c !== c, P = c === null, z = en(c), X = c === t; T < A; ) {
          var V = mu((T + A) / 2), Z = p(u[V]), le = Z !== t, pe = Z === null, Ee = Z === Z, ke = en(Z);
          if (M)
            var Le = _ || Ee;
          else
            X ? Le = Ee && (_ || le) : P ? Le = Ee && le && (_ || !pe) : z ? Le = Ee && le && !pe && (_ || !ke) : pe || ke ? Le = !1 : Le = _ ? Z <= c : Z < c;
          Le ? T = V + 1 : A = V;
        }
        return hr(A, Ae);
      }
      function J1(u, c) {
        for (var p = -1, _ = u.length, T = 0, A = []; ++p < _; ) {
          var M = u[p], P = c ? c(M) : M;
          if (!p || !Nn(P, z)) {
            var z = P;
            A[T++] = M === 0 ? 0 : M;
          }
        }
        return A;
      }
      function ey(u) {
        return typeof u == "number" ? u : en(u) ? he : +u;
      }
      function Jr(u) {
        if (typeof u == "string")
          return u;
        if (He(u))
          return Ot(u, Jr) + "";
        if (en(u))
          return M1 ? M1.call(u) : "";
        var c = u + "";
        return c == "0" && 1 / u == -Ie ? "-0" : c;
      }
      function so(u, c, p) {
        var _ = -1, T = lu, A = u.length, M = !0, P = [], z = P;
        if (p)
          M = !1, T = dh;
        else if (A >= i) {
          var X = c ? null : bO(u);
          if (X)
            return uu(X);
          M = !1, T = Il, z = new Ho();
        } else
          z = c ? [] : P;
        e:
          for (; ++_ < A; ) {
            var V = u[_], Z = c ? c(V) : V;
            if (V = p || V !== 0 ? V : 0, M && Z === Z) {
              for (var le = z.length; le--; )
                if (z[le] === Z)
                  continue e;
              c && z.push(Z), P.push(V);
            } else
              T(z, Z, p) || (z !== P && z.push(Z), P.push(V));
          }
        return P;
      }
      function Hh(u, c) {
        return c = uo(c, u), u = Ay(u, c), u == null || delete u[ni(wn(c))];
      }
      function ty(u, c, p, _) {
        return Wl(u, c, p(Wo(u, c)), _);
      }
      function Ru(u, c, p, _) {
        for (var T = u.length, A = _ ? T : -1; (_ ? A-- : ++A < T) && c(u[A], A, u); )
          ;
        return p ? mn(u, _ ? 0 : A, _ ? A + 1 : T) : mn(u, _ ? A + 1 : 0, _ ? T : A);
      }
      function ry(u, c) {
        var p = u;
        return p instanceof je && (p = p.value()), vh(c, function(_, T) {
          return T.func.apply(T.thisArg, io([_], T.args));
        }, p);
      }
      function zh(u, c, p) {
        var _ = u.length;
        if (_ < 2)
          return _ ? so(u[0]) : [];
        for (var T = -1, A = G(_); ++T < _; )
          for (var M = u[T], P = -1; ++P < _; )
            P != T && (A[T] = Nl(A[T] || M, u[P], c, p));
        return so(nr(A, 1), c, p);
      }
      function ny(u, c, p) {
        for (var _ = -1, T = u.length, A = c.length, M = {}; ++_ < T; ) {
          var P = _ < A ? c[_] : t;
          p(M, u[_], P);
        }
        return M;
      }
      function Wh(u) {
        return zt(u) ? u : [];
      }
      function Gh(u) {
        return typeof u == "function" ? u : Hr;
      }
      function uo(u, c) {
        return He(u) ? u : Zh(u, c) ? [u] : My(dt(u));
      }
      var pO = Ue;
      function fo(u, c, p) {
        var _ = u.length;
        return p = p === t ? _ : p, !c && p >= _ ? u : mn(u, c, p);
      }
      var iy = rR || function(u) {
        return rr.clearTimeout(u);
      };
      function oy(u, c) {
        if (c)
          return u.slice();
        var p = u.length, _ = E1 ? E1(p) : new u.constructor(p);
        return u.copy(_), _;
      }
      function kh(u) {
        var c = new u.constructor(u.byteLength);
        return new pu(c).set(new pu(u)), c;
      }
      function gO(u, c) {
        var p = c ? kh(u.buffer) : u.buffer;
        return new u.constructor(p, u.byteOffset, u.byteLength);
      }
      function yO(u) {
        var c = new u.constructor(u.source, Gg.exec(u));
        return c.lastIndex = u.lastIndex, c;
      }
      function CO(u) {
        return Fl ? Ct(Fl.call(u)) : {};
      }
      function ay(u, c) {
        var p = c ? kh(u.buffer) : u.buffer;
        return new u.constructor(p, u.byteOffset, u.length);
      }
      function ly(u, c) {
        if (u !== c) {
          var p = u !== t, _ = u === null, T = u === u, A = en(u), M = c !== t, P = c === null, z = c === c, X = en(c);
          if (!P && !X && !A && u > c || A && M && z && !P && !X || _ && M && z || !p && z || !T)
            return 1;
          if (!_ && !A && !X && u < c || X && p && T && !_ && !A || P && p && T || !M && T || !z)
            return -1;
        }
        return 0;
      }
      function _O(u, c, p) {
        for (var _ = -1, T = u.criteria, A = c.criteria, M = T.length, P = p.length; ++_ < M; ) {
          var z = ly(T[_], A[_]);
          if (z) {
            if (_ >= P)
              return z;
            var X = p[_];
            return z * (X == "desc" ? -1 : 1);
          }
        }
        return u.index - c.index;
      }
      function sy(u, c, p, _) {
        for (var T = -1, A = u.length, M = p.length, P = -1, z = c.length, X = Vt(A - M, 0), V = G(z + X), Z = !_; ++P < z; )
          V[P] = c[P];
        for (; ++T < M; )
          (Z || T < A) && (V[p[T]] = u[T]);
        for (; X--; )
          V[P++] = u[T++];
        return V;
      }
      function uy(u, c, p, _) {
        for (var T = -1, A = u.length, M = -1, P = p.length, z = -1, X = c.length, V = Vt(A - P, 0), Z = G(V + X), le = !_; ++T < V; )
          Z[T] = u[T];
        for (var pe = T; ++z < X; )
          Z[pe + z] = c[z];
        for (; ++M < P; )
          (le || T < A) && (Z[pe + p[M]] = u[T++]);
        return Z;
      }
      function Fr(u, c) {
        var p = -1, _ = u.length;
        for (c || (c = G(_)); ++p < _; )
          c[p] = u[p];
        return c;
      }
      function ri(u, c, p, _) {
        var T = !p;
        p || (p = {});
        for (var A = -1, M = c.length; ++A < M; ) {
          var P = c[A], z = _ ? _(p[P], u[P], P, p, u) : t;
          z === t && (z = u[P]), T ? Li(p, P, z) : $l(p, P, z);
        }
        return p;
      }
      function mO(u, c) {
        return ri(u, jh(u), c);
      }
      function wO(u, c) {
        return ri(u, xy(u), c);
      }
      function Ou(u, c) {
        return function(p, _) {
          var T = He(p) ? EA : kR, A = c ? c() : {};
          return T(p, u, xe(_, 2), A);
        };
      }
      function Da(u) {
        return Ue(function(c, p) {
          var _ = -1, T = p.length, A = T > 1 ? p[T - 1] : t, M = T > 2 ? p[2] : t;
          for (A = u.length > 3 && typeof A == "function" ? (T--, A) : t, M && Tr(p[0], p[1], M) && (A = T < 3 ? t : A, T = 1), c = Ct(c); ++_ < T; ) {
            var P = p[_];
            P && u(c, P, _, A);
          }
          return c;
        });
      }
      function fy(u, c) {
        return function(p, _) {
          if (p == null)
            return p;
          if (!$r(p))
            return u(p, _);
          for (var T = p.length, A = c ? T : -1, M = Ct(p); (c ? A-- : ++A < T) && _(M[A], A, M) !== !1; )
            ;
          return p;
        };
      }
      function cy(u) {
        return function(c, p, _) {
          for (var T = -1, A = Ct(c), M = _(c), P = M.length; P--; ) {
            var z = M[u ? P : ++T];
            if (p(A[z], z, A) === !1)
              break;
          }
          return c;
        };
      }
      function xO(u, c, p) {
        var _ = c & m, T = Gl(u);
        function A() {
          var M = this && this !== rr && this instanceof A ? T : u;
          return M.apply(_ ? p : this, arguments);
        }
        return A;
      }
      function hy(u) {
        return function(c) {
          c = dt(c);
          var p = La(c) ? Fn(c) : t, _ = p ? p[0] : c.charAt(0), T = p ? fo(p, 1).join("") : c.slice(1);
          return _[u]() + T;
        };
      }
      function Pa(u) {
        return function(c) {
          return vh(fC(uC(c).replace(hA, "")), u, "");
        };
      }
      function Gl(u) {
        return function() {
          var c = arguments;
          switch (c.length) {
            case 0:
              return new u();
            case 1:
              return new u(c[0]);
            case 2:
              return new u(c[0], c[1]);
            case 3:
              return new u(c[0], c[1], c[2]);
            case 4:
              return new u(c[0], c[1], c[2], c[3]);
            case 5:
              return new u(c[0], c[1], c[2], c[3], c[4]);
            case 6:
              return new u(c[0], c[1], c[2], c[3], c[4], c[5]);
            case 7:
              return new u(c[0], c[1], c[2], c[3], c[4], c[5], c[6]);
          }
          var p = Ba(u.prototype), _ = u.apply(p, c);
          return Dt(_) ? _ : p;
        };
      }
      function SO(u, c, p) {
        var _ = Gl(u);
        function T() {
          for (var A = arguments.length, M = G(A), P = A, z = Fa(T); P--; )
            M[P] = arguments[P];
          var X = A < 3 && M[0] !== z && M[A - 1] !== z ? [] : oo(M, z);
          if (A -= X.length, A < p)
            return yy(
              u,
              c,
              Iu,
              T.placeholder,
              t,
              M,
              X,
              t,
              t,
              p - A
            );
          var V = this && this !== rr && this instanceof T ? _ : u;
          return Zr(V, this, M);
        }
        return T;
      }
      function dy(u) {
        return function(c, p, _) {
          var T = Ct(c);
          if (!$r(c)) {
            var A = xe(p, 3);
            c = Zt(c), p = function(P) {
              return A(T[P], P, T);
            };
          }
          var M = u(c, p, _);
          return M > -1 ? T[A ? c[M] : M] : t;
        };
      }
      function vy(u) {
        return Ri(function(c) {
          var p = c.length, _ = p, T = Cn.prototype.thru;
          for (u && c.reverse(); _--; ) {
            var A = c[_];
            if (typeof A != "function")
              throw new yn(a);
            if (T && !M && Pu(A) == "wrapper")
              var M = new Cn([], !0);
          }
          for (_ = M ? _ : p; ++_ < p; ) {
            A = c[_];
            var P = Pu(A), z = P == "wrapper" ? qh(A) : t;
            z && Qh(z[0]) && z[1] == (N | x | O | W) && !z[4].length && z[9] == 1 ? M = M[Pu(z[0])].apply(M, z[3]) : M = A.length == 1 && Qh(A) ? M[P]() : M.thru(A);
          }
          return function() {
            var X = arguments, V = X[0];
            if (M && X.length == 1 && He(V))
              return M.plant(V).value();
            for (var Z = 0, le = p ? c[Z].apply(this, X) : V; ++Z < p; )
              le = c[Z].call(this, le);
            return le;
          };
        });
      }
      function Iu(u, c, p, _, T, A, M, P, z, X) {
        var V = c & N, Z = c & m, le = c & w, pe = c & (x | b), Ee = c & k, ke = le ? t : Gl(u);
        function Le() {
          for (var qe = arguments.length, et = G(qe), tn = qe; tn--; )
            et[tn] = arguments[tn];
          if (pe)
            var br = Fa(Le), rn = PA(et, br);
          if (_ && (et = sy(et, _, T, pe)), A && (et = uy(et, A, M, pe)), qe -= rn, pe && qe < X) {
            var Wt = oo(et, br);
            return yy(
              u,
              c,
              Iu,
              Le.placeholder,
              p,
              et,
              Wt,
              P,
              z,
              X - qe
            );
          }
          var Hn = Z ? p : this, Bi = le ? Hn[u] : u;
          return qe = et.length, P ? et = kO(et, P) : Ee && qe > 1 && et.reverse(), V && z < qe && (et.length = z), this && this !== rr && this instanceof Le && (Bi = ke || Gl(Bi)), Bi.apply(Hn, et);
        }
        return Le;
      }
      function py(u, c) {
        return function(p, _) {
          return ZR(p, u, c(_), {});
        };
      }
      function Mu(u, c) {
        return function(p, _) {
          var T;
          if (p === t && _ === t)
            return c;
          if (p !== t && (T = p), _ !== t) {
            if (T === t)
              return _;
            typeof p == "string" || typeof _ == "string" ? (p = Jr(p), _ = Jr(_)) : (p = ey(p), _ = ey(_)), T = u(p, _);
          }
          return T;
        };
      }
      function Uh(u) {
        return Ri(function(c) {
          return c = Ot(c, Qr(xe())), Ue(function(p) {
            var _ = this;
            return u(c, function(T) {
              return Zr(T, _, p);
            });
          });
        });
      }
      function Bu(u, c) {
        c = c === t ? " " : Jr(c);
        var p = c.length;
        if (p < 2)
          return p ? $h(c, u) : c;
        var _ = $h(c, _u(u / Aa(c)));
        return La(c) ? fo(Fn(_), 0, u).join("") : _.slice(0, u);
      }
      function TO(u, c, p, _) {
        var T = c & m, A = Gl(u);
        function M() {
          for (var P = -1, z = arguments.length, X = -1, V = _.length, Z = G(V + z), le = this && this !== rr && this instanceof M ? A : u; ++X < V; )
            Z[X] = _[X];
          for (; z--; )
            Z[X++] = arguments[++P];
          return Zr(le, T ? p : this, Z);
        }
        return M;
      }
      function gy(u) {
        return function(c, p, _) {
          return _ && typeof _ != "number" && Tr(c, p, _) && (p = _ = t), c = Mi(c), p === t ? (p = c, c = 0) : p = Mi(p), _ = _ === t ? c < p ? 1 : -1 : Mi(_), uO(c, p, _, u);
        };
      }
      function Du(u) {
        return function(c, p) {
          return typeof c == "string" && typeof p == "string" || (c = xn(c), p = xn(p)), u(c, p);
        };
      }
      function yy(u, c, p, _, T, A, M, P, z, X) {
        var V = c & x, Z = V ? M : t, le = V ? t : M, pe = V ? A : t, Ee = V ? t : A;
        c |= V ? O : D, c &= ~(V ? D : O), c & S || (c &= ~(m | w));
        var ke = [
          u,
          c,
          T,
          pe,
          Z,
          Ee,
          le,
          P,
          z,
          X
        ], Le = p.apply(t, ke);
        return Qh(u) && Ry(Le, ke), Le.placeholder = _, Oy(Le, u, c);
      }
      function Yh(u) {
        var c = Xt[u];
        return function(p, _) {
          if (p = xn(p), _ = _ == null ? 0 : hr(Ge(_), 292), _ && O1(p)) {
            var T = (dt(p) + "e").split("e"), A = c(T[0] + "e" + (+T[1] + _));
            return T = (dt(A) + "e").split("e"), +(T[0] + "e" + (+T[1] - _));
          }
          return c(p);
        };
      }
      var bO = Ia && 1 / uu(new Ia([, -0]))[1] == Ie ? function(u) {
        return new Ia(u);
      } : dd;
      function Cy(u) {
        return function(c) {
          var p = dr(c);
          return p == $ ? wh(c) : p == Je ? GA(c) : DA(c, u(c));
        };
      }
      function Ai(u, c, p, _, T, A, M, P) {
        var z = c & w;
        if (!z && typeof u != "function")
          throw new yn(a);
        var X = _ ? _.length : 0;
        if (X || (c &= ~(O | D), _ = T = t), M = M === t ? M : Vt(Ge(M), 0), P = P === t ? P : Ge(P), X -= T ? T.length : 0, c & D) {
          var V = _, Z = T;
          _ = T = t;
        }
        var le = z ? t : qh(u), pe = [
          u,
          c,
          p,
          _,
          T,
          V,
          Z,
          A,
          M,
          P
        ];
        if (le && zO(pe, le), u = pe[0], c = pe[1], p = pe[2], _ = pe[3], T = pe[4], P = pe[9] = pe[9] === t ? z ? 0 : u.length : Vt(pe[9] - X, 0), !P && c & (x | b) && (c &= ~(x | b)), !c || c == m)
          var Ee = xO(u, c, p);
        else
          c == x || c == b ? Ee = SO(u, c, P) : (c == O || c == (m | O)) && !T.length ? Ee = TO(u, c, p, _) : Ee = Iu.apply(t, pe);
        var ke = le ? Q1 : Ry;
        return Oy(ke(Ee, pe), u, c);
      }
      function _y(u, c, p, _) {
        return u === t || Nn(u, Oa[p]) && !pt.call(_, p) ? c : u;
      }
      function my(u, c, p, _, T, A) {
        return Dt(u) && Dt(c) && (A.set(c, u), Lu(u, c, t, my, A), A.delete(c)), u;
      }
      function EO(u) {
        return Yl(u) ? t : u;
      }
      function wy(u, c, p, _, T, A) {
        var M = p & y, P = u.length, z = c.length;
        if (P != z && !(M && z > P))
          return !1;
        var X = A.get(u), V = A.get(c);
        if (X && V)
          return X == c && V == u;
        var Z = -1, le = !0, pe = p & C ? new Ho() : t;
        for (A.set(u, c), A.set(c, u); ++Z < P; ) {
          var Ee = u[Z], ke = c[Z];
          if (_)
            var Le = M ? _(ke, Ee, Z, c, u, A) : _(Ee, ke, Z, u, c, A);
          if (Le !== t) {
            if (Le)
              continue;
            le = !1;
            break;
          }
          if (pe) {
            if (!ph(c, function(qe, et) {
              if (!Il(pe, et) && (Ee === qe || T(Ee, qe, p, _, A)))
                return pe.push(et);
            })) {
              le = !1;
              break;
            }
          } else if (!(Ee === ke || T(Ee, ke, p, _, A))) {
            le = !1;
            break;
          }
        }
        return A.delete(u), A.delete(c), le;
      }
      function LO(u, c, p, _, T, A, M) {
        switch (p) {
          case Ta:
            if (u.byteLength != c.byteLength || u.byteOffset != c.byteOffset)
              return !1;
            u = u.buffer, c = c.buffer;
          case Ol:
            return !(u.byteLength != c.byteLength || !A(new pu(u), new pu(c)));
          case wr:
          case wt:
          case I:
            return Nn(+u, +c);
          case ei:
            return u.name == c.name && u.message == c.message;
          case st:
          case Rt:
            return u == c + "";
          case $:
            var P = wh;
          case Je:
            var z = _ & y;
            if (P || (P = uu), u.size != c.size && !z)
              return !1;
            var X = M.get(u);
            if (X)
              return X == c;
            _ |= C, M.set(u, c);
            var V = wy(P(u), P(c), _, T, A, M);
            return M.delete(u), V;
          case cr:
            if (Fl)
              return Fl.call(u) == Fl.call(c);
        }
        return !1;
      }
      function AO(u, c, p, _, T, A) {
        var M = p & y, P = Xh(u), z = P.length, X = Xh(c), V = X.length;
        if (z != V && !M)
          return !1;
        for (var Z = z; Z--; ) {
          var le = P[Z];
          if (!(M ? le in c : pt.call(c, le)))
            return !1;
        }
        var pe = A.get(u), Ee = A.get(c);
        if (pe && Ee)
          return pe == c && Ee == u;
        var ke = !0;
        A.set(u, c), A.set(c, u);
        for (var Le = M; ++Z < z; ) {
          le = P[Z];
          var qe = u[le], et = c[le];
          if (_)
            var tn = M ? _(et, qe, le, c, u, A) : _(qe, et, le, u, c, A);
          if (!(tn === t ? qe === et || T(qe, et, p, _, A) : tn)) {
            ke = !1;
            break;
          }
          Le || (Le = le == "constructor");
        }
        if (ke && !Le) {
          var br = u.constructor, rn = c.constructor;
          br != rn && "constructor" in u && "constructor" in c && !(typeof br == "function" && br instanceof br && typeof rn == "function" && rn instanceof rn) && (ke = !1);
        }
        return A.delete(u), A.delete(c), ke;
      }
      function Ri(u) {
        return ed(Ly(u, t, Fy), u + "");
      }
      function Xh(u) {
        return W1(u, Zt, jh);
      }
      function Vh(u) {
        return W1(u, Nr, xy);
      }
      var qh = wu ? function(u) {
        return wu.get(u);
      } : dd;
      function Pu(u) {
        for (var c = u.name + "", p = Ma[c], _ = pt.call(Ma, c) ? p.length : 0; _--; ) {
          var T = p[_], A = T.func;
          if (A == null || A == u)
            return T.name;
        }
        return c;
      }
      function Fa(u) {
        var c = pt.call(E, "placeholder") ? E : u;
        return c.placeholder;
      }
      function xe() {
        var u = E.iteratee || cd;
        return u = u === cd ? U1 : u, arguments.length ? u(arguments[0], arguments[1]) : u;
      }
      function Fu(u, c) {
        var p = u.__data__;
        return FO(c) ? p[typeof c == "string" ? "string" : "hash"] : p.map;
      }
      function Kh(u) {
        for (var c = Zt(u), p = c.length; p--; ) {
          var _ = c[p], T = u[_];
          c[p] = [_, T, by(T)];
        }
        return c;
      }
      function Go(u, c) {
        var p = HA(u, c);
        return k1(p) ? p : t;
      }
      function RO(u) {
        var c = pt.call(u, $o), p = u[$o];
        try {
          u[$o] = t;
          var _ = !0;
        } catch {
        }
        var T = du.call(u);
        return _ && (c ? u[$o] = p : delete u[$o]), T;
      }
      var jh = Sh ? function(u) {
        return u == null ? [] : (u = Ct(u), no(Sh(u), function(c) {
          return A1.call(u, c);
        }));
      } : vd, xy = Sh ? function(u) {
        for (var c = []; u; )
          io(c, jh(u)), u = gu(u);
        return c;
      } : vd, dr = Sr;
      (Th && dr(new Th(new ArrayBuffer(1))) != Ta || Bl && dr(new Bl()) != $ || bh && dr(bh.resolve()) != se || Ia && dr(new Ia()) != Je || Dl && dr(new Dl()) != Rl) && (dr = function(u) {
        var c = Sr(u), p = c == oe ? u.constructor : t, _ = p ? ko(p) : "";
        if (_)
          switch (_) {
            case cR:
              return Ta;
            case hR:
              return $;
            case dR:
              return se;
            case vR:
              return Je;
            case pR:
              return Rl;
          }
        return c;
      });
      function OO(u, c, p) {
        for (var _ = -1, T = p.length; ++_ < T; ) {
          var A = p[_], M = A.size;
          switch (A.type) {
            case "drop":
              u += M;
              break;
            case "dropRight":
              c -= M;
              break;
            case "take":
              c = hr(c, u + M);
              break;
            case "takeRight":
              u = Vt(u, c - M);
              break;
          }
        }
        return { start: u, end: c };
      }
      function IO(u) {
        var c = u.match($L);
        return c ? c[1].split(NL) : [];
      }
      function Sy(u, c, p) {
        c = uo(c, u);
        for (var _ = -1, T = c.length, A = !1; ++_ < T; ) {
          var M = ni(c[_]);
          if (!(A = u != null && p(u, M)))
            break;
          u = u[M];
        }
        return A || ++_ != T ? A : (T = u == null ? 0 : u.length, !!T && ku(T) && Oi(M, T) && (He(u) || Uo(u)));
      }
      function MO(u) {
        var c = u.length, p = new u.constructor(c);
        return c && typeof u[0] == "string" && pt.call(u, "index") && (p.index = u.index, p.input = u.input), p;
      }
      function Ty(u) {
        return typeof u.constructor == "function" && !kl(u) ? Ba(gu(u)) : {};
      }
      function BO(u, c, p) {
        var _ = u.constructor;
        switch (c) {
          case Ol:
            return kh(u);
          case wr:
          case wt:
            return new _(+u);
          case Ta:
            return gO(u, p);
          case Kc:
          case jc:
          case Zc:
          case Qc:
          case Jc:
          case eh:
          case th:
          case rh:
          case nh:
            return ay(u, p);
          case $:
            return new _();
          case I:
          case Rt:
            return new _(u);
          case st:
            return yO(u);
          case Je:
            return new _();
          case cr:
            return CO(u);
        }
      }
      function DO(u, c) {
        var p = c.length;
        if (!p)
          return u;
        var _ = p - 1;
        return c[_] = (p > 1 ? "& " : "") + c[_], c = c.join(p > 2 ? ", " : " "), u.replace(FL, `{
/* [wrapped with ` + c + `] */
`);
      }
      function PO(u) {
        return He(u) || Uo(u) || !!(R1 && u && u[R1]);
      }
      function Oi(u, c) {
        var p = typeof u;
        return c = c ?? we, !!c && (p == "number" || p != "symbol" && VL.test(u)) && u > -1 && u % 1 == 0 && u < c;
      }
      function Tr(u, c, p) {
        if (!Dt(p))
          return !1;
        var _ = typeof c;
        return (_ == "number" ? $r(p) && Oi(c, p.length) : _ == "string" && c in p) ? Nn(p[c], u) : !1;
      }
      function Zh(u, c) {
        if (He(u))
          return !1;
        var p = typeof u;
        return p == "number" || p == "symbol" || p == "boolean" || u == null || en(u) ? !0 : ML.test(u) || !IL.test(u) || c != null && u in Ct(c);
      }
      function FO(u) {
        var c = typeof u;
        return c == "string" || c == "number" || c == "symbol" || c == "boolean" ? u !== "__proto__" : u === null;
      }
      function Qh(u) {
        var c = Pu(u), p = E[c];
        if (typeof p != "function" || !(c in je.prototype))
          return !1;
        if (u === p)
          return !0;
        var _ = qh(p);
        return !!_ && u === _[0];
      }
      function $O(u) {
        return !!b1 && b1 in u;
      }
      var NO = cu ? Ii : pd;
      function kl(u) {
        var c = u && u.constructor, p = typeof c == "function" && c.prototype || Oa;
        return u === p;
      }
      function by(u) {
        return u === u && !Dt(u);
      }
      function Ey(u, c) {
        return function(p) {
          return p == null ? !1 : p[u] === c && (c !== t || u in Ct(p));
        };
      }
      function HO(u) {
        var c = Wu(u, function(_) {
          return p.size === f && p.clear(), _;
        }), p = c.cache;
        return c;
      }
      function zO(u, c) {
        var p = u[1], _ = c[1], T = p | _, A = T < (m | w | N), M = _ == N && p == x || _ == N && p == W && u[7].length <= c[8] || _ == (N | W) && c[7].length <= c[8] && p == x;
        if (!(A || M))
          return u;
        _ & m && (u[2] = c[2], T |= p & m ? 0 : S);
        var P = c[3];
        if (P) {
          var z = u[3];
          u[3] = z ? sy(z, P, c[4]) : P, u[4] = z ? oo(u[3], h) : c[4];
        }
        return P = c[5], P && (z = u[5], u[5] = z ? uy(z, P, c[6]) : P, u[6] = z ? oo(u[5], h) : c[6]), P = c[7], P && (u[7] = P), _ & N && (u[8] = u[8] == null ? c[8] : hr(u[8], c[8])), u[9] == null && (u[9] = c[9]), u[0] = c[0], u[1] = T, u;
      }
      function WO(u) {
        var c = [];
        if (u != null)
          for (var p in Ct(u))
            c.push(p);
        return c;
      }
      function GO(u) {
        return du.call(u);
      }
      function Ly(u, c, p) {
        return c = Vt(c === t ? u.length - 1 : c, 0), function() {
          for (var _ = arguments, T = -1, A = Vt(_.length - c, 0), M = G(A); ++T < A; )
            M[T] = _[c + T];
          T = -1;
          for (var P = G(c + 1); ++T < c; )
            P[T] = _[T];
          return P[c] = p(M), Zr(u, this, P);
        };
      }
      function Ay(u, c) {
        return c.length < 2 ? u : Wo(u, mn(c, 0, -1));
      }
      function kO(u, c) {
        for (var p = u.length, _ = hr(c.length, p), T = Fr(u); _--; ) {
          var A = c[_];
          u[_] = Oi(A, p) ? T[A] : t;
        }
        return u;
      }
      function Jh(u, c) {
        if (!(c === "constructor" && typeof u[c] == "function") && c != "__proto__")
          return u[c];
      }
      var Ry = Iy(Q1), Ul = iR || function(u, c) {
        return rr.setTimeout(u, c);
      }, ed = Iy(hO);
      function Oy(u, c, p) {
        var _ = c + "";
        return ed(u, DO(_, UO(IO(_), p)));
      }
      function Iy(u) {
        var c = 0, p = 0;
        return function() {
          var _ = sR(), T = ae - (_ - p);
          if (p = _, T > 0) {
            if (++c >= te)
              return arguments[0];
          } else
            c = 0;
          return u.apply(t, arguments);
        };
      }
      function $u(u, c) {
        var p = -1, _ = u.length, T = _ - 1;
        for (c = c === t ? _ : c; ++p < c; ) {
          var A = Fh(p, T), M = u[A];
          u[A] = u[p], u[p] = M;
        }
        return u.length = c, u;
      }
      var My = HO(function(u) {
        var c = [];
        return u.charCodeAt(0) === 46 && c.push(""), u.replace(BL, function(p, _, T, A) {
          c.push(T ? A.replace(WL, "$1") : _ || p);
        }), c;
      });
      function ni(u) {
        if (typeof u == "string" || en(u))
          return u;
        var c = u + "";
        return c == "0" && 1 / u == -Ie ? "-0" : c;
      }
      function ko(u) {
        if (u != null) {
          try {
            return hu.call(u);
          } catch {
          }
          try {
            return u + "";
          } catch {
          }
        }
        return "";
      }
      function UO(u, c) {
        return gn(Xe, function(p) {
          var _ = "_." + p[0];
          c & p[1] && !lu(u, _) && u.push(_);
        }), u.sort();
      }
      function By(u) {
        if (u instanceof je)
          return u.clone();
        var c = new Cn(u.__wrapped__, u.__chain__);
        return c.__actions__ = Fr(u.__actions__), c.__index__ = u.__index__, c.__values__ = u.__values__, c;
      }
      function YO(u, c, p) {
        (p ? Tr(u, c, p) : c === t) ? c = 1 : c = Vt(Ge(c), 0);
        var _ = u == null ? 0 : u.length;
        if (!_ || c < 1)
          return [];
        for (var T = 0, A = 0, M = G(_u(_ / c)); T < _; )
          M[A++] = mn(u, T, T += c);
        return M;
      }
      function XO(u) {
        for (var c = -1, p = u == null ? 0 : u.length, _ = 0, T = []; ++c < p; ) {
          var A = u[c];
          A && (T[_++] = A);
        }
        return T;
      }
      function VO() {
        var u = arguments.length;
        if (!u)
          return [];
        for (var c = G(u - 1), p = arguments[0], _ = u; _--; )
          c[_ - 1] = arguments[_];
        return io(He(p) ? Fr(p) : [p], nr(c, 1));
      }
      var qO = Ue(function(u, c) {
        return zt(u) ? Nl(u, nr(c, 1, zt, !0)) : [];
      }), KO = Ue(function(u, c) {
        var p = wn(c);
        return zt(p) && (p = t), zt(u) ? Nl(u, nr(c, 1, zt, !0), xe(p, 2)) : [];
      }), jO = Ue(function(u, c) {
        var p = wn(c);
        return zt(p) && (p = t), zt(u) ? Nl(u, nr(c, 1, zt, !0), t, p) : [];
      });
      function ZO(u, c, p) {
        var _ = u == null ? 0 : u.length;
        return _ ? (c = p || c === t ? 1 : Ge(c), mn(u, c < 0 ? 0 : c, _)) : [];
      }
      function QO(u, c, p) {
        var _ = u == null ? 0 : u.length;
        return _ ? (c = p || c === t ? 1 : Ge(c), c = _ - c, mn(u, 0, c < 0 ? 0 : c)) : [];
      }
      function JO(u, c) {
        return u && u.length ? Ru(u, xe(c, 3), !0, !0) : [];
      }
      function eI(u, c) {
        return u && u.length ? Ru(u, xe(c, 3), !0) : [];
      }
      function tI(u, c, p, _) {
        var T = u == null ? 0 : u.length;
        return T ? (p && typeof p != "number" && Tr(u, c, p) && (p = 0, _ = T), VR(u, c, p, _)) : [];
      }
      function Dy(u, c, p) {
        var _ = u == null ? 0 : u.length;
        if (!_)
          return -1;
        var T = p == null ? 0 : Ge(p);
        return T < 0 && (T = Vt(_ + T, 0)), su(u, xe(c, 3), T);
      }
      function Py(u, c, p) {
        var _ = u == null ? 0 : u.length;
        if (!_)
          return -1;
        var T = _ - 1;
        return p !== t && (T = Ge(p), T = p < 0 ? Vt(_ + T, 0) : hr(T, _ - 1)), su(u, xe(c, 3), T, !0);
      }
      function Fy(u) {
        var c = u == null ? 0 : u.length;
        return c ? nr(u, 1) : [];
      }
      function rI(u) {
        var c = u == null ? 0 : u.length;
        return c ? nr(u, Ie) : [];
      }
      function nI(u, c) {
        var p = u == null ? 0 : u.length;
        return p ? (c = c === t ? 1 : Ge(c), nr(u, c)) : [];
      }
      function iI(u) {
        for (var c = -1, p = u == null ? 0 : u.length, _ = {}; ++c < p; ) {
          var T = u[c];
          _[T[0]] = T[1];
        }
        return _;
      }
      function $y(u) {
        return u && u.length ? u[0] : t;
      }
      function oI(u, c, p) {
        var _ = u == null ? 0 : u.length;
        if (!_)
          return -1;
        var T = p == null ? 0 : Ge(p);
        return T < 0 && (T = Vt(_ + T, 0)), Ea(u, c, T);
      }
      function aI(u) {
        var c = u == null ? 0 : u.length;
        return c ? mn(u, 0, -1) : [];
      }
      var lI = Ue(function(u) {
        var c = Ot(u, Wh);
        return c.length && c[0] === u[0] ? Ih(c) : [];
      }), sI = Ue(function(u) {
        var c = wn(u), p = Ot(u, Wh);
        return c === wn(p) ? c = t : p.pop(), p.length && p[0] === u[0] ? Ih(p, xe(c, 2)) : [];
      }), uI = Ue(function(u) {
        var c = wn(u), p = Ot(u, Wh);
        return c = typeof c == "function" ? c : t, c && p.pop(), p.length && p[0] === u[0] ? Ih(p, t, c) : [];
      });
      function fI(u, c) {
        return u == null ? "" : aR.call(u, c);
      }
      function wn(u) {
        var c = u == null ? 0 : u.length;
        return c ? u[c - 1] : t;
      }
      function cI(u, c, p) {
        var _ = u == null ? 0 : u.length;
        if (!_)
          return -1;
        var T = _;
        return p !== t && (T = Ge(p), T = T < 0 ? Vt(_ + T, 0) : hr(T, _ - 1)), c === c ? UA(u, c, T) : su(u, y1, T, !0);
      }
      function hI(u, c) {
        return u && u.length ? q1(u, Ge(c)) : t;
      }
      var dI = Ue(Ny);
      function Ny(u, c) {
        return u && u.length && c && c.length ? Ph(u, c) : u;
      }
      function vI(u, c, p) {
        return u && u.length && c && c.length ? Ph(u, c, xe(p, 2)) : u;
      }
      function pI(u, c, p) {
        return u && u.length && c && c.length ? Ph(u, c, t, p) : u;
      }
      var gI = Ri(function(u, c) {
        var p = u == null ? 0 : u.length, _ = Lh(u, c);
        return Z1(u, Ot(c, function(T) {
          return Oi(T, p) ? +T : T;
        }).sort(ly)), _;
      });
      function yI(u, c) {
        var p = [];
        if (!(u && u.length))
          return p;
        var _ = -1, T = [], A = u.length;
        for (c = xe(c, 3); ++_ < A; ) {
          var M = u[_];
          c(M, _, u) && (p.push(M), T.push(_));
        }
        return Z1(u, T), p;
      }
      function td(u) {
        return u == null ? u : fR.call(u);
      }
      function CI(u, c, p) {
        var _ = u == null ? 0 : u.length;
        return _ ? (p && typeof p != "number" && Tr(u, c, p) ? (c = 0, p = _) : (c = c == null ? 0 : Ge(c), p = p === t ? _ : Ge(p)), mn(u, c, p)) : [];
      }
      function _I(u, c) {
        return Au(u, c);
      }
      function mI(u, c, p) {
        return Nh(u, c, xe(p, 2));
      }
      function wI(u, c) {
        var p = u == null ? 0 : u.length;
        if (p) {
          var _ = Au(u, c);
          if (_ < p && Nn(u[_], c))
            return _;
        }
        return -1;
      }
      function xI(u, c) {
        return Au(u, c, !0);
      }
      function SI(u, c, p) {
        return Nh(u, c, xe(p, 2), !0);
      }
      function TI(u, c) {
        var p = u == null ? 0 : u.length;
        if (p) {
          var _ = Au(u, c, !0) - 1;
          if (Nn(u[_], c))
            return _;
        }
        return -1;
      }
      function bI(u) {
        return u && u.length ? J1(u) : [];
      }
      function EI(u, c) {
        return u && u.length ? J1(u, xe(c, 2)) : [];
      }
      function LI(u) {
        var c = u == null ? 0 : u.length;
        return c ? mn(u, 1, c) : [];
      }
      function AI(u, c, p) {
        return u && u.length ? (c = p || c === t ? 1 : Ge(c), mn(u, 0, c < 0 ? 0 : c)) : [];
      }
      function RI(u, c, p) {
        var _ = u == null ? 0 : u.length;
        return _ ? (c = p || c === t ? 1 : Ge(c), c = _ - c, mn(u, c < 0 ? 0 : c, _)) : [];
      }
      function OI(u, c) {
        return u && u.length ? Ru(u, xe(c, 3), !1, !0) : [];
      }
      function II(u, c) {
        return u && u.length ? Ru(u, xe(c, 3)) : [];
      }
      var MI = Ue(function(u) {
        return so(nr(u, 1, zt, !0));
      }), BI = Ue(function(u) {
        var c = wn(u);
        return zt(c) && (c = t), so(nr(u, 1, zt, !0), xe(c, 2));
      }), DI = Ue(function(u) {
        var c = wn(u);
        return c = typeof c == "function" ? c : t, so(nr(u, 1, zt, !0), t, c);
      });
      function PI(u) {
        return u && u.length ? so(u) : [];
      }
      function FI(u, c) {
        return u && u.length ? so(u, xe(c, 2)) : [];
      }
      function $I(u, c) {
        return c = typeof c == "function" ? c : t, u && u.length ? so(u, t, c) : [];
      }
      function rd(u) {
        if (!(u && u.length))
          return [];
        var c = 0;
        return u = no(u, function(p) {
          if (zt(p))
            return c = Vt(p.length, c), !0;
        }), _h(c, function(p) {
          return Ot(u, gh(p));
        });
      }
      function Hy(u, c) {
        if (!(u && u.length))
          return [];
        var p = rd(u);
        return c == null ? p : Ot(p, function(_) {
          return Zr(c, t, _);
        });
      }
      var NI = Ue(function(u, c) {
        return zt(u) ? Nl(u, c) : [];
      }), HI = Ue(function(u) {
        return zh(no(u, zt));
      }), zI = Ue(function(u) {
        var c = wn(u);
        return zt(c) && (c = t), zh(no(u, zt), xe(c, 2));
      }), WI = Ue(function(u) {
        var c = wn(u);
        return c = typeof c == "function" ? c : t, zh(no(u, zt), t, c);
      }), GI = Ue(rd);
      function kI(u, c) {
        return ny(u || [], c || [], $l);
      }
      function UI(u, c) {
        return ny(u || [], c || [], Wl);
      }
      var YI = Ue(function(u) {
        var c = u.length, p = c > 1 ? u[c - 1] : t;
        return p = typeof p == "function" ? (u.pop(), p) : t, Hy(u, p);
      });
      function zy(u) {
        var c = E(u);
        return c.__chain__ = !0, c;
      }
      function XI(u, c) {
        return c(u), u;
      }
      function Nu(u, c) {
        return c(u);
      }
      var VI = Ri(function(u) {
        var c = u.length, p = c ? u[0] : 0, _ = this.__wrapped__, T = function(A) {
          return Lh(A, u);
        };
        return c > 1 || this.__actions__.length || !(_ instanceof je) || !Oi(p) ? this.thru(T) : (_ = _.slice(p, +p + (c ? 1 : 0)), _.__actions__.push({
          func: Nu,
          args: [T],
          thisArg: t
        }), new Cn(_, this.__chain__).thru(function(A) {
          return c && !A.length && A.push(t), A;
        }));
      });
      function qI() {
        return zy(this);
      }
      function KI() {
        return new Cn(this.value(), this.__chain__);
      }
      function jI() {
        this.__values__ === t && (this.__values__ = eC(this.value()));
        var u = this.__index__ >= this.__values__.length, c = u ? t : this.__values__[this.__index__++];
        return { done: u, value: c };
      }
      function ZI() {
        return this;
      }
      function QI(u) {
        for (var c, p = this; p instanceof Su; ) {
          var _ = By(p);
          _.__index__ = 0, _.__values__ = t, c ? T.__wrapped__ = _ : c = _;
          var T = _;
          p = p.__wrapped__;
        }
        return T.__wrapped__ = u, c;
      }
      function JI() {
        var u = this.__wrapped__;
        if (u instanceof je) {
          var c = u;
          return this.__actions__.length && (c = new je(this)), c = c.reverse(), c.__actions__.push({
            func: Nu,
            args: [td],
            thisArg: t
          }), new Cn(c, this.__chain__);
        }
        return this.thru(td);
      }
      function eM() {
        return ry(this.__wrapped__, this.__actions__);
      }
      var tM = Ou(function(u, c, p) {
        pt.call(u, p) ? ++u[p] : Li(u, p, 1);
      });
      function rM(u, c, p) {
        var _ = He(u) ? p1 : XR;
        return p && Tr(u, c, p) && (c = t), _(u, xe(c, 3));
      }
      function nM(u, c) {
        var p = He(u) ? no : H1;
        return p(u, xe(c, 3));
      }
      var iM = dy(Dy), oM = dy(Py);
      function aM(u, c) {
        return nr(Hu(u, c), 1);
      }
      function lM(u, c) {
        return nr(Hu(u, c), Ie);
      }
      function sM(u, c, p) {
        return p = p === t ? 1 : Ge(p), nr(Hu(u, c), p);
      }
      function Wy(u, c) {
        var p = He(u) ? gn : lo;
        return p(u, xe(c, 3));
      }
      function Gy(u, c) {
        var p = He(u) ? LA : N1;
        return p(u, xe(c, 3));
      }
      var uM = Ou(function(u, c, p) {
        pt.call(u, p) ? u[p].push(c) : Li(u, p, [c]);
      });
      function fM(u, c, p, _) {
        u = $r(u) ? u : Na(u), p = p && !_ ? Ge(p) : 0;
        var T = u.length;
        return p < 0 && (p = Vt(T + p, 0)), Uu(u) ? p <= T && u.indexOf(c, p) > -1 : !!T && Ea(u, c, p) > -1;
      }
      var cM = Ue(function(u, c, p) {
        var _ = -1, T = typeof c == "function", A = $r(u) ? G(u.length) : [];
        return lo(u, function(M) {
          A[++_] = T ? Zr(c, M, p) : Hl(M, c, p);
        }), A;
      }), hM = Ou(function(u, c, p) {
        Li(u, p, c);
      });
      function Hu(u, c) {
        var p = He(u) ? Ot : Y1;
        return p(u, xe(c, 3));
      }
      function dM(u, c, p, _) {
        return u == null ? [] : (He(c) || (c = c == null ? [] : [c]), p = _ ? t : p, He(p) || (p = p == null ? [] : [p]), K1(u, c, p));
      }
      var vM = Ou(function(u, c, p) {
        u[p ? 0 : 1].push(c);
      }, function() {
        return [[], []];
      });
      function pM(u, c, p) {
        var _ = He(u) ? vh : _1, T = arguments.length < 3;
        return _(u, xe(c, 4), p, T, lo);
      }
      function gM(u, c, p) {
        var _ = He(u) ? AA : _1, T = arguments.length < 3;
        return _(u, xe(c, 4), p, T, N1);
      }
      function yM(u, c) {
        var p = He(u) ? no : H1;
        return p(u, Gu(xe(c, 3)));
      }
      function CM(u) {
        var c = He(u) ? D1 : fO;
        return c(u);
      }
      function _M(u, c, p) {
        (p ? Tr(u, c, p) : c === t) ? c = 1 : c = Ge(c);
        var _ = He(u) ? WR : cO;
        return _(u, c);
      }
      function mM(u) {
        var c = He(u) ? GR : dO;
        return c(u);
      }
      function wM(u) {
        if (u == null)
          return 0;
        if ($r(u))
          return Uu(u) ? Aa(u) : u.length;
        var c = dr(u);
        return c == $ || c == Je ? u.size : Bh(u).length;
      }
      function xM(u, c, p) {
        var _ = He(u) ? ph : vO;
        return p && Tr(u, c, p) && (c = t), _(u, xe(c, 3));
      }
      var SM = Ue(function(u, c) {
        if (u == null)
          return [];
        var p = c.length;
        return p > 1 && Tr(u, c[0], c[1]) ? c = [] : p > 2 && Tr(c[0], c[1], c[2]) && (c = [c[0]]), K1(u, nr(c, 1), []);
      }), zu = nR || function() {
        return rr.Date.now();
      };
      function TM(u, c) {
        if (typeof c != "function")
          throw new yn(a);
        return u = Ge(u), function() {
          if (--u < 1)
            return c.apply(this, arguments);
        };
      }
      function ky(u, c, p) {
        return c = p ? t : c, c = u && c == null ? u.length : c, Ai(u, N, t, t, t, t, c);
      }
      function Uy(u, c) {
        var p;
        if (typeof c != "function")
          throw new yn(a);
        return u = Ge(u), function() {
          return --u > 0 && (p = c.apply(this, arguments)), u <= 1 && (c = t), p;
        };
      }
      var nd = Ue(function(u, c, p) {
        var _ = m;
        if (p.length) {
          var T = oo(p, Fa(nd));
          _ |= O;
        }
        return Ai(u, _, c, p, T);
      }), Yy = Ue(function(u, c, p) {
        var _ = m | w;
        if (p.length) {
          var T = oo(p, Fa(Yy));
          _ |= O;
        }
        return Ai(c, _, u, p, T);
      });
      function Xy(u, c, p) {
        c = p ? t : c;
        var _ = Ai(u, x, t, t, t, t, t, c);
        return _.placeholder = Xy.placeholder, _;
      }
      function Vy(u, c, p) {
        c = p ? t : c;
        var _ = Ai(u, b, t, t, t, t, t, c);
        return _.placeholder = Vy.placeholder, _;
      }
      function qy(u, c, p) {
        var _, T, A, M, P, z, X = 0, V = !1, Z = !1, le = !0;
        if (typeof u != "function")
          throw new yn(a);
        c = xn(c) || 0, Dt(p) && (V = !!p.leading, Z = "maxWait" in p, A = Z ? Vt(xn(p.maxWait) || 0, c) : A, le = "trailing" in p ? !!p.trailing : le);
        function pe(Wt) {
          var Hn = _, Bi = T;
          return _ = T = t, X = Wt, M = u.apply(Bi, Hn), M;
        }
        function Ee(Wt) {
          return X = Wt, P = Ul(qe, c), V ? pe(Wt) : M;
        }
        function ke(Wt) {
          var Hn = Wt - z, Bi = Wt - X, dC = c - Hn;
          return Z ? hr(dC, A - Bi) : dC;
        }
        function Le(Wt) {
          var Hn = Wt - z, Bi = Wt - X;
          return z === t || Hn >= c || Hn < 0 || Z && Bi >= A;
        }
        function qe() {
          var Wt = zu();
          if (Le(Wt))
            return et(Wt);
          P = Ul(qe, ke(Wt));
        }
        function et(Wt) {
          return P = t, le && _ ? pe(Wt) : (_ = T = t, M);
        }
        function tn() {
          P !== t && iy(P), X = 0, _ = z = T = P = t;
        }
        function br() {
          return P === t ? M : et(zu());
        }
        function rn() {
          var Wt = zu(), Hn = Le(Wt);
          if (_ = arguments, T = this, z = Wt, Hn) {
            if (P === t)
              return Ee(z);
            if (Z)
              return iy(P), P = Ul(qe, c), pe(z);
          }
          return P === t && (P = Ul(qe, c)), M;
        }
        return rn.cancel = tn, rn.flush = br, rn;
      }
      var bM = Ue(function(u, c) {
        return $1(u, 1, c);
      }), EM = Ue(function(u, c, p) {
        return $1(u, xn(c) || 0, p);
      });
      function LM(u) {
        return Ai(u, k);
      }
      function Wu(u, c) {
        if (typeof u != "function" || c != null && typeof c != "function")
          throw new yn(a);
        var p = function() {
          var _ = arguments, T = c ? c.apply(this, _) : _[0], A = p.cache;
          if (A.has(T))
            return A.get(T);
          var M = u.apply(this, _);
          return p.cache = A.set(T, M) || A, M;
        };
        return p.cache = new (Wu.Cache || Ei)(), p;
      }
      Wu.Cache = Ei;
      function Gu(u) {
        if (typeof u != "function")
          throw new yn(a);
        return function() {
          var c = arguments;
          switch (c.length) {
            case 0:
              return !u.call(this);
            case 1:
              return !u.call(this, c[0]);
            case 2:
              return !u.call(this, c[0], c[1]);
            case 3:
              return !u.call(this, c[0], c[1], c[2]);
          }
          return !u.apply(this, c);
        };
      }
      function AM(u) {
        return Uy(2, u);
      }
      var RM = pO(function(u, c) {
        c = c.length == 1 && He(c[0]) ? Ot(c[0], Qr(xe())) : Ot(nr(c, 1), Qr(xe()));
        var p = c.length;
        return Ue(function(_) {
          for (var T = -1, A = hr(_.length, p); ++T < A; )
            _[T] = c[T].call(this, _[T]);
          return Zr(u, this, _);
        });
      }), id = Ue(function(u, c) {
        var p = oo(c, Fa(id));
        return Ai(u, O, t, c, p);
      }), Ky = Ue(function(u, c) {
        var p = oo(c, Fa(Ky));
        return Ai(u, D, t, c, p);
      }), OM = Ri(function(u, c) {
        return Ai(u, W, t, t, t, c);
      });
      function IM(u, c) {
        if (typeof u != "function")
          throw new yn(a);
        return c = c === t ? c : Ge(c), Ue(u, c);
      }
      function MM(u, c) {
        if (typeof u != "function")
          throw new yn(a);
        return c = c == null ? 0 : Vt(Ge(c), 0), Ue(function(p) {
          var _ = p[c], T = fo(p, 0, c);
          return _ && io(T, _), Zr(u, this, T);
        });
      }
      function BM(u, c, p) {
        var _ = !0, T = !0;
        if (typeof u != "function")
          throw new yn(a);
        return Dt(p) && (_ = "leading" in p ? !!p.leading : _, T = "trailing" in p ? !!p.trailing : T), qy(u, c, {
          leading: _,
          maxWait: c,
          trailing: T
        });
      }
      function DM(u) {
        return ky(u, 1);
      }
      function PM(u, c) {
        return id(Gh(c), u);
      }
      function FM() {
        if (!arguments.length)
          return [];
        var u = arguments[0];
        return He(u) ? u : [u];
      }
      function $M(u) {
        return _n(u, g);
      }
      function NM(u, c) {
        return c = typeof c == "function" ? c : t, _n(u, g, c);
      }
      function HM(u) {
        return _n(u, d | g);
      }
      function zM(u, c) {
        return c = typeof c == "function" ? c : t, _n(u, d | g, c);
      }
      function WM(u, c) {
        return c == null || F1(u, c, Zt(c));
      }
      function Nn(u, c) {
        return u === c || u !== u && c !== c;
      }
      var GM = Du(Oh), kM = Du(function(u, c) {
        return u >= c;
      }), Uo = G1(/* @__PURE__ */ function() {
        return arguments;
      }()) ? G1 : function(u) {
        return $t(u) && pt.call(u, "callee") && !A1.call(u, "callee");
      }, He = G.isArray, UM = u1 ? Qr(u1) : QR;
      function $r(u) {
        return u != null && ku(u.length) && !Ii(u);
      }
      function zt(u) {
        return $t(u) && $r(u);
      }
      function YM(u) {
        return u === !0 || u === !1 || $t(u) && Sr(u) == wr;
      }
      var co = oR || pd, XM = f1 ? Qr(f1) : JR;
      function VM(u) {
        return $t(u) && u.nodeType === 1 && !Yl(u);
      }
      function qM(u) {
        if (u == null)
          return !0;
        if ($r(u) && (He(u) || typeof u == "string" || typeof u.splice == "function" || co(u) || $a(u) || Uo(u)))
          return !u.length;
        var c = dr(u);
        if (c == $ || c == Je)
          return !u.size;
        if (kl(u))
          return !Bh(u).length;
        for (var p in u)
          if (pt.call(u, p))
            return !1;
        return !0;
      }
      function KM(u, c) {
        return zl(u, c);
      }
      function jM(u, c, p) {
        p = typeof p == "function" ? p : t;
        var _ = p ? p(u, c) : t;
        return _ === t ? zl(u, c, t, p) : !!_;
      }
      function od(u) {
        if (!$t(u))
          return !1;
        var c = Sr(u);
        return c == ei || c == xr || typeof u.message == "string" && typeof u.name == "string" && !Yl(u);
      }
      function ZM(u) {
        return typeof u == "number" && O1(u);
      }
      function Ii(u) {
        if (!Dt(u))
          return !1;
        var c = Sr(u);
        return c == ro || c == R || c == fr || c == Qe;
      }
      function jy(u) {
        return typeof u == "number" && u == Ge(u);
      }
      function ku(u) {
        return typeof u == "number" && u > -1 && u % 1 == 0 && u <= we;
      }
      function Dt(u) {
        var c = typeof u;
        return u != null && (c == "object" || c == "function");
      }
      function $t(u) {
        return u != null && typeof u == "object";
      }
      var Zy = c1 ? Qr(c1) : tO;
      function QM(u, c) {
        return u === c || Mh(u, c, Kh(c));
      }
      function JM(u, c, p) {
        return p = typeof p == "function" ? p : t, Mh(u, c, Kh(c), p);
      }
      function e6(u) {
        return Qy(u) && u != +u;
      }
      function t6(u) {
        if (NO(u))
          throw new $e(o);
        return k1(u);
      }
      function r6(u) {
        return u === null;
      }
      function n6(u) {
        return u == null;
      }
      function Qy(u) {
        return typeof u == "number" || $t(u) && Sr(u) == I;
      }
      function Yl(u) {
        if (!$t(u) || Sr(u) != oe)
          return !1;
        var c = gu(u);
        if (c === null)
          return !0;
        var p = pt.call(c, "constructor") && c.constructor;
        return typeof p == "function" && p instanceof p && hu.call(p) == JA;
      }
      var ad = h1 ? Qr(h1) : rO;
      function i6(u) {
        return jy(u) && u >= -we && u <= we;
      }
      var Jy = d1 ? Qr(d1) : nO;
      function Uu(u) {
        return typeof u == "string" || !He(u) && $t(u) && Sr(u) == Rt;
      }
      function en(u) {
        return typeof u == "symbol" || $t(u) && Sr(u) == cr;
      }
      var $a = v1 ? Qr(v1) : iO;
      function o6(u) {
        return u === t;
      }
      function a6(u) {
        return $t(u) && dr(u) == Rl;
      }
      function l6(u) {
        return $t(u) && Sr(u) == SL;
      }
      var s6 = Du(Dh), u6 = Du(function(u, c) {
        return u <= c;
      });
      function eC(u) {
        if (!u)
          return [];
        if ($r(u))
          return Uu(u) ? Fn(u) : Fr(u);
        if (Ml && u[Ml])
          return WA(u[Ml]());
        var c = dr(u), p = c == $ ? wh : c == Je ? uu : Na;
        return p(u);
      }
      function Mi(u) {
        if (!u)
          return u === 0 ? u : 0;
        if (u = xn(u), u === Ie || u === -Ie) {
          var c = u < 0 ? -1 : 1;
          return c * Te;
        }
        return u === u ? u : 0;
      }
      function Ge(u) {
        var c = Mi(u), p = c % 1;
        return c === c ? p ? c - p : c : 0;
      }
      function tC(u) {
        return u ? zo(Ge(u), 0, be) : 0;
      }
      function xn(u) {
        if (typeof u == "number")
          return u;
        if (en(u))
          return he;
        if (Dt(u)) {
          var c = typeof u.valueOf == "function" ? u.valueOf() : u;
          u = Dt(c) ? c + "" : c;
        }
        if (typeof u != "string")
          return u === 0 ? u : +u;
        u = m1(u);
        var p = UL.test(u);
        return p || XL.test(u) ? TA(u.slice(2), p ? 2 : 8) : kL.test(u) ? he : +u;
      }
      function rC(u) {
        return ri(u, Nr(u));
      }
      function f6(u) {
        return u ? zo(Ge(u), -we, we) : u === 0 ? u : 0;
      }
      function dt(u) {
        return u == null ? "" : Jr(u);
      }
      var c6 = Da(function(u, c) {
        if (kl(c) || $r(c)) {
          ri(c, Zt(c), u);
          return;
        }
        for (var p in c)
          pt.call(c, p) && $l(u, p, c[p]);
      }), nC = Da(function(u, c) {
        ri(c, Nr(c), u);
      }), Yu = Da(function(u, c, p, _) {
        ri(c, Nr(c), u, _);
      }), h6 = Da(function(u, c, p, _) {
        ri(c, Zt(c), u, _);
      }), d6 = Ri(Lh);
      function v6(u, c) {
        var p = Ba(u);
        return c == null ? p : P1(p, c);
      }
      var p6 = Ue(function(u, c) {
        u = Ct(u);
        var p = -1, _ = c.length, T = _ > 2 ? c[2] : t;
        for (T && Tr(c[0], c[1], T) && (_ = 1); ++p < _; )
          for (var A = c[p], M = Nr(A), P = -1, z = M.length; ++P < z; ) {
            var X = M[P], V = u[X];
            (V === t || Nn(V, Oa[X]) && !pt.call(u, X)) && (u[X] = A[X]);
          }
        return u;
      }), g6 = Ue(function(u) {
        return u.push(t, my), Zr(iC, t, u);
      });
      function y6(u, c) {
        return g1(u, xe(c, 3), ti);
      }
      function C6(u, c) {
        return g1(u, xe(c, 3), Rh);
      }
      function _6(u, c) {
        return u == null ? u : Ah(u, xe(c, 3), Nr);
      }
      function m6(u, c) {
        return u == null ? u : z1(u, xe(c, 3), Nr);
      }
      function w6(u, c) {
        return u && ti(u, xe(c, 3));
      }
      function x6(u, c) {
        return u && Rh(u, xe(c, 3));
      }
      function S6(u) {
        return u == null ? [] : Eu(u, Zt(u));
      }
      function T6(u) {
        return u == null ? [] : Eu(u, Nr(u));
      }
      function ld(u, c, p) {
        var _ = u == null ? t : Wo(u, c);
        return _ === t ? p : _;
      }
      function b6(u, c) {
        return u != null && Sy(u, c, qR);
      }
      function sd(u, c) {
        return u != null && Sy(u, c, KR);
      }
      var E6 = py(function(u, c, p) {
        c != null && typeof c.toString != "function" && (c = du.call(c)), u[c] = p;
      }, fd(Hr)), L6 = py(function(u, c, p) {
        c != null && typeof c.toString != "function" && (c = du.call(c)), pt.call(u, c) ? u[c].push(p) : u[c] = [p];
      }, xe), A6 = Ue(Hl);
      function Zt(u) {
        return $r(u) ? B1(u) : Bh(u);
      }
      function Nr(u) {
        return $r(u) ? B1(u, !0) : oO(u);
      }
      function R6(u, c) {
        var p = {};
        return c = xe(c, 3), ti(u, function(_, T, A) {
          Li(p, c(_, T, A), _);
        }), p;
      }
      function O6(u, c) {
        var p = {};
        return c = xe(c, 3), ti(u, function(_, T, A) {
          Li(p, T, c(_, T, A));
        }), p;
      }
      var I6 = Da(function(u, c, p) {
        Lu(u, c, p);
      }), iC = Da(function(u, c, p, _) {
        Lu(u, c, p, _);
      }), M6 = Ri(function(u, c) {
        var p = {};
        if (u == null)
          return p;
        var _ = !1;
        c = Ot(c, function(A) {
          return A = uo(A, u), _ || (_ = A.length > 1), A;
        }), ri(u, Vh(u), p), _ && (p = _n(p, d | v | g, EO));
        for (var T = c.length; T--; )
          Hh(p, c[T]);
        return p;
      });
      function B6(u, c) {
        return oC(u, Gu(xe(c)));
      }
      var D6 = Ri(function(u, c) {
        return u == null ? {} : lO(u, c);
      });
      function oC(u, c) {
        if (u == null)
          return {};
        var p = Ot(Vh(u), function(_) {
          return [_];
        });
        return c = xe(c), j1(u, p, function(_, T) {
          return c(_, T[0]);
        });
      }
      function P6(u, c, p) {
        c = uo(c, u);
        var _ = -1, T = c.length;
        for (T || (T = 1, u = t); ++_ < T; ) {
          var A = u == null ? t : u[ni(c[_])];
          A === t && (_ = T, A = p), u = Ii(A) ? A.call(u) : A;
        }
        return u;
      }
      function F6(u, c, p) {
        return u == null ? u : Wl(u, c, p);
      }
      function $6(u, c, p, _) {
        return _ = typeof _ == "function" ? _ : t, u == null ? u : Wl(u, c, p, _);
      }
      var aC = Cy(Zt), lC = Cy(Nr);
      function N6(u, c, p) {
        var _ = He(u), T = _ || co(u) || $a(u);
        if (c = xe(c, 4), p == null) {
          var A = u && u.constructor;
          T ? p = _ ? new A() : [] : Dt(u) ? p = Ii(A) ? Ba(gu(u)) : {} : p = {};
        }
        return (T ? gn : ti)(u, function(M, P, z) {
          return c(p, M, P, z);
        }), p;
      }
      function H6(u, c) {
        return u == null ? !0 : Hh(u, c);
      }
      function z6(u, c, p) {
        return u == null ? u : ty(u, c, Gh(p));
      }
      function W6(u, c, p, _) {
        return _ = typeof _ == "function" ? _ : t, u == null ? u : ty(u, c, Gh(p), _);
      }
      function Na(u) {
        return u == null ? [] : mh(u, Zt(u));
      }
      function G6(u) {
        return u == null ? [] : mh(u, Nr(u));
      }
      function k6(u, c, p) {
        return p === t && (p = c, c = t), p !== t && (p = xn(p), p = p === p ? p : 0), c !== t && (c = xn(c), c = c === c ? c : 0), zo(xn(u), c, p);
      }
      function U6(u, c, p) {
        return c = Mi(c), p === t ? (p = c, c = 0) : p = Mi(p), u = xn(u), jR(u, c, p);
      }
      function Y6(u, c, p) {
        if (p && typeof p != "boolean" && Tr(u, c, p) && (c = p = t), p === t && (typeof c == "boolean" ? (p = c, c = t) : typeof u == "boolean" && (p = u, u = t)), u === t && c === t ? (u = 0, c = 1) : (u = Mi(u), c === t ? (c = u, u = 0) : c = Mi(c)), u > c) {
          var _ = u;
          u = c, c = _;
        }
        if (p || u % 1 || c % 1) {
          var T = I1();
          return hr(u + T * (c - u + SA("1e-" + ((T + "").length - 1))), c);
        }
        return Fh(u, c);
      }
      var X6 = Pa(function(u, c, p) {
        return c = c.toLowerCase(), u + (p ? sC(c) : c);
      });
      function sC(u) {
        return ud(dt(u).toLowerCase());
      }
      function uC(u) {
        return u = dt(u), u && u.replace(qL, FA).replace(dA, "");
      }
      function V6(u, c, p) {
        u = dt(u), c = Jr(c);
        var _ = u.length;
        p = p === t ? _ : zo(Ge(p), 0, _);
        var T = p;
        return p -= c.length, p >= 0 && u.slice(p, T) == c;
      }
      function q6(u) {
        return u = dt(u), u && AL.test(u) ? u.replace(zg, $A) : u;
      }
      function K6(u) {
        return u = dt(u), u && DL.test(u) ? u.replace(ih, "\\$&") : u;
      }
      var j6 = Pa(function(u, c, p) {
        return u + (p ? "-" : "") + c.toLowerCase();
      }), Z6 = Pa(function(u, c, p) {
        return u + (p ? " " : "") + c.toLowerCase();
      }), Q6 = hy("toLowerCase");
      function J6(u, c, p) {
        u = dt(u), c = Ge(c);
        var _ = c ? Aa(u) : 0;
        if (!c || _ >= c)
          return u;
        var T = (c - _) / 2;
        return Bu(mu(T), p) + u + Bu(_u(T), p);
      }
      function e8(u, c, p) {
        u = dt(u), c = Ge(c);
        var _ = c ? Aa(u) : 0;
        return c && _ < c ? u + Bu(c - _, p) : u;
      }
      function t8(u, c, p) {
        u = dt(u), c = Ge(c);
        var _ = c ? Aa(u) : 0;
        return c && _ < c ? Bu(c - _, p) + u : u;
      }
      function r8(u, c, p) {
        return p || c == null ? c = 0 : c && (c = +c), uR(dt(u).replace(oh, ""), c || 0);
      }
      function n8(u, c, p) {
        return (p ? Tr(u, c, p) : c === t) ? c = 1 : c = Ge(c), $h(dt(u), c);
      }
      function i8() {
        var u = arguments, c = dt(u[0]);
        return u.length < 3 ? c : c.replace(u[1], u[2]);
      }
      var o8 = Pa(function(u, c, p) {
        return u + (p ? "_" : "") + c.toLowerCase();
      });
      function a8(u, c, p) {
        return p && typeof p != "number" && Tr(u, c, p) && (c = p = t), p = p === t ? be : p >>> 0, p ? (u = dt(u), u && (typeof c == "string" || c != null && !ad(c)) && (c = Jr(c), !c && La(u)) ? fo(Fn(u), 0, p) : u.split(c, p)) : [];
      }
      var l8 = Pa(function(u, c, p) {
        return u + (p ? " " : "") + ud(c);
      });
      function s8(u, c, p) {
        return u = dt(u), p = p == null ? 0 : zo(Ge(p), 0, u.length), c = Jr(c), u.slice(p, p + c.length) == c;
      }
      function u8(u, c, p) {
        var _ = E.templateSettings;
        p && Tr(u, c, p) && (c = t), u = dt(u), c = Yu({}, c, _, _y);
        var T = Yu({}, c.imports, _.imports, _y), A = Zt(T), M = mh(T, A), P, z, X = 0, V = c.interpolate || iu, Z = "__p += '", le = xh(
          (c.escape || iu).source + "|" + V.source + "|" + (V === Wg ? GL : iu).source + "|" + (c.evaluate || iu).source + "|$",
          "g"
        ), pe = "//# sourceURL=" + (pt.call(c, "sourceURL") ? (c.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++CA + "]") + `
`;
        u.replace(le, function(Le, qe, et, tn, br, rn) {
          return et || (et = tn), Z += u.slice(X, rn).replace(KL, NA), qe && (P = !0, Z += `' +
__e(` + qe + `) +
'`), br && (z = !0, Z += `';
` + br + `;
__p += '`), et && (Z += `' +
((__t = (` + et + `)) == null ? '' : __t) +
'`), X = rn + Le.length, Le;
        }), Z += `';
`;
        var Ee = pt.call(c, "variable") && c.variable;
        if (!Ee)
          Z = `with (obj) {
` + Z + `
}
`;
        else if (zL.test(Ee))
          throw new $e(l);
        Z = (z ? Z.replace(TL, "") : Z).replace(bL, "$1").replace(EL, "$1;"), Z = "function(" + (Ee || "obj") + `) {
` + (Ee ? "" : `obj || (obj = {});
`) + "var __t, __p = ''" + (P ? ", __e = _.escape" : "") + (z ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
` : `;
`) + Z + `return __p
}`;
        var ke = cC(function() {
          return ut(A, pe + "return " + Z).apply(t, M);
        });
        if (ke.source = Z, od(ke))
          throw ke;
        return ke;
      }
      function f8(u) {
        return dt(u).toLowerCase();
      }
      function c8(u) {
        return dt(u).toUpperCase();
      }
      function h8(u, c, p) {
        if (u = dt(u), u && (p || c === t))
          return m1(u);
        if (!u || !(c = Jr(c)))
          return u;
        var _ = Fn(u), T = Fn(c), A = w1(_, T), M = x1(_, T) + 1;
        return fo(_, A, M).join("");
      }
      function d8(u, c, p) {
        if (u = dt(u), u && (p || c === t))
          return u.slice(0, T1(u) + 1);
        if (!u || !(c = Jr(c)))
          return u;
        var _ = Fn(u), T = x1(_, Fn(c)) + 1;
        return fo(_, 0, T).join("");
      }
      function v8(u, c, p) {
        if (u = dt(u), u && (p || c === t))
          return u.replace(oh, "");
        if (!u || !(c = Jr(c)))
          return u;
        var _ = Fn(u), T = w1(_, Fn(c));
        return fo(_, T).join("");
      }
      function p8(u, c) {
        var p = ee, _ = J;
        if (Dt(c)) {
          var T = "separator" in c ? c.separator : T;
          p = "length" in c ? Ge(c.length) : p, _ = "omission" in c ? Jr(c.omission) : _;
        }
        u = dt(u);
        var A = u.length;
        if (La(u)) {
          var M = Fn(u);
          A = M.length;
        }
        if (p >= A)
          return u;
        var P = p - Aa(_);
        if (P < 1)
          return _;
        var z = M ? fo(M, 0, P).join("") : u.slice(0, P);
        if (T === t)
          return z + _;
        if (M && (P += z.length - P), ad(T)) {
          if (u.slice(P).search(T)) {
            var X, V = z;
            for (T.global || (T = xh(T.source, dt(Gg.exec(T)) + "g")), T.lastIndex = 0; X = T.exec(V); )
              var Z = X.index;
            z = z.slice(0, Z === t ? P : Z);
          }
        } else if (u.indexOf(Jr(T), P) != P) {
          var le = z.lastIndexOf(T);
          le > -1 && (z = z.slice(0, le));
        }
        return z + _;
      }
      function g8(u) {
        return u = dt(u), u && LL.test(u) ? u.replace(Hg, YA) : u;
      }
      var y8 = Pa(function(u, c, p) {
        return u + (p ? " " : "") + c.toUpperCase();
      }), ud = hy("toUpperCase");
      function fC(u, c, p) {
        return u = dt(u), c = p ? t : c, c === t ? zA(u) ? qA(u) : IA(u) : u.match(c) || [];
      }
      var cC = Ue(function(u, c) {
        try {
          return Zr(u, t, c);
        } catch (p) {
          return od(p) ? p : new $e(p);
        }
      }), C8 = Ri(function(u, c) {
        return gn(c, function(p) {
          p = ni(p), Li(u, p, nd(u[p], u));
        }), u;
      });
      function _8(u) {
        var c = u == null ? 0 : u.length, p = xe();
        return u = c ? Ot(u, function(_) {
          if (typeof _[1] != "function")
            throw new yn(a);
          return [p(_[0]), _[1]];
        }) : [], Ue(function(_) {
          for (var T = -1; ++T < c; ) {
            var A = u[T];
            if (Zr(A[0], this, _))
              return Zr(A[1], this, _);
          }
        });
      }
      function m8(u) {
        return YR(_n(u, d));
      }
      function fd(u) {
        return function() {
          return u;
        };
      }
      function w8(u, c) {
        return u == null || u !== u ? c : u;
      }
      var x8 = vy(), S8 = vy(!0);
      function Hr(u) {
        return u;
      }
      function cd(u) {
        return U1(typeof u == "function" ? u : _n(u, d));
      }
      function T8(u) {
        return X1(_n(u, d));
      }
      function b8(u, c) {
        return V1(u, _n(c, d));
      }
      var E8 = Ue(function(u, c) {
        return function(p) {
          return Hl(p, u, c);
        };
      }), L8 = Ue(function(u, c) {
        return function(p) {
          return Hl(u, p, c);
        };
      });
      function hd(u, c, p) {
        var _ = Zt(c), T = Eu(c, _);
        p == null && !(Dt(c) && (T.length || !_.length)) && (p = c, c = u, u = this, T = Eu(c, Zt(c)));
        var A = !(Dt(p) && "chain" in p) || !!p.chain, M = Ii(u);
        return gn(T, function(P) {
          var z = c[P];
          u[P] = z, M && (u.prototype[P] = function() {
            var X = this.__chain__;
            if (A || X) {
              var V = u(this.__wrapped__), Z = V.__actions__ = Fr(this.__actions__);
              return Z.push({ func: z, args: arguments, thisArg: u }), V.__chain__ = X, V;
            }
            return z.apply(u, io([this.value()], arguments));
          });
        }), u;
      }
      function A8() {
        return rr._ === this && (rr._ = eR), this;
      }
      function dd() {
      }
      function R8(u) {
        return u = Ge(u), Ue(function(c) {
          return q1(c, u);
        });
      }
      var O8 = Uh(Ot), I8 = Uh(p1), M8 = Uh(ph);
      function hC(u) {
        return Zh(u) ? gh(ni(u)) : sO(u);
      }
      function B8(u) {
        return function(c) {
          return u == null ? t : Wo(u, c);
        };
      }
      var D8 = gy(), P8 = gy(!0);
      function vd() {
        return [];
      }
      function pd() {
        return !1;
      }
      function F8() {
        return {};
      }
      function $8() {
        return "";
      }
      function N8() {
        return !0;
      }
      function H8(u, c) {
        if (u = Ge(u), u < 1 || u > we)
          return [];
        var p = be, _ = hr(u, be);
        c = xe(c), u -= be;
        for (var T = _h(_, c); ++p < u; )
          c(p);
        return T;
      }
      function z8(u) {
        return He(u) ? Ot(u, ni) : en(u) ? [u] : Fr(My(dt(u)));
      }
      function W8(u) {
        var c = ++QA;
        return dt(u) + c;
      }
      var G8 = Mu(function(u, c) {
        return u + c;
      }, 0), k8 = Yh("ceil"), U8 = Mu(function(u, c) {
        return u / c;
      }, 1), Y8 = Yh("floor");
      function X8(u) {
        return u && u.length ? bu(u, Hr, Oh) : t;
      }
      function V8(u, c) {
        return u && u.length ? bu(u, xe(c, 2), Oh) : t;
      }
      function q8(u) {
        return C1(u, Hr);
      }
      function K8(u, c) {
        return C1(u, xe(c, 2));
      }
      function j8(u) {
        return u && u.length ? bu(u, Hr, Dh) : t;
      }
      function Z8(u, c) {
        return u && u.length ? bu(u, xe(c, 2), Dh) : t;
      }
      var Q8 = Mu(function(u, c) {
        return u * c;
      }, 1), J8 = Yh("round"), e3 = Mu(function(u, c) {
        return u - c;
      }, 0);
      function t3(u) {
        return u && u.length ? Ch(u, Hr) : 0;
      }
      function r3(u, c) {
        return u && u.length ? Ch(u, xe(c, 2)) : 0;
      }
      return E.after = TM, E.ary = ky, E.assign = c6, E.assignIn = nC, E.assignInWith = Yu, E.assignWith = h6, E.at = d6, E.before = Uy, E.bind = nd, E.bindAll = C8, E.bindKey = Yy, E.castArray = FM, E.chain = zy, E.chunk = YO, E.compact = XO, E.concat = VO, E.cond = _8, E.conforms = m8, E.constant = fd, E.countBy = tM, E.create = v6, E.curry = Xy, E.curryRight = Vy, E.debounce = qy, E.defaults = p6, E.defaultsDeep = g6, E.defer = bM, E.delay = EM, E.difference = qO, E.differenceBy = KO, E.differenceWith = jO, E.drop = ZO, E.dropRight = QO, E.dropRightWhile = JO, E.dropWhile = eI, E.fill = tI, E.filter = nM, E.flatMap = aM, E.flatMapDeep = lM, E.flatMapDepth = sM, E.flatten = Fy, E.flattenDeep = rI, E.flattenDepth = nI, E.flip = LM, E.flow = x8, E.flowRight = S8, E.fromPairs = iI, E.functions = S6, E.functionsIn = T6, E.groupBy = uM, E.initial = aI, E.intersection = lI, E.intersectionBy = sI, E.intersectionWith = uI, E.invert = E6, E.invertBy = L6, E.invokeMap = cM, E.iteratee = cd, E.keyBy = hM, E.keys = Zt, E.keysIn = Nr, E.map = Hu, E.mapKeys = R6, E.mapValues = O6, E.matches = T8, E.matchesProperty = b8, E.memoize = Wu, E.merge = I6, E.mergeWith = iC, E.method = E8, E.methodOf = L8, E.mixin = hd, E.negate = Gu, E.nthArg = R8, E.omit = M6, E.omitBy = B6, E.once = AM, E.orderBy = dM, E.over = O8, E.overArgs = RM, E.overEvery = I8, E.overSome = M8, E.partial = id, E.partialRight = Ky, E.partition = vM, E.pick = D6, E.pickBy = oC, E.property = hC, E.propertyOf = B8, E.pull = dI, E.pullAll = Ny, E.pullAllBy = vI, E.pullAllWith = pI, E.pullAt = gI, E.range = D8, E.rangeRight = P8, E.rearg = OM, E.reject = yM, E.remove = yI, E.rest = IM, E.reverse = td, E.sampleSize = _M, E.set = F6, E.setWith = $6, E.shuffle = mM, E.slice = CI, E.sortBy = SM, E.sortedUniq = bI, E.sortedUniqBy = EI, E.split = a8, E.spread = MM, E.tail = LI, E.take = AI, E.takeRight = RI, E.takeRightWhile = OI, E.takeWhile = II, E.tap = XI, E.throttle = BM, E.thru = Nu, E.toArray = eC, E.toPairs = aC, E.toPairsIn = lC, E.toPath = z8, E.toPlainObject = rC, E.transform = N6, E.unary = DM, E.union = MI, E.unionBy = BI, E.unionWith = DI, E.uniq = PI, E.uniqBy = FI, E.uniqWith = $I, E.unset = H6, E.unzip = rd, E.unzipWith = Hy, E.update = z6, E.updateWith = W6, E.values = Na, E.valuesIn = G6, E.without = NI, E.words = fC, E.wrap = PM, E.xor = HI, E.xorBy = zI, E.xorWith = WI, E.zip = GI, E.zipObject = kI, E.zipObjectDeep = UI, E.zipWith = YI, E.entries = aC, E.entriesIn = lC, E.extend = nC, E.extendWith = Yu, hd(E, E), E.add = G8, E.attempt = cC, E.camelCase = X6, E.capitalize = sC, E.ceil = k8, E.clamp = k6, E.clone = $M, E.cloneDeep = HM, E.cloneDeepWith = zM, E.cloneWith = NM, E.conformsTo = WM, E.deburr = uC, E.defaultTo = w8, E.divide = U8, E.endsWith = V6, E.eq = Nn, E.escape = q6, E.escapeRegExp = K6, E.every = rM, E.find = iM, E.findIndex = Dy, E.findKey = y6, E.findLast = oM, E.findLastIndex = Py, E.findLastKey = C6, E.floor = Y8, E.forEach = Wy, E.forEachRight = Gy, E.forIn = _6, E.forInRight = m6, E.forOwn = w6, E.forOwnRight = x6, E.get = ld, E.gt = GM, E.gte = kM, E.has = b6, E.hasIn = sd, E.head = $y, E.identity = Hr, E.includes = fM, E.indexOf = oI, E.inRange = U6, E.invoke = A6, E.isArguments = Uo, E.isArray = He, E.isArrayBuffer = UM, E.isArrayLike = $r, E.isArrayLikeObject = zt, E.isBoolean = YM, E.isBuffer = co, E.isDate = XM, E.isElement = VM, E.isEmpty = qM, E.isEqual = KM, E.isEqualWith = jM, E.isError = od, E.isFinite = ZM, E.isFunction = Ii, E.isInteger = jy, E.isLength = ku, E.isMap = Zy, E.isMatch = QM, E.isMatchWith = JM, E.isNaN = e6, E.isNative = t6, E.isNil = n6, E.isNull = r6, E.isNumber = Qy, E.isObject = Dt, E.isObjectLike = $t, E.isPlainObject = Yl, E.isRegExp = ad, E.isSafeInteger = i6, E.isSet = Jy, E.isString = Uu, E.isSymbol = en, E.isTypedArray = $a, E.isUndefined = o6, E.isWeakMap = a6, E.isWeakSet = l6, E.join = fI, E.kebabCase = j6, E.last = wn, E.lastIndexOf = cI, E.lowerCase = Z6, E.lowerFirst = Q6, E.lt = s6, E.lte = u6, E.max = X8, E.maxBy = V8, E.mean = q8, E.meanBy = K8, E.min = j8, E.minBy = Z8, E.stubArray = vd, E.stubFalse = pd, E.stubObject = F8, E.stubString = $8, E.stubTrue = N8, E.multiply = Q8, E.nth = hI, E.noConflict = A8, E.noop = dd, E.now = zu, E.pad = J6, E.padEnd = e8, E.padStart = t8, E.parseInt = r8, E.random = Y6, E.reduce = pM, E.reduceRight = gM, E.repeat = n8, E.replace = i8, E.result = P6, E.round = J8, E.runInContext = H, E.sample = CM, E.size = wM, E.snakeCase = o8, E.some = xM, E.sortedIndex = _I, E.sortedIndexBy = mI, E.sortedIndexOf = wI, E.sortedLastIndex = xI, E.sortedLastIndexBy = SI, E.sortedLastIndexOf = TI, E.startCase = l8, E.startsWith = s8, E.subtract = e3, E.sum = t3, E.sumBy = r3, E.template = u8, E.times = H8, E.toFinite = Mi, E.toInteger = Ge, E.toLength = tC, E.toLower = f8, E.toNumber = xn, E.toSafeInteger = f6, E.toString = dt, E.toUpper = c8, E.trim = h8, E.trimEnd = d8, E.trimStart = v8, E.truncate = p8, E.unescape = g8, E.uniqueId = W8, E.upperCase = y8, E.upperFirst = ud, E.each = Wy, E.eachRight = Gy, E.first = $y, hd(E, function() {
        var u = {};
        return ti(E, function(c, p) {
          pt.call(E.prototype, p) || (u[p] = c);
        }), u;
      }(), { chain: !1 }), E.VERSION = n, gn(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(u) {
        E[u].placeholder = E;
      }), gn(["drop", "take"], function(u, c) {
        je.prototype[u] = function(p) {
          p = p === t ? 1 : Vt(Ge(p), 0);
          var _ = this.__filtered__ && !c ? new je(this) : this.clone();
          return _.__filtered__ ? _.__takeCount__ = hr(p, _.__takeCount__) : _.__views__.push({
            size: hr(p, be),
            type: u + (_.__dir__ < 0 ? "Right" : "")
          }), _;
        }, je.prototype[u + "Right"] = function(p) {
          return this.reverse()[u](p).reverse();
        };
      }), gn(["filter", "map", "takeWhile"], function(u, c) {
        var p = c + 1, _ = p == fe || p == ie;
        je.prototype[u] = function(T) {
          var A = this.clone();
          return A.__iteratees__.push({
            iteratee: xe(T, 3),
            type: p
          }), A.__filtered__ = A.__filtered__ || _, A;
        };
      }), gn(["head", "last"], function(u, c) {
        var p = "take" + (c ? "Right" : "");
        je.prototype[u] = function() {
          return this[p](1).value()[0];
        };
      }), gn(["initial", "tail"], function(u, c) {
        var p = "drop" + (c ? "" : "Right");
        je.prototype[u] = function() {
          return this.__filtered__ ? new je(this) : this[p](1);
        };
      }), je.prototype.compact = function() {
        return this.filter(Hr);
      }, je.prototype.find = function(u) {
        return this.filter(u).head();
      }, je.prototype.findLast = function(u) {
        return this.reverse().find(u);
      }, je.prototype.invokeMap = Ue(function(u, c) {
        return typeof u == "function" ? new je(this) : this.map(function(p) {
          return Hl(p, u, c);
        });
      }), je.prototype.reject = function(u) {
        return this.filter(Gu(xe(u)));
      }, je.prototype.slice = function(u, c) {
        u = Ge(u);
        var p = this;
        return p.__filtered__ && (u > 0 || c < 0) ? new je(p) : (u < 0 ? p = p.takeRight(-u) : u && (p = p.drop(u)), c !== t && (c = Ge(c), p = c < 0 ? p.dropRight(-c) : p.take(c - u)), p);
      }, je.prototype.takeRightWhile = function(u) {
        return this.reverse().takeWhile(u).reverse();
      }, je.prototype.toArray = function() {
        return this.take(be);
      }, ti(je.prototype, function(u, c) {
        var p = /^(?:filter|find|map|reject)|While$/.test(c), _ = /^(?:head|last)$/.test(c), T = E[_ ? "take" + (c == "last" ? "Right" : "") : c], A = _ || /^find/.test(c);
        T && (E.prototype[c] = function() {
          var M = this.__wrapped__, P = _ ? [1] : arguments, z = M instanceof je, X = P[0], V = z || He(M), Z = function(qe) {
            var et = T.apply(E, io([qe], P));
            return _ && le ? et[0] : et;
          };
          V && p && typeof X == "function" && X.length != 1 && (z = V = !1);
          var le = this.__chain__, pe = !!this.__actions__.length, Ee = A && !le, ke = z && !pe;
          if (!A && V) {
            M = ke ? M : new je(this);
            var Le = u.apply(M, P);
            return Le.__actions__.push({ func: Nu, args: [Z], thisArg: t }), new Cn(Le, le);
          }
          return Ee && ke ? u.apply(this, P) : (Le = this.thru(Z), Ee ? _ ? Le.value()[0] : Le.value() : Le);
        });
      }), gn(["pop", "push", "shift", "sort", "splice", "unshift"], function(u) {
        var c = fu[u], p = /^(?:push|sort|unshift)$/.test(u) ? "tap" : "thru", _ = /^(?:pop|shift)$/.test(u);
        E.prototype[u] = function() {
          var T = arguments;
          if (_ && !this.__chain__) {
            var A = this.value();
            return c.apply(He(A) ? A : [], T);
          }
          return this[p](function(M) {
            return c.apply(He(M) ? M : [], T);
          });
        };
      }), ti(je.prototype, function(u, c) {
        var p = E[c];
        if (p) {
          var _ = p.name + "";
          pt.call(Ma, _) || (Ma[_] = []), Ma[_].push({ name: c, func: p });
        }
      }), Ma[Iu(t, w).name] = [{
        name: "wrapper",
        func: t
      }], je.prototype.clone = gR, je.prototype.reverse = yR, je.prototype.value = CR, E.prototype.at = VI, E.prototype.chain = qI, E.prototype.commit = KI, E.prototype.next = jI, E.prototype.plant = QI, E.prototype.reverse = JI, E.prototype.toJSON = E.prototype.valueOf = E.prototype.value = eM, E.prototype.first = E.prototype.head, Ml && (E.prototype[Ml] = ZI), E;
    }, Ra = KA();
    Fo ? ((Fo.exports = Ra)._ = Ra, ch._ = Ra) : rr._ = Ra;
  }).call(Zl);
})(tc, tc.exports);
var Vo = tc.exports;
const Yw = {
  props: {
    sheetType: {
      type: String,
      default: "pivot"
    },
    data: {
      type: Object,
      default: () => ({
        fields: {
          rows: [],
          columns: [],
          values: [],
          valueInCols: !0
        },
        data: [],
        rowSubTotalsDimensions: [],
        colSubTotalsDimensions: []
      })
    },
    toolsOptions: {
      type: Object,
      default: () => ({
        rowGrandTotals: !0,
        rowSubTotals: !0,
        columnGrandTotals: !0,
        columnSubTotals: !0
      })
    }
  },
  setup(e, { expose: r }) {
    const t = e, n = {
      width: !0,
      height: "100%",
      getContainer: () => document.getElementById("containerId")
    }, i = Un({
      theme: {
        cell: {
          subtotal: {
            backgroundColor: "#f0f0f0",
            color: "#000"
          },
          total: {
            backgroundColor: "#d9d9d9",
            color: "#000"
          }
        },
        background: {
          color: "#fff"
        },
        colCell: {
          cell: {
            crossBackgroundColor: "#F6F6F7",
            backgroundColor: "#F6F6F7"
          },
          subtotal: {
            backgroundColor: "#f0f0f0",
            color: "#000"
          },
          total: {
            backgroundColor: "#d9d9d9",
            color: "#000"
          }
        },
        cornerCell: {
          cell: {
            crossBackgroundColor: "#F6F6F7",
            backgroundColor: "#F6F6F7"
          }
        },
        dataCell: {
          bolderText: {
            textAlign: "center",
            textBaseline: "middle"
          },
          text: {
            textAlign: "center",
            textBaseline: "middle"
          },
          cell: {
            crossBackgroundColor: "#fff",
            backgroundColor: "#fff"
          }
        },
        rowCell: {
          //行头
          cell: {
            crossBackgroundColor: "#fff",
            backgroundColor: "#fff"
          }
        }
      },
      name: "gray"
    }), o = (h, d) => {
      if (h[Ne] === "reworkRate") {
        const v = d.reduce((y, C) => y + C.reworkQty, 0), g = d.reduce((y, C) => y + C.quantity, 0);
        return v / g * 100;
      } else
        return d.reduce((g, y) => g + y[y[Ne]], 0);
    }, a = fx({
      style: {
        hierarchyCollapse: !1
        // layoutWidthType:'compact',
      },
      tooltip: {
        operation: {
          trend: !0,
          hiddenColumns: !0,
          sort: !0,
          onClick: (...h) => {
          }
        }
      },
      totals: {
        row: {
          showGrandTotals: t.toolsOptions.rowGrandTotals,
          showSubTotals: t.toolsOptions.rowSubTotals,
          reverseLayout: !0,
          reverseSubLayout: !0,
          totalsGroupDimensions: t.data.rowTotalsGroupDimensions,
          subTotalsDimensions: t.data.rowSubTotalsDimensions,
          calcTotals: {
            calcFunc: o
          },
          calcSubTotals: {
            calcFunc: o
          }
          //自定义
        },
        col: {
          showGrandTotals: t.toolsOptions.columnGrandTotals,
          showSubTotals: t.toolsOptions.columnSubTotals,
          reverseLayout: !0,
          reverseSubLayout: !0,
          totalsGroupDimensions: t.data.colTotalsGroupDimensions,
          subTotalsDimensions: t.data.colSubTotalsDimensions,
          calcTotals: {
            calcFunc: o
          },
          calcSubTotals: {
            calcFunc: o
          }
        }
      }
    }), l = xp(), s = Lo(() => {
      if (t.sheetType === "pivot")
        return t.data;
      {
        const h = {
          columns: Vo.concat(
            [],
            t.data.fields.rows || [],
            t.data.fields.columns || [],
            t.data.fields.values || []
          )
        };
        return {
          ...t.data,
          fields: h
        };
      }
    }), f = (h) => {
      const d = hZ(l.value.instance, ",", !0);
      rZ(d, h ?? "jack");
    };
    return ai(
      () => t.toolsOptions,
      (h) => {
        h && (l.value.instance.setOptions({
          totals: {
            row: {
              showGrandTotals: t.toolsOptions.rowGrandTotals,
              showSubTotals: t.toolsOptions.rowSubTotals,
              subTotalsDimensions: t.data.rowSubTotalsDimensions
              //自定义
            },
            col: {
              showGrandTotals: t.toolsOptions.columnGrandTotals,
              showSubTotals: t.toolsOptions.columnSubTotals,
              subTotalsDimensions: t.data.colSubTotalsDimensions
            }
          }
        }), l.value.instance.render());
      },
      { deep: !0 }
    ), r({ exportFunc: f, s2: l }), (h, d) => (ge(), bt(Ko(Zle), {
      ref: (v, g) => {
        g.s2 = v, hx(l) && (l.value = v);
      },
      sheetType: t.sheetType,
      dataCfg: Ko(s),
      options: Ko(a),
      themeCfg: i.value,
      adaptive: n
    }, null, 8, ["sheetType", "dataCfg", "options", "themeCfg"]));
  }
};
function On(e, r) {
  Qle(e) && (e = "100%");
  var t = Jle(e);
  return e = r === 360 ? e : Math.min(r, Math.max(0, parseFloat(e))), t && (e = parseInt(String(e * r), 10) / 100), Math.abs(e - r) < 1e-6 ? 1 : (r === 360 ? e = (e < 0 ? e % r + r : e % r) / parseFloat(String(r)) : e = e % r / parseFloat(String(r)), e);
}
function Qle(e) {
  return typeof e == "string" && e.indexOf(".") !== -1 && parseFloat(e) === 1;
}
function Jle(e) {
  return typeof e == "string" && e.indexOf("%") !== -1;
}
function ese(e) {
  return e = parseFloat(e), (isNaN(e) || e < 0 || e > 1) && (e = 1), e;
}
function cf(e) {
  return e <= 1 ? "".concat(Number(e) * 100, "%") : e;
}
function Yd(e) {
  return e.length === 1 ? "0" + e : String(e);
}
function tse(e, r, t) {
  return {
    r: On(e, 255) * 255,
    g: On(r, 255) * 255,
    b: On(t, 255) * 255
  };
}
function Xd(e, r, t) {
  return t < 0 && (t += 1), t > 1 && (t -= 1), t < 1 / 6 ? e + (r - e) * (6 * t) : t < 1 / 2 ? r : t < 2 / 3 ? e + (r - e) * (2 / 3 - t) * 6 : e;
}
function rse(e, r, t) {
  var n, i, o;
  if (e = On(e, 360), r = On(r, 100), t = On(t, 100), r === 0)
    i = t, o = t, n = t;
  else {
    var a = t < 0.5 ? t * (1 + r) : t + r - t * r, l = 2 * t - a;
    n = Xd(l, a, e + 1 / 3), i = Xd(l, a, e), o = Xd(l, a, e - 1 / 3);
  }
  return { r: n * 255, g: i * 255, b: o * 255 };
}
function nse(e, r, t) {
  e = On(e, 255), r = On(r, 255), t = On(t, 255);
  var n = Math.max(e, r, t), i = Math.min(e, r, t), o = 0, a = n, l = n - i, s = n === 0 ? 0 : l / n;
  if (n === i)
    o = 0;
  else {
    switch (n) {
      case e:
        o = (r - t) / l + (r < t ? 6 : 0);
        break;
      case r:
        o = (t - e) / l + 2;
        break;
      case t:
        o = (e - r) / l + 4;
        break;
    }
    o /= 6;
  }
  return { h: o, s, v: a };
}
function ise(e, r, t) {
  e = On(e, 360) * 6, r = On(r, 100), t = On(t, 100);
  var n = Math.floor(e), i = e - n, o = t * (1 - r), a = t * (1 - i * r), l = t * (1 - (1 - i) * r), s = n % 6, f = [t, a, o, o, l, t][s], h = [l, t, t, a, o, o][s], d = [o, o, l, t, t, a][s];
  return { r: f * 255, g: h * 255, b: d * 255 };
}
function ose(e, r, t, n) {
  var i = [
    Yd(Math.round(e).toString(16)),
    Yd(Math.round(r).toString(16)),
    Yd(Math.round(t).toString(16))
  ];
  return n && i[0].startsWith(i[0].charAt(1)) && i[1].startsWith(i[1].charAt(1)) && i[2].startsWith(i[2].charAt(1)) ? i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0) : i.join("");
}
function Xw(e) {
  return nn(e) / 255;
}
function nn(e) {
  return parseInt(e, 16);
}
var Vw = {
  aliceblue: "#f0f8ff",
  antiquewhite: "#faebd7",
  aqua: "#00ffff",
  aquamarine: "#7fffd4",
  azure: "#f0ffff",
  beige: "#f5f5dc",
  bisque: "#ffe4c4",
  black: "#000000",
  blanchedalmond: "#ffebcd",
  blue: "#0000ff",
  blueviolet: "#8a2be2",
  brown: "#a52a2a",
  burlywood: "#deb887",
  cadetblue: "#5f9ea0",
  chartreuse: "#7fff00",
  chocolate: "#d2691e",
  coral: "#ff7f50",
  cornflowerblue: "#6495ed",
  cornsilk: "#fff8dc",
  crimson: "#dc143c",
  cyan: "#00ffff",
  darkblue: "#00008b",
  darkcyan: "#008b8b",
  darkgoldenrod: "#b8860b",
  darkgray: "#a9a9a9",
  darkgreen: "#006400",
  darkgrey: "#a9a9a9",
  darkkhaki: "#bdb76b",
  darkmagenta: "#8b008b",
  darkolivegreen: "#556b2f",
  darkorange: "#ff8c00",
  darkorchid: "#9932cc",
  darkred: "#8b0000",
  darksalmon: "#e9967a",
  darkseagreen: "#8fbc8f",
  darkslateblue: "#483d8b",
  darkslategray: "#2f4f4f",
  darkslategrey: "#2f4f4f",
  darkturquoise: "#00ced1",
  darkviolet: "#9400d3",
  deeppink: "#ff1493",
  deepskyblue: "#00bfff",
  dimgray: "#696969",
  dimgrey: "#696969",
  dodgerblue: "#1e90ff",
  firebrick: "#b22222",
  floralwhite: "#fffaf0",
  forestgreen: "#228b22",
  fuchsia: "#ff00ff",
  gainsboro: "#dcdcdc",
  ghostwhite: "#f8f8ff",
  goldenrod: "#daa520",
  gold: "#ffd700",
  gray: "#808080",
  green: "#008000",
  greenyellow: "#adff2f",
  grey: "#808080",
  honeydew: "#f0fff0",
  hotpink: "#ff69b4",
  indianred: "#cd5c5c",
  indigo: "#4b0082",
  ivory: "#fffff0",
  khaki: "#f0e68c",
  lavenderblush: "#fff0f5",
  lavender: "#e6e6fa",
  lawngreen: "#7cfc00",
  lemonchiffon: "#fffacd",
  lightblue: "#add8e6",
  lightcoral: "#f08080",
  lightcyan: "#e0ffff",
  lightgoldenrodyellow: "#fafad2",
  lightgray: "#d3d3d3",
  lightgreen: "#90ee90",
  lightgrey: "#d3d3d3",
  lightpink: "#ffb6c1",
  lightsalmon: "#ffa07a",
  lightseagreen: "#20b2aa",
  lightskyblue: "#87cefa",
  lightslategray: "#778899",
  lightslategrey: "#778899",
  lightsteelblue: "#b0c4de",
  lightyellow: "#ffffe0",
  lime: "#00ff00",
  limegreen: "#32cd32",
  linen: "#faf0e6",
  magenta: "#ff00ff",
  maroon: "#800000",
  mediumaquamarine: "#66cdaa",
  mediumblue: "#0000cd",
  mediumorchid: "#ba55d3",
  mediumpurple: "#9370db",
  mediumseagreen: "#3cb371",
  mediumslateblue: "#7b68ee",
  mediumspringgreen: "#00fa9a",
  mediumturquoise: "#48d1cc",
  mediumvioletred: "#c71585",
  midnightblue: "#191970",
  mintcream: "#f5fffa",
  mistyrose: "#ffe4e1",
  moccasin: "#ffe4b5",
  navajowhite: "#ffdead",
  navy: "#000080",
  oldlace: "#fdf5e6",
  olive: "#808000",
  olivedrab: "#6b8e23",
  orange: "#ffa500",
  orangered: "#ff4500",
  orchid: "#da70d6",
  palegoldenrod: "#eee8aa",
  palegreen: "#98fb98",
  paleturquoise: "#afeeee",
  palevioletred: "#db7093",
  papayawhip: "#ffefd5",
  peachpuff: "#ffdab9",
  peru: "#cd853f",
  pink: "#ffc0cb",
  plum: "#dda0dd",
  powderblue: "#b0e0e6",
  purple: "#800080",
  rebeccapurple: "#663399",
  red: "#ff0000",
  rosybrown: "#bc8f8f",
  royalblue: "#4169e1",
  saddlebrown: "#8b4513",
  salmon: "#fa8072",
  sandybrown: "#f4a460",
  seagreen: "#2e8b57",
  seashell: "#fff5ee",
  sienna: "#a0522d",
  silver: "#c0c0c0",
  skyblue: "#87ceeb",
  slateblue: "#6a5acd",
  slategray: "#708090",
  slategrey: "#708090",
  snow: "#fffafa",
  springgreen: "#00ff7f",
  steelblue: "#4682b4",
  tan: "#d2b48c",
  teal: "#008080",
  thistle: "#d8bfd8",
  tomato: "#ff6347",
  turquoise: "#40e0d0",
  violet: "#ee82ee",
  wheat: "#f5deb3",
  white: "#ffffff",
  whitesmoke: "#f5f5f5",
  yellow: "#ffff00",
  yellowgreen: "#9acd32"
};
function Ql(e) {
  var r = { r: 0, g: 0, b: 0 }, t = 1, n = null, i = null, o = null, a = !1, l = !1;
  return typeof e == "string" && (e = sse(e)), typeof e == "object" && (Pi(e.r) && Pi(e.g) && Pi(e.b) ? (r = tse(e.r, e.g, e.b), a = !0, l = String(e.r).substr(-1) === "%" ? "prgb" : "rgb") : Pi(e.h) && Pi(e.s) && Pi(e.v) ? (n = cf(e.s), i = cf(e.v), r = ise(e.h, n, i), a = !0, l = "hsv") : Pi(e.h) && Pi(e.s) && Pi(e.l) && (n = cf(e.s), o = cf(e.l), r = rse(e.h, n, o), a = !0, l = "hsl"), Object.prototype.hasOwnProperty.call(e, "a") && (t = e.a)), t = ese(t), {
    ok: a,
    format: e.format || l,
    r: Math.min(255, Math.max(r.r, 0)),
    g: Math.min(255, Math.max(r.g, 0)),
    b: Math.min(255, Math.max(r.b, 0)),
    a: t
  };
}
var ase = "[-\\+]?\\d+%?", lse = "[-\\+]?\\d*\\.\\d+%?", _o = "(?:".concat(lse, ")|(?:").concat(ase, ")"), Vd = "[\\s|\\(]+(".concat(_o, ")[,|\\s]+(").concat(_o, ")[,|\\s]+(").concat(_o, ")\\s*\\)?"), qd = "[\\s|\\(]+(".concat(_o, ")[,|\\s]+(").concat(_o, ")[,|\\s]+(").concat(_o, ")[,|\\s]+(").concat(_o, ")\\s*\\)?"), Wn = {
  CSS_UNIT: new RegExp(_o),
  rgb: new RegExp("rgb" + Vd),
  rgba: new RegExp("rgba" + qd),
  hsl: new RegExp("hsl" + Vd),
  hsla: new RegExp("hsla" + qd),
  hsv: new RegExp("hsv" + Vd),
  hsva: new RegExp("hsva" + qd),
  hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
  hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
  hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
  hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
};
function sse(e) {
  if (e = e.trim().toLowerCase(), e.length === 0)
    return !1;
  var r = !1;
  if (Vw[e])
    e = Vw[e], r = !0;
  else if (e === "transparent")
    return { r: 0, g: 0, b: 0, a: 0, format: "name" };
  var t = Wn.rgb.exec(e);
  return t ? { r: t[1], g: t[2], b: t[3] } : (t = Wn.rgba.exec(e), t ? { r: t[1], g: t[2], b: t[3], a: t[4] } : (t = Wn.hsl.exec(e), t ? { h: t[1], s: t[2], l: t[3] } : (t = Wn.hsla.exec(e), t ? { h: t[1], s: t[2], l: t[3], a: t[4] } : (t = Wn.hsv.exec(e), t ? { h: t[1], s: t[2], v: t[3] } : (t = Wn.hsva.exec(e), t ? { h: t[1], s: t[2], v: t[3], a: t[4] } : (t = Wn.hex8.exec(e), t ? {
    r: nn(t[1]),
    g: nn(t[2]),
    b: nn(t[3]),
    a: Xw(t[4]),
    format: r ? "name" : "hex8"
  } : (t = Wn.hex6.exec(e), t ? {
    r: nn(t[1]),
    g: nn(t[2]),
    b: nn(t[3]),
    format: r ? "name" : "hex"
  } : (t = Wn.hex4.exec(e), t ? {
    r: nn(t[1] + t[1]),
    g: nn(t[2] + t[2]),
    b: nn(t[3] + t[3]),
    a: Xw(t[4] + t[4]),
    format: r ? "name" : "hex8"
  } : (t = Wn.hex3.exec(e), t ? {
    r: nn(t[1] + t[1]),
    g: nn(t[2] + t[2]),
    b: nn(t[3] + t[3]),
    format: r ? "name" : "hex"
  } : !1)))))))));
}
function Pi(e) {
  return !!Wn.CSS_UNIT.exec(String(e));
}
var hf = 2, qw = 0.16, use = 0.05, fse = 0.05, cse = 0.15, yL = 5, CL = 4, hse = [{
  index: 7,
  opacity: 0.15
}, {
  index: 6,
  opacity: 0.25
}, {
  index: 5,
  opacity: 0.3
}, {
  index: 5,
  opacity: 0.45
}, {
  index: 5,
  opacity: 0.65
}, {
  index: 5,
  opacity: 0.85
}, {
  index: 4,
  opacity: 0.9
}, {
  index: 3,
  opacity: 0.95
}, {
  index: 2,
  opacity: 0.97
}, {
  index: 1,
  opacity: 0.98
}];
function Kw(e) {
  var r = e.r, t = e.g, n = e.b, i = nse(r, t, n);
  return {
    h: i.h * 360,
    s: i.s,
    v: i.v
  };
}
function df(e) {
  var r = e.r, t = e.g, n = e.b;
  return "#".concat(ose(r, t, n, !1));
}
function dse(e, r, t) {
  var n = t / 100, i = {
    r: (r.r - e.r) * n + e.r,
    g: (r.g - e.g) * n + e.g,
    b: (r.b - e.b) * n + e.b
  };
  return i;
}
function jw(e, r, t) {
  var n;
  return Math.round(e.h) >= 60 && Math.round(e.h) <= 240 ? n = t ? Math.round(e.h) - hf * r : Math.round(e.h) + hf * r : n = t ? Math.round(e.h) + hf * r : Math.round(e.h) - hf * r, n < 0 ? n += 360 : n >= 360 && (n -= 360), n;
}
function Zw(e, r, t) {
  if (e.h === 0 && e.s === 0)
    return e.s;
  var n;
  return t ? n = e.s - qw * r : r === CL ? n = e.s + qw : n = e.s + use * r, n > 1 && (n = 1), t && r === yL && n > 0.1 && (n = 0.1), n < 0.06 && (n = 0.06), Number(n.toFixed(2));
}
function Qw(e, r, t) {
  var n;
  return t ? n = e.v + fse * r : n = e.v - cse * r, n > 1 && (n = 1), Number(n.toFixed(2));
}
function _p(e) {
  for (var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, t = [], n = Ql(e), i = yL; i > 0; i -= 1) {
    var o = Kw(n), a = df(Ql({
      h: jw(o, i, !0),
      s: Zw(o, i, !0),
      v: Qw(o, i, !0)
    }));
    t.push(a);
  }
  t.push(df(n));
  for (var l = 1; l <= CL; l += 1) {
    var s = Kw(n), f = df(Ql({
      h: jw(s, l),
      s: Zw(s, l),
      v: Qw(s, l)
    }));
    t.push(f);
  }
  return r.theme === "dark" ? hse.map(function(h) {
    var d = h.index, v = h.opacity, g = df(dse(Ql(r.backgroundColor || "#141414"), Ql(t[d]), v * 100));
    return g;
  }) : t;
}
var Kd = {
  red: "#F5222D",
  volcano: "#FA541C",
  orange: "#FA8C16",
  gold: "#FAAD14",
  yellow: "#FADB14",
  lime: "#A0D911",
  green: "#52C41A",
  cyan: "#13C2C2",
  blue: "#1890FF",
  geekblue: "#2F54EB",
  purple: "#722ED1",
  magenta: "#EB2F96",
  grey: "#666666"
}, jd = {}, Zd = {};
Object.keys(Kd).forEach(function(e) {
  jd[e] = _p(Kd[e]), jd[e].primary = jd[e][5], Zd[e] = _p(Kd[e], {
    theme: "dark",
    backgroundColor: "#141414"
  }), Zd[e].primary = Zd[e][5];
});
var Jw = [], Jl = [], vse = "insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";
function pse() {
  var e = document.createElement("style");
  return e.setAttribute("type", "text/css"), e;
}
function gse(e, r) {
  if (r = r || {}, e === void 0)
    throw new Error(vse);
  var t = r.prepend === !0 ? "prepend" : "append", n = r.container !== void 0 ? r.container : document.querySelector("head"), i = Jw.indexOf(n);
  i === -1 && (i = Jw.push(n) - 1, Jl[i] = {});
  var o;
  return Jl[i] !== void 0 && Jl[i][t] !== void 0 ? o = Jl[i][t] : (o = Jl[i][t] = pse(), t === "prepend" ? n.insertBefore(o, n.childNodes[0]) : n.appendChild(o)), e.charCodeAt(0) === 65279 && (e = e.substr(1, e.length)), o.styleSheet ? o.styleSheet.cssText += e : o.textContent += e, o;
}
function ex(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = arguments[r] != null ? Object(arguments[r]) : {}, n = Object.keys(t);
    typeof Object.getOwnPropertySymbols == "function" && (n = n.concat(Object.getOwnPropertySymbols(t).filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    }))), n.forEach(function(i) {
      yse(e, i, t[i]);
    });
  }
  return e;
}
function yse(e, r, t) {
  return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e;
}
function Cse(e, r) {
  process.env.NODE_ENV !== "production" && !e && console !== void 0 && console.error("Warning: ".concat(r));
}
function _se(e, r) {
  Cse(e, "[@ant-design/icons-vue] ".concat(r));
}
function tx(e) {
  return typeof e == "object" && typeof e.name == "string" && typeof e.theme == "string" && (typeof e.icon == "object" || typeof e.icon == "function");
}
function mp(e, r, t) {
  return t ? pC(e.tag, ex({
    key: r
  }, t, e.attrs), (e.children || []).map(function(n, i) {
    return mp(n, "".concat(r, "-").concat(e.tag, "-").concat(i));
  })) : pC(e.tag, ex({
    key: r
  }, e.attrs), (e.children || []).map(function(n, i) {
    return mp(n, "".concat(r, "-").concat(e.tag, "-").concat(i));
  }));
}
function _L(e) {
  return _p(e)[0];
}
function mL(e) {
  return e ? Array.isArray(e) ? e : [e] : [];
}
var mse = `
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`, rx = !1, wse = function() {
  var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : mse;
  a3(function() {
    rx || (typeof window < "u" && window.document && window.document.documentElement && gse(r, {
      prepend: !0
    }), rx = !0);
  });
}, xse = ["icon", "primaryColor", "secondaryColor"];
function Sse(e, r) {
  if (e == null)
    return {};
  var t = Tse(e, r), n, i;
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    for (i = 0; i < o.length; i++)
      n = o[i], !(r.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(e, n) && (t[n] = e[n]);
  }
  return t;
}
function Tse(e, r) {
  if (e == null)
    return {};
  var t = {}, n = Object.keys(e), i, o;
  for (o = 0; o < n.length; o++)
    i = n[o], !(r.indexOf(i) >= 0) && (t[i] = e[i]);
  return t;
}
function Tf(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = arguments[r] != null ? Object(arguments[r]) : {}, n = Object.keys(t);
    typeof Object.getOwnPropertySymbols == "function" && (n = n.concat(Object.getOwnPropertySymbols(t).filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    }))), n.forEach(function(i) {
      bse(e, i, t[i]);
    });
  }
  return e;
}
function bse(e, r, t) {
  return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e;
}
var ds = {
  primaryColor: "#333",
  secondaryColor: "#E6E6E6",
  calculated: !1
};
function Ese(e) {
  var r = e.primaryColor, t = e.secondaryColor;
  ds.primaryColor = r, ds.secondaryColor = t || _L(r), ds.calculated = !!t;
}
function Lse() {
  return Tf({}, ds);
}
var Ll = function(r, t) {
  var n = Tf({}, r, t.attrs), i = n.icon, o = n.primaryColor, a = n.secondaryColor, l = Sse(n, xse), s = ds;
  if (o && (s = {
    primaryColor: o,
    secondaryColor: a || _L(o)
  }), wse(), _se(tx(i), "icon should be icon definiton, but got ".concat(i)), !tx(i))
    return null;
  var f = i;
  return f && typeof f.icon == "function" && (f = Tf({}, f, {
    icon: f.icon(s.primaryColor, s.secondaryColor)
  })), mp(f.icon, "svg-".concat(f.name), Tf({}, l, {
    "data-icon": f.name,
    width: "1em",
    height: "1em",
    fill: "currentColor",
    "aria-hidden": "true"
  }));
};
Ll.props = {
  icon: Object,
  primaryColor: String,
  secondaryColor: String,
  focusable: String
};
Ll.inheritAttrs = !1;
Ll.displayName = "IconBase";
Ll.getTwoToneColors = Lse;
Ll.setTwoToneColors = Ese;
const Mg = Ll;
function Ase(e, r) {
  return Mse(e) || Ise(e, r) || Ose(e, r) || Rse();
}
function Rse() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Ose(e, r) {
  if (e) {
    if (typeof e == "string")
      return nx(e, r);
    var t = Object.prototype.toString.call(e).slice(8, -1);
    if (t === "Object" && e.constructor && (t = e.constructor.name), t === "Map" || t === "Set")
      return Array.from(e);
    if (t === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))
      return nx(e, r);
  }
}
function nx(e, r) {
  (r == null || r > e.length) && (r = e.length);
  for (var t = 0, n = new Array(r); t < r; t++)
    n[t] = e[t];
  return n;
}
function Ise(e, r) {
  var t = e == null ? null : typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (t != null) {
    var n = [], i = !0, o = !1, a, l;
    try {
      for (t = t.call(e); !(i = (a = t.next()).done) && (n.push(a.value), !(r && n.length === r)); i = !0)
        ;
    } catch (s) {
      o = !0, l = s;
    } finally {
      try {
        !i && t.return != null && t.return();
      } finally {
        if (o)
          throw l;
      }
    }
    return n;
  }
}
function Mse(e) {
  if (Array.isArray(e))
    return e;
}
function wL(e) {
  var r = mL(e), t = Ase(r, 2), n = t[0], i = t[1];
  return Mg.setTwoToneColors({
    primaryColor: n,
    secondaryColor: i
  });
}
function Bse() {
  var e = Mg.getTwoToneColors();
  return e.calculated ? [e.primaryColor, e.secondaryColor] : e.primaryColor;
}
var Dse = ["class", "icon", "spin", "rotate", "tabindex", "twoToneColor", "onClick"];
function Pse(e, r) {
  return Hse(e) || Nse(e, r) || $se(e, r) || Fse();
}
function Fse() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function $se(e, r) {
  if (e) {
    if (typeof e == "string")
      return ix(e, r);
    var t = Object.prototype.toString.call(e).slice(8, -1);
    if (t === "Object" && e.constructor && (t = e.constructor.name), t === "Map" || t === "Set")
      return Array.from(e);
    if (t === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))
      return ix(e, r);
  }
}
function ix(e, r) {
  (r == null || r > e.length) && (r = e.length);
  for (var t = 0, n = new Array(r); t < r; t++)
    n[t] = e[t];
  return n;
}
function Nse(e, r) {
  var t = e == null ? null : typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (t != null) {
    var n = [], i = !0, o = !1, a, l;
    try {
      for (t = t.call(e); !(i = (a = t.next()).done) && (n.push(a.value), !(r && n.length === r)); i = !0)
        ;
    } catch (s) {
      o = !0, l = s;
    } finally {
      try {
        !i && t.return != null && t.return();
      } finally {
        if (o)
          throw l;
      }
    }
    return n;
  }
}
function Hse(e) {
  if (Array.isArray(e))
    return e;
}
function ox(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = arguments[r] != null ? Object(arguments[r]) : {}, n = Object.keys(t);
    typeof Object.getOwnPropertySymbols == "function" && (n = n.concat(Object.getOwnPropertySymbols(t).filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    }))), n.forEach(function(i) {
      wp(e, i, t[i]);
    });
  }
  return e;
}
function wp(e, r, t) {
  return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e;
}
function zse(e, r) {
  if (e == null)
    return {};
  var t = Wse(e, r), n, i;
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    for (i = 0; i < o.length; i++)
      n = o[i], !(r.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(e, n) && (t[n] = e[n]);
  }
  return t;
}
function Wse(e, r) {
  if (e == null)
    return {};
  var t = {}, n = Object.keys(e), i, o;
  for (o = 0; o < n.length; o++)
    i = n[o], !(r.indexOf(i) >= 0) && (t[i] = e[i]);
  return t;
}
wL("#1890ff");
var Al = function(r, t) {
  var n, i = ox({}, r, t.attrs), o = i.class, a = i.icon, l = i.spin, s = i.rotate, f = i.tabindex, h = i.twoToneColor, d = i.onClick, v = zse(i, Dse), g = (n = {
    anticon: !0
  }, wp(n, "anticon-".concat(a.name), !!a.name), wp(n, o, o), n), y = l === "" || l || a.name === "loading" ? "anticon-spin" : "", C = f;
  C === void 0 && d && (C = -1, v.tabindex = C);
  var m = s ? {
    msTransform: "rotate(".concat(s, "deg)"),
    transform: "rotate(".concat(s, "deg)")
  } : void 0, w = mL(h), S = Pse(w, 2), x = S[0], b = S[1];
  return Ve("span", ox({
    role: "img",
    "aria-label": a.name
  }, v, {
    onClick: d,
    class: g
  }), [Ve(Mg, {
    class: y,
    icon: a,
    primaryColor: x,
    secondaryColor: b,
    style: m
  }, null)]);
};
Al.props = {
  spin: Boolean,
  rotate: Number,
  icon: Object,
  twoToneColor: String
};
Al.displayName = "AntdIcon";
Al.inheritAttrs = !1;
Al.getTwoToneColor = Bse;
Al.setTwoToneColor = wL;
const Bg = Al;
var Gse = { icon: { tag: "svg", attrs: { viewBox: "64 64 896 896", focusable: "false" }, children: [{ tag: "path", attrs: { d: "M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" } }] }, name: "double-left", theme: "outlined" };
const kse = Gse;
function ax(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = arguments[r] != null ? Object(arguments[r]) : {}, n = Object.keys(t);
    typeof Object.getOwnPropertySymbols == "function" && (n = n.concat(Object.getOwnPropertySymbols(t).filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    }))), n.forEach(function(i) {
      Use(e, i, t[i]);
    });
  }
  return e;
}
function Use(e, r, t) {
  return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e;
}
var Dg = function(r, t) {
  var n = ax({}, r, t.attrs);
  return Ve(Bg, ax({}, n, {
    icon: kse
  }), null);
};
Dg.displayName = "DoubleLeftOutlined";
Dg.inheritAttrs = !1;
const Yse = Dg;
var Xse = { icon: { tag: "svg", attrs: { viewBox: "64 64 896 896", focusable: "false" }, children: [{ tag: "path", attrs: { d: "M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" } }] }, name: "double-right", theme: "outlined" };
const Vse = Xse;
function lx(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = arguments[r] != null ? Object(arguments[r]) : {}, n = Object.keys(t);
    typeof Object.getOwnPropertySymbols == "function" && (n = n.concat(Object.getOwnPropertySymbols(t).filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    }))), n.forEach(function(i) {
      qse(e, i, t[i]);
    });
  }
  return e;
}
function qse(e, r, t) {
  return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e;
}
var Pg = function(r, t) {
  var n = lx({}, r, t.attrs);
  return Ve(Bg, lx({}, n, {
    icon: Vse
  }), null);
};
Pg.displayName = "DoubleRightOutlined";
Pg.inheritAttrs = !1;
const Kse = Pg;
var jse = { icon: { tag: "svg", attrs: { viewBox: "64 64 896 896", focusable: "false" }, children: [{ tag: "path", attrs: { d: "M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z" } }] }, name: "holder", theme: "outlined" };
const Zse = jse;
function sx(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = arguments[r] != null ? Object(arguments[r]) : {}, n = Object.keys(t);
    typeof Object.getOwnPropertySymbols == "function" && (n = n.concat(Object.getOwnPropertySymbols(t).filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    }))), n.forEach(function(i) {
      Qse(e, i, t[i]);
    });
  }
  return e;
}
function Qse(e, r, t) {
  return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e;
}
var Fg = function(r, t) {
  var n = sx({}, r, t.attrs);
  return Ve(Bg, sx({}, n, {
    icon: Zse
  }), null);
};
Fg.displayName = "HolderOutlined";
Fg.inheritAttrs = !1;
const Jse = Fg, xL = (e, r) => {
  const t = e.__vccOpts || e;
  for (const [n, i] of r)
    t[n] = i;
  return t;
}, eue = { class: "mr-15 w-13 inline-block" }, tue = { class: "mover custom-table-mover" }, rue = {
  props: {
    columnList: {
      type: Array,
      required: !0
    }
  },
  emits: ["update:columnList"],
  setup(e, { emit: r }) {
    const t = e, n = Lo({
      get() {
        return t.columnList;
      },
      set(a) {
        r("update:columnList", a);
      }
    }), i = () => {
    }, o = () => {
    };
    return (a, l) => (ge(), bt(Ko(w3), {
      modelValue: Ko(n),
      "onUpdate:modelValue": l[0] || (l[0] = (s) => hx(n) ? n.value = s : null),
      chosenClass: "custom-table-chosen",
      ghostClass: "custom-table-ghost",
      handle: ".mover",
      filter: ".forbid",
      forceFallback: !0,
      "item-key": "index",
      onEnd: i,
      move: o
    }, {
      item: Gt(({ element: s, index: f }) => [
        (ge(), nt("div", {
          key: f,
          style: { "min-width": "200px", "line-height": "28px" },
          class: it(s.fixed ? "forbid" : "")
        }, [
          Re("span", eue, [
            Re("span", tue, [
              Ve(Ko(Jse))
            ])
          ]),
          Ve(Ko(g3), {
            checked: s.selected,
            "onUpdate:checked": (h) => s.selected = h,
            onChange: i,
            style: { width: "calc(100% - 30px)" }
          }, {
            default: Gt(() => [
              bn(ot(s.label), 1)
            ]),
            _: 2
          }, 1032, ["checked", "onUpdate:checked"])
        ], 2))
      ]),
      _: 1
    }, 8, ["modelValue"]));
  }
}, nue = /* @__PURE__ */ xL(rue, [["__scopeId", "data-v-68dd7704"]]), iue = {
  name: "pivot-sheet",
  props: {
    i18n: {
      type: Object,
      default: () => ({})
    },
    baseData: {
      type: Object,
      default: () => ({
        queryOption: {
          rows: [],
          columns: [],
          values: []
        },
        ...Yw.defaultProps
      })
    }
  },
  data() {
    return {
      foldList: [!1, !1, !1, !1],
      queryOption: {
        rows: [],
        columns: [],
        values: []
      },
      sheetType: "pivot",
      tooltipOption: {
        rowGrandTotals: !1,
        rowSubTotals: !1,
        columnGrandTotals: !1,
        columnSubTotals: !1
      },
      dataCfg: {
        fields: {
          rows: [],
          columns: [],
          values: [],
          valueInCols: !0
        },
        data: [],
        totalData: []
      }
    };
  },
  components: {
    SheetDraggable: nue,
    MySheetComponent: Yw,
    DoubleRightOutlined: Kse,
    DoubleLeftOutlined: Yse,
    Switch: y3,
    RadioGroup: C3,
    Radio: _3,
    RadioButton: m3
  },
  watch: {
    baseData: {
      handler(e, r) {
        const { queryOption: t, ...n } = e, { rows: i, columns: o, values: a, valueInCols: l } = this.getFields(t);
        this.dataCfg.fields.rows.length <= 0 || this.dataCfg.fields.columns.length <= 0 || this.dataCfg.fields.values.length <= 0 ? (this.queryOption = t, this.dataCfg = {
          fields: {
            rows: i,
            columns: o,
            values: a,
            valueInCols: l
          },
          ...n
        }) : (this.dataCfg.data = n.data, this.dataCfg.totalData = []);
      }
    },
    queryOption: {
      handler(e, r) {
        var t = this.getFields(vf(e));
        const n = this.groupAndSum(
          this.dataCfg.data,
          [...t.rows, ...t.columns],
          t.values
        );
        this.dataCfg.totalData = n, this.dataCfg.fields = t;
      },
      deep: !0
    }
  },
  methods: {
    groupAndSum(e, r, t) {
      const n = Vo.groupBy(
        e,
        (o) => r.map((a) => o[a]).join("|")
      ), i = Vo.mapValues(n, (o) => {
        const a = o[0], l = {};
        return r.forEach((s) => {
          l[s] = a[s];
        }), t.forEach((s) => {
          l[s] = Vo.sumBy(o, s);
        }), l;
      });
      return Object.values(i);
    },
    handleExportData(e = "透视图") {
      this.$refs.sheetComp.exportFunc(e);
    },
    handleFold(e) {
      this.foldList[e] = !this.foldList[e];
    },
    getFields(e) {
      const r = Vo.filter((e == null ? void 0 : e.rows) ?? [], (i) => i.selected).map(
        (i) => i.value
      ), t = Vo.filter(
        (e == null ? void 0 : e.columns) ?? [],
        (i) => i.selected
      ).map((i) => i.value), n = Vo.filter(
        (e == null ? void 0 : e.values) ?? [],
        (i) => i.selected
      ).map((i) => i.value);
      return {
        rows: r,
        columns: t,
        values: n,
        valueInCols: (e == null ? void 0 : e.valueInCols) ?? this.dataCfg.fields.valueInCols
      };
    }
  },
  created() {
    console.log("=============this.i18n======================="), console.log(this.i18n.locale), console.log("===================================="), this.i18n.locale !== "zh_CN" && Qq("en_US");
  }
}, $g = (e) => (l3("data-v-9ea7da3c"), e = e(), s3(), e), oue = { class: "custom-table" }, aue = { class: "sheet" }, lue = { class: "sheet-value-label" }, sue = /* @__PURE__ */ $g(() => /* @__PURE__ */ Re("div", { class: "sheet-value-hr" }, null, -1)), uue = { class: "mt-10" }, fue = { class: "sheet-value-label" }, cue = /* @__PURE__ */ $g(() => /* @__PURE__ */ Re("div", { class: "sheet-value-hr" }, null, -1)), hue = { class: "mt-10" }, due = { class: "sheet-value-label" }, vue = /* @__PURE__ */ $g(() => /* @__PURE__ */ Re("div", { class: "sheet-value-hr" }, null, -1)), pue = { style: { "font-weight": "400", color: "#606266" } }, gue = { class: "sheet-box" }, yue = { class: "sheet-box-folded-btn" }, Cue = { class: "sheet-tools-top" }, _ue = { class: "sheet-tools-top-right" }, mue = { class: "sheet-tools-top-item" }, wue = { class: "sheet-tools-top-item" }, xue = { class: "sheet-tools-top-item" }, Sue = { class: "sheet-tools-top-item" }, Tue = {
  id: "containerId",
  class: "sheet-box-h"
};
function bue(e, r, t, n, i, o) {
  var y, C, m, w, S;
  const a = rt("DoubleRightOutlined"), l = rt("sheet-draggable"), s = rt("Radio"), f = rt("RadioGroup"), h = rt("DoubleLeftOutlined"), d = rt("Radio-button"), v = rt("Switch"), g = rt("mySheetComponent");
  return ge(), nt("div", oue, [
    cx(e.$slots, "operate", { data: o.handleExportData }, void 0, !0),
    Re("div", aue, [
      Re("div", {
        class: it(["sheet-value", [{ "sheet-value-folded": (y = i.foldList) == null ? void 0 : y[3] }]])
      }, [
        Re("div", null, [
          Re("div", null, [
            Re("div", lue, [
              bn(ot(e.$t("yourOutfit")) + " ", 1),
              sue,
              Ve(a, {
                onClick: r[0] || (r[0] = (x) => o.handleFold(0))
              })
            ]),
            Re("div", {
              class: it([
                "sheet-value-draggable",
                { "sheet-value-draggable-folded": (C = i.foldList) == null ? void 0 : C[0] }
              ])
            }, [
              Ve(l, {
                columnList: i.queryOption.rows,
                "onUpdate:columnList": r[1] || (r[1] = (x) => i.queryOption.rows = x),
                group: "select",
                animation: "300"
              }, null, 8, ["columnList"])
            ], 2)
          ]),
          Re("div", uue, [
            Re("div", fue, [
              bn(ot(e.$t("columnHead")) + " ", 1),
              cue,
              Ve(a, {
                onClick: r[2] || (r[2] = (x) => o.handleFold(1))
              })
            ]),
            Re("div", {
              class: it([
                "sheet-value-draggable",
                { "sheet-value-draggable-folded": (m = i.foldList) == null ? void 0 : m[1] }
              ])
            }, [
              Ve(l, {
                columnList: i.queryOption.columns,
                "onUpdate:columnList": r[3] || (r[3] = (x) => i.queryOption.columns = x),
                group: "select",
                animation: "300"
              }, null, 8, ["columnList"])
            ], 2)
          ]),
          Re("div", hue, [
            Re("div", due, [
              bn(ot(e.$t("numericalValue")) + " ", 1),
              vue,
              Ve(a, {
                onClick: r[4] || (r[4] = (x) => o.handleFold(2))
              })
            ]),
            Re("div", {
              class: it([
                "sheet-value-draggable",
                { "sheet-value-draggable-folded": (w = i.foldList) == null ? void 0 : w[2] }
              ])
            }, [
              Re("div", pue, [
                bn(ot(e.$t("put")) + " ", 1),
                Ve(f, {
                  value: i.dataCfg.fields.valueInCols,
                  "onUpdate:value": r[5] || (r[5] = (x) => i.dataCfg.fields.valueInCols = x),
                  style: {
                    marginLeft: "8px",
                    marginBottom: "10px",
                    color: "#606266"
                  }
                }, {
                  default: Gt(() => [
                    Ve(s, { value: !0 }, {
                      default: Gt(() => [
                        bn(ot(e.$t("yourOutfit")), 1)
                      ]),
                      _: 1
                    }),
                    Ve(s, { value: !1 }, {
                      default: Gt(() => [
                        bn(ot(e.$t("columnHead")), 1)
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                }, 8, ["value"])
              ]),
              Ve(l, {
                columnList: i.queryOption.values,
                "onUpdate:columnList": r[6] || (r[6] = (x) => i.queryOption.values = x)
              }, null, 8, ["columnList"])
            ], 2)
          ])
        ])
      ], 2),
      Re("div", gue, [
        Re("div", yue, [
          (S = i.foldList) != null && S[3] ? (ge(), bt(a, {
            key: 1,
            onClick: r[8] || (r[8] = (x) => o.handleFold(3))
          })) : (ge(), bt(h, {
            key: 0,
            onClick: r[7] || (r[7] = (x) => o.handleFold(3))
          }))
        ]),
        Re("div", Cue, [
          Ve(f, {
            value: i.sheetType,
            "onUpdate:value": r[9] || (r[9] = (x) => i.sheetType = x),
            style: { marginBottom: "8px" }
          }, {
            default: Gt(() => [
              Ve(d, { value: "pivot" }, {
                default: Gt(() => [
                  bn(ot(e.$t("perspectiveView")), 1)
                ]),
                _: 1
              }),
              Ve(d, { value: "table" }, {
                default: Gt(() => [
                  bn(ot(e.$t("detailedDiagram")), 1)
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["value"]),
          Re("div", _ue, [
            Re("div", mue, [
              Re("span", null, ot(e.$t("listTheNotes")), 1),
              Ve(v, {
                checked: i.tooltipOption.columnSubTotals,
                "onUpdate:checked": r[10] || (r[10] = (x) => i.tooltipOption.columnSubTotals = x)
              }, null, 8, ["checked"])
            ]),
            Re("div", wue, [
              Re("span", null, ot(e.$t("columnSummary")), 1),
              Ve(v, {
                checked: i.tooltipOption.columnGrandTotals,
                "onUpdate:checked": r[11] || (r[11] = (x) => i.tooltipOption.columnGrandTotals = x)
              }, null, 8, ["checked"])
            ]),
            Re("div", xue, [
              Re("span", null, ot(e.$t("xingxiaoji")), 1),
              Ve(v, {
                checked: i.tooltipOption.rowSubTotals,
                "onUpdate:checked": r[12] || (r[12] = (x) => i.tooltipOption.rowSubTotals = x)
              }, null, 8, ["checked"])
            ]),
            Re("div", Sue, [
              Re("span", null, ot(e.$t("summary")), 1),
              Ve(v, {
                checked: i.tooltipOption.rowGrandTotals,
                "onUpdate:checked": r[13] || (r[13] = (x) => i.tooltipOption.rowGrandTotals = x)
              }, null, 8, ["checked"])
            ])
          ])
        ]),
        Re("div", Tue, [
          Ve(g, {
            data: i.dataCfg,
            sheetType: i.sheetType,
            toolsOptions: i.tooltipOption,
            ref: "sheetComp"
          }, null, 8, ["data", "sheetType", "toolsOptions"])
        ])
      ])
    ])
  ]);
}
const Ng = /* @__PURE__ */ xL(iue, [["render", bue], ["__scopeId", "data-v-9ea7da3c"]]);
Ng.install = (e) => (e.component(Sheet.name, Sheet), e);
const Eue = [Ng], Oue = {
  install(e) {
    Eue.forEach((r) => {
      e.component(r.name, Ng);
    });
  }
};
export {
  Ng as PivotSheet,
  Oue as default
};
